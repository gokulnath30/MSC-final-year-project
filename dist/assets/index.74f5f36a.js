function ck(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $b(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mte(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Z={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0=Symbol.for("react.element"),yte=Symbol.for("react.portal"),vte=Symbol.for("react.fragment"),wte=Symbol.for("react.strict_mode"),Cte=Symbol.for("react.profiler"),bte=Symbol.for("react.provider"),xte=Symbol.for("react.context"),Bte=Symbol.for("react.forward_ref"),Ite=Symbol.for("react.suspense"),Ete=Symbol.for("react.memo"),$te=Symbol.for("react.lazy"),eO=Symbol.iterator;function Ste(t){return t===null||typeof t!="object"?null:(t=eO&&t[eO]||t["@@iterator"],typeof t=="function"?t:null)}var hH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fH=Object.assign,pH={};function Lf(t,e,n){this.props=t,this.context=e,this.refs=pH,this.updater=n||hH}Lf.prototype.isReactComponent={};Lf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gH(){}gH.prototype=Lf.prototype;function Ak(t,e,n){this.props=t,this.context=e,this.refs=pH,this.updater=n||hH}var dk=Ak.prototype=new gH;dk.constructor=Ak;fH(dk,Lf.prototype);dk.isPureReactComponent=!0;var tO=Array.isArray,mH=Object.prototype.hasOwnProperty,hk={current:null},yH={key:!0,ref:!0,__self:!0,__source:!0};function vH(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)mH.call(e,r)&&!yH.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:u0,type:t,key:i,ref:o,props:s,_owner:hk.current}}function Tte(t,e){return{$$typeof:u0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fk(t){return typeof t=="object"&&t!==null&&t.$$typeof===u0}function Nte(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nO=/\/+/g;function AI(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Nte(""+t.key):e.toString(36)}function W1(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case u0:case yte:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+AI(o,0):r,tO(s)?(n="",t!=null&&(n=t.replace(nO,"$&/")+"/"),W1(s,e,n,"",function(l){return l})):s!=null&&(fk(s)&&(s=Tte(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(nO,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",tO(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+AI(i,a);o+=W1(i,e,n,u,s)}else if(u=Ste(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+AI(i,a++),o+=W1(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xv(t,e,n){if(t==null)return t;var r=[],s=0;return W1(t,r,"","",function(i){return e.call(n,i,s++)}),r}function kte(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ys={current:null},G1={transition:null},Fte={ReactCurrentDispatcher:Ys,ReactCurrentBatchConfig:G1,ReactCurrentOwner:hk};Lt.Children={map:xv,forEach:function(t,e,n){xv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xv(t,function(){e++}),e},toArray:function(t){return xv(t,function(e){return e})||[]},only:function(t){if(!fk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Lt.Component=Lf;Lt.Fragment=vte;Lt.Profiler=Cte;Lt.PureComponent=Ak;Lt.StrictMode=wte;Lt.Suspense=Ite;Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fte;Lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=fH({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=hk.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)mH.call(e,u)&&!yH.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:u0,type:t.type,key:s,ref:i,props:r,_owner:o}};Lt.createContext=function(t){return t={$$typeof:xte,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bte,_context:t},t.Consumer=t};Lt.createElement=vH;Lt.createFactory=function(t){var e=vH.bind(null,t);return e.type=t,e};Lt.createRef=function(){return{current:null}};Lt.forwardRef=function(t){return{$$typeof:Bte,render:t}};Lt.isValidElement=fk;Lt.lazy=function(t){return{$$typeof:$te,_payload:{_status:-1,_result:t},_init:kte}};Lt.memo=function(t,e){return{$$typeof:Ete,type:t,compare:e===void 0?null:e}};Lt.startTransition=function(t){var e=G1.transition;G1.transition={};try{t()}finally{G1.transition=e}};Lt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Lt.useCallback=function(t,e){return Ys.current.useCallback(t,e)};Lt.useContext=function(t){return Ys.current.useContext(t)};Lt.useDebugValue=function(){};Lt.useDeferredValue=function(t){return Ys.current.useDeferredValue(t)};Lt.useEffect=function(t,e){return Ys.current.useEffect(t,e)};Lt.useId=function(){return Ys.current.useId()};Lt.useImperativeHandle=function(t,e,n){return Ys.current.useImperativeHandle(t,e,n)};Lt.useInsertionEffect=function(t,e){return Ys.current.useInsertionEffect(t,e)};Lt.useLayoutEffect=function(t,e){return Ys.current.useLayoutEffect(t,e)};Lt.useMemo=function(t,e){return Ys.current.useMemo(t,e)};Lt.useReducer=function(t,e,n){return Ys.current.useReducer(t,e,n)};Lt.useRef=function(t){return Ys.current.useRef(t)};Lt.useState=function(t){return Ys.current.useState(t)};Lt.useSyncExternalStore=function(t,e,n){return Ys.current.useSyncExternalStore(t,e,n)};Lt.useTransition=function(){return Ys.current.useTransition()};Lt.version="18.2.0";(function(t){t.exports=Lt})(Z);const gr=$b(Z.exports),wH=ck({__proto__:null,default:gr},[Z.exports]);var c$={},Sb={exports:{}},Vi={},CH={exports:{}},bH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,J){var se=H.length;H.push(J);e:for(;0<se;){var ae=se-1>>>1,Ae=H[ae];if(0<s(Ae,J))H[ae]=J,H[se]=Ae,se=ae;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var J=H[0],se=H.pop();if(se!==J){H[0]=se;e:for(var ae=0,Ae=H.length,pe=Ae>>>1;ae<pe;){var ye=2*(ae+1)-1,ve=H[ye],Ee=ye+1,ke=H[Ee];if(0>s(ve,se))Ee<Ae&&0>s(ke,ve)?(H[ae]=ke,H[Ee]=se,ae=Ee):(H[ae]=ve,H[ye]=se,ae=ye);else if(Ee<Ae&&0>s(ke,se))H[ae]=ke,H[Ee]=se,ae=Ee;else break e}}return J}function s(H,J){var se=H.sortIndex-J.sortIndex;return se!==0?se:H.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,A=null,d=3,h=!1,f=!1,p=!1,m=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(H){for(var J=n(l);J!==null;){if(J.callback===null)r(l);else if(J.startTime<=H)r(l),J.sortIndex=J.expirationTime,e(u,J);else break;J=n(l)}}function b(H){if(p=!1,C(H),!f)if(n(u)!==null)f=!0,q(B);else{var J=n(l);J!==null&&ne(b,J.startTime-H)}}function B(H,J){f=!1,p&&(p=!1,g($),$=-1),h=!0;var se=d;try{for(C(J),A=n(u);A!==null&&(!(A.expirationTime>J)||H&&!R());){var ae=A.callback;if(typeof ae=="function"){A.callback=null,d=A.priorityLevel;var Ae=ae(A.expirationTime<=J);J=t.unstable_now(),typeof Ae=="function"?A.callback=Ae:A===n(u)&&r(u),C(J)}else r(u);A=n(u)}if(A!==null)var pe=!0;else{var ye=n(l);ye!==null&&ne(b,ye.startTime-J),pe=!1}return pe}finally{A=null,d=se,h=!1}}var I=!1,w=null,$=-1,T=5,_=-1;function R(){return!(t.unstable_now()-_<T)}function P(){if(w!==null){var H=t.unstable_now();_=H;var J=!0;try{J=w(!0,H)}finally{J?L():(I=!1,w=null)}}else I=!1}var L;if(typeof y=="function")L=function(){y(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,V=z.port2;z.port1.onmessage=P,L=function(){V.postMessage(null)}}else L=function(){m(P,0)};function q(H){w=H,I||(I=!0,L())}function ne(H,J){$=m(function(){H(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,q(B))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(H){switch(d){case 1:case 2:case 3:var J=3;break;default:J=d}var se=d;d=J;try{return H()}finally{d=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var se=d;d=H;try{return J()}finally{d=se}},t.unstable_scheduleCallback=function(H,J,se){var ae=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ae+se:ae):se=ae,H){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=se+Ae,H={id:c++,callback:J,priorityLevel:H,startTime:se,expirationTime:Ae,sortIndex:-1},se>ae?(H.sortIndex=se,e(l,H),n(u)===null&&H===n(l)&&(p?(g($),$=-1):p=!0,ne(b,se-ae))):(H.sortIndex=Ae,e(u,H),f||h||(f=!0,q(B))),H},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(H){var J=d;return function(){var se=d;d=J;try{return H.apply(this,arguments)}finally{d=se}}}})(bH);(function(t){t.exports=bH})(CH);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xH=Z.exports,Ui=CH.exports;function $e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BH=new Set,Zg={};function ud(t,e){nf(t,e),nf(t+"Capture",e)}function nf(t,e){for(Zg[t]=e,t=0;t<e.length;t++)BH.add(e[t])}var Su=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),A$=Object.prototype.hasOwnProperty,_te=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rO={},sO={};function Dte(t){return A$.call(sO,t)?!0:A$.call(rO,t)?!1:_te.test(t)?sO[t]=!0:(rO[t]=!0,!1)}function Rte(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ote(t,e,n,r){if(e===null||typeof e>"u"||Rte(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Js(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var is={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){is[t]=new Js(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];is[e]=new Js(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){is[t]=new Js(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){is[t]=new Js(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){is[t]=new Js(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){is[t]=new Js(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){is[t]=new Js(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){is[t]=new Js(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){is[t]=new Js(t,5,!1,t.toLowerCase(),null,!1,!1)});var pk=/[\-:]([a-z])/g;function gk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pk,gk);is[e]=new Js(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pk,gk);is[e]=new Js(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pk,gk);is[e]=new Js(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){is[t]=new Js(t,1,!1,t.toLowerCase(),null,!1,!1)});is.xlinkHref=new Js("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){is[t]=new Js(t,1,!1,t.toLowerCase(),null,!0,!0)});function mk(t,e,n,r){var s=is.hasOwnProperty(e)?is[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ote(e,n,s,r)&&(n=null),r||s===null?Dte(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ku=xH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bv=Symbol.for("react.element"),dh=Symbol.for("react.portal"),hh=Symbol.for("react.fragment"),yk=Symbol.for("react.strict_mode"),d$=Symbol.for("react.profiler"),IH=Symbol.for("react.provider"),EH=Symbol.for("react.context"),vk=Symbol.for("react.forward_ref"),h$=Symbol.for("react.suspense"),f$=Symbol.for("react.suspense_list"),wk=Symbol.for("react.memo"),cl=Symbol.for("react.lazy"),$H=Symbol.for("react.offscreen"),iO=Symbol.iterator;function Sp(t){return t===null||typeof t!="object"?null:(t=iO&&t[iO]||t["@@iterator"],typeof t=="function"?t:null)}var Qn=Object.assign,dI;function qp(t){if(dI===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dI=e&&e[1]||""}return`
`+dI+t}var hI=!1;function fI(t,e){if(!t||hI)return"";hI=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{hI=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qp(t):""}function Ute(t){switch(t.tag){case 5:return qp(t.type);case 16:return qp("Lazy");case 13:return qp("Suspense");case 19:return qp("SuspenseList");case 0:case 2:case 15:return t=fI(t.type,!1),t;case 11:return t=fI(t.type.render,!1),t;case 1:return t=fI(t.type,!0),t;default:return""}}function p$(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hh:return"Fragment";case dh:return"Portal";case d$:return"Profiler";case yk:return"StrictMode";case h$:return"Suspense";case f$:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case EH:return(t.displayName||"Context")+".Consumer";case IH:return(t._context.displayName||"Context")+".Provider";case vk:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wk:return e=t.displayName||null,e!==null?e:p$(t.type)||"Memo";case cl:e=t._payload,t=t._init;try{return p$(t(e))}catch{}}return null}function Lte(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return p$(e);case 8:return e===yk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ec(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function SH(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Pte(t){var e=SH(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Iv(t){t._valueTracker||(t._valueTracker=Pte(t))}function TH(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=SH(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Sw(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function g$(t,e){var n=e.checked;return Qn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function oO(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ec(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NH(t,e){e=e.checked,e!=null&&mk(t,"checked",e,!1)}function m$(t,e){NH(t,e);var n=ec(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?y$(t,e.type,n):e.hasOwnProperty("defaultValue")&&y$(t,e.type,ec(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aO(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function y$(t,e,n){(e!=="number"||Sw(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yp=Array.isArray;function _h(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ec(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function v$(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($e(91));return Qn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uO(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($e(92));if(Yp(n)){if(1<n.length)throw Error($e(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ec(n)}}function kH(t,e){var n=ec(e.value),r=ec(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function FH(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w$(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?FH(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ev,_H=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ev=Ev||document.createElement("div"),Ev.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ev.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function em(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mte=["Webkit","ms","Moz","O"];Object.keys(Bg).forEach(function(t){Mte.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bg[e]=Bg[t]})});function DH(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bg.hasOwnProperty(t)&&Bg[t]?(""+e).trim():e+"px"}function RH(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=DH(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Qte=Qn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function C$(t,e){if(e){if(Qte[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($e(61))}if(e.style!=null&&typeof e.style!="object")throw Error($e(62))}}function b$(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var x$=null;function Ck(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var B$=null,Dh=null,Rh=null;function cO(t){if(t=A0(t)){if(typeof B$!="function")throw Error($e(280));var e=t.stateNode;e&&(e=_b(e),B$(t.stateNode,t.type,e))}}function OH(t){Dh?Rh?Rh.push(t):Rh=[t]:Dh=t}function UH(){if(Dh){var t=Dh,e=Rh;if(Rh=Dh=null,cO(t),e)for(t=0;t<e.length;t++)cO(e[t])}}function LH(t,e){return t(e)}function PH(){}var pI=!1;function MH(t,e,n){if(pI)return t(e,n);pI=!0;try{return LH(t,e,n)}finally{pI=!1,(Dh!==null||Rh!==null)&&(PH(),UH())}}function tm(t,e){var n=t.stateNode;if(n===null)return null;var r=_b(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($e(231,e,typeof n));return n}var I$=!1;if(Su)try{var Tp={};Object.defineProperty(Tp,"passive",{get:function(){I$=!0}}),window.addEventListener("test",Tp,Tp),window.removeEventListener("test",Tp,Tp)}catch{I$=!1}function Hte(t,e,n,r,s,i,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Ig=!1,Tw=null,Nw=!1,E$=null,Vte={onError:function(t){Ig=!0,Tw=t}};function zte(t,e,n,r,s,i,o,a,u){Ig=!1,Tw=null,Hte.apply(Vte,arguments)}function Kte(t,e,n,r,s,i,o,a,u){if(zte.apply(this,arguments),Ig){if(Ig){var l=Tw;Ig=!1,Tw=null}else throw Error($e(198));Nw||(Nw=!0,E$=l)}}function ld(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function QH(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function AO(t){if(ld(t)!==t)throw Error($e(188))}function Wte(t){var e=t.alternate;if(!e){if(e=ld(t),e===null)throw Error($e(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return AO(s),t;if(i===r)return AO(s),e;i=i.sibling}throw Error($e(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error($e(189))}}if(n.alternate!==r)throw Error($e(190))}if(n.tag!==3)throw Error($e(188));return n.stateNode.current===n?t:e}function HH(t){return t=Wte(t),t!==null?VH(t):null}function VH(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=VH(t);if(e!==null)return e;t=t.sibling}return null}var zH=Ui.unstable_scheduleCallback,dO=Ui.unstable_cancelCallback,Gte=Ui.unstable_shouldYield,jte=Ui.unstable_requestPaint,nr=Ui.unstable_now,Xte=Ui.unstable_getCurrentPriorityLevel,bk=Ui.unstable_ImmediatePriority,KH=Ui.unstable_UserBlockingPriority,kw=Ui.unstable_NormalPriority,qte=Ui.unstable_LowPriority,WH=Ui.unstable_IdlePriority,Tb=null,Fa=null;function Yte(t){if(Fa&&typeof Fa.onCommitFiberRoot=="function")try{Fa.onCommitFiberRoot(Tb,t,void 0,(t.current.flags&128)===128)}catch{}}var jo=Math.clz32?Math.clz32:ene,Jte=Math.log,Zte=Math.LN2;function ene(t){return t>>>=0,t===0?32:31-(Jte(t)/Zte|0)|0}var $v=64,Sv=4194304;function Jp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fw(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Jp(a):(i&=o,i!==0&&(r=Jp(i)))}else o=n&~s,o!==0?r=Jp(o):i!==0&&(r=Jp(i));if(r===0)return 0;if(e!==0&&e!==r&&(e&s)===0&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jo(e),s=1<<n,r|=t[n],e&=~s;return r}function tne(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nne(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-jo(i),a=1<<o,u=s[o];u===-1?((a&n)===0||(a&r)!==0)&&(s[o]=tne(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function $$(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function GH(){var t=$v;return $v<<=1,($v&4194240)===0&&($v=64),t}function gI(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function l0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jo(e),t[e]=n}function rne(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-jo(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function xk(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jo(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var nn=0;function jH(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var XH,Bk,qH,YH,JH,S$=!1,Tv=[],Dl=null,Rl=null,Ol=null,nm=new Map,rm=new Map,pl=[],sne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hO(t,e){switch(t){case"focusin":case"focusout":Dl=null;break;case"dragenter":case"dragleave":Rl=null;break;case"mouseover":case"mouseout":Ol=null;break;case"pointerover":case"pointerout":nm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rm.delete(e.pointerId)}}function Np(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=A0(e),e!==null&&Bk(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ine(t,e,n,r,s){switch(e){case"focusin":return Dl=Np(Dl,t,e,n,r,s),!0;case"dragenter":return Rl=Np(Rl,t,e,n,r,s),!0;case"mouseover":return Ol=Np(Ol,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return nm.set(i,Np(nm.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,rm.set(i,Np(rm.get(i)||null,t,e,n,r,s)),!0}return!1}function ZH(t){var e=dA(t.target);if(e!==null){var n=ld(e);if(n!==null){if(e=n.tag,e===13){if(e=QH(n),e!==null){t.blockedOn=e,JH(t.priority,function(){qH(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function j1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=T$(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);x$=r,n.target.dispatchEvent(r),x$=null}else return e=A0(n),e!==null&&Bk(e),t.blockedOn=n,!1;e.shift()}return!0}function fO(t,e,n){j1(t)&&n.delete(e)}function one(){S$=!1,Dl!==null&&j1(Dl)&&(Dl=null),Rl!==null&&j1(Rl)&&(Rl=null),Ol!==null&&j1(Ol)&&(Ol=null),nm.forEach(fO),rm.forEach(fO)}function kp(t,e){t.blockedOn===e&&(t.blockedOn=null,S$||(S$=!0,Ui.unstable_scheduleCallback(Ui.unstable_NormalPriority,one)))}function sm(t){function e(s){return kp(s,t)}if(0<Tv.length){kp(Tv[0],t);for(var n=1;n<Tv.length;n++){var r=Tv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dl!==null&&kp(Dl,t),Rl!==null&&kp(Rl,t),Ol!==null&&kp(Ol,t),nm.forEach(e),rm.forEach(e),n=0;n<pl.length;n++)r=pl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pl.length&&(n=pl[0],n.blockedOn===null);)ZH(n),n.blockedOn===null&&pl.shift()}var Oh=Ku.ReactCurrentBatchConfig,_w=!0;function ane(t,e,n,r){var s=nn,i=Oh.transition;Oh.transition=null;try{nn=1,Ik(t,e,n,r)}finally{nn=s,Oh.transition=i}}function une(t,e,n,r){var s=nn,i=Oh.transition;Oh.transition=null;try{nn=4,Ik(t,e,n,r)}finally{nn=s,Oh.transition=i}}function Ik(t,e,n,r){if(_w){var s=T$(t,e,n,r);if(s===null)EI(t,e,r,Dw,n),hO(t,r);else if(ine(s,t,e,n,r))r.stopPropagation();else if(hO(t,r),e&4&&-1<sne.indexOf(t)){for(;s!==null;){var i=A0(s);if(i!==null&&XH(i),i=T$(t,e,n,r),i===null&&EI(t,e,r,Dw,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else EI(t,e,r,null,n)}}var Dw=null;function T$(t,e,n,r){if(Dw=null,t=Ck(r),t=dA(t),t!==null)if(e=ld(t),e===null)t=null;else if(n=e.tag,n===13){if(t=QH(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dw=t,null}function e9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xte()){case bk:return 1;case KH:return 4;case kw:case qte:return 16;case WH:return 536870912;default:return 16}default:return 16}}var bl=null,Ek=null,X1=null;function t9(){if(X1)return X1;var t,e=Ek,n=e.length,r,s="value"in bl?bl.value:bl.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return X1=s.slice(t,1<r?1-r:void 0)}function q1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nv(){return!0}function pO(){return!1}function zi(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Nv:pO,this.isPropagationStopped=pO,this}return Qn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nv)},persist:function(){},isPersistent:Nv}),e}var Pf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$k=zi(Pf),c0=Qn({},Pf,{view:0,detail:0}),lne=zi(c0),mI,yI,Fp,Nb=Qn({},c0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fp&&(Fp&&t.type==="mousemove"?(mI=t.screenX-Fp.screenX,yI=t.screenY-Fp.screenY):yI=mI=0,Fp=t),mI)},movementY:function(t){return"movementY"in t?t.movementY:yI}}),gO=zi(Nb),cne=Qn({},Nb,{dataTransfer:0}),Ane=zi(cne),dne=Qn({},c0,{relatedTarget:0}),vI=zi(dne),hne=Qn({},Pf,{animationName:0,elapsedTime:0,pseudoElement:0}),fne=zi(hne),pne=Qn({},Pf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gne=zi(pne),mne=Qn({},Pf,{data:0}),mO=zi(mne),yne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cne(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wne[t])?!!e[t]:!1}function Sk(){return Cne}var bne=Qn({},c0,{key:function(t){if(t.key){var e=yne[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=q1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vne[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sk,charCode:function(t){return t.type==="keypress"?q1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?q1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xne=zi(bne),Bne=Qn({},Nb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yO=zi(Bne),Ine=Qn({},c0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sk}),Ene=zi(Ine),$ne=Qn({},Pf,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sne=zi($ne),Tne=Qn({},Nb,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nne=zi(Tne),kne=[9,13,27,32],Tk=Su&&"CompositionEvent"in window,Eg=null;Su&&"documentMode"in document&&(Eg=document.documentMode);var Fne=Su&&"TextEvent"in window&&!Eg,n9=Su&&(!Tk||Eg&&8<Eg&&11>=Eg),vO=String.fromCharCode(32),wO=!1;function r9(t,e){switch(t){case"keyup":return kne.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fh=!1;function _ne(t,e){switch(t){case"compositionend":return s9(e);case"keypress":return e.which!==32?null:(wO=!0,vO);case"textInput":return t=e.data,t===vO&&wO?null:t;default:return null}}function Dne(t,e){if(fh)return t==="compositionend"||!Tk&&r9(t,e)?(t=t9(),X1=Ek=bl=null,fh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return n9&&e.locale!=="ko"?null:e.data;default:return null}}var Rne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function CO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Rne[t.type]:e==="textarea"}function i9(t,e,n,r){OH(r),e=Rw(e,"onChange"),0<e.length&&(n=new $k("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $g=null,im=null;function One(t){g9(t,0)}function kb(t){var e=mh(t);if(TH(e))return t}function Une(t,e){if(t==="change")return e}var o9=!1;if(Su){var wI;if(Su){var CI="oninput"in document;if(!CI){var bO=document.createElement("div");bO.setAttribute("oninput","return;"),CI=typeof bO.oninput=="function"}wI=CI}else wI=!1;o9=wI&&(!document.documentMode||9<document.documentMode)}function xO(){$g&&($g.detachEvent("onpropertychange",a9),im=$g=null)}function a9(t){if(t.propertyName==="value"&&kb(im)){var e=[];i9(e,im,t,Ck(t)),MH(One,e)}}function Lne(t,e,n){t==="focusin"?(xO(),$g=e,im=n,$g.attachEvent("onpropertychange",a9)):t==="focusout"&&xO()}function Pne(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kb(im)}function Mne(t,e){if(t==="click")return kb(e)}function Qne(t,e){if(t==="input"||t==="change")return kb(e)}function Hne(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ta=typeof Object.is=="function"?Object.is:Hne;function om(t,e){if(ta(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!A$.call(e,s)||!ta(t[s],e[s]))return!1}return!0}function BO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function IO(t,e){var n=BO(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=BO(n)}}function u9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function l9(){for(var t=window,e=Sw();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sw(t.document)}return e}function Nk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Vne(t){var e=l9(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&u9(n.ownerDocument.documentElement,n)){if(r!==null&&Nk(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=IO(n,i);var o=IO(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zne=Su&&"documentMode"in document&&11>=document.documentMode,ph=null,N$=null,Sg=null,k$=!1;function EO(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;k$||ph==null||ph!==Sw(r)||(r=ph,"selectionStart"in r&&Nk(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sg&&om(Sg,r)||(Sg=r,r=Rw(N$,"onSelect"),0<r.length&&(e=new $k("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ph)))}function kv(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gh={animationend:kv("Animation","AnimationEnd"),animationiteration:kv("Animation","AnimationIteration"),animationstart:kv("Animation","AnimationStart"),transitionend:kv("Transition","TransitionEnd")},bI={},c9={};Su&&(c9=document.createElement("div").style,"AnimationEvent"in window||(delete gh.animationend.animation,delete gh.animationiteration.animation,delete gh.animationstart.animation),"TransitionEvent"in window||delete gh.transitionend.transition);function Fb(t){if(bI[t])return bI[t];if(!gh[t])return t;var e=gh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in c9)return bI[t]=e[n];return t}var A9=Fb("animationend"),d9=Fb("animationiteration"),h9=Fb("animationstart"),f9=Fb("transitionend"),p9=new Map,$O="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wc(t,e){p9.set(t,e),ud(e,[t])}for(var xI=0;xI<$O.length;xI++){var BI=$O[xI],Kne=BI.toLowerCase(),Wne=BI[0].toUpperCase()+BI.slice(1);wc(Kne,"on"+Wne)}wc(A9,"onAnimationEnd");wc(d9,"onAnimationIteration");wc(h9,"onAnimationStart");wc("dblclick","onDoubleClick");wc("focusin","onFocus");wc("focusout","onBlur");wc(f9,"onTransitionEnd");nf("onMouseEnter",["mouseout","mouseover"]);nf("onMouseLeave",["mouseout","mouseover"]);nf("onPointerEnter",["pointerout","pointerover"]);nf("onPointerLeave",["pointerout","pointerover"]);ud("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ud("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ud("onBeforeInput",["compositionend","keypress","textInput","paste"]);ud("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ud("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ud("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gne=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zp));function SO(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Kte(r,e,void 0,t),t.currentTarget=null}function g9(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;SO(s,a,l),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;SO(s,a,l),i=u}}}if(Nw)throw t=E$,Nw=!1,E$=null,t}function vn(t,e){var n=e[O$];n===void 0&&(n=e[O$]=new Set);var r=t+"__bubble";n.has(r)||(m9(e,t,2,!1),n.add(r))}function II(t,e,n){var r=0;e&&(r|=4),m9(n,t,r,e)}var Fv="_reactListening"+Math.random().toString(36).slice(2);function am(t){if(!t[Fv]){t[Fv]=!0,BH.forEach(function(n){n!=="selectionchange"&&(Gne.has(n)||II(n,!1,t),II(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fv]||(e[Fv]=!0,II("selectionchange",!1,e))}}function m9(t,e,n,r){switch(e9(e)){case 1:var s=ane;break;case 4:s=une;break;default:s=Ik}n=s.bind(null,e,n,t),s=void 0,!I$||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function EI(t,e,n,r,s){var i=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=dA(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}MH(function(){var l=i,c=Ck(n),A=[];e:{var d=p9.get(t);if(d!==void 0){var h=$k,f=t;switch(t){case"keypress":if(q1(n)===0)break e;case"keydown":case"keyup":h=xne;break;case"focusin":f="focus",h=vI;break;case"focusout":f="blur",h=vI;break;case"beforeblur":case"afterblur":h=vI;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=gO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Ane;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Ene;break;case A9:case d9:case h9:h=fne;break;case f9:h=Sne;break;case"scroll":h=lne;break;case"wheel":h=Nne;break;case"copy":case"cut":case"paste":h=gne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=yO}var p=(e&4)!==0,m=!p&&t==="scroll",g=p?d!==null?d+"Capture":null:d;p=[];for(var y=l,C;y!==null;){C=y;var b=C.stateNode;if(C.tag===5&&b!==null&&(C=b,g!==null&&(b=tm(y,g),b!=null&&p.push(um(y,b,C)))),m)break;y=y.return}0<p.length&&(d=new h(d,f,null,n,c),A.push({event:d,listeners:p}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==x$&&(f=n.relatedTarget||n.fromElement)&&(dA(f)||f[Tu]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(f=n.relatedTarget||n.toElement,h=l,f=f?dA(f):null,f!==null&&(m=ld(f),f!==m||f.tag!==5&&f.tag!==6)&&(f=null)):(h=null,f=l),h!==f)){if(p=gO,b="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(p=yO,b="onPointerLeave",g="onPointerEnter",y="pointer"),m=h==null?d:mh(h),C=f==null?d:mh(f),d=new p(b,y+"leave",h,n,c),d.target=m,d.relatedTarget=C,b=null,dA(c)===l&&(p=new p(g,y+"enter",f,n,c),p.target=C,p.relatedTarget=m,b=p),m=b,h&&f)t:{for(p=h,g=f,y=0,C=p;C;C=Ld(C))y++;for(C=0,b=g;b;b=Ld(b))C++;for(;0<y-C;)p=Ld(p),y--;for(;0<C-y;)g=Ld(g),C--;for(;y--;){if(p===g||g!==null&&p===g.alternate)break t;p=Ld(p),g=Ld(g)}p=null}else p=null;h!==null&&TO(A,d,h,p,!1),f!==null&&m!==null&&TO(A,m,f,p,!0)}}e:{if(d=l?mh(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var B=Une;else if(CO(d))if(o9)B=Qne;else{B=Pne;var I=Lne}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(B=Mne);if(B&&(B=B(t,l))){i9(A,B,n,c);break e}I&&I(t,d,l),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&y$(d,"number",d.value)}switch(I=l?mh(l):window,t){case"focusin":(CO(I)||I.contentEditable==="true")&&(ph=I,N$=l,Sg=null);break;case"focusout":Sg=N$=ph=null;break;case"mousedown":k$=!0;break;case"contextmenu":case"mouseup":case"dragend":k$=!1,EO(A,n,c);break;case"selectionchange":if(zne)break;case"keydown":case"keyup":EO(A,n,c)}var w;if(Tk)e:{switch(t){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else fh?r9(t,n)&&($="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&($="onCompositionStart");$&&(n9&&n.locale!=="ko"&&(fh||$!=="onCompositionStart"?$==="onCompositionEnd"&&fh&&(w=t9()):(bl=c,Ek="value"in bl?bl.value:bl.textContent,fh=!0)),I=Rw(l,$),0<I.length&&($=new mO($,t,null,n,c),A.push({event:$,listeners:I}),w?$.data=w:(w=s9(n),w!==null&&($.data=w)))),(w=Fne?_ne(t,n):Dne(t,n))&&(l=Rw(l,"onBeforeInput"),0<l.length&&(c=new mO("onBeforeInput","beforeinput",null,n,c),A.push({event:c,listeners:l}),c.data=w))}g9(A,e)})}function um(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rw(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=tm(t,n),i!=null&&r.unshift(um(t,i,s)),i=tm(t,e),i!=null&&r.push(um(t,i,s))),t=t.return}return r}function Ld(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function TO(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,s?(u=tm(n,i),u!=null&&o.unshift(um(n,u,a))):s||(u=tm(n,i),u!=null&&o.push(um(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var jne=/\r\n?/g,Xne=/\u0000|\uFFFD/g;function NO(t){return(typeof t=="string"?t:""+t).replace(jne,`
`).replace(Xne,"")}function _v(t,e,n){if(e=NO(e),NO(t)!==e&&n)throw Error($e(425))}function Ow(){}var F$=null,_$=null;function D$(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var R$=typeof setTimeout=="function"?setTimeout:void 0,qne=typeof clearTimeout=="function"?clearTimeout:void 0,kO=typeof Promise=="function"?Promise:void 0,Yne=typeof queueMicrotask=="function"?queueMicrotask:typeof kO<"u"?function(t){return kO.resolve(null).then(t).catch(Jne)}:R$;function Jne(t){setTimeout(function(){throw t})}function $I(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),sm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);sm(e)}function Ul(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function FO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mf=Math.random().toString(36).slice(2),Ea="__reactFiber$"+Mf,lm="__reactProps$"+Mf,Tu="__reactContainer$"+Mf,O$="__reactEvents$"+Mf,Zne="__reactListeners$"+Mf,ere="__reactHandles$"+Mf;function dA(t){var e=t[Ea];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tu]||n[Ea]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=FO(t);t!==null;){if(n=t[Ea])return n;t=FO(t)}return e}t=n,n=t.parentNode}return null}function A0(t){return t=t[Ea]||t[Tu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($e(33))}function _b(t){return t[lm]||null}var U$=[],yh=-1;function Cc(t){return{current:t}}function Bn(t){0>yh||(t.current=U$[yh],U$[yh]=null,yh--)}function gn(t,e){yh++,U$[yh]=t.current,t.current=e}var tc={},Ts=Cc(tc),hi=Cc(!1),UA=tc;function rf(t,e){var n=t.type.contextTypes;if(!n)return tc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function fi(t){return t=t.childContextTypes,t!=null}function Uw(){Bn(hi),Bn(Ts)}function _O(t,e,n){if(Ts.current!==tc)throw Error($e(168));gn(Ts,e),gn(hi,n)}function y9(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($e(108,Lte(t)||"Unknown",s));return Qn({},n,r)}function Lw(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||tc,UA=Ts.current,gn(Ts,t),gn(hi,hi.current),!0}function DO(t,e,n){var r=t.stateNode;if(!r)throw Error($e(169));n?(t=y9(t,e,UA),r.__reactInternalMemoizedMergedChildContext=t,Bn(hi),Bn(Ts),gn(Ts,t)):Bn(hi),gn(hi,n)}var au=null,Db=!1,SI=!1;function v9(t){au===null?au=[t]:au.push(t)}function tre(t){Db=!0,v9(t)}function bc(){if(!SI&&au!==null){SI=!0;var t=0,e=nn;try{var n=au;for(nn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}au=null,Db=!1}catch(s){throw au!==null&&(au=au.slice(t+1)),zH(bk,bc),s}finally{nn=e,SI=!1}}return null}var vh=[],wh=0,Pw=null,Mw=0,so=[],io=0,LA=null,fu=1,pu="";function eA(t,e){vh[wh++]=Mw,vh[wh++]=Pw,Pw=t,Mw=e}function w9(t,e,n){so[io++]=fu,so[io++]=pu,so[io++]=LA,LA=t;var r=fu;t=pu;var s=32-jo(r)-1;r&=~(1<<s),n+=1;var i=32-jo(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,fu=1<<32-jo(e)+s|n<<s|r,pu=i+t}else fu=1<<i|n<<s|r,pu=t}function kk(t){t.return!==null&&(eA(t,1),w9(t,1,0))}function Fk(t){for(;t===Pw;)Pw=vh[--wh],vh[wh]=null,Mw=vh[--wh],vh[wh]=null;for(;t===LA;)LA=so[--io],so[io]=null,pu=so[--io],so[io]=null,fu=so[--io],so[io]=null}var Ri=null,Fi=null,Dn=!1,Ho=null;function C9(t,e){var n=ho(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function RO(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ri=t,Fi=Ul(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ri=t,Fi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=LA!==null?{id:fu,overflow:pu}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ho(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ri=t,Fi=null,!0):!1;default:return!1}}function L$(t){return(t.mode&1)!==0&&(t.flags&128)===0}function P$(t){if(Dn){var e=Fi;if(e){var n=e;if(!RO(t,e)){if(L$(t))throw Error($e(418));e=Ul(n.nextSibling);var r=Ri;e&&RO(t,e)?C9(r,n):(t.flags=t.flags&-4097|2,Dn=!1,Ri=t)}}else{if(L$(t))throw Error($e(418));t.flags=t.flags&-4097|2,Dn=!1,Ri=t}}}function OO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ri=t}function Dv(t){if(t!==Ri)return!1;if(!Dn)return OO(t),Dn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!D$(t.type,t.memoizedProps)),e&&(e=Fi)){if(L$(t))throw b9(),Error($e(418));for(;e;)C9(t,e),e=Ul(e.nextSibling)}if(OO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fi=Ul(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fi=null}}else Fi=Ri?Ul(t.stateNode.nextSibling):null;return!0}function b9(){for(var t=Fi;t;)t=Ul(t.nextSibling)}function sf(){Fi=Ri=null,Dn=!1}function _k(t){Ho===null?Ho=[t]:Ho.push(t)}var nre=Ku.ReactCurrentBatchConfig;function Mo(t,e){if(t&&t.defaultProps){e=Qn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Qw=Cc(null),Hw=null,Ch=null,Dk=null;function Rk(){Dk=Ch=Hw=null}function Ok(t){var e=Qw.current;Bn(Qw),t._currentValue=e}function M$(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Uh(t,e){Hw=t,Dk=Ch=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(ci=!0),t.firstContext=null)}function Bo(t){var e=t._currentValue;if(Dk!==t)if(t={context:t,memoizedValue:e,next:null},Ch===null){if(Hw===null)throw Error($e(308));Ch=t,Hw.dependencies={lanes:0,firstContext:t}}else Ch=Ch.next=t;return e}var hA=null;function Uk(t){hA===null?hA=[t]:hA.push(t)}function x9(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Uk(e)):(n.next=s.next,s.next=n),e.interleaved=n,Nu(t,r)}function Nu(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Al=!1;function Lk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function B9(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ll(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Gt&2)!==0){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Nu(t,n)}return s=r.interleaved,s===null?(e.next=e,Uk(r)):(e.next=s.next,s.next=e),r.interleaved=e,Nu(t,n)}function Y1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xk(t,n)}}function UO(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vw(t,e,n,r){var s=t.updateQueue;Al=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?i=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(i!==null){var A=s.baseState;o=0,c=l=u=null,a=i;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=t,p=a;switch(d=e,h=n,p.tag){case 1:if(f=p.payload,typeof f=="function"){A=f.call(h,A,d);break e}A=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=p.payload,d=typeof f=="function"?f.call(h,A,d):f,d==null)break e;A=Qn({},A,d);break e;case 2:Al=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=h,u=A):c=c.next=h,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(1);if(c===null&&(u=A),s.baseState=u,s.firstBaseUpdate=l,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);MA|=o,t.lanes=o,t.memoizedState=A}}function LO(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($e(191,s));s.call(r)}}}var I9=new xH.Component().refs;function Q$(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rb={isMounted:function(t){return(t=t._reactInternals)?ld(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ws(),s=Ml(t),i=Cu(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ll(t,i,s),e!==null&&(Xo(e,t,s,r),Y1(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ws(),s=Ml(t),i=Cu(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ll(t,i,s),e!==null&&(Xo(e,t,s,r),Y1(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ws(),r=Ml(t),s=Cu(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ll(t,s,r),e!==null&&(Xo(e,t,r,n),Y1(e,t,r))}};function PO(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!om(n,r)||!om(s,i):!0}function E9(t,e,n){var r=!1,s=tc,i=e.contextType;return typeof i=="object"&&i!==null?i=Bo(i):(s=fi(e)?UA:Ts.current,r=e.contextTypes,i=(r=r!=null)?rf(t,s):tc),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rb,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function MO(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rb.enqueueReplaceState(e,e.state,null)}function H$(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=I9,Lk(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Bo(i):(i=fi(e)?UA:Ts.current,s.context=rf(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Q$(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Rb.enqueueReplaceState(s,s.state,null),Vw(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function _p(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($e(309));var r=n.stateNode}if(!r)throw Error($e(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===I9&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($e(284));if(!n._owner)throw Error($e(290,t))}return t}function Rv(t,e){throw t=Object.prototype.toString.call(e),Error($e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function QO(t){var e=t._init;return e(t._payload)}function $9(t){function e(g,y){if(t){var C=g.deletions;C===null?(g.deletions=[y],g.flags|=16):C.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=Ql(g,y),g.index=0,g.sibling=null,g}function i(g,y,C){return g.index=C,t?(C=g.alternate,C!==null?(C=C.index,C<y?(g.flags|=2,y):C):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,C,b){return y===null||y.tag!==6?(y=RI(C,g.mode,b),y.return=g,y):(y=s(y,C),y.return=g,y)}function u(g,y,C,b){var B=C.type;return B===hh?c(g,y,C.props.children,b,C.key):y!==null&&(y.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===cl&&QO(B)===y.type)?(b=s(y,C.props),b.ref=_p(g,y,C),b.return=g,b):(b=rw(C.type,C.key,C.props,null,g.mode,b),b.ref=_p(g,y,C),b.return=g,b)}function l(g,y,C,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==C.containerInfo||y.stateNode.implementation!==C.implementation?(y=OI(C,g.mode,b),y.return=g,y):(y=s(y,C.children||[]),y.return=g,y)}function c(g,y,C,b,B){return y===null||y.tag!==7?(y=IA(C,g.mode,b,B),y.return=g,y):(y=s(y,C),y.return=g,y)}function A(g,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return y=RI(""+y,g.mode,C),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Bv:return C=rw(y.type,y.key,y.props,null,g.mode,C),C.ref=_p(g,null,y),C.return=g,C;case dh:return y=OI(y,g.mode,C),y.return=g,y;case cl:var b=y._init;return A(g,b(y._payload),C)}if(Yp(y)||Sp(y))return y=IA(y,g.mode,C,null),y.return=g,y;Rv(g,y)}return null}function d(g,y,C,b){var B=y!==null?y.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return B!==null?null:a(g,y,""+C,b);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Bv:return C.key===B?u(g,y,C,b):null;case dh:return C.key===B?l(g,y,C,b):null;case cl:return B=C._init,d(g,y,B(C._payload),b)}if(Yp(C)||Sp(C))return B!==null?null:c(g,y,C,b,null);Rv(g,C)}return null}function h(g,y,C,b,B){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(C)||null,a(y,g,""+b,B);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bv:return g=g.get(b.key===null?C:b.key)||null,u(y,g,b,B);case dh:return g=g.get(b.key===null?C:b.key)||null,l(y,g,b,B);case cl:var I=b._init;return h(g,y,C,I(b._payload),B)}if(Yp(b)||Sp(b))return g=g.get(C)||null,c(y,g,b,B,null);Rv(y,b)}return null}function f(g,y,C,b){for(var B=null,I=null,w=y,$=y=0,T=null;w!==null&&$<C.length;$++){w.index>$?(T=w,w=null):T=w.sibling;var _=d(g,w,C[$],b);if(_===null){w===null&&(w=T);break}t&&w&&_.alternate===null&&e(g,w),y=i(_,y,$),I===null?B=_:I.sibling=_,I=_,w=T}if($===C.length)return n(g,w),Dn&&eA(g,$),B;if(w===null){for(;$<C.length;$++)w=A(g,C[$],b),w!==null&&(y=i(w,y,$),I===null?B=w:I.sibling=w,I=w);return Dn&&eA(g,$),B}for(w=r(g,w);$<C.length;$++)T=h(w,g,$,C[$],b),T!==null&&(t&&T.alternate!==null&&w.delete(T.key===null?$:T.key),y=i(T,y,$),I===null?B=T:I.sibling=T,I=T);return t&&w.forEach(function(R){return e(g,R)}),Dn&&eA(g,$),B}function p(g,y,C,b){var B=Sp(C);if(typeof B!="function")throw Error($e(150));if(C=B.call(C),C==null)throw Error($e(151));for(var I=B=null,w=y,$=y=0,T=null,_=C.next();w!==null&&!_.done;$++,_=C.next()){w.index>$?(T=w,w=null):T=w.sibling;var R=d(g,w,_.value,b);if(R===null){w===null&&(w=T);break}t&&w&&R.alternate===null&&e(g,w),y=i(R,y,$),I===null?B=R:I.sibling=R,I=R,w=T}if(_.done)return n(g,w),Dn&&eA(g,$),B;if(w===null){for(;!_.done;$++,_=C.next())_=A(g,_.value,b),_!==null&&(y=i(_,y,$),I===null?B=_:I.sibling=_,I=_);return Dn&&eA(g,$),B}for(w=r(g,w);!_.done;$++,_=C.next())_=h(w,g,$,_.value,b),_!==null&&(t&&_.alternate!==null&&w.delete(_.key===null?$:_.key),y=i(_,y,$),I===null?B=_:I.sibling=_,I=_);return t&&w.forEach(function(P){return e(g,P)}),Dn&&eA(g,$),B}function m(g,y,C,b){if(typeof C=="object"&&C!==null&&C.type===hh&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Bv:e:{for(var B=C.key,I=y;I!==null;){if(I.key===B){if(B=C.type,B===hh){if(I.tag===7){n(g,I.sibling),y=s(I,C.props.children),y.return=g,g=y;break e}}else if(I.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===cl&&QO(B)===I.type){n(g,I.sibling),y=s(I,C.props),y.ref=_p(g,I,C),y.return=g,g=y;break e}n(g,I);break}else e(g,I);I=I.sibling}C.type===hh?(y=IA(C.props.children,g.mode,b,C.key),y.return=g,g=y):(b=rw(C.type,C.key,C.props,null,g.mode,b),b.ref=_p(g,y,C),b.return=g,g=b)}return o(g);case dh:e:{for(I=C.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===C.containerInfo&&y.stateNode.implementation===C.implementation){n(g,y.sibling),y=s(y,C.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=OI(C,g.mode,b),y.return=g,g=y}return o(g);case cl:return I=C._init,m(g,y,I(C._payload),b)}if(Yp(C))return f(g,y,C,b);if(Sp(C))return p(g,y,C,b);Rv(g,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,y!==null&&y.tag===6?(n(g,y.sibling),y=s(y,C),y.return=g,g=y):(n(g,y),y=RI(C,g.mode,b),y.return=g,g=y),o(g)):n(g,y)}return m}var of=$9(!0),S9=$9(!1),d0={},_a=Cc(d0),cm=Cc(d0),Am=Cc(d0);function fA(t){if(t===d0)throw Error($e(174));return t}function Pk(t,e){switch(gn(Am,e),gn(cm,t),gn(_a,d0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:w$(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=w$(e,t)}Bn(_a),gn(_a,e)}function af(){Bn(_a),Bn(cm),Bn(Am)}function T9(t){fA(Am.current);var e=fA(_a.current),n=w$(e,t.type);e!==n&&(gn(cm,t),gn(_a,n))}function Mk(t){cm.current===t&&(Bn(_a),Bn(cm))}var Ln=Cc(0);function zw(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var TI=[];function Qk(){for(var t=0;t<TI.length;t++)TI[t]._workInProgressVersionPrimary=null;TI.length=0}var J1=Ku.ReactCurrentDispatcher,NI=Ku.ReactCurrentBatchConfig,PA=0,Mn=null,xr=null,Qr=null,Kw=!1,Tg=!1,dm=0,rre=0;function As(){throw Error($e(321))}function Hk(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ta(t[n],e[n]))return!1;return!0}function Vk(t,e,n,r,s,i){if(PA=i,Mn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,J1.current=t===null||t.memoizedState===null?are:ure,t=n(r,s),Tg){i=0;do{if(Tg=!1,dm=0,25<=i)throw Error($e(301));i+=1,Qr=xr=null,e.updateQueue=null,J1.current=lre,t=n(r,s)}while(Tg)}if(J1.current=Ww,e=xr!==null&&xr.next!==null,PA=0,Qr=xr=Mn=null,Kw=!1,e)throw Error($e(300));return t}function zk(){var t=dm!==0;return dm=0,t}function va(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?Mn.memoizedState=Qr=t:Qr=Qr.next=t,Qr}function Io(){if(xr===null){var t=Mn.alternate;t=t!==null?t.memoizedState:null}else t=xr.next;var e=Qr===null?Mn.memoizedState:Qr.next;if(e!==null)Qr=e,xr=t;else{if(t===null)throw Error($e(310));xr=t,t={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},Qr===null?Mn.memoizedState=Qr=t:Qr=Qr.next=t}return Qr}function hm(t,e){return typeof e=="function"?e(t):e}function kI(t){var e=Io(),n=e.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=t;var r=xr,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,l=i;do{var c=l.lane;if((PA&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var A={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=A,o=r):u=u.next=A,Mn.lanes|=c,MA|=c}l=l.next}while(l!==null&&l!==i);u===null?o=r:u.next=a,ta(r,e.memoizedState)||(ci=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Mn.lanes|=i,MA|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function FI(t){var e=Io(),n=e.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ta(i,e.memoizedState)||(ci=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function N9(){}function k9(t,e){var n=Mn,r=Io(),s=e(),i=!ta(r.memoizedState,s);if(i&&(r.memoizedState=s,ci=!0),r=r.queue,Kk(D9.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Qr!==null&&Qr.memoizedState.tag&1){if(n.flags|=2048,fm(9,_9.bind(null,n,r,s,e),void 0,null),zr===null)throw Error($e(349));(PA&30)!==0||F9(n,e,s)}return s}function F9(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _9(t,e,n,r){e.value=n,e.getSnapshot=r,R9(e)&&O9(t)}function D9(t,e,n){return n(function(){R9(e)&&O9(t)})}function R9(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ta(t,n)}catch{return!0}}function O9(t){var e=Nu(t,1);e!==null&&Xo(e,t,1,-1)}function HO(t){var e=va();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hm,lastRenderedState:t},e.queue=t,t=t.dispatch=ore.bind(null,Mn,t),[e.memoizedState,t]}function fm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Mn.updateQueue,e===null?(e={lastEffect:null,stores:null},Mn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function U9(){return Io().memoizedState}function Z1(t,e,n,r){var s=va();Mn.flags|=t,s.memoizedState=fm(1|e,n,void 0,r===void 0?null:r)}function Ob(t,e,n,r){var s=Io();r=r===void 0?null:r;var i=void 0;if(xr!==null){var o=xr.memoizedState;if(i=o.destroy,r!==null&&Hk(r,o.deps)){s.memoizedState=fm(e,n,i,r);return}}Mn.flags|=t,s.memoizedState=fm(1|e,n,i,r)}function VO(t,e){return Z1(8390656,8,t,e)}function Kk(t,e){return Ob(2048,8,t,e)}function L9(t,e){return Ob(4,2,t,e)}function P9(t,e){return Ob(4,4,t,e)}function M9(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Q9(t,e,n){return n=n!=null?n.concat([t]):null,Ob(4,4,M9.bind(null,e,t),n)}function Wk(){}function H9(t,e){var n=Io();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hk(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function V9(t,e){var n=Io();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Hk(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function z9(t,e,n){return(PA&21)===0?(t.baseState&&(t.baseState=!1,ci=!0),t.memoizedState=n):(ta(n,e)||(n=GH(),Mn.lanes|=n,MA|=n,t.baseState=!0),e)}function sre(t,e){var n=nn;nn=n!==0&&4>n?n:4,t(!0);var r=NI.transition;NI.transition={};try{t(!1),e()}finally{nn=n,NI.transition=r}}function K9(){return Io().memoizedState}function ire(t,e,n){var r=Ml(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W9(t))G9(e,n);else if(n=x9(t,e,n,r),n!==null){var s=Ws();Xo(n,t,r,s),j9(n,e,r)}}function ore(t,e,n){var r=Ml(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W9(t))G9(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ta(a,o)){var u=e.interleaved;u===null?(s.next=s,Uk(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=x9(t,e,s,r),n!==null&&(s=Ws(),Xo(n,t,r,s),j9(n,e,r))}}function W9(t){var e=t.alternate;return t===Mn||e!==null&&e===Mn}function G9(t,e){Tg=Kw=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function j9(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xk(t,n)}}var Ww={readContext:Bo,useCallback:As,useContext:As,useEffect:As,useImperativeHandle:As,useInsertionEffect:As,useLayoutEffect:As,useMemo:As,useReducer:As,useRef:As,useState:As,useDebugValue:As,useDeferredValue:As,useTransition:As,useMutableSource:As,useSyncExternalStore:As,useId:As,unstable_isNewReconciler:!1},are={readContext:Bo,useCallback:function(t,e){return va().memoizedState=[t,e===void 0?null:e],t},useContext:Bo,useEffect:VO,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Z1(4194308,4,M9.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Z1(4194308,4,t,e)},useInsertionEffect:function(t,e){return Z1(4,2,t,e)},useMemo:function(t,e){var n=va();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=va();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ire.bind(null,Mn,t),[r.memoizedState,t]},useRef:function(t){var e=va();return t={current:t},e.memoizedState=t},useState:HO,useDebugValue:Wk,useDeferredValue:function(t){return va().memoizedState=t},useTransition:function(){var t=HO(!1),e=t[0];return t=sre.bind(null,t[1]),va().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Mn,s=va();if(Dn){if(n===void 0)throw Error($e(407));n=n()}else{if(n=e(),zr===null)throw Error($e(349));(PA&30)!==0||F9(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,VO(D9.bind(null,r,i,t),[t]),r.flags|=2048,fm(9,_9.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=va(),e=zr.identifierPrefix;if(Dn){var n=pu,r=fu;n=(r&~(1<<32-jo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dm++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rre++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ure={readContext:Bo,useCallback:H9,useContext:Bo,useEffect:Kk,useImperativeHandle:Q9,useInsertionEffect:L9,useLayoutEffect:P9,useMemo:V9,useReducer:kI,useRef:U9,useState:function(){return kI(hm)},useDebugValue:Wk,useDeferredValue:function(t){var e=Io();return z9(e,xr.memoizedState,t)},useTransition:function(){var t=kI(hm)[0],e=Io().memoizedState;return[t,e]},useMutableSource:N9,useSyncExternalStore:k9,useId:K9,unstable_isNewReconciler:!1},lre={readContext:Bo,useCallback:H9,useContext:Bo,useEffect:Kk,useImperativeHandle:Q9,useInsertionEffect:L9,useLayoutEffect:P9,useMemo:V9,useReducer:FI,useRef:U9,useState:function(){return FI(hm)},useDebugValue:Wk,useDeferredValue:function(t){var e=Io();return xr===null?e.memoizedState=t:z9(e,xr.memoizedState,t)},useTransition:function(){var t=FI(hm)[0],e=Io().memoizedState;return[t,e]},useMutableSource:N9,useSyncExternalStore:k9,useId:K9,unstable_isNewReconciler:!1};function uf(t,e){try{var n="",r=e;do n+=Ute(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function _I(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function V$(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var cre=typeof WeakMap=="function"?WeakMap:Map;function X9(t,e,n){n=Cu(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jw||(jw=!0,Z$=r),V$(t,e)},n}function q9(t,e,n){n=Cu(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){V$(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){V$(t,e),typeof r!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function zO(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new cre;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Bre.bind(null,t,e,n),e.then(t,t))}function KO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function WO(t,e,n,r,s){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cu(-1,1),e.tag=2,Ll(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=s,t)}var Are=Ku.ReactCurrentOwner,ci=!1;function Ps(t,e,n,r){e.child=t===null?S9(e,null,n,r):of(e,t.child,n,r)}function GO(t,e,n,r,s){n=n.render;var i=e.ref;return Uh(e,s),r=Vk(t,e,n,r,i,s),n=zk(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ku(t,e,s)):(Dn&&n&&kk(e),e.flags|=1,Ps(t,e,r,s),e.child)}function jO(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!eF(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Y9(t,e,i,r,s)):(t=rw(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,(t.lanes&s)===0){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:om,n(o,r)&&t.ref===e.ref)return ku(t,e,s)}return e.flags|=1,t=Ql(i,r),t.ref=e.ref,t.return=e,e.child=t}function Y9(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(om(i,r)&&t.ref===e.ref)if(ci=!1,e.pendingProps=r=i,(t.lanes&s)!==0)(t.flags&131072)!==0&&(ci=!0);else return e.lanes=t.lanes,ku(t,e,s)}return z$(t,e,n,r,s)}function J9(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gn(xh,Ti),Ti|=n;else{if((n&1073741824)===0)return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gn(xh,Ti),Ti|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,gn(xh,Ti),Ti|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,gn(xh,Ti),Ti|=r;return Ps(t,e,s,n),e.child}function Z9(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function z$(t,e,n,r,s){var i=fi(n)?UA:Ts.current;return i=rf(e,i),Uh(e,s),n=Vk(t,e,n,r,i,s),r=zk(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ku(t,e,s)):(Dn&&r&&kk(e),e.flags|=1,Ps(t,e,n,s),e.child)}function XO(t,e,n,r,s){if(fi(n)){var i=!0;Lw(e)}else i=!1;if(Uh(e,s),e.stateNode===null)ew(t,e),E9(e,n,r),H$(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=Bo(l):(l=fi(n)?UA:Ts.current,l=rf(e,l));var c=n.getDerivedStateFromProps,A=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";A||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&MO(e,o,r,l),Al=!1;var d=e.memoizedState;o.state=d,Vw(e,r,o,s),u=e.memoizedState,a!==r||d!==u||hi.current||Al?(typeof c=="function"&&(Q$(e,n,c,r),u=e.memoizedState),(a=Al||PO(e,n,a,r,d,u,l))?(A||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,B9(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Mo(e.type,a),o.props=l,A=e.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Bo(u):(u=fi(n)?UA:Ts.current,u=rf(e,u));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==A||d!==u)&&MO(e,o,r,u),Al=!1,d=e.memoizedState,o.state=d,Vw(e,r,o,s);var f=e.memoizedState;a!==A||d!==f||hi.current||Al?(typeof h=="function"&&(Q$(e,n,h,r),f=e.memoizedState),(l=Al||PO(e,n,l,r,d,f,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,f,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,f,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),o.props=r,o.state=f,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return K$(t,e,n,r,i,s)}function K$(t,e,n,r,s,i){Z9(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&DO(e,n,!1),ku(t,e,i);r=e.stateNode,Are.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=of(e,t.child,null,i),e.child=of(e,null,a,i)):Ps(t,e,a,i),e.memoizedState=r.state,s&&DO(e,n,!0),e.child}function e5(t){var e=t.stateNode;e.pendingContext?_O(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_O(t,e.context,!1),Pk(t,e.containerInfo)}function qO(t,e,n,r,s){return sf(),_k(s),e.flags|=256,Ps(t,e,n,r),e.child}var W$={dehydrated:null,treeContext:null,retryLane:0};function G$(t){return{baseLanes:t,cachePool:null,transitions:null}}function t5(t,e,n){var r=e.pendingProps,s=Ln.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),gn(Ln,s&1),t===null)return P$(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},(r&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Pb(o,r,0,null),t=IA(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=G$(n),e.memoizedState=W$,t):Gk(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return dre(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ql(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ql(a,i):(i=IA(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?G$(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=W$,r}return i=t.child,t=i.sibling,r=Ql(i,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Gk(t,e){return e=Pb({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ov(t,e,n,r){return r!==null&&_k(r),of(e,t.child,null,n),t=Gk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dre(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=_I(Error($e(422))),Ov(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Pb({mode:"visible",children:r.children},s,0,null),i=IA(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,(e.mode&1)!==0&&of(e,t.child,null,o),e.child.memoizedState=G$(o),e.memoizedState=W$,i);if((e.mode&1)===0)return Ov(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($e(419)),r=_I(i,r,void 0),Ov(t,e,o,r)}if(a=(o&t.childLanes)!==0,ci||a){if(r=zr,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(r.suspendedLanes|o))!==0?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nu(t,s),Xo(r,t,s,-1))}return Zk(),r=_I(Error($e(421))),Ov(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Ire.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Fi=Ul(s.nextSibling),Ri=e,Dn=!0,Ho=null,t!==null&&(so[io++]=fu,so[io++]=pu,so[io++]=LA,fu=t.id,pu=t.overflow,LA=e),e=Gk(e,r.children),e.flags|=4096,e)}function YO(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),M$(t.return,e,n)}function DI(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function n5(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ps(t,e,r.children,n),r=Ln.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&YO(t,n,e);else if(t.tag===19)YO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(gn(Ln,r),(e.mode&1)===0)e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&zw(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),DI(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&zw(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}DI(e,!0,n,null,i);break;case"together":DI(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ew(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ku(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),MA|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error($e(153));if(e.child!==null){for(t=e.child,n=Ql(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ql(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hre(t,e,n){switch(e.tag){case 3:e5(e),sf();break;case 5:T9(e);break;case 1:fi(e.type)&&Lw(e);break;case 4:Pk(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;gn(Qw,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gn(Ln,Ln.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?t5(t,e,n):(gn(Ln,Ln.current&1),t=ku(t,e,n),t!==null?t.sibling:null);gn(Ln,Ln.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return n5(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),gn(Ln,Ln.current),r)break;return null;case 22:case 23:return e.lanes=0,J9(t,e,n)}return ku(t,e,n)}var r5,j$,s5,i5;r5=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};j$=function(){};s5=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,fA(_a.current);var i=null;switch(n){case"input":s=g$(t,s),r=g$(t,r),i=[];break;case"select":s=Qn({},s,{value:void 0}),r=Qn({},r,{value:void 0}),i=[];break;case"textarea":s=v$(t,s),r=v$(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ow)}C$(n,r);var o;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Zg.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var u=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Zg.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&vn("scroll",t),i||a===u||(i=[])):(i=i||[]).push(l,u))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};i5=function(t,e,n,r){n!==r&&(e.flags|=4)};function Dp(t,e){if(!Dn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ds(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fre(t,e,n){var r=e.pendingProps;switch(Fk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ds(e),null;case 1:return fi(e.type)&&Uw(),ds(e),null;case 3:return r=e.stateNode,af(),Bn(hi),Bn(Ts),Qk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Dv(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Ho!==null&&(nS(Ho),Ho=null))),j$(t,e),ds(e),null;case 5:Mk(e);var s=fA(Am.current);if(n=e.type,t!==null&&e.stateNode!=null)s5(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($e(166));return ds(e),null}if(t=fA(_a.current),Dv(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ea]=e,r[lm]=i,t=(e.mode&1)!==0,n){case"dialog":vn("cancel",r),vn("close",r);break;case"iframe":case"object":case"embed":vn("load",r);break;case"video":case"audio":for(s=0;s<Zp.length;s++)vn(Zp[s],r);break;case"source":vn("error",r);break;case"img":case"image":case"link":vn("error",r),vn("load",r);break;case"details":vn("toggle",r);break;case"input":oO(r,i),vn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},vn("invalid",r);break;case"textarea":uO(r,i),vn("invalid",r)}C$(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&_v(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&_v(r.textContent,a,t),s=["children",""+a]):Zg.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&vn("scroll",r)}switch(n){case"input":Iv(r),aO(r,i,!0);break;case"textarea":Iv(r),lO(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ow)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=FH(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ea]=e,t[lm]=r,r5(t,e,!1,!1),e.stateNode=t;e:{switch(o=b$(n,r),n){case"dialog":vn("cancel",t),vn("close",t),s=r;break;case"iframe":case"object":case"embed":vn("load",t),s=r;break;case"video":case"audio":for(s=0;s<Zp.length;s++)vn(Zp[s],t);s=r;break;case"source":vn("error",t),s=r;break;case"img":case"image":case"link":vn("error",t),vn("load",t),s=r;break;case"details":vn("toggle",t),s=r;break;case"input":oO(t,r),s=g$(t,r),vn("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Qn({},r,{value:void 0}),vn("invalid",t);break;case"textarea":uO(t,r),s=v$(t,r),vn("invalid",t);break;default:s=r}C$(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?RH(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&_H(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&em(t,u):typeof u=="number"&&em(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zg.hasOwnProperty(i)?u!=null&&i==="onScroll"&&vn("scroll",t):u!=null&&mk(t,i,u,o))}switch(n){case"input":Iv(t),aO(t,r,!1);break;case"textarea":Iv(t),lO(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ec(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?_h(t,!!r.multiple,i,!1):r.defaultValue!=null&&_h(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ow)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ds(e),null;case 6:if(t&&e.stateNode!=null)i5(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($e(166));if(n=fA(Am.current),fA(_a.current),Dv(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ea]=e,(i=r.nodeValue!==n)&&(t=Ri,t!==null))switch(t.tag){case 3:_v(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_v(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ea]=e,e.stateNode=r}return ds(e),null;case 13:if(Bn(Ln),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Dn&&Fi!==null&&(e.mode&1)!==0&&(e.flags&128)===0)b9(),sf(),e.flags|=98560,i=!1;else if(i=Dv(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($e(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($e(317));i[Ea]=e}else sf(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ds(e),i=!1}else Ho!==null&&(nS(Ho),Ho=null),i=!0;if(!i)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Ln.current&1)!==0?$r===0&&($r=3):Zk())),e.updateQueue!==null&&(e.flags|=4),ds(e),null);case 4:return af(),j$(t,e),t===null&&am(e.stateNode.containerInfo),ds(e),null;case 10:return Ok(e.type._context),ds(e),null;case 17:return fi(e.type)&&Uw(),ds(e),null;case 19:if(Bn(Ln),i=e.memoizedState,i===null)return ds(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Dp(i,!1);else{if($r!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=zw(t),o!==null){for(e.flags|=128,Dp(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gn(Ln,Ln.current&1|2),e.child}t=t.sibling}i.tail!==null&&nr()>lf&&(e.flags|=128,r=!0,Dp(i,!1),e.lanes=4194304)}else{if(!r)if(t=zw(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Dn)return ds(e),null}else 2*nr()-i.renderingStartTime>lf&&n!==1073741824&&(e.flags|=128,r=!0,Dp(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nr(),e.sibling=null,n=Ln.current,gn(Ln,r?n&1|2:n&1),e):(ds(e),null);case 22:case 23:return Jk(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Ti&1073741824)!==0&&(ds(e),e.subtreeFlags&6&&(e.flags|=8192)):ds(e),null;case 24:return null;case 25:return null}throw Error($e(156,e.tag))}function pre(t,e){switch(Fk(e),e.tag){case 1:return fi(e.type)&&Uw(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return af(),Bn(hi),Bn(Ts),Qk(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return Mk(e),null;case 13:if(Bn(Ln),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($e(340));sf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Bn(Ln),null;case 4:return af(),null;case 10:return Ok(e.type._context),null;case 22:case 23:return Jk(),null;case 24:return null;default:return null}}var Uv=!1,ys=!1,gre=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function bh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wn(t,e,r)}else n.current=null}function X$(t,e,n){try{n()}catch(r){Wn(t,e,r)}}var JO=!1;function mre(t,e){if(F$=_w,t=l9(),Nk(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,A=t,d=null;t:for(;;){for(var h;A!==n||s!==0&&A.nodeType!==3||(a=o+s),A!==i||r!==0&&A.nodeType!==3||(u=o+r),A.nodeType===3&&(o+=A.nodeValue.length),(h=A.firstChild)!==null;)d=A,A=h;for(;;){if(A===t)break t;if(d===n&&++l===s&&(a=o),d===i&&++c===r&&(u=o),(h=A.nextSibling)!==null)break;A=d,d=A.parentNode}A=h}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(_$={focusedElem:t,selectionRange:n},_w=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){e=Qe;try{var f=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var p=f.memoizedProps,m=f.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?p:Mo(e.type,p),m);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($e(163))}}catch(b){Wn(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}return f=JO,JO=!1,f}function Ng(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&X$(e,n,i)}s=s.next}while(s!==r)}}function Ub(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function q$(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function o5(t){var e=t.alternate;e!==null&&(t.alternate=null,o5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ea],delete e[lm],delete e[O$],delete e[Zne],delete e[ere])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function a5(t){return t.tag===5||t.tag===3||t.tag===4}function ZO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Y$(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ow));else if(r!==4&&(t=t.child,t!==null))for(Y$(t,e,n),t=t.sibling;t!==null;)Y$(t,e,n),t=t.sibling}function J$(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(J$(t,e,n),t=t.sibling;t!==null;)J$(t,e,n),t=t.sibling}var Jr=null,Qo=!1;function rl(t,e,n){for(n=n.child;n!==null;)u5(t,e,n),n=n.sibling}function u5(t,e,n){if(Fa&&typeof Fa.onCommitFiberUnmount=="function")try{Fa.onCommitFiberUnmount(Tb,n)}catch{}switch(n.tag){case 5:ys||bh(n,e);case 6:var r=Jr,s=Qo;Jr=null,rl(t,e,n),Jr=r,Qo=s,Jr!==null&&(Qo?(t=Jr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jr.removeChild(n.stateNode));break;case 18:Jr!==null&&(Qo?(t=Jr,n=n.stateNode,t.nodeType===8?$I(t.parentNode,n):t.nodeType===1&&$I(t,n),sm(t)):$I(Jr,n.stateNode));break;case 4:r=Jr,s=Qo,Jr=n.stateNode.containerInfo,Qo=!0,rl(t,e,n),Jr=r,Qo=s;break;case 0:case 11:case 14:case 15:if(!ys&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&((i&2)!==0||(i&4)!==0)&&X$(n,e,o),s=s.next}while(s!==r)}rl(t,e,n);break;case 1:if(!ys&&(bh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Wn(n,e,a)}rl(t,e,n);break;case 21:rl(t,e,n);break;case 22:n.mode&1?(ys=(r=ys)||n.memoizedState!==null,rl(t,e,n),ys=r):rl(t,e,n);break;default:rl(t,e,n)}}function eU(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gre),e.forEach(function(r){var s=Ere.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function _o(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Jr=a.stateNode,Qo=!1;break e;case 3:Jr=a.stateNode.containerInfo,Qo=!0;break e;case 4:Jr=a.stateNode.containerInfo,Qo=!0;break e}a=a.return}if(Jr===null)throw Error($e(160));u5(i,o,s),Jr=null,Qo=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(l){Wn(s,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)l5(e,t),e=e.sibling}function l5(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_o(e,t),ma(t),r&4){try{Ng(3,t,t.return),Ub(3,t)}catch(p){Wn(t,t.return,p)}try{Ng(5,t,t.return)}catch(p){Wn(t,t.return,p)}}break;case 1:_o(e,t),ma(t),r&512&&n!==null&&bh(n,n.return);break;case 5:if(_o(e,t),ma(t),r&512&&n!==null&&bh(n,n.return),t.flags&32){var s=t.stateNode;try{em(s,"")}catch(p){Wn(t,t.return,p)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&NH(s,i),b$(a,o);var l=b$(a,i);for(o=0;o<u.length;o+=2){var c=u[o],A=u[o+1];c==="style"?RH(s,A):c==="dangerouslySetInnerHTML"?_H(s,A):c==="children"?em(s,A):mk(s,c,A,l)}switch(a){case"input":m$(s,i);break;case"textarea":kH(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?_h(s,!!i.multiple,h,!1):d!==!!i.multiple&&(i.defaultValue!=null?_h(s,!!i.multiple,i.defaultValue,!0):_h(s,!!i.multiple,i.multiple?[]:"",!1))}s[lm]=i}catch(p){Wn(t,t.return,p)}}break;case 6:if(_o(e,t),ma(t),r&4){if(t.stateNode===null)throw Error($e(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(p){Wn(t,t.return,p)}}break;case 3:if(_o(e,t),ma(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sm(e.containerInfo)}catch(p){Wn(t,t.return,p)}break;case 4:_o(e,t),ma(t);break;case 13:_o(e,t),ma(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(qk=nr())),r&4&&eU(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ys=(l=ys)||c,_o(e,t),ys=l):_o(e,t),ma(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&(t.mode&1)!==0)for(Qe=t,c=t.child;c!==null;){for(A=Qe=c;Qe!==null;){switch(d=Qe,h=d.child,d.tag){case 0:case 11:case 14:case 15:Ng(4,d,d.return);break;case 1:bh(d,d.return);var f=d.stateNode;if(typeof f.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(p){Wn(r,n,p)}}break;case 5:bh(d,d.return);break;case 22:if(d.memoizedState!==null){nU(A);continue}}h!==null?(h.return=d,Qe=h):nU(A)}c=c.sibling}e:for(c=null,A=t;;){if(A.tag===5){if(c===null){c=A;try{s=A.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=A.stateNode,u=A.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=DH("display",o))}catch(p){Wn(t,t.return,p)}}}else if(A.tag===6){if(c===null)try{A.stateNode.nodeValue=l?"":A.memoizedProps}catch(p){Wn(t,t.return,p)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===t)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===t)break e;for(;A.sibling===null;){if(A.return===null||A.return===t)break e;c===A&&(c=null),A=A.return}c===A&&(c=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:_o(e,t),ma(t),r&4&&eU(t);break;case 21:break;default:_o(e,t),ma(t)}}function ma(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(a5(n)){var r=n;break e}n=n.return}throw Error($e(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(em(s,""),r.flags&=-33);var i=ZO(t);J$(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ZO(t);Y$(t,a,o);break;default:throw Error($e(161))}}catch(u){Wn(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yre(t,e,n){Qe=t,c5(t)}function c5(t,e,n){for(var r=(t.mode&1)!==0;Qe!==null;){var s=Qe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Uv;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||ys;a=Uv;var l=ys;if(Uv=o,(ys=u)&&!l)for(Qe=s;Qe!==null;)o=Qe,u=o.child,o.tag===22&&o.memoizedState!==null?rU(s):u!==null?(u.return=o,Qe=u):rU(s);for(;i!==null;)Qe=i,c5(i),i=i.sibling;Qe=s,Uv=a,ys=l}tU(t)}else(s.subtreeFlags&8772)!==0&&i!==null?(i.return=s,Qe=i):tU(t)}}function tU(t){for(;Qe!==null;){var e=Qe;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:ys||Ub(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ys)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Mo(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&LO(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}LO(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var A=c.dehydrated;A!==null&&sm(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($e(163))}ys||e.flags&512&&q$(e)}catch(d){Wn(e,e.return,d)}}if(e===t){Qe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function nU(t){for(;Qe!==null;){var e=Qe;if(e===t){Qe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function rU(t){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ub(4,e)}catch(u){Wn(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Wn(e,s,u)}}var i=e.return;try{q$(e)}catch(u){Wn(e,i,u)}break;case 5:var o=e.return;try{q$(e)}catch(u){Wn(e,o,u)}}}catch(u){Wn(e,e.return,u)}if(e===t){Qe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Qe=a;break}Qe=e.return}}var vre=Math.ceil,Gw=Ku.ReactCurrentDispatcher,jk=Ku.ReactCurrentOwner,bo=Ku.ReactCurrentBatchConfig,Gt=0,zr=null,Ar=null,rs=0,Ti=0,xh=Cc(0),$r=0,pm=null,MA=0,Lb=0,Xk=0,kg=null,ui=null,qk=0,lf=1/0,ou=null,jw=!1,Z$=null,Pl=null,Lv=!1,xl=null,Xw=0,Fg=0,eS=null,tw=-1,nw=0;function Ws(){return(Gt&6)!==0?nr():tw!==-1?tw:tw=nr()}function Ml(t){return(t.mode&1)===0?1:(Gt&2)!==0&&rs!==0?rs&-rs:nre.transition!==null?(nw===0&&(nw=GH()),nw):(t=nn,t!==0||(t=window.event,t=t===void 0?16:e9(t.type)),t)}function Xo(t,e,n,r){if(50<Fg)throw Fg=0,eS=null,Error($e(185));l0(t,n,r),((Gt&2)===0||t!==zr)&&(t===zr&&((Gt&2)===0&&(Lb|=n),$r===4&&gl(t,rs)),pi(t,r),n===1&&Gt===0&&(e.mode&1)===0&&(lf=nr()+500,Db&&bc()))}function pi(t,e){var n=t.callbackNode;nne(t,e);var r=Fw(t,t===zr?rs:0);if(r===0)n!==null&&dO(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&dO(n),e===1)t.tag===0?tre(sU.bind(null,t)):v9(sU.bind(null,t)),Yne(function(){(Gt&6)===0&&bc()}),n=null;else{switch(jH(r)){case 1:n=bk;break;case 4:n=KH;break;case 16:n=kw;break;case 536870912:n=WH;break;default:n=kw}n=y5(n,A5.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function A5(t,e){if(tw=-1,nw=0,(Gt&6)!==0)throw Error($e(327));var n=t.callbackNode;if(Lh()&&t.callbackNode!==n)return null;var r=Fw(t,t===zr?rs:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=qw(t,r);else{e=r;var s=Gt;Gt|=2;var i=h5();(zr!==t||rs!==e)&&(ou=null,lf=nr()+500,BA(t,e));do try{bre();break}catch(a){d5(t,a)}while(1);Rk(),Gw.current=i,Gt=s,Ar!==null?e=0:(zr=null,rs=0,e=$r)}if(e!==0){if(e===2&&(s=$$(t),s!==0&&(r=s,e=tS(t,s))),e===1)throw n=pm,BA(t,0),gl(t,r),pi(t,nr()),n;if(e===6)gl(t,r);else{if(s=t.current.alternate,(r&30)===0&&!wre(s)&&(e=qw(t,r),e===2&&(i=$$(t),i!==0&&(r=i,e=tS(t,i))),e===1))throw n=pm,BA(t,0),gl(t,r),pi(t,nr()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($e(345));case 2:tA(t,ui,ou);break;case 3:if(gl(t,r),(r&130023424)===r&&(e=qk+500-nr(),10<e)){if(Fw(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ws(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=R$(tA.bind(null,t,ui,ou),e);break}tA(t,ui,ou);break;case 4:if(gl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-jo(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=nr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vre(r/1960))-r,10<r){t.timeoutHandle=R$(tA.bind(null,t,ui,ou),r);break}tA(t,ui,ou);break;case 5:tA(t,ui,ou);break;default:throw Error($e(329))}}}return pi(t,nr()),t.callbackNode===n?A5.bind(null,t):null}function tS(t,e){var n=kg;return t.current.memoizedState.isDehydrated&&(BA(t,e).flags|=256),t=qw(t,e),t!==2&&(e=ui,ui=n,e!==null&&nS(e)),t}function nS(t){ui===null?ui=t:ui.push.apply(ui,t)}function wre(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ta(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gl(t,e){for(e&=~Xk,e&=~Lb,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jo(e),r=1<<n;t[n]=-1,e&=~r}}function sU(t){if((Gt&6)!==0)throw Error($e(327));Lh();var e=Fw(t,0);if((e&1)===0)return pi(t,nr()),null;var n=qw(t,e);if(t.tag!==0&&n===2){var r=$$(t);r!==0&&(e=r,n=tS(t,r))}if(n===1)throw n=pm,BA(t,0),gl(t,e),pi(t,nr()),n;if(n===6)throw Error($e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,tA(t,ui,ou),pi(t,nr()),null}function Yk(t,e){var n=Gt;Gt|=1;try{return t(e)}finally{Gt=n,Gt===0&&(lf=nr()+500,Db&&bc())}}function QA(t){xl!==null&&xl.tag===0&&(Gt&6)===0&&Lh();var e=Gt;Gt|=1;var n=bo.transition,r=nn;try{if(bo.transition=null,nn=1,t)return t()}finally{nn=r,bo.transition=n,Gt=e,(Gt&6)===0&&bc()}}function Jk(){Ti=xh.current,Bn(xh)}function BA(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qne(n)),Ar!==null)for(n=Ar.return;n!==null;){var r=n;switch(Fk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uw();break;case 3:af(),Bn(hi),Bn(Ts),Qk();break;case 5:Mk(r);break;case 4:af();break;case 13:Bn(Ln);break;case 19:Bn(Ln);break;case 10:Ok(r.type._context);break;case 22:case 23:Jk()}n=n.return}if(zr=t,Ar=t=Ql(t.current,null),rs=Ti=e,$r=0,pm=null,Xk=Lb=MA=0,ui=kg=null,hA!==null){for(e=0;e<hA.length;e++)if(n=hA[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}hA=null}return t}function d5(t,e){do{var n=Ar;try{if(Rk(),J1.current=Ww,Kw){for(var r=Mn.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Kw=!1}if(PA=0,Qr=xr=Mn=null,Tg=!1,dm=0,jk.current=null,n===null||n.return===null){$r=1,pm=e,Ar=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=rs,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,A=c.tag;if((c.mode&1)===0&&(A===0||A===11||A===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=KO(o);if(h!==null){h.flags&=-257,WO(h,o,a,i,e),h.mode&1&&zO(i,l,e),e=h,u=l;var f=e.updateQueue;if(f===null){var p=new Set;p.add(u),e.updateQueue=p}else f.add(u);break e}else{if((e&1)===0){zO(i,l,e),Zk();break e}u=Error($e(426))}}else if(Dn&&a.mode&1){var m=KO(o);if(m!==null){(m.flags&65536)===0&&(m.flags|=256),WO(m,o,a,i,e),_k(uf(u,a));break e}}i=u=uf(u,a),$r!==4&&($r=2),kg===null?kg=[i]:kg.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=X9(i,u,e);UO(i,g);break e;case 1:a=u;var y=i.type,C=i.stateNode;if((i.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Pl===null||!Pl.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=q9(i,a,e);UO(i,b);break e}}i=i.return}while(i!==null)}p5(n)}catch(B){e=B,Ar===n&&n!==null&&(Ar=n=n.return);continue}break}while(1)}function h5(){var t=Gw.current;return Gw.current=Ww,t===null?Ww:t}function Zk(){($r===0||$r===3||$r===2)&&($r=4),zr===null||(MA&268435455)===0&&(Lb&268435455)===0||gl(zr,rs)}function qw(t,e){var n=Gt;Gt|=2;var r=h5();(zr!==t||rs!==e)&&(ou=null,BA(t,e));do try{Cre();break}catch(s){d5(t,s)}while(1);if(Rk(),Gt=n,Gw.current=r,Ar!==null)throw Error($e(261));return zr=null,rs=0,$r}function Cre(){for(;Ar!==null;)f5(Ar)}function bre(){for(;Ar!==null&&!Gte();)f5(Ar)}function f5(t){var e=m5(t.alternate,t,Ti);t.memoizedProps=t.pendingProps,e===null?p5(t):Ar=e,jk.current=null}function p5(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=fre(n,e,Ti),n!==null){Ar=n;return}}else{if(n=pre(n,e),n!==null){n.flags&=32767,Ar=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$r=6,Ar=null;return}}if(e=e.sibling,e!==null){Ar=e;return}Ar=e=t}while(e!==null);$r===0&&($r=5)}function tA(t,e,n){var r=nn,s=bo.transition;try{bo.transition=null,nn=1,xre(t,e,n,r)}finally{bo.transition=s,nn=r}return null}function xre(t,e,n,r){do Lh();while(xl!==null);if((Gt&6)!==0)throw Error($e(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($e(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(rne(t,i),t===zr&&(Ar=zr=null,rs=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Lv||(Lv=!0,y5(kw,function(){return Lh(),null})),i=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||i){i=bo.transition,bo.transition=null;var o=nn;nn=1;var a=Gt;Gt|=4,jk.current=null,mre(t,n),l5(n,t),Vne(_$),_w=!!F$,_$=F$=null,t.current=n,yre(n),jte(),Gt=a,nn=o,bo.transition=i}else t.current=n;if(Lv&&(Lv=!1,xl=t,Xw=s),i=t.pendingLanes,i===0&&(Pl=null),Yte(n.stateNode),pi(t,nr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(jw)throw jw=!1,t=Z$,Z$=null,t;return(Xw&1)!==0&&t.tag!==0&&Lh(),i=t.pendingLanes,(i&1)!==0?t===eS?Fg++:(Fg=0,eS=t):Fg=0,bc(),null}function Lh(){if(xl!==null){var t=jH(Xw),e=bo.transition,n=nn;try{if(bo.transition=null,nn=16>t?16:t,xl===null)var r=!1;else{if(t=xl,xl=null,Xw=0,(Gt&6)!==0)throw Error($e(331));var s=Gt;for(Gt|=4,Qe=t.current;Qe!==null;){var i=Qe,o=i.child;if((Qe.flags&16)!==0){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Qe=l;Qe!==null;){var c=Qe;switch(c.tag){case 0:case 11:case 15:Ng(8,c,i)}var A=c.child;if(A!==null)A.return=c,Qe=A;else for(;Qe!==null;){c=Qe;var d=c.sibling,h=c.return;if(o5(c),c===l){Qe=null;break}if(d!==null){d.return=h,Qe=d;break}Qe=h}}}var f=i.alternate;if(f!==null){var p=f.child;if(p!==null){f.child=null;do{var m=p.sibling;p.sibling=null,p=m}while(p!==null)}}Qe=i}}if((i.subtreeFlags&2064)!==0&&o!==null)o.return=i,Qe=o;else e:for(;Qe!==null;){if(i=Qe,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:Ng(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Qe=g;break e}Qe=i.return}}var y=t.current;for(Qe=y;Qe!==null;){o=Qe;var C=o.child;if((o.subtreeFlags&2064)!==0&&C!==null)C.return=o,Qe=C;else e:for(o=y;Qe!==null;){if(a=Qe,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:Ub(9,a)}}catch(B){Wn(a,a.return,B)}if(a===o){Qe=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Qe=b;break e}Qe=a.return}}if(Gt=s,bc(),Fa&&typeof Fa.onPostCommitFiberRoot=="function")try{Fa.onPostCommitFiberRoot(Tb,t)}catch{}r=!0}return r}finally{nn=n,bo.transition=e}}return!1}function iU(t,e,n){e=uf(n,e),e=X9(t,e,1),t=Ll(t,e,1),e=Ws(),t!==null&&(l0(t,1,e),pi(t,e))}function Wn(t,e,n){if(t.tag===3)iU(t,t,n);else for(;e!==null;){if(e.tag===3){iU(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pl===null||!Pl.has(r))){t=uf(n,t),t=q9(e,t,1),e=Ll(e,t,1),t=Ws(),e!==null&&(l0(e,1,t),pi(e,t));break}}e=e.return}}function Bre(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ws(),t.pingedLanes|=t.suspendedLanes&n,zr===t&&(rs&n)===n&&($r===4||$r===3&&(rs&130023424)===rs&&500>nr()-qk?BA(t,0):Xk|=n),pi(t,e)}function g5(t,e){e===0&&((t.mode&1)===0?e=1:(e=Sv,Sv<<=1,(Sv&130023424)===0&&(Sv=4194304)));var n=Ws();t=Nu(t,e),t!==null&&(l0(t,e,n),pi(t,n))}function Ire(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),g5(t,n)}function Ere(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($e(314))}r!==null&&r.delete(e),g5(t,n)}var m5;m5=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||hi.current)ci=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return ci=!1,hre(t,e,n);ci=(t.flags&131072)!==0}else ci=!1,Dn&&(e.flags&1048576)!==0&&w9(e,Mw,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ew(t,e),t=e.pendingProps;var s=rf(e,Ts.current);Uh(e,n),s=Vk(null,e,r,t,s,n);var i=zk();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fi(r)?(i=!0,Lw(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Lk(e),s.updater=Rb,e.stateNode=s,s._reactInternals=e,H$(e,r,t,n),e=K$(null,e,r,!0,i,n)):(e.tag=0,Dn&&i&&kk(e),Ps(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ew(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Sre(r),t=Mo(r,t),s){case 0:e=z$(null,e,r,t,n);break e;case 1:e=XO(null,e,r,t,n);break e;case 11:e=GO(null,e,r,t,n);break e;case 14:e=jO(null,e,r,Mo(r.type,t),n);break e}throw Error($e(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mo(r,s),z$(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mo(r,s),XO(t,e,r,s,n);case 3:e:{if(e5(e),t===null)throw Error($e(387));r=e.pendingProps,i=e.memoizedState,s=i.element,B9(t,e),Vw(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=uf(Error($e(423)),e),e=qO(t,e,r,n,s);break e}else if(r!==s){s=uf(Error($e(424)),e),e=qO(t,e,r,n,s);break e}else for(Fi=Ul(e.stateNode.containerInfo.firstChild),Ri=e,Dn=!0,Ho=null,n=S9(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sf(),r===s){e=ku(t,e,n);break e}Ps(t,e,r,n)}e=e.child}return e;case 5:return T9(e),t===null&&P$(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,D$(r,s)?o=null:i!==null&&D$(r,i)&&(e.flags|=32),Z9(t,e),Ps(t,e,o,n),e.child;case 6:return t===null&&P$(e),null;case 13:return t5(t,e,n);case 4:return Pk(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=of(e,null,r,n):Ps(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mo(r,s),GO(t,e,r,s,n);case 7:return Ps(t,e,e.pendingProps,n),e.child;case 8:return Ps(t,e,e.pendingProps.children,n),e.child;case 12:return Ps(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,gn(Qw,r._currentValue),r._currentValue=o,i!==null)if(ta(i.value,o)){if(i.children===s.children&&!hi.current){e=ku(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Cu(-1,n&-n),u.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),M$(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($e(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),M$(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ps(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Uh(e,n),s=Bo(s),r=r(s),e.flags|=1,Ps(t,e,r,n),e.child;case 14:return r=e.type,s=Mo(r,e.pendingProps),s=Mo(r.type,s),jO(t,e,r,s,n);case 15:return Y9(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Mo(r,s),ew(t,e),e.tag=1,fi(r)?(t=!0,Lw(e)):t=!1,Uh(e,n),E9(e,r,s),H$(e,r,s,n),K$(null,e,r,!0,t,n);case 19:return n5(t,e,n);case 22:return J9(t,e,n)}throw Error($e(156,e.tag))};function y5(t,e){return zH(t,e)}function $re(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(t,e,n,r){return new $re(t,e,n,r)}function eF(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sre(t){if(typeof t=="function")return eF(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vk)return 11;if(t===wk)return 14}return 2}function Ql(t,e){var n=t.alternate;return n===null?(n=ho(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rw(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")eF(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case hh:return IA(n.children,s,i,e);case yk:o=8,s|=8;break;case d$:return t=ho(12,n,e,s|2),t.elementType=d$,t.lanes=i,t;case h$:return t=ho(13,n,e,s),t.elementType=h$,t.lanes=i,t;case f$:return t=ho(19,n,e,s),t.elementType=f$,t.lanes=i,t;case $H:return Pb(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case IH:o=10;break e;case EH:o=9;break e;case vk:o=11;break e;case wk:o=14;break e;case cl:o=16,r=null;break e}throw Error($e(130,t==null?t:typeof t,""))}return e=ho(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function IA(t,e,n,r){return t=ho(7,t,r,e),t.lanes=n,t}function Pb(t,e,n,r){return t=ho(22,t,r,e),t.elementType=$H,t.lanes=n,t.stateNode={isHidden:!1},t}function RI(t,e,n){return t=ho(6,t,null,e),t.lanes=n,t}function OI(t,e,n){return e=ho(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Tre(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gI(0),this.expirationTimes=gI(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gI(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function tF(t,e,n,r,s,i,o,a,u){return t=new Tre(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ho(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lk(i),t}function Nre(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dh,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function v5(t){if(!t)return tc;t=t._reactInternals;e:{if(ld(t)!==t||t.tag!==1)throw Error($e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($e(171))}if(t.tag===1){var n=t.type;if(fi(n))return y9(t,n,e)}return e}function w5(t,e,n,r,s,i,o,a,u){return t=tF(n,r,!0,t,s,i,o,a,u),t.context=v5(null),n=t.current,r=Ws(),s=Ml(n),i=Cu(r,s),i.callback=e!=null?e:null,Ll(n,i,s),t.current.lanes=s,l0(t,s,r),pi(t,r),t}function Mb(t,e,n,r){var s=e.current,i=Ws(),o=Ml(s);return n=v5(n),e.context===null?e.context=n:e.pendingContext=n,e=Cu(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ll(s,e,o),t!==null&&(Xo(t,s,o,i),Y1(t,s,o)),o}function Yw(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oU(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function nF(t,e){oU(t,e),(t=t.alternate)&&oU(t,e)}function kre(){return null}var C5=typeof reportError=="function"?reportError:function(t){console.error(t)};function rF(t){this._internalRoot=t}Qb.prototype.render=rF.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($e(409));Mb(t,e,null,null)};Qb.prototype.unmount=rF.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;QA(function(){Mb(null,t,null,null)}),e[Tu]=null}};function Qb(t){this._internalRoot=t}Qb.prototype.unstable_scheduleHydration=function(t){if(t){var e=YH();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pl.length&&e!==0&&e<pl[n].priority;n++);pl.splice(n,0,t),n===0&&ZH(t)}};function sF(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aU(){}function Fre(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=Yw(o);i.call(l)}}var o=w5(e,r,t,0,null,!1,!1,"",aU);return t._reactRootContainer=o,t[Tu]=o.current,am(t.nodeType===8?t.parentNode:t),QA(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=Yw(u);a.call(l)}}var u=tF(t,0,!1,null,null,!1,!1,"",aU);return t._reactRootContainer=u,t[Tu]=u.current,am(t.nodeType===8?t.parentNode:t),QA(function(){Mb(e,u,n,r)}),u}function Vb(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Yw(o);a.call(u)}}Mb(e,o,t,s)}else o=Fre(n,e,t,s,r);return Yw(o)}XH=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jp(e.pendingLanes);n!==0&&(xk(e,n|1),pi(e,nr()),(Gt&6)===0&&(lf=nr()+500,bc()))}break;case 13:QA(function(){var r=Nu(t,1);if(r!==null){var s=Ws();Xo(r,t,1,s)}}),nF(t,1)}};Bk=function(t){if(t.tag===13){var e=Nu(t,134217728);if(e!==null){var n=Ws();Xo(e,t,134217728,n)}nF(t,134217728)}};qH=function(t){if(t.tag===13){var e=Ml(t),n=Nu(t,e);if(n!==null){var r=Ws();Xo(n,t,e,r)}nF(t,e)}};YH=function(){return nn};JH=function(t,e){var n=nn;try{return nn=t,e()}finally{nn=n}};B$=function(t,e,n){switch(e){case"input":if(m$(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=_b(r);if(!s)throw Error($e(90));TH(r),m$(r,s)}}}break;case"textarea":kH(t,n);break;case"select":e=n.value,e!=null&&_h(t,!!n.multiple,e,!1)}};LH=Yk;PH=QA;var _re={usingClientEntryPoint:!1,Events:[A0,mh,_b,OH,UH,Yk]},Rp={findFiberByHostInstance:dA,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Dre={bundleType:Rp.bundleType,version:Rp.version,rendererPackageName:Rp.rendererPackageName,rendererConfig:Rp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ku.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=HH(t),t===null?null:t.stateNode},findFiberByHostInstance:Rp.findFiberByHostInstance||kre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pv.isDisabled&&Pv.supportsFiber)try{Tb=Pv.inject(Dre),Fa=Pv}catch{}}Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_re;Vi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sF(e))throw Error($e(200));return Nre(t,e,null,n)};Vi.createRoot=function(t,e){if(!sF(t))throw Error($e(299));var n=!1,r="",s=C5;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=tF(t,1,!1,null,null,n,!1,r,s),t[Tu]=e.current,am(t.nodeType===8?t.parentNode:t),new rF(e)};Vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($e(188)):(t=Object.keys(t).join(","),Error($e(268,t)));return t=HH(e),t=t===null?null:t.stateNode,t};Vi.flushSync=function(t){return QA(t)};Vi.hydrate=function(t,e,n){if(!Hb(e))throw Error($e(200));return Vb(null,t,e,!0,n)};Vi.hydrateRoot=function(t,e,n){if(!sF(t))throw Error($e(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=C5;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=w5(e,null,t,1,n!=null?n:null,s,!1,i,o),t[Tu]=e.current,am(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Qb(e)};Vi.render=function(t,e,n){if(!Hb(e))throw Error($e(200));return Vb(null,t,e,!1,n)};Vi.unmountComponentAtNode=function(t){if(!Hb(t))throw Error($e(40));return t._reactRootContainer?(QA(function(){Vb(null,null,t,!1,function(){t._reactRootContainer=null,t[Tu]=null})}),!0):!1};Vi.unstable_batchedUpdates=Yk;Vi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hb(n))throw Error($e(200));if(t==null||t._reactInternals===void 0)throw Error($e(38));return Vb(t,e,n,!1,r)};Vi.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Vi})(Sb);const pA=$b(Sb.exports),Rre=ck({__proto__:null,default:pA},[Sb.exports]);var uU=Sb.exports;c$.createRoot=uU.createRoot,c$.hydrateRoot=uU.hydrateRoot;/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gm.apply(this,arguments)}var Bl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bl||(Bl={}));const lU="popstate";function Ore(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return rS("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Jw(s)}return Lre(e,n,null,t)}function rr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iF(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ure(){return Math.random().toString(36).substr(2,8)}function cU(t,e){return{usr:t.state,key:t.key,idx:e}}function rS(t,e,n,r){return n===void 0&&(n=null),gm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qf(e):e,{state:n,key:e&&e.key||r||Ure()})}function Jw(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Lre(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Bl.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(gm({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function A(){a=Bl.Pop;let m=c(),g=m==null?null:m-l;l=m,u&&u({action:a,location:p.location,delta:g})}function d(m,g){a=Bl.Push;let y=rS(p.location,m,g);n&&n(y,m),l=c()+1;let C=cU(y,l),b=p.createHref(y);try{o.pushState(C,"",b)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;s.location.assign(b)}i&&u&&u({action:a,location:p.location,delta:1})}function h(m,g){a=Bl.Replace;let y=rS(p.location,m,g);n&&n(y,m),l=c();let C=cU(y,l),b=p.createHref(y);o.replaceState(C,"",b),i&&u&&u({action:a,location:p.location,delta:0})}function f(m){let g=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof m=="string"?m:Jw(m);return rr(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let p={get action(){return a},get location(){return t(s,o)},listen(m){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(lU,A),u=m,()=>{s.removeEventListener(lU,A),u=null}},createHref(m){return e(s,m)},createURL:f,encodeLocation(m){let g=f(m);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:h,go(m){return o.go(m)}};return p}var AU;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(AU||(AU={}));function Pre(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Qf(e):e,s=oF(r.pathname||"/",n);if(s==null)return null;let i=b5(t);Mre(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=Xre(i[a],Jre(s));return o}function b5(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(rr(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Hl([r,u.relativePath]),c=n.concat(u);i.children&&i.children.length>0&&(rr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),b5(i.children,e,c,l)),!(i.path==null&&!i.index)&&e.push({path:l,score:Gre(l,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of x5(i.path))s(i,o,u)}),e}function x5(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=x5(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function Mre(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jre(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Qre=/^:\w+$/,Hre=3,Vre=2,zre=1,Kre=10,Wre=-2,dU=t=>t==="*";function Gre(t,e){let n=t.split("/"),r=n.length;return n.some(dU)&&(r+=Wre),e&&(r+=Vre),n.filter(s=>!dU(s)).reduce((s,i)=>s+(Qre.test(i)?Hre:i===""?zre:Kre),r)}function jre(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Xre(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=s==="/"?e:e.slice(s.length)||"/",c=qre({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let A=a.route;i.push({params:r,pathname:Hl([s,c.pathname]),pathnameBase:rse(Hl([s,c.pathnameBase])),route:A}),c.pathnameBase!=="/"&&(s=Hl([s,c.pathnameBase]))}return i}function qre(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Yre(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((l,c,A)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let p=a[A]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const f=a[A];return h&&!f?l[d]=void 0:l[d]=Zre(f||"",d),l},{}),pathname:i,pathnameBase:o,pattern:t}}function Yre(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),iF(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Jre(t){try{return decodeURI(t)}catch(e){return iF(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zre(t,e){try{return decodeURIComponent(t)}catch(n){return iF(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function oF(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ese(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Qf(t):t;return{pathname:n?n.startsWith("/")?n:tse(n,e):e,search:sse(r),hash:ise(s)}}function tse(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function UI(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nse(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function aF(t,e){let n=nse(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function uF(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Qf(t):(s=gm({},t),rr(!s.pathname||!s.pathname.includes("?"),UI("?","pathname","search",s)),rr(!s.pathname||!s.pathname.includes("#"),UI("#","pathname","hash",s)),rr(!s.search||!s.search.includes("#"),UI("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else if(r){let A=e.length===0?[]:e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),A.pop();s.pathname=d.join("/")}a="/"+A.join("/")}else{let A=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),A-=1;s.pathname=d.join("/")}a=A>=0?e[A]:"/"}let u=ese(s,a),l=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Hl=t=>t.join("/").replace(/\/\/+/g,"/"),rse=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sse=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ise=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ose(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ase=["post","put","patch","delete"];[...ase];var zb={exports:{}},Kb={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var use=Z.exports,lse=Symbol.for("react.element"),cse=Symbol.for("react.fragment"),Ase=Object.prototype.hasOwnProperty,dse=use.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hse={key:!0,ref:!0,__self:!0,__source:!0};function B5(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ase.call(e,r)&&!hse.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:lse,type:t,key:i,ref:o,props:s,_owner:dse.current}}Kb.Fragment=cse;Kb.jsx=B5;Kb.jsxs=B5;(function(t){t.exports=Kb})(zb);const cf=zb.exports.Fragment,M=zb.exports.jsx,De=zb.exports.jsxs;/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mm.apply(this,arguments)}const lF=Z.exports.createContext(null),fse=Z.exports.createContext(null),xc=Z.exports.createContext(null),Wb=Z.exports.createContext(null),Bc=Z.exports.createContext({outlet:null,matches:[],isDataRoute:!1}),I5=Z.exports.createContext(null);function pse(t,e){let{relative:n}=e===void 0?{}:e;Hf()||rr(!1);let{basename:r,navigator:s}=Z.exports.useContext(xc),{hash:i,pathname:o,search:a}=$5(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Hl([r,o])),s.createHref({pathname:u,search:a,hash:i})}function Hf(){return Z.exports.useContext(Wb)!=null}function cd(){return Hf()||rr(!1),Z.exports.useContext(Wb).location}function E5(t){Z.exports.useContext(xc).static||Z.exports.useLayoutEffect(t)}function Ic(){let{isDataRoute:t}=Z.exports.useContext(Bc);return t?Sse():gse()}function gse(){Hf()||rr(!1);let t=Z.exports.useContext(lF),{basename:e,future:n,navigator:r}=Z.exports.useContext(xc),{matches:s}=Z.exports.useContext(Bc),{pathname:i}=cd(),o=JSON.stringify(aF(s,n.v7_relativeSplatPath)),a=Z.exports.useRef(!1);return E5(()=>{a.current=!0}),Z.exports.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let A=uF(l,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:Hl([e,A.pathname])),(c.replace?r.replace:r.push)(A,c.state,c)},[e,r,o,i,t])}function $5(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=Z.exports.useContext(xc),{matches:s}=Z.exports.useContext(Bc),{pathname:i}=cd(),o=JSON.stringify(aF(s,r.v7_relativeSplatPath));return Z.exports.useMemo(()=>uF(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function mse(t,e){return yse(t,e)}function yse(t,e,n,r){Hf()||rr(!1);let{navigator:s}=Z.exports.useContext(xc),{matches:i}=Z.exports.useContext(Bc),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=cd(),c;if(e){var A;let m=typeof e=="string"?Qf(e):e;u==="/"||((A=m.pathname)==null?void 0:A.startsWith(u))||rr(!1),c=m}else c=l;let d=c.pathname||"/",h=u==="/"?d:d.slice(u.length)||"/",f=Pre(t,{pathname:h}),p=xse(f&&f.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:Hl([u,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?u:Hl([u,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,n,r);return e&&p?M(Wb.Provider,{value:{location:mm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Bl.Pop},children:p}):p}function vse(){let t=$se(),e=ose(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null;return De(cf,{children:[M("h2",{children:"Unexpected Application Error!"}),M("h3",{style:{fontStyle:"italic"},children:e}),n?M("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},children:n}):null,null]})}const wse=M(vse,{});class Cse extends Z.exports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M(Bc.Provider,{value:this.props.routeContext,children:M(I5.Provider,{value:this.state.error,children:this.props.component})}):this.props.children}}function bse(t){let{routeContext:e,match:n,children:r}=t,s=Z.exports.useContext(lF);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),M(Bc.Provider,{value:e,children:r})}function xse(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(A=>A.route.id&&(a==null?void 0:a[A.route.id]));c>=0||rr(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let A=o[c];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(l=c),A.route.loader&&A.route.id&&n.loaderData[A.route.id]===void 0&&(!n.errors||n.errors[A.route.id]===void 0)){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}return o.reduceRight((c,A,d)=>{let h,f=!1,p=null,m=null;n&&(h=a&&A.route.id?a[A.route.id]:void 0,p=A.route.errorElement||wse,u&&(l<0&&d===0?(Tse("route-fallback",!1),f=!0,m=null):l===d&&(f=!0,m=A.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,d+1)),y=()=>{let C;return h?C=p:f?C=m:A.route.Component?C=Z.exports.createElement(A.route.Component,null):A.route.element?C=A.route.element:C=c,M(bse,{match:A,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:C})};return n&&(A.route.ErrorBoundary||A.route.errorElement||d===0)?M(Cse,{location:n.location,revalidation:n.revalidation,component:p,error:h,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var S5=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(S5||{}),Zw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zw||{});function Bse(t){let e=Z.exports.useContext(lF);return e||rr(!1),e}function Ise(t){let e=Z.exports.useContext(fse);return e||rr(!1),e}function Ese(t){let e=Z.exports.useContext(Bc);return e||rr(!1),e}function T5(t){let e=Ese(),n=e.matches[e.matches.length-1];return n.route.id||rr(!1),n.route.id}function $se(){var t;let e=Z.exports.useContext(I5),n=Ise(Zw.UseRouteError),r=T5(Zw.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Sse(){let{router:t}=Bse(S5.UseNavigateStable),e=T5(Zw.UseNavigateStable),n=Z.exports.useRef(!1);return E5(()=>{n.current=!0}),Z.exports.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,mm({fromRouteId:e},i)))},[t,e])}const hU={};function Tse(t,e,n){!e&&!hU[t]&&(hU[t]=!0)}const Nse="startTransition";wH[Nse];function kse(t){let{to:e,replace:n,state:r,relative:s}=t;Hf()||rr(!1);let{future:i,static:o}=Z.exports.useContext(xc),{matches:a}=Z.exports.useContext(Bc),{pathname:u}=cd(),l=Ic(),c=uF(e,aF(a,i.v7_relativeSplatPath),u,s==="path"),A=JSON.stringify(c);return Z.exports.useEffect(()=>l(JSON.parse(A),{replace:n,state:r,relative:s}),[l,A,s,n,r]),null}function ol(t){rr(!1)}function Fse(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Bl.Pop,navigator:i,static:o=!1,future:a}=t;Hf()&&rr(!1);let u=e.replace(/^\/*/,"/"),l=Z.exports.useMemo(()=>({basename:u,navigator:i,static:o,future:mm({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=Qf(r));let{pathname:c="/",search:A="",hash:d="",state:h=null,key:f="default"}=r,p=Z.exports.useMemo(()=>{let m=oF(c,u);return m==null?null:{location:{pathname:m,search:A,hash:d,state:h,key:f},navigationType:s}},[u,c,A,d,h,f,s]);return p==null?null:M(xc.Provider,{value:l,children:M(Wb.Provider,{children:n,value:p})})}function _se(t){let{children:e,location:n}=t;return mse(sS(e),n)}new Promise(()=>{});function sS(t,e){e===void 0&&(e=[]);let n=[];return Z.exports.Children.forEach(t,(r,s)=>{if(!Z.exports.isValidElement(r))return;let i=[...e,s];if(r.type===Z.exports.Fragment){n.push.apply(n,sS(r.props.children,i));return}r.type!==ol&&rr(!1),!r.props.index||!r.props.children||rr(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=sS(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dse(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Rse(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ose(t,e){return t.button===0&&(!e||e==="_self")&&!Rse(t)}const Use=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Lse="startTransition",fU=wH[Lse],Pse="flushSync";Rre[Pse];function Mse(t){let{basename:e,children:n,future:r,window:s}=t,i=Z.exports.useRef();i.current==null&&(i.current=Ore({window:s,v5Compat:!0}));let o=i.current,[a,u]=Z.exports.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},c=Z.exports.useCallback(A=>{l&&fU?fU(()=>u(A)):u(A)},[u,l]);return Z.exports.useLayoutEffect(()=>o.listen(c),[o,c]),M(Fse,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Qse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hse=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eg=Z.exports.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:l,preventScrollReset:c,unstable_viewTransition:A}=e,d=Dse(e,Use),{basename:h}=Z.exports.useContext(xc),f,p=!1;if(typeof l=="string"&&Hse.test(l)&&(f=l,Qse))try{let C=new URL(window.location.href),b=l.startsWith("//")?new URL(C.protocol+l):new URL(l),B=oF(b.pathname,h);b.origin===C.origin&&B!=null?l=B+b.search+b.hash:p=!0}catch{}let m=pse(l,{relative:s}),g=Vse(l,{replace:o,state:a,target:u,preventScrollReset:c,relative:s,unstable_viewTransition:A});function y(C){r&&r(C),C.defaultPrevented||g(C)}return M("a",{...d,href:f||m,onClick:p||i?r:y,ref:n,target:u})});var pU;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(pU||(pU={}));var gU;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gU||(gU={}));function Vse(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=Ic(),l=cd(),c=$5(t,{relative:o});return Z.exports.useCallback(A=>{if(Ose(A,n)){A.preventDefault();let d=r!==void 0?r:Jw(l)===Jw(c);u(t,{replace:d,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[l,u,c,r,s,n,t,i,o,a])}var N5={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mU=gr.createContext&&gr.createContext(N5),Vl=globalThis&&globalThis.__assign||function(){return Vl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Vl.apply(this,arguments)},zse=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};function k5(t){return t&&t.map(function(e,n){return gr.createElement(e.tag,Vl({key:n},e.attr),k5(e.child))})}function Ad(t){return function(e){return M(Kse,{...Vl({attr:Vl({},t.attr)},e),children:k5(t.child)})}}function Kse(t){var e=function(n){var r=t.attr,s=t.size,i=t.title,o=zse(t,["attr","size","title"]),a=s||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),De("svg",{...Vl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:Vl(Vl({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),children:[i&&M("title",{children:i}),t.children]})};return mU!==void 0?M(mU.Consumer,{children:function(n){return e(n)}}):e(N5)}function Wse(t){return Ad({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M365.52 209.85L59.22 67.01c-16.06-7.49-35.15-.54-42.64 15.52L3.01 111.61c-7.49 16.06-.54 35.15 15.52 42.64L236.96 256.1 18.49 357.99C2.47 365.46-4.46 384.5 3.01 400.52l13.52 29C24 445.54 43.04 452.47 59.06 445l306.47-142.91a32.003 32.003 0 0 0 18.48-29v-34.23c-.01-12.45-7.21-23.76-18.49-29.01z"}}]})(t)}function Gse(t){return Ad({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"}}]})(t)}function jse(t){return Ad({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(t)}function Xse(t){return Ad({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(t)}function qse(t){return Ad({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(t)}function yU(t){return Ad({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(t)}function Yse(t){return Ad({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"}}]})(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Jse=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},_5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,l=u?t[s+2]:0,c=i>>2,A=(i&3)<<4|a>>4;let d=(a&15)<<2|l>>6,h=l&63;u||(h=64,o||(d=64)),r.push(n[c],n[A],n[d],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(F5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Jse(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const A=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||A==null)throw new Zse;const d=i<<2|a>>4;if(r.push(d),l!==64){const h=a<<4&240|l>>2;if(r.push(h),A!==64){const f=l<<6&192|A;r.push(f)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Zse extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eie=function(t){const e=F5(t);return _5.encodeByteArray(e,!0)},eC=function(t){return eie(t).replace(/\./g,"")},D5=function(t){try{return _5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nie=()=>tie().__FIREBASE_DEFAULTS__,rie=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sie=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&D5(t[1]);return e&&JSON.parse(e)},Gb=()=>{try{return nie()||rie()||sie()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},R5=t=>{var e,n;return(n=(e=Gb())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},O5=t=>{const e=R5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},U5=()=>{var t;return(t=Gb())===null||t===void 0?void 0:t.config},L5=t=>{var e;return(e=Gb())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[eC(JSON.stringify(n)),eC(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ns())}function aie(){var t;const e=(t=Gb())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uie(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lie(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cie(){const t=Ns();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Aie(){try{return typeof indexedDB=="object"}catch{return!1}}function die(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hie="FirebaseError";class Xa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hie,Object.setPrototypeOf(this,Xa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h0.prototype.create)}}class h0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?fie(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Xa(s,a,r)}}function fie(t,e){return t.replace(pie,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const pie=/\{\$([^}]+)}/g;function gie(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tC(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(vU(i)&&vU(o)){if(!tC(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function vU(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mie(t,e){const n=new yie(t,e);return n.subscribe.bind(n)}class yie{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vie(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=LI),s.error===void 0&&(s.error=LI),s.complete===void 0&&(s.complete=LI);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vie(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function LI(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t){return t&&t._delegate?t._delegate:t}class nc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wie{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iie;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bie(e))try{this.getOrInitializeService({instanceIdentifier:nA})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=nA){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=nA){return this.instances.has(e)}getOptions(e=nA){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Cie(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=nA){return this.component?this.component.multipleInstances?e:nA:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cie(t){return t===nA?void 0:t}function bie(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xie{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wie(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Xt||(Xt={}));const Bie={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},Iie=Xt.INFO,Eie={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},$ie=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Eie[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cF{constructor(e){this.name=e,this._logLevel=Iie,this._logHandler=$ie,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Bie[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...e),this._logHandler(this,Xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...e),this._logHandler(this,Xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...e),this._logHandler(this,Xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...e),this._logHandler(this,Xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...e),this._logHandler(this,Xt.ERROR,...e)}}const Sie=(t,e)=>e.some(n=>t instanceof n);let wU,CU;function Tie(){return wU||(wU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nie(){return CU||(CU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M5=new WeakMap,iS=new WeakMap,Q5=new WeakMap,PI=new WeakMap,AF=new WeakMap;function kie(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(zl(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&M5.set(n,t)}).catch(()=>{}),AF.set(e,t),e}function Fie(t){if(iS.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});iS.set(t,e)}let oS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return iS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Q5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _ie(t){oS=t(oS)}function Die(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(MI(this),e,...n);return Q5.set(r,e.sort?e.sort():[e]),zl(r)}:Nie().includes(t)?function(...e){return t.apply(MI(this),e),zl(M5.get(this))}:function(...e){return zl(t.apply(MI(this),e))}}function Rie(t){return typeof t=="function"?Die(t):(t instanceof IDBTransaction&&Fie(t),Sie(t,Tie())?new Proxy(t,oS):t)}function zl(t){if(t instanceof IDBRequest)return kie(t);if(PI.has(t))return PI.get(t);const e=Rie(t);return e!==t&&(PI.set(t,e),AF.set(e,t)),e}const MI=t=>AF.get(t);function Oie(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=zl(o);return r&&o.addEventListener("upgradeneeded",u=>{r(zl(o.result),u.oldVersion,u.newVersion,zl(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const Uie=["get","getKey","getAll","getAllKeys","count"],Lie=["put","add","delete","clear"],QI=new Map;function bU(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(QI.get(e))return QI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Lie.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Uie.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&u.done]))[0]};return QI.set(e,i),i}_ie(t=>({...t,get:(e,n,r)=>bU(e,n)||t.get(e,n,r),has:(e,n)=>!!bU(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Mie(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Mie(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const aS="@firebase/app",xU="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=new cF("@firebase/app"),Qie="@firebase/app-compat",Hie="@firebase/analytics-compat",Vie="@firebase/analytics",zie="@firebase/app-check-compat",Kie="@firebase/app-check",Wie="@firebase/auth",Gie="@firebase/auth-compat",jie="@firebase/database",Xie="@firebase/database-compat",qie="@firebase/functions",Yie="@firebase/functions-compat",Jie="@firebase/installations",Zie="@firebase/installations-compat",eoe="@firebase/messaging",toe="@firebase/messaging-compat",noe="@firebase/performance",roe="@firebase/performance-compat",soe="@firebase/remote-config",ioe="@firebase/remote-config-compat",ooe="@firebase/storage",aoe="@firebase/storage-compat",uoe="@firebase/firestore",loe="@firebase/firestore-compat",coe="firebase",Aoe="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="[DEFAULT]",doe={[aS]:"fire-core",[Qie]:"fire-core-compat",[Vie]:"fire-analytics",[Hie]:"fire-analytics-compat",[Kie]:"fire-app-check",[zie]:"fire-app-check-compat",[Wie]:"fire-auth",[Gie]:"fire-auth-compat",[jie]:"fire-rtdb",[Xie]:"fire-rtdb-compat",[qie]:"fire-fn",[Yie]:"fire-fn-compat",[Jie]:"fire-iid",[Zie]:"fire-iid-compat",[eoe]:"fire-fcm",[toe]:"fire-fcm-compat",[noe]:"fire-perf",[roe]:"fire-perf-compat",[soe]:"fire-rc",[ioe]:"fire-rc-compat",[ooe]:"fire-gcs",[aoe]:"fire-gcs-compat",[uoe]:"fire-fst",[loe]:"fire-fst-compat","fire-js":"fire-js",[coe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new Map,lS=new Map;function hoe(t,e){try{t.container.addComponent(e)}catch(n){HA.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function VA(t){const e=t.name;if(lS.has(e))return HA.debug(`There were multiple attempts to register component ${e}.`),!1;lS.set(e,t);for(const n of nC.values())hoe(n,t);return!0}function jb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const foe={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Kl=new h0("app","Firebase",foe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class poe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=Aoe;function H5(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:uS,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Kl.create("bad-app-name",{appName:String(s)});if(n||(n=U5()),!n)throw Kl.create("no-options");const i=nC.get(s);if(i){if(tC(n,i.options)&&tC(r,i.config))return i;throw Kl.create("duplicate-app",{appName:s})}const o=new xie(s);for(const u of lS.values())o.addComponent(u);const a=new poe(n,r,o);return nC.set(s,a),a}function dF(t=uS){const e=nC.get(t);if(!e&&t===uS&&U5())return H5();if(!e)throw Kl.create("no-app",{appName:t});return e}function Da(t,e,n){var r;let s=(r=doe[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),HA.warn(a.join(" "));return}VA(new nc(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const goe="firebase-heartbeat-database",moe=1,ym="firebase-heartbeat-store";let HI=null;function V5(){return HI||(HI=Oie(goe,moe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ym)}}}).catch(t=>{throw Kl.create("idb-open",{originalErrorMessage:t.message})})),HI}async function yoe(t){try{return await(await V5()).transaction(ym).objectStore(ym).get(z5(t))}catch(e){if(e instanceof Xa)HA.warn(e.message);else{const n=Kl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});HA.warn(n.message)}}}async function BU(t,e){try{const r=(await V5()).transaction(ym,"readwrite");await r.objectStore(ym).put(e,z5(t)),await r.done}catch(n){if(n instanceof Xa)HA.warn(n.message);else{const r=Kl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});HA.warn(r.message)}}}function z5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const voe=1024,woe=30*24*60*60*1e3;class Coe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xoe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=IU();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=woe}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=IU(),{heartbeatsToSend:n,unsentEntries:r}=boe(this._heartbeatsCache.heartbeats),s=eC(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function IU(){return new Date().toISOString().substring(0,10)}function boe(t,e=voe){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),EU(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),EU(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xoe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Aie()?die().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await yoe(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return BU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return BU(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function EU(t){return eC(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Boe(t){VA(new nc("platform-logger",e=>new Pie(e),"PRIVATE")),VA(new nc("heartbeat",e=>new Coe(e),"PRIVATE")),Da(aS,xU,t),Da(aS,xU,"esm2017"),Da("fire-js","")}Boe("");function hF(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function K5(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ioe=K5,W5=new h0("auth","Firebase",K5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=new cF("@firebase/auth");function Eoe(t,...e){rC.logLevel<=Xt.WARN&&rC.warn(`Auth (${dd}): ${t}`,...e)}function sw(t,...e){rC.logLevel<=Xt.ERROR&&rC.error(`Auth (${dd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t,...e){throw fF(t,...e)}function Oi(t,...e){return fF(t,...e)}function $oe(t,e,n){const r=Object.assign(Object.assign({},Ioe()),{[e]:n});return new h0("auth","Firebase",r).create(e,{appName:t.name})}function fF(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return W5.create(t,...e)}function Ye(t,e,...n){if(!t)throw fF(e,...n)}function gu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sw(e),new Error(e)}function _u(t,e){t||gu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function G5(){return $U()==="http:"||$U()==="https:"}function $U(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Soe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G5()||uie()||"connection"in navigator)?navigator.onLine:!0}function Toe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){this.shortDelay=e,this.longDelay=n,_u(n>e,"Short delay should be less than long delay!"),this.isMobile=oie()||lie()}get(){return Soe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t,e){_u(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;gu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;gu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;gu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Noe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const koe=new f0(3e4,6e4);function Ec(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Wu(t,e,n,r,s={}){return X5(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Vf(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),j5.fetch()(q5(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},i))})}async function X5(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Noe),e);try{const s=new Foe(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw tg(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw tg(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw tg(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw tg(t,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw $oe(t,c,l);Fu(t,c)}}catch(s){if(s instanceof Xa)throw s;Fu(t,"network-request-failed",{message:String(s)})}}async function Xb(t,e,n,r,s={}){const i=await Wu(t,e,n,r,s);return"mfaPendingCredential"in i&&Fu(t,"multi-factor-auth-required",{_serverResponse:i}),i}function q5(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?pF(t.config,s):`${t.config.apiScheme}://${s}`}class Foe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),koe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Oi(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _oe(t,e){return Wu(t,"POST","/v1/accounts:delete",e)}async function Doe(t,e){return Wu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Roe(t,e=!1){const n=Kr(t),r=await n.getIdToken(e),s=gF(r);Ye(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:_g(VI(s.auth_time)),issuedAtTime:_g(VI(s.iat)),expirationTime:_g(VI(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function VI(t){return Number(t)*1e3}function gF(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sw("JWT malformed, contained fewer than 3 sections"),null;try{const s=D5(n);return s?JSON.parse(s):(sw("Failed to decode base64 JWT payload"),null)}catch(s){return sw("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Ooe(t){const e=gF(t);return Ye(e,"internal-error"),Ye(typeof e.exp<"u","internal-error"),Ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vm(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xa&&Uoe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Uoe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Loe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_g(this.lastLoginAt),this.creationTime=_g(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(t){var e;const n=t.auth,r=await t.getIdToken(),s=await vm(t,Doe(n,{idToken:r}));Ye(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Qoe(i.providerUserInfo):[],a=Moe(t.providerData,o),u=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,A={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Y5(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,A)}async function Poe(t){const e=Kr(t);await sC(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Moe(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Qoe(t){return t.map(e=>{var{providerId:n}=e,r=hF(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hoe(t,e){const n=await X5(t,{},async()=>{const r=Vf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=q5(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",j5.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ye(e.idToken,"internal-error"),Ye(typeof e.idToken<"u","internal-error"),Ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ooe(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ye(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Hoe(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new wm;return r&&(Ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ye(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ye(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wm,this.toJSON())}_performRefresh(){return gu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t,e){Ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class EA{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=hF(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Loe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Y5(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await vm(this,this.stsTokenManager.getToken(this.auth,e));return Ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Roe(this,e)}reload(){return Poe(this)}_assign(e){this!==e&&(Ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new EA(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sC(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await vm(this,_oe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,u,l,c;const A=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,h=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,f=(o=n.photoURL)!==null&&o!==void 0?o:void 0,p=(a=n.tenantId)!==null&&a!==void 0?a:void 0,m=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,g=(l=n.createdAt)!==null&&l!==void 0?l:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:C,emailVerified:b,isAnonymous:B,providerData:I,stsTokenManager:w}=n;Ye(C&&w,e,"internal-error");const $=wm.fromJSON(this.name,w);Ye(typeof C=="string",e,"internal-error"),sl(A,e.name),sl(d,e.name),Ye(typeof b=="boolean",e,"internal-error"),Ye(typeof B=="boolean",e,"internal-error"),sl(h,e.name),sl(f,e.name),sl(p,e.name),sl(m,e.name),sl(g,e.name),sl(y,e.name);const T=new EA({uid:C,auth:e,email:d,emailVerified:b,displayName:A,isAnonymous:B,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:$,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(T.providerData=I.map(_=>Object.assign({},_))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,n,r=!1){const s=new wm;s.updateFromServerResponse(n);const i=new EA({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await sC(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=new Map;function mu(t){_u(t instanceof Function,"Expected a class definition");let e=SU.get(t);return e?(_u(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SU.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}J5.type="NONE";const TU=J5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t,e,n){return`firebase:${t}:${e}:${n}`}class Ph{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=iw(this.userKey,s.apiKey,i),this.fullPersistenceKey=iw("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?EA._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ph(mu(TU),e,r);const s=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=s[0]||mu(TU);const o=iw(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const A=EA._fromJSON(e,c);l!==i&&(a=A),i=l;break}}catch{}const u=s.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Ph(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(o)}catch{}})),new Ph(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t8(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r8(e))return"Blackberry";if(s8(e))return"Webos";if(mF(e))return"Safari";if((e.includes("chrome/")||e8(e))&&!e.includes("edge/"))return"Chrome";if(n8(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Z5(t=Ns()){return/firefox\//i.test(t)}function mF(t=Ns()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e8(t=Ns()){return/crios\//i.test(t)}function t8(t=Ns()){return/iemobile/i.test(t)}function n8(t=Ns()){return/android/i.test(t)}function r8(t=Ns()){return/blackberry/i.test(t)}function s8(t=Ns()){return/webos/i.test(t)}function qb(t=Ns()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Voe(t=Ns()){var e;return qb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zoe(){return cie()&&document.documentMode===10}function i8(t=Ns()){return qb(t)||n8(t)||s8(t)||r8(t)||/windows phone/i.test(t)||t8(t)}function Koe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t,e=[]){let n;switch(t){case"Browser":n=NU(Ns());break;case"Worker":n=`${NU(Ns())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dd}/${r}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Woe(t){return(await Wu(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function a8(t,e){return Wu(t,"GET","/v2/recaptchaConfig",Ec(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(t){return t!==void 0&&t.getResponse!==void 0}function FU(t){return t!==void 0&&t.enterprise!==void 0}class u8{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Goe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function yF(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Oi("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Goe().appendChild(r)})}function l8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const joe="https://www.google.com/recaptcha/enterprise.js?render=",Xoe="recaptcha-enterprise",qoe="NO_RECAPTCHA";class Yoe{constructor(e){this.type=Xoe,this.auth=hd(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{a8(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new u8(u);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;FU(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(l=>{o(l)}).catch(()=>{o(qoe)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&FU(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}yF(joe+a).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Joe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zoe{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _U(this),this.idTokenSubscription=new _U(this),this.beforeStateQueue=new Joe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mu(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ph.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u==null?void 0:u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sC(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Toe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Kr(e):null;return n&&Ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(mu(e))})}async initializeRecaptchaConfig(){const e=await a8(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new u8(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Yoe(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new h0("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mu(e)||this._popupRedirectResolver;Ye(n,this,"argument-error"),this.redirectPersistenceManager=await Ph.create(this,[mu(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ye(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o8(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Eoe(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hd(t){return Kr(t)}class _U{constructor(e){this.auth=e,this.observer=null,this.addObserver=mie(n=>this.observer=n)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eae(t,e){const n=jb(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(tC(i,e!=null?e:{}))return s;Fu(s,"already-initialized")}return n.initialize({options:e})}function tae(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mu);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function nae(t,e,n){const r=hd(t);Ye(r._canInitEmulator,r,"emulator-config-failed"),Ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=c8(e),{host:o,port:a}=rae(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||sae()}function c8(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rae(t){const e=c8(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:DU(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:DU(o)}}}function DU(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sae(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gu("not implemented")}_getIdTokenResponse(e){return gu("not implemented")}_linkToIdToken(e,n){return gu("not implemented")}_getReauthenticationResolver(e){return gu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(t,e){return Xb(t,"POST","/v1/accounts:signInWithIdp",Ec(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iae="http://localhost";class zA extends vF{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zA(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fu("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=hF(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new zA(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Mh(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Mh(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mh(e,n)}buildRequest(){const e={requestUri:iae,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oae(t,e){return Wu(t,"POST","/v1/accounts:sendVerificationCode",Ec(t,e))}async function aae(t,e){return Xb(t,"POST","/v1/accounts:signInWithPhoneNumber",Ec(t,e))}async function uae(t,e){const n=await Xb(t,"POST","/v1/accounts:signInWithPhoneNumber",Ec(t,e));if(n.temporaryProof)throw tg(t,"account-exists-with-different-credential",n);return n}const lae={USER_NOT_FOUND:"user-not-found"};async function cae(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Xb(t,"POST","/v1/accounts:signInWithPhoneNumber",Ec(t,n),lae)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg extends vF{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Dg({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Dg({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return aae(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return uae(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return cae(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i}=e;return!r&&!n&&!s&&!i?null:new Dg({verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0 extends A8{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends p0{constructor(){super("facebook.com")}static credential(e){return zA._fromParams({providerId:ml.PROVIDER_ID,signInMethod:ml.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ml.credentialFromTaggedObject(e)}static credentialFromError(e){return ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ml.credential(e.oauthAccessToken)}catch{return null}}}ml.FACEBOOK_SIGN_IN_METHOD="facebook.com";ml.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends p0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zA._fromParams({providerId:yl.PROVIDER_ID,signInMethod:yl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yl.credentialFromTaggedObject(e)}static credentialFromError(e){return yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yl.credential(n,r)}catch{return null}}}yl.GOOGLE_SIGN_IN_METHOD="google.com";yl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends p0{constructor(){super("github.com")}static credential(e){return zA._fromParams({providerId:vl.PROVIDER_ID,signInMethod:vl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vl.credentialFromTaggedObject(e)}static credentialFromError(e){return vl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vl.credential(e.oauthAccessToken)}catch{return null}}}vl.GITHUB_SIGN_IN_METHOD="github.com";vl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends p0{constructor(){super("twitter.com")}static credential(e,n){return zA._fromParams({providerId:wl.PROVIDER_ID,signInMethod:wl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wl.credentialFromTaggedObject(e)}static credentialFromError(e){return wl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wl.credential(n,r)}catch{return null}}}wl.TWITTER_SIGN_IN_METHOD="twitter.com";wl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await EA._fromIdTokenResponse(e,r,s),o=RU(r);return new Af({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=RU(r);return new Af({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function RU(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC extends Xa{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,iC.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new iC(e,n,r,s)}}function d8(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?iC._fromErrorAndOperation(t,i,e,r):i})}async function Aae(t,e,n=!1){const r=await vm(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Af._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dae(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await vm(t,d8(r,s,e,t),n);Ye(i.idToken,r,"internal-error");const o=gF(i.idToken);Ye(o,r,"internal-error");const{sub:a}=o;return Ye(t.uid===a,r,"user-mismatch"),Af._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Fu(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h8(t,e,n=!1){const r="signIn",s=await d8(t,r,e),i=await Af._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function hae(t,e){return h8(hd(t),e)}function fae(t,e,n,r){return Kr(t).onIdTokenChanged(e,n,r)}function pae(t,e,n){return Kr(t).beforeAuthStateChanged(e,n)}function gae(t,e,n,r){return Kr(t).onAuthStateChanged(e,n,r)}function mae(t){return Kr(t).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yae(t,e){return Wu(t,"POST","/v2/accounts/mfaEnrollment:start",Ec(t,e))}const oC="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oC,"1"),this.storage.removeItem(oC),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vae(){const t=Ns();return mF(t)||qb(t)}const wae=1e3,Cae=10;class p8 extends f8{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=vae()&&Koe(),this.fallbackToPolling=i8(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);zoe()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Cae):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},wae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}p8.type="LOCAL";const bae=p8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8 extends f8{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}g8.type="SESSION";const m8=g8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xae(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Yb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async l=>l(n.origin,i)),u=await xae(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const l=wF("",20);s.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(A){const d=A;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(d.data.response);break;default:clearTimeout(c),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return window}function Iae(t){ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}async function Eae(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $ae(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Sae(){return CF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8="firebaseLocalStorageDb",Tae=1,aC="firebaseLocalStorage",v8="fbase_key";class g0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jb(t,e){return t.transaction([aC],e?"readwrite":"readonly").objectStore(aC)}function Nae(){const t=indexedDB.deleteDatabase(y8);return new g0(t).toPromise()}function AS(){const t=indexedDB.open(y8,Tae);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(aC,{keyPath:v8})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(aC)?e(r):(r.close(),await Nae(),e(await AS()))})})}async function OU(t,e,n){const r=Jb(t,!0).put({[v8]:e,value:n});return new g0(r).toPromise()}async function kae(t,e){const n=Jb(t,!1).get(e),r=await new g0(n).toPromise();return r===void 0?null:r.value}function UU(t,e){const n=Jb(t,!0).delete(e);return new g0(n).toPromise()}const Fae=800,_ae=3;class w8{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await AS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_ae)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yb._getInstance(Sae()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Eae(),!this.activeServiceWorker)return;this.sender=new Bae(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$ae()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await AS();return await OU(e,oC,"1"),await UU(e,oC),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>OU(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kae(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>UU(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Jb(s,!1).getAll();return new g0(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Fae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w8.type="LOCAL";const Dae=w8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rae(t,e){return Wu(t,"POST","/v2/accounts/mfaSignIn:start",Ec(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oae=500,Uae=6e4,Mv=1e12;class Lae{constructor(e){this.auth=e,this.counter=Mv,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Pae(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Mv;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Mv;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Mv;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class Pae{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;Ye(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Mae(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Uae)},Oae))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Mae(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=l8("rcb"),Qae=new f0(3e4,6e4),Hae="https://www.google.com/recaptcha/api.js?";class Vae{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=ar().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Ye(zae(n),e,"argument-error"),this.shouldResolveImmediately(n)&&kU(ar().grecaptcha)?Promise.resolve(ar().grecaptcha):new Promise((r,s)=>{const i=ar().setTimeout(()=>{s(Oi(e,"network-request-failed"))},Qae.get());ar()[zI]=()=>{ar().clearTimeout(i),delete ar()[zI];const a=ar().grecaptcha;if(!a||!kU(a)){s(Oi(e,"internal-error"));return}const u=a.render;a.render=(l,c)=>{const A=u(l,c);return this.counter++,A},this.hostLanguage=n,r(a)};const o=`${Hae}?${Vf({onload:zI,render:"explicit",hl:n})}`;yF(o).catch(()=>{clearTimeout(i),s(Oi(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=ar().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function zae(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class Kae{async load(e){return new Lae(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8="recaptcha",Wae={theme:"light",type:"image"};class Gae{constructor(e,n=Object.assign({},Wae),r){this.parameters=n,this.type=C8,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hd(r),this.isInvisible=this.parameters.size==="invisible",Ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof e=="string"?document.getElementById(e):e;Ye(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Kae:new Vae,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(s=>{const i=o=>{!o||(this.tokenChangeListeners.delete(i),s(o))};this.tokenChangeListeners.add(i),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ye(!this.parameters.sitekey,this.auth,"argument-error"),Ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ye(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=ar()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Ye(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ye(G5()&&!CF(),this.auth,"internal-error"),await jae(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Woe(this.auth);Ye(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function jae(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xae{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Dg._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function qae(t,e,n){const r=hd(t),s=await Yae(r,e,Kr(n));return new Xae(s,i=>hae(r,i))}async function Yae(t,e,n){var r;const s=await n.verify();try{Ye(typeof s=="string",t,"argument-error"),Ye(n.type===C8,t,"argument-error");let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i)return Ye(o.type==="enroll",t,"internal-error"),(await yae(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:s}})).phoneSessionInfo.sessionInfo;{Ye(o.type==="signin",t,"internal-error");const a=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;return Ye(a,t,"missing-multi-factor-info"),(await Rae(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:s}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await oae(t,{phoneNumber:i.phoneNumber,recaptchaToken:s});return o}}finally{n._reset()}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jae(t,e){return e?mu(e):(Ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF extends vF{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Zae(t){return h8(t.auth,new bF(t),t.bypassAuthState)}function eue(t){const{auth:e,user:n}=t;return Ye(n,e,"internal-error"),dae(n,new bF(t),t.bypassAuthState)}async function tue(t){const{auth:e,user:n}=t;return Ye(n,e,"internal-error"),Aae(n,new bF(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zae;case"linkViaPopup":case"linkViaRedirect":return tue;case"reauthViaPopup":case"reauthViaRedirect":return eue;default:Fu(this.auth,"internal-error")}}resolve(e){_u(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_u(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nue=new f0(2e3,1e4);class Bh extends b8{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Bh.currentPopupAction&&Bh.currentPopupAction.cancel(),Bh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ye(e,this.auth,"internal-error"),e}async onExecution(){_u(this.filter.length===1,"Popup operations only handle one event");const e=wF();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nue.get())};e()}}Bh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rue="pendingRedirect",ow=new Map;class sue extends b8{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ow.get(this.auth._key());if(!e){try{const r=await iue(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ow.set(this.auth._key(),e)}return this.bypassAuthState||ow.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iue(t,e){const n=uue(e),r=aue(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function oue(t,e){ow.set(t._key(),e)}function aue(t){return mu(t._redirectPersistence)}function uue(t){return iw(rue,t.config.apiKey,t.name)}async function lue(t,e,n=!1){const r=hd(t),s=Jae(r,e),o=await new sue(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cue=10*60*1e3;class Aue{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!due(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!x8(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Oi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cue&&this.cachedEventUids.clear(),this.cachedEventUids.has(LU(e))}saveEventToCache(e){this.cachedEventUids.add(LU(e)),this.lastProcessedEventTime=Date.now()}}function LU(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function x8({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function due(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x8(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hue(t,e={}){return Wu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fue=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pue=/^https?/;async function gue(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hue(t);for(const n of e)try{if(mue(n))return}catch{}Fu(t,"unauthorized-domain")}function mue(t){const e=cS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!pue.test(n))return!1;if(fue.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yue=new f0(3e4,6e4);function PU(){const t=ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vue(t){return new Promise((e,n)=>{var r,s,i;function o(){PU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PU(),n(Oi(t,"network-request-failed"))},timeout:yue.get()})}if(!((s=(r=ar().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ar().gapi)===null||i===void 0)&&i.load)o();else{const a=l8("iframefcb");return ar()[a]=()=>{gapi.load?o():n(Oi(t,"network-request-failed"))},yF(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw aw=null,e})}let aw=null;function wue(t){return aw=aw||vue(t),aw}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cue=new f0(5e3,15e3),bue="__/auth/iframe",xue="emulator/auth/iframe",Bue={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Iue=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eue(t){const e=t.config;Ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pF(e,xue):`https://${t.config.authDomain}/${bue}`,r={apiKey:e.apiKey,appName:t.name,v:dd},s=Iue.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Vf(r).slice(1)}`}async function $ue(t){const e=await wue(t),n=ar().gapi;return Ye(n,t,"internal-error"),e.open({where:document.body,url:Eue(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bue,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Oi(t,"network-request-failed"),a=ar().setTimeout(()=>{i(o)},Cue.get());function u(){ar().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sue={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tue=500,Nue=600,kue="_blank",Fue="http://localhost";class MU{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _ue(t,e,n,r=Tue,s=Nue){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Sue),{width:r.toString(),height:s.toString(),top:i,left:o}),l=Ns().toLowerCase();n&&(a=e8(l)?kue:n),Z5(l)&&(e=e||Fue,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[h,f])=>`${d}${h}=${f},`,"");if(Voe(l)&&a!=="_self")return Due(e||"",a),new MU(null);const A=window.open(e||"",a,c);Ye(A,t,"popup-blocked");try{A.focus()}catch{}return new MU(A)}function Due(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rue="__/auth/handler",Oue="emulator/auth/handler",Uue=encodeURIComponent("fac");async function QU(t,e,n,r,s,i){Ye(t.config.authDomain,t,"auth-domain-config-required"),Ye(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:dd,eventId:s};if(e instanceof A8){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",gie(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,A]of Object.entries(i||{}))o[c]=A}if(e instanceof p0){const c=e.getScopes().filter(A=>A!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await t._getAppCheckToken(),l=u?`#${Uue}=${encodeURIComponent(u)}`:"";return`${Lue(t)}?${Vf(a).slice(1)}${l}`}function Lue({config:t}){return t.emulator?pF(t,Oue):`https://${t.authDomain}/${Rue}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="webStorageSupport";class Pue{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m8,this._completeRedirectFn=lue,this._overrideRedirectResult=oue}async _openPopup(e,n,r,s){var i;_u((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await QU(e,n,r,cS(),s);return _ue(e,o,wF())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await QU(e,n,r,cS(),s);return Iae(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(_u(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $ue(e),r=new Aue(e);return n.register("authEvent",s=>(Ye(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(KI,{type:KI},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[KI];o!==void 0&&n(!!o),Fu(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gue(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return i8()||mF()||qb()}}const Mue=Pue;var HU="@firebase/auth",VU="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Que{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hue(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Vue(t){VA(new nc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o8(t)},l=new Zoe(r,s,i,u);return tae(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),VA(new nc("auth-internal",e=>{const n=hd(e.getProvider("auth").getImmediate());return(r=>new Que(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Da(HU,VU,Hue(t)),Da(HU,VU,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zue=5*60,Kue=L5("authIdTokenMaxAge")||zue;let zU=null;const Wue=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Kue)return;const s=n==null?void 0:n.token;zU!==s&&(zU=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Gue(t=dF()){const e=jb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=eae(t,{popupRedirectResolver:Mue,persistence:[Dae,bae,m8]}),r=L5("authTokenSyncURL");if(r){const i=Wue(r);pae(n,i,()=>i(n.currentUser)),fae(n,o=>i(o))}const s=R5("auth");return s&&nae(n,`http://${s}`),n}Vue("Browser");var jue="firebase",Xue="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Da(jue,Xue,"app");const que={apiKey:"AIzaSyA_iQNKB6wgBaoWb3ml2ggCER02qv5DH1o",authDomain:"countshapes.firebaseapp.com",projectId:"countshapes",storageBucket:"countshapes.appspot.com",messagingSenderId:"798949190317",appId:"1:798949190317:web:adc5686f96238ccfe1b424",measurementId:"G-LGYJL9GRTJ"},xF=H5(que),ng=Gue(xF),B8=Z.exports.createContext();function Yue({children:t}){const[e,n]=Z.exports.useState({}),r=Ic();function s(){return mae(ng)}function i(o){const a=new Gae("recaptcha-container",{},ng);return a.render(),qae(ng,o,a)}return Z.exports.useEffect(()=>{const o=gae(ng,a=>{a?(console.log(a.phoneNumber,"User already login"),r("/home")):console.log(e,a,"No login"),n(a)});return()=>{o()}},[]),M(B8.Provider,{value:{user:e,logOut:s,setUpRecaptha:i},children:t})}function BF(){return Z.exports.useContext(B8)}const Zb=()=>{const{logOut:t}=BF(),e=Ic();return M("nav",{className:"navbar fixed-bottom navbar-expand-sm nav-style bg-dark",children:De("div",{className:"container-fluid",children:[M(eg,{to:"/home",className:"navbar-brand icon-op",children:M(jse,{})}),M(eg,{to:"/history",className:"navbar-brand icon-op",children:M(Gse,{})}),M(eg,{to:"/form",className:"navbar-brand icon-op",children:M(Yse,{})}),M(eg,{to:"/user",className:"navbar-brand  icon-op",onClick:async()=>{try{await t(),e("/")}catch(r){console.log(r.message)}},children:M(Xse,{})})]})})};function Jue(){let t=Ic();return De("div",{className:"home",children:[M("h1",{className:"m-3",children:"Templates"}),M("div",{className:"table-responsive tdiv",children:M("table",{className:"table borderless m-2",children:De("tbody",{children:[De("tr",{children:[M("td",{onClick:()=>{t("/camera",{state:{metal_type:"Angle Bar"}})},children:De("div",{className:"card",style:{width:"8rem"},children:[M("img",{className:"mx-auto d-block mt-2",width:"80",height:"80",crossOrigin:"anonymous",src:"static/img/angle.png",alt:"cutest kitten"}),M("div",{className:"card-body",children:M("h5",{className:"card-title text-nowrap",children:"Angle Bar"})})]})}),M("td",{children:De("div",{className:"card",style:{width:"8rem"},children:[M("img",{className:"mx-auto d-block  mt-2",width:"80",height:"80",crossOrigin:"anonymous",src:"static/img/pipe.png",alt:"cutest kitten"}),M("div",{className:"card-body",children:M("h5",{className:"card-title text-nowrap",children:"pipe"})})]})})]}),De("tr",{children:[M("td",{children:De("div",{className:"card",style:{width:"8rem"},children:[M("img",{className:"mx-auto d-block  mt-2",width:"80",height:"80",crossOrigin:"anonymous",src:"static/img/square.png",alt:"cutest kitten"}),M("div",{className:"card-body",children:M("h5",{className:"card-title text-nowrap",children:"Square Bar"})})]})}),M("td",{children:De("div",{className:"card",style:{width:"8rem"},children:[M("img",{className:"mx-auto d-block  mt-2",width:"80",height:"80",crossOrigin:"anonymous",src:"static/img/square.png",alt:"cutest kitten"}),M("div",{className:"card-body",children:M("h5",{className:"card-title text-nowrap",children:"Square Bar"})})]})})]})]})})}),M(Zb,{})]})}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zue=1e-7,ele=1e-4;class I8{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class IF{refCount(e){return Ei("refCount")}incRef(e){return Ei("incRef")}timerAvailable(){return!0}time(e){return Ei("time")}read(e){return Ei("read")}readSync(e){return Ei("readSync")}readToGPU(e,n){return Ei("readToGPU")}numDataIds(){return Ei("numDataIds")}disposeData(e,n){return Ei("disposeData")}write(e,n,r){return Ei("write")}move(e,n,r,s,i){return Ei("move")}memory(){return Ei("memory")}floatPrecision(){return Ei("floatPrecision")}epsilon(){return this.floatPrecision()===32?Zue:ele}dispose(){return Ei("dispose")}}function Ei(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tle(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,sh(t,e,n)}function KA(t,e,n){return Math.max(t,Math.min(e,n))}function EF(t){return t%2===0?t:t+1}function sh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function nle(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function O(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function bi(t,e,n=""){O(Ut(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function zf(t){O(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function df(t,e=[],n=!1){if(e==null&&(e=[]),Array.isArray(t)||Ha(t)&&!n)for(let r=0;r<t.length;++r)df(t[r],e,n);else e.push(t);return e}function de(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function Ut(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function hf(t){return t%1===0}function dS(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function Qh(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function KU(t,e=s=>0,n,r=setTimeout){return new Promise((s,i)=>{let o=0;const a=()=>{if(t()){s();return}o++;const u=e(o);if(n!=null&&o>=n){i();return}r(a,u)};a()})}function E8(t,e){let n=1,r=-1;for(let i=0;i<t.length;++i)if(t[i]>=0)n*=t[i];else if(t[i]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(t[i]<0)throw Error(`Shapes can not be < 0. Found ${t[i]} at dim ${i}`);if(r===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const s=t.slice();return s[r]=e/n,s}function xt(t,e){const n=e.length;return t=t==null?e.map((r,s)=>s):[].concat(t),O(t.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),O(t.every(r=>hf(r)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(r=>r<0?n+r:r)}function $c(t,e){const n=[],r=[],s=e!=null&&Array.isArray(e)&&e.length===0,i=e==null||s?null:xt(e,t).sort();let o=0;for(let a=0;a<t.length;++a){if(i!=null){if(i[o]===a&&t[a]!==1)throw new Error(`Can't squeeze axis ${a} since its dim '${t[a]}' is not 1`);(i[o]==null||i[o]>a)&&t[a]===1&&(n.push(t[a]),r.push(a)),i[o]<=a&&o++}t[a]!==1&&(n.push(t[a]),r.push(a))}return{newShape:n,keptDims:r}}function _r(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else throw new Error(`Unknown data type ${t}`);return n}function Sr(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function rle(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}function sle(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function $8(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function Ha(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}function hS(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function ile(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function m0(t){return typeof t=="string"||t instanceof String}function ole(t){return typeof t=="boolean"}function fS(t){return typeof t=="number"}function y0(t){return Array.isArray(t)?y0(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":fS(t)?"float32":m0(t)?"string":ole(t)?"bool":"float32"}function pS(t){return!!(t&&t.constructor&&t.call&&t.apply)}function gS(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function et(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function S8(t,e,n,r=!1){const s=new Array;if(e.length===1){const i=e[0]*(r?2:1);for(let o=0;o<i;o++)s[o]=n[t+o]}else{const i=e[0],o=e.slice(1),a=o.reduce((u,l)=>u*l)*(r?2:1);for(let u=0;u<i;u++)s[u]=S8(t+u*a,o,n,r)}return s}function xo(t,e,n=!1){if(t.length===0)return e[0];const r=t.reduce((s,i)=>s*i)*(n?2:1);if(r===0)return[];if(r!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return S8(0,t,e,n)}function $F(t,e){const n=os(t,e);for(let r=0;r<n.length;r++)n[r]=1;return n}function os(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function T8(t,e){const n=t.reduce((r,s)=>r*s,1);if(e==null||e==="float32")return xo(t,new Float32Array(n));if(e==="int32")return xo(t,new Int32Array(n));if(e==="bool")return xo(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function N8(t){t.forEach(e=>{O(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function Ra(t,e,n){if(e===0)return 0;if(e===1)return t[0];let r=t[t.length-1];for(let s=0;s<t.length-1;++s)r+=n[s]*t[s];return r}function Kf(t,e,n){if(e===0)return[];if(e===1)return[t];const r=new Array(e);for(let s=0;s<r.length-1;++s)r[s]=Math.floor(t/n[s]),t-=r[s]*n[s];return r[r.length-1]=t,r}function ff(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WU="tfjsflags";class ale{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=ule,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(le().getBool("IS_TEST")||le().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){const s=this.urlFlags[e];le().getBool("IS_TEST")||le().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${s}.`),this.set(e,s)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(ff(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);WU in e&&e[WU].split(",").forEach(r=>{const[s,i]=r.split(":");this.urlFlags[s]=cle(s,i)})}}function ule(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(lle(e,r[0],r[1]),r.join("="))),e}function lle(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function cle(t,e){if(e=e.toLowerCase(),e==="true"||e==="false")return e==="true";if(`${+e}`===e)return+e;throw new Error(`Could not parse value flag value ${e} for flag ${t}.`)}function le(){return k8}let k8=null;function Ale(t){k8=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let WI;function F8(){if(WI==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");WI=t}return WI}function dle(){const t=F8();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function SF(t,e){const n=dle();if(n.has(t))return n.get(t);{const r=e();return n.set(t,r),n.get(t)}}const ex="Abs",v0="Acos",w0="Acosh",Wf="Add",tx="AddN",TF="All",NF="Any",nx="ArgMax",rx="ArgMin",C0="Asin",b0="Asinh",x0="Atan",B0="Atanh",I0="Atan2",sx="AvgPool",kF="AvgPoolGrad",ix="AvgPool3D",FF="AvgPool3DGrad",ox="BatchMatMul",ax="BatchToSpaceND",_F="Bincount",hle="BroadcastTo",DF="BroadcastArgs",E0="Cast",$0="Ceil",S0="ClipByValue",RF="Complex",ux="ComplexAbs",lx="Concat",cx="Conv2D",OF="Conv2DBackpropFilter",Ax="Conv2DBackpropInput",dx="Conv3D",UF="Conv3DBackpropFilterV2",LF="Conv3DBackpropInputV2",T0="Cos",N0="Cosh",PF="Cumprod",hx="Cumsum",MF="CropAndResize",QF="DenseBincount",HF="DepthToSpace",fx="DepthwiseConv2dNative",VF="DepthwiseConv2dNativeBackpropFilter",zF="DepthwiseConv2dNativeBackpropInput",KF="Diag",px="Dilation2D",mS="Dilation2DBackpropInput",yS="Dilation2DBackpropFilter",k0="RealDiv",WF="Einsum",F0="Elu",GF="EluGrad",_0="Erf",gx="Equal",D0="Exp",mx="ExpandDims",R0="Expm1",jF="FFT",XF="Fill",qF="FlipLeftRight",O0="Floor",U0="FloorDiv",yx="FusedBatchNorm",vx="GatherV2",YF="GatherNd",wx="Greater",L0="GreaterEqual",P0="Identity",JF="IFFT",ZF="Imag",M0="IsFinite",Q0="IsInf",H0="IsNan",Cx="LeakyRelu",bx="Less",xx="LessEqual",e_="LinSpace",V0="Log",z0="Log1p",Bx="LogicalAnd",Ix="LogicalNot",Ex="LogicalOr",fle="LogSoftmax",$x="LRN",t_="LRNGrad",Sx="Max",K0="Maximum",Tx="MaxPool",n_="MaxPoolGrad",Nx="MaxPool3D",r_="MaxPool3DGrad",s_="MaxPoolWithArgmax",kx="Mean",Fx="Min",W0="Minimum",_x="MirrorPad",G0="Mod",i_="Multinomial",j0="Multiply",Dx="Neg",Rx="NotEqual",o_="NonMaxSuppressionV3",a_="NonMaxSuppressionV4",u_="NonMaxSuppressionV5",Ox="OnesLike",Ux="OneHot",Lx="Pack",Px="PadV2",X0="Pow",Mx="Prelu",Qx="Prod",l_="RaggedGather",c_="RaggedTensorToTensor",A_="Range",d_="Real",q0="Reciprocal",Y0="Relu",Hx="Reshape",Vx="ResizeNearestNeighbor",h_="ResizeNearestNeighborGrad",zx="ResizeBilinear",f_="ResizeBilinearGrad",J0="Relu6",Kx="Reverse",Z0="Round",ey="Rsqrt",p_="ScatterNd",g_="SearchSorted",Wx="Select",ty="Selu",Gx="Slice",ny="Sin",ry="Sinh",sy="Sign",iy="Sigmoid",oy="Softplus",ay="Sqrt",jx="Sum",Xx="SpaceToBatchND",qx="SplitV",Yx="Softmax",m_="SparseFillEmptyRows",y_="SparseReshape",v_="SparseSegmentMean",w_="SparseSegmentSum",C_="SparseToDense",uy="SquaredDifference",b_="Square",x_="StridedSlice",B_="StringNGrams",I_="StringSplit",E_="StringToHashBucketFast",ly="Sub",cy="Tan",Ay="Tanh",dy="Tile",$_="TopK",S_="Transform",Hh="Transpose",T_="Unique",Jx="Unpack",Zx="UnsortedSegmentSum",e2="ZerosLike",hy="Step",vS="FromPixels",N_="RotateWithOffset",uC="_FusedMatMul",lC="FusedConv2D",cC="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ki(...t){le().getBool("IS_TEST")||le().getBool("PROD")||console.warn(...t)}function ple(...t){le().getBool("IS_TEST")||le().getBool("PROD")||console.log(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AC=SF("kernelRegistry",()=>new Map),wS=SF("gradRegistry",()=>new Map);function CS(t,e){const n=D8(t,e);return AC.get(n)}function GU(t){return wS.get(t)}function jU(t){const e=AC.entries(),n=[];for(;;){const{done:r,value:s}=e.next();if(r)break;const[i,o]=s,[a]=i.split("_");a===t&&n.push(o)}return n}function _8(t){const{kernelName:e,backendName:n}=t,r=D8(e,n);AC.has(r)&&ki(`The kernel '${e}' for backend '${n}' is already registered`),AC.set(r,t)}function gle(t){const{kernelName:e}=t;wS.has(e)&&le().getBool("DEBUG")&&ki(`Overriding the gradient for '${e}'`),wS.set(e,t)}function D8(t,e){return`${e}_${t}`}var bS=mn,fo=null;try{fo=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function mn(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}mn.prototype.__isLong__;Object.defineProperty(mn.prototype,"__isLong__",{value:!0});function xi(t){return(t&&t.__isLong__)===!0}mn.isLong=xi;var XU={},qU={};function fd(t,e){var n,r,s;return e?(t>>>=0,(s=0<=t&&t<256)&&(r=qU[t],r)?r:(n=yn(t,(t|0)<0?-1:0,!0),s&&(qU[t]=n),n)):(t|=0,(s=-128<=t&&t<128)&&(r=XU[t],r)?r:(n=yn(t,t<0?-1:0,!1),s&&(XU[t]=n),n))}mn.fromInt=fd;function po(t,e){if(isNaN(t))return e?gA:go;if(e){if(t<0)return gA;if(t>=R8)return L8}else{if(t<=-JU)return Ai;if(t+1>=JU)return U8}return t<0?po(-t,e).neg():yn(t%pf|0,t/pf|0,e)}mn.fromNumber=po;function yn(t,e,n){return new mn(t,e,n)}mn.fromBits=yn;var dC=Math.pow;function k_(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return go;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return k_(t.substring(1),e,n).neg();for(var s=po(dC(n,8)),i=go,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),u=parseInt(t.substring(o,o+a),n);if(a<8){var l=po(dC(n,a));i=i.mul(l).add(po(u))}else i=i.mul(s),i=i.add(po(u))}return i.unsigned=e,i}mn.fromString=k_;function ua(t,e){return typeof t=="number"?po(t,e):typeof t=="string"?k_(t,e):yn(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}mn.fromValue=ua;var YU=1<<16,mle=1<<24,pf=YU*YU,R8=pf*pf,JU=R8/2,ZU=fd(mle),go=fd(0);mn.ZERO=go;var gA=fd(0,!0);mn.UZERO=gA;var Ih=fd(1);mn.ONE=Ih;var O8=fd(1,!0);mn.UONE=O8;var xS=fd(-1);mn.NEG_ONE=xS;var U8=yn(-1,2147483647,!1);mn.MAX_VALUE=U8;var L8=yn(-1,-1,!0);mn.MAX_UNSIGNED_VALUE=L8;var Ai=yn(0,-2147483648,!1);mn.MIN_VALUE=Ai;var Ne=mn.prototype;Ne.toInt=function(){return this.unsigned?this.low>>>0:this.low};Ne.toNumber=function(){return this.unsigned?(this.high>>>0)*pf+(this.low>>>0):this.high*pf+(this.low>>>0)};Ne.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Ai)){var n=po(e),r=this.div(n),s=r.mul(n).sub(this);return r.toString(e)+s.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var i=po(dC(e,6),this.unsigned),o=this,a="";;){var u=o.div(i),l=o.sub(u.mul(i)).toInt()>>>0,c=l.toString(e);if(o=u,o.isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}};Ne.getHighBits=function(){return this.high};Ne.getHighBitsUnsigned=function(){return this.high>>>0};Ne.getLowBits=function(){return this.low};Ne.getLowBitsUnsigned=function(){return this.low>>>0};Ne.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ai)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&(e&1<<n)==0;n--);return this.high!=0?n+33:n+1};Ne.isZero=function(){return this.high===0&&this.low===0};Ne.eqz=Ne.isZero;Ne.isNegative=function(){return!this.unsigned&&this.high<0};Ne.isPositive=function(){return this.unsigned||this.high>=0};Ne.isOdd=function(){return(this.low&1)===1};Ne.isEven=function(){return(this.low&1)===0};Ne.equals=function(e){return xi(e)||(e=ua(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};Ne.eq=Ne.equals;Ne.notEquals=function(e){return!this.eq(e)};Ne.neq=Ne.notEquals;Ne.ne=Ne.notEquals;Ne.lessThan=function(e){return this.comp(e)<0};Ne.lt=Ne.lessThan;Ne.lessThanOrEqual=function(e){return this.comp(e)<=0};Ne.lte=Ne.lessThanOrEqual;Ne.le=Ne.lessThanOrEqual;Ne.greaterThan=function(e){return this.comp(e)>0};Ne.gt=Ne.greaterThan;Ne.greaterThanOrEqual=function(e){return this.comp(e)>=0};Ne.gte=Ne.greaterThanOrEqual;Ne.ge=Ne.greaterThanOrEqual;Ne.compare=function(e){if(xi(e)||(e=ua(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};Ne.comp=Ne.compare;Ne.negate=function(){return!this.unsigned&&this.eq(Ai)?Ai:this.not().add(Ih)};Ne.neg=Ne.negate;Ne.add=function(e){xi(e)||(e=ua(e));var n=this.high>>>16,r=this.high&65535,s=this.low>>>16,i=this.low&65535,o=e.high>>>16,a=e.high&65535,u=e.low>>>16,l=e.low&65535,c=0,A=0,d=0,h=0;return h+=i+l,d+=h>>>16,h&=65535,d+=s+u,A+=d>>>16,d&=65535,A+=r+a,c+=A>>>16,A&=65535,c+=n+o,c&=65535,yn(d<<16|h,c<<16|A,this.unsigned)};Ne.subtract=function(e){return xi(e)||(e=ua(e)),this.add(e.neg())};Ne.sub=Ne.subtract;Ne.multiply=function(e){if(this.isZero())return go;if(xi(e)||(e=ua(e)),fo){var n=fo.mul(this.low,this.high,e.low,e.high);return yn(n,fo.get_high(),this.unsigned)}if(e.isZero())return go;if(this.eq(Ai))return e.isOdd()?Ai:go;if(e.eq(Ai))return this.isOdd()?Ai:go;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(ZU)&&e.lt(ZU))return po(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,s=this.high&65535,i=this.low>>>16,o=this.low&65535,a=e.high>>>16,u=e.high&65535,l=e.low>>>16,c=e.low&65535,A=0,d=0,h=0,f=0;return f+=o*c,h+=f>>>16,f&=65535,h+=i*c,d+=h>>>16,h&=65535,h+=o*l,d+=h>>>16,h&=65535,d+=s*c,A+=d>>>16,d&=65535,d+=i*l,A+=d>>>16,d&=65535,d+=o*u,A+=d>>>16,d&=65535,A+=r*c+s*l+i*u+o*a,A&=65535,yn(h<<16|f,A<<16|d,this.unsigned)};Ne.mul=Ne.multiply;Ne.divide=function(e){if(xi(e)||(e=ua(e)),e.isZero())throw Error("division by zero");if(fo){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?fo.div_u:fo.div_s)(this.low,this.high,e.low,e.high);return yn(n,fo.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?gA:go;var r,s,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return gA;if(e.gt(this.shru(1)))return O8;i=gA}else{if(this.eq(Ai)){if(e.eq(Ih)||e.eq(xS))return Ai;if(e.eq(Ai))return Ih;var o=this.shr(1);return r=o.div(e).shl(1),r.eq(go)?e.isNegative()?Ih:xS:(s=this.sub(e.mul(r)),i=r.add(s.div(e)),i)}else if(e.eq(Ai))return this.unsigned?gA:go;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=go}for(s=this;s.gte(e);){r=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),u=a<=48?1:dC(2,a-48),l=po(r),c=l.mul(e);c.isNegative()||c.gt(s);)r-=u,l=po(r,this.unsigned),c=l.mul(e);l.isZero()&&(l=Ih),i=i.add(l),s=s.sub(c)}return i};Ne.div=Ne.divide;Ne.modulo=function(e){if(xi(e)||(e=ua(e)),fo){var n=(this.unsigned?fo.rem_u:fo.rem_s)(this.low,this.high,e.low,e.high);return yn(n,fo.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};Ne.mod=Ne.modulo;Ne.rem=Ne.modulo;Ne.not=function(){return yn(~this.low,~this.high,this.unsigned)};Ne.and=function(e){return xi(e)||(e=ua(e)),yn(this.low&e.low,this.high&e.high,this.unsigned)};Ne.or=function(e){return xi(e)||(e=ua(e)),yn(this.low|e.low,this.high|e.high,this.unsigned)};Ne.xor=function(e){return xi(e)||(e=ua(e)),yn(this.low^e.low,this.high^e.high,this.unsigned)};Ne.shiftLeft=function(e){return xi(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?yn(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):yn(0,this.low<<e-32,this.unsigned)};Ne.shl=Ne.shiftLeft;Ne.shiftRight=function(e){return xi(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?yn(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):yn(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};Ne.shr=Ne.shiftRight;Ne.shiftRightUnsigned=function(e){if(xi(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var r=this.low;return yn(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?yn(n,0,this.unsigned):yn(n>>>e-32,0,this.unsigned)};Ne.shru=Ne.shiftRightUnsigned;Ne.shr_u=Ne.shiftRightUnsigned;Ne.toSigned=function(){return this.unsigned?yn(this.low,this.high,!1):this};Ne.toUnsigned=function(){return this.unsigned?this:yn(this.low,this.high,!0)};Ne.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};Ne.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};Ne.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};mn.fromBytes=function(e,n,r){return r?mn.fromBytesLE(e,n):mn.fromBytesBE(e,n)};mn.fromBytesLE=function(e,n){return new mn(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};mn.fromBytesBE=function(e,n){return new mn(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const yle=ck({__proto__:null,default:bS},[bS]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iA=bS||yle;function t2(t){return iA.fromString(t,!0,16)}const P8=t2("c3a5c85c97cb3127"),rA=t2("b492b66fbe98f273"),vs=t2("9ae16a3b2f90404f");function BS(t){return t.xor(t.shru(47))}function M8(t,e,n){const r=t.slice(e,e+n);return iA.fromBytes(Array.from(r),!0,!0)}function un(t,e){return M8(t,e,8)}function eL(t,e){return M8(t,e,4)}function Br(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function Wl(t,e,n=t2("9ddfea08eb382d69")){let r=t.xor(e).mul(n);r=r.xor(r.shru(47));let s=e.xor(r).mul(n);return s=s.xor(s.shru(47)),s=s.mul(n),s}function vle(t,e,n,r,s,i){s=s.add(t),i=Br(i.add(s).add(r),21);const o=s;return s=s.add(e),s=s.add(n),i=i.add(Br(s,44)),[s.add(r),i.add(o)]}function Qv(t,e,n,r){return vle(un(t,e),un(t,e+8),un(t,e+16),un(t,e+24),n,r)}function wle(t,e=t.length){if(e>=8){const n=vs.add(e*2),r=un(t,0).add(vs),s=un(t,e-8),i=Br(s,37).mul(n).add(r),o=Br(r,25).add(s).mul(n);return Wl(i,o,n)}if(e>=4){const n=vs.add(e*2),r=eL(t,0);return Wl(r.shl(3).add(e),eL(t,e-4),n)}if(e>0){const n=t[0],r=t[e>>1],s=t[e-1],i=n+(r<<8),o=e+(s<<2);return BS(vs.mul(i).xor(P8.mul(o))).mul(vs)}return vs}function Cle(t,e=t.length){const n=vs.add(e*2),r=un(t,0).mul(rA),s=un(t,8),i=un(t,e-8).mul(n),o=un(t,e-16).mul(vs);return Wl(Br(r.add(s),43).add(Br(i,30)).add(o),r.add(Br(s.add(vs),18)).add(i),n)}function ble(t,e=t.length){const n=vs.add(e*2),r=un(t,0).mul(vs),s=un(t,8),i=un(t,e-8).mul(n),o=un(t,e-16).mul(vs),a=Br(r.add(s),43).add(Br(i,30)).add(o),u=Wl(a,r.add(Br(s.add(vs),18)).add(i),n),l=un(t,16).mul(n),c=un(t,24),A=a.add(un(t,e-32)).mul(n),d=u.add(un(t,e-24)).mul(n);return Wl(Br(l.add(c),43).add(Br(A,30)).add(d),l.add(Br(c.add(r),18)).add(A),n)}function xle(t,e=t.length){const n=iA.fromNumber(81,!0);if(e<=32)return e<=16?wle(t,e):Cle(t,e);if(e<=64)return ble(t,e);let r=n,s=n.mul(rA).add(113),i=BS(s.mul(vs).add(113)).mul(vs),o=[iA.UZERO,iA.UZERO],a=[iA.UZERO,iA.UZERO];r=r.mul(vs).add(un(t,0));let u=0;const l=(e-1>>6)*64,c=l+(e-1&63)-63;do r=Br(r.add(s).add(o[0]).add(un(t,u+8)),37).mul(rA),s=Br(s.add(o[1]).add(un(t,u+48)),42).mul(rA),r=r.xor(a[1]),s=s.add(o[0]).add(un(t,u+40)),i=Br(i.add(a[0]),33).mul(rA),o=Qv(t,u,o[1].mul(rA),r.add(a[0])),a=Qv(t,u+32,i.add(a[1]),s.add(un(t,u+16))),[i,r]=[r,i],u+=64;while(u!==l);const A=rA.add(i.and(255).shl(1));return u=c,a[0]=a[0].add(e-1&63),o[0]=o[0].add(a[0]),a[0]=a[0].add(o[0]),r=Br(r.add(s).add(o[0]).add(un(t,u+8)),37).mul(A),s=Br(s.add(o[1]).add(un(t,u+48)),42).mul(A),r=r.xor(a[1].mul(9)),s=s.add(o[0].mul(9).add(un(t,u+40))),i=Br(i.add(a[0]),33).mul(A),o=Qv(t,u,o[1].mul(A),r.add(a[0])),a=Qv(t,u+32,i.add(a[1]),s.add(un(t,u+16))),[i,r]=[r,i],Wl(Wl(o[0],a[0],A).add(BS(s).mul(P8)).add(i),Wl(o[1],a[1],A).add(r),A)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sc(t,e){return e==="string"?Gl(t):pd([t],e)}function Ble(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function pd(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=df(t)),le().getBool("DEBUG")&&rle(t,e),Ble(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let r=0;r<n.length;++r)Math.round(t[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${e}`)}function Ms(){return le().platform.now()}function Gl(t,e="utf-8"){return e=e||"utf-8",le().platform.encode(t,e)}function rc(t,e="utf-8"){return e=e||"utf-8",le().platform.decode(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ile{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new $le)}profileKernel(e,n,r){let s;const i=()=>{s=r()};let o;const a=Ms();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(i);else{i();for(const l of s)l.dataSync();o=Promise.resolve({kernelMs:Ms()-a})}if(le().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let l=0;l<s.length;l++){const c=s[l];c.data().then(A=>{Ele(A,c.dtype,e)})}return{kernelName:e,outputs:s,inputs:n,timeMs:o.then(l=>l.kernelMs),extraInfo:o.then(l=>l.getExtraProfileInfo!=null?l.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:r,timeMs:s,inputs:i,extraInfo:o}=e;r.forEach(a=>{Promise.all([a.data(),s,o]).then(u=>{this.logger.logKernelProfile(n,a,u[0],u[1],i,u[2])})})}}function Ele(t,e,n){if(e!=="float32")return!1;for(let r=0;r<t.length;r++){const s=t[r];if(isNaN(s)||!isFinite(s))return console.warn(`Found ${s} in the result of '${n}'`),!0}return!1}class $le{logKernelProfile(e,n,r,s,i,o){const a=typeof s=="number"?Qh(`${s}ms`,9):s.error,u=Qh(e,25),l=n.rank,c=n.size,A=Qh(n.shape.toString(),14);let d="";for(const h in i){const f=i[h];if(f!=null){const p=f.shape||n.shape,m=p.length;d+=`${h}: ${m}D ${m>0?p:""} `}}console.log(`%c${u}	%c${a}	%c${l}D ${A}	%c${c}	%c${d}	%c${o}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sle(t,e,n){const r={},s={};for(let u=0;u<e.length;u++)r[e[u].id]=!0;for(let u=0;u<t.length;u++){const l=t[u],c=l.inputs;for(const A in c){const d=c[A];let h=!1;for(let f=0;f<e.length;f++)if(r[d.id]){l.outputs.forEach(p=>r[p.id]=!0),h=!0,s[l.id]=!0;break}if(h)break}}const i={};i[n.id]=!0;const o={};for(let u=t.length-1;u>=0;u--){const l=t[u],c=l.inputs;for(let A=0;A<l.outputs.length;A++)if(i[l.outputs[A].id]){for(const d in c)i[c[d].id]=!0,o[l.id]=!0;break}}const a=[];for(let u=0;u<t.length;u++){const l=t[u];if(s[l.id]&&o[l.id]){const c={};for(const d in l.inputs){const h=l.inputs[d];r[h.id]&&(c[d]=h)}const A=Object.assign({},l);A.inputs=c,A.outputs=l.outputs,a.push(A)}}return a}function Tle(t,e,n,r){for(let s=e.length-1;s>=0;s--){const i=e[s],o=[];if(i.outputs.forEach(u=>{const l=t[u.id];l!=null?o.push(l):o.push(null)}),i.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const a=i.gradient(o);for(const u in i.inputs){if(!(u in a))throw new Error(`Cannot backprop through input ${u}. Available gradients found: ${Object.keys(a)}.`);const l=n(()=>a[u]());if(l.dtype!=="float32")throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${u} must have 'float32' dtype, but has '${l.dtype}'`);const c=i.inputs[u];if(!Ut(l.shape,c.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${u}' has shape '${l.shape}', which does not match the shape of the input '${c.shape}'`);if(t[c.id]==null)t[c.id]=l;else{const A=t[c.id];t[c.id]=r(A,l),A.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tL=20,Op=3,GI=7;function Nle(t,e,n,r){const s=et(e),i=kle(t,e,n,s),o=e.length,a=uw(t,e,n,s,i),u=["Tensor"];return r&&(u.push(`  dtype: ${n}`),u.push(`  rank: ${o}`),u.push(`  shape: [${e}]`),u.push("  values:")),u.push(a.map(l=>"    "+l).join(`
`)),u.join(`
`)}function kle(t,e,n,r){const s=de(e),i=r[r.length-1],o=new Array(i).fill(0),a=e.length,u=n==="complex64"?sg(t):t;if(a>1)for(let l=0;l<s/i;l++){const c=l*i;for(let A=0;A<i;A++)o[A]=Math.max(o[A],rg(u[c+A],0,n).length)}return o}function rg(t,e,n){let r;return Array.isArray(t)?r=`${parseFloat(t[0].toFixed(GI))} + ${parseFloat(t[1].toFixed(GI))}j`:m0(t)?r=`'${t}'`:n==="bool"?r=Q8(t):r=parseFloat(t.toFixed(GI)).toString(),Qh(r,e)}function Q8(t){return t===0?"false":"true"}function uw(t,e,n,r,s,i=!0){const o=n==="complex64"?2:1,a=e[0],u=e.length;if(u===0){if(n==="complex64"){const p=sg(t);return[rg(p[0],0,n)]}return n==="bool"?[Q8(t[0])]:[t[0].toString()]}if(u===1){if(a>tL){const m=Op*o;let g=Array.from(t.slice(0,m)),y=Array.from(t.slice((a-Op)*o,a*o));return n==="complex64"&&(g=sg(g),y=sg(y)),["["+g.map((C,b)=>rg(C,s[b],n)).join(", ")+", ..., "+y.map((C,b)=>rg(C,s[a-Op+b],n)).join(", ")+"]"]}return["["+(n==="complex64"?sg(t):Array.from(t)).map((m,g)=>rg(m,s[g],n)).join(", ")+"]"]}const l=e.slice(1),c=r.slice(1),A=r[0]*o,d=[];if(a>tL){for(let p=0;p<Op;p++){const m=p*A,g=m+A;d.push(...uw(t.slice(m,g),l,n,c,s,!1))}d.push("...");for(let p=a-Op;p<a;p++){const m=p*A,g=m+A;d.push(...uw(t.slice(m,g),l,n,c,s,p===a-1))}}else for(let p=0;p<a;p++){const m=p*A,g=m+A;d.push(...uw(t.slice(m,g),l,n,c,s,p===a-1))}const h=u===2?",":"";d[0]="["+d[0]+h;for(let p=1;p<d.length-1;p++)d[p]=" "+d[p]+h;let f=`,
`;for(let p=2;p<u;p++)f+=`
`;return d[d.length-1]=" "+d[d.length-1]+"]"+(i?"":f),d}function sg(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Nr{constructor(e,n,r){if(this.dtype=n,this.shape=e.slice(),this.size=de(e),r!=null){const s=r.length;O(s===this.size,()=>`Length of values '${s}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Sr(n,this.size),this.strides=et(e)}set(e,...n){n.length===0&&(n=[0]),O(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const s of e){if(s<0||s>=this.shape[n]){const i=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(i)}n++}let r=e[e.length-1];for(let s=0;s<e.length-1;++s)r+=this.strides[s]*e[s];return this.values[r]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return Vo().makeTensor(this.values,this.shape,this.dtype)}}let Vo=null,ih=null;function Fle(t){Vo=t}function _le(t){ih=t}class Cn{constructor(e,n,r,s){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=de(e),this.strides=et(e),this.dataId=r,this.id=s,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return ih.buffer(this.shape,this.dtype,e)}bufferSync(){return ih.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return xo(this.shape,e,this.dtype==="complex64")}arraySync(){return xo(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Vo().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(r=>rc(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Vo().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Vo().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>rc(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Vo().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(Vo().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return ih.print(this,e)}clone(){return this.throwIfDisposed(),ih.clone(this)}toString(e=!1){const n=this.dataSync();return Nle(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),ih.cast(this,e)}variable(e=!0,n,r){return this.throwIfDisposed(),Vo().makeVariable(this,e,n,r)}}Object.defineProperty(Cn,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function he(){return SF("Tensor",()=>Cn)}he();class hC extends Cn{constructor(e,n,r,s){super(e.shape,e.dtype,e.dataId,s),this.trainable=n,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Ut(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Vo().disposeTensor(this),this.dataId=e.dataId,Vo().incRef(this,null)}dispose(){Vo().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(hC,Symbol.hasInstance,{value:t=>t instanceof Cn&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var nL;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(nL||(nL={}));var IS;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(IS||(IS={}));var ES;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(ES||(ES={}));var $S;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})($S||($S={}));var SS;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(SS||(SS={}));const Dle={float32:$S,int32:IS,bool:ES,complex64:SS};function mi(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return Dle[t][e]}function F_(t){return mi(t,"int32")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hn(t,e){if(t.dtype===e.dtype)return[t,e];const n=mi(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function Rle(t,e){O(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function H8(t){const e=[];return V8(t,e,new Set),e}function V8(t,e,n){if(t==null)return;if(t instanceof Cn){e.push(t);return}if(!Ole(t))return;const r=t;for(const s in r){const i=r[s];n.has(i)||(n.add(i),V8(i,e,n))}}function Ole(t){return Array.isArray(t)||typeof t=="object"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jI(t){return t.kernelName!=null}class rL{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class gf{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new rL}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,r=1){return e in this.registryFactory?(ki(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:r},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(e);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Ile(this.backendInstance),!0}setupRegisteredKernels(){jU(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){jU(e).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof IF)&&typeof r.then=="function"){const s=++this.pendingBackendInitId,i=r.then(o=>s<this.pendingBackendInitId?!1:(this.registry[e]=o,this.pendingBackendInit=null,!0)).catch(o=>(s<this.pendingBackendInitId||(this.pendingBackendInit=null,ki(`Initialization of backend ${e} failed`),ki(o.stack||o.message)),!1));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}else return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(r){return ki(`Initialization of backend ${e} failed`),ki(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n],{success:s,asyncInit:i}=this.initializeBackend(r);if(i||s)return{name:r,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const r=this.state.tensorInfo.get(n),s=r.backend,i=this.readSync(n),o=s.refCount(n);s.disposeData(n,!0),r.backend=e,e.move(n,i,r.shape,r.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let r=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}let s;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(s),()=>(s=n(),s instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),s))}scopedRun(e,n,r){e();try{const s=r();return n(),s}catch(s){throw n(),s}}nextTensorId(){return gf.nextTensorId++}nextVariableId(){return gf.nextVariableId++}clone(e){const n=j.runKernel(P0,{x:e}),r={x:e},s=o=>({x:()=>{const a="float32",u={x:o},l={dtype:a};return j.runKernel(E0,u,l)}}),i=[];return this.addTapeNode(this.state.activeScope.name,r,[n],s,i,{}),n}runKernel(e,n,r){if(this.backendName==null&&this.backend,!(CS(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,r){const s=this.backend.numDataIds();let i=0;r.forEach(u=>{i+=u.dtype==="complex64"?3:1});const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=s-n-i-o;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${e}'`)}runKernelFunc(e){let n,r=[];const s=this.isTapeOn(),i=this.state.numBytes,o=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let a;this.backendName==null&&this.backend;let u;const l=jI(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(jI(e)){const{kernelName:f,inputs:p,attrs:m}=e;this.backendName==null&&this.backend;const g=CS(f,this.backendName);O(g!=null,()=>`Cannot find registered kernel '${f}' for backend '${this.backendName}'`),a=()=>{const y=this.backend.numDataIds();u=g.kernelFunc({inputs:p,attrs:m,backend:this.backend});const C=Array.isArray(u)?u:[u];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(f,y,C);const b=C.map(B=>B.rank!=null?B:this.makeTensorFromTensorInfo(B));if(s){const B=this.getTensorsForGradient(f,p,b);r=this.saveTensorsForBackwardMode(B)}return b}}else{const{forwardFunc:f}=e,p=m=>{!s||(r=m.map(g=>this.keep(this.clone(g))))};a=()=>{const m=this.backend.numDataIds();u=this.tidy(()=>f(this.backend,p));const g=Array.isArray(u)?u:[u];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,m,g),g}}const{inputs:c,attrs:A}=e,d=jI(e)?null:e.backwardsFunc;let h;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=a():(h=this.profiler.profileKernel(l,c,()=>a()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),n=h.outputs)}),s&&this.addTapeNode(l,c,n,d,r,A),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(f=>c[f]!=null?c[f].shape:null),outputShapes:n.map(f=>f.shape),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(u)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,n,r){const s=GU(e);if(s!=null){const i=s.inputsToSave||[],o=s.outputsToSave||[];let a;s.saveAllInputs?(O(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),a=Object.keys(n).map(l=>n[l])):a=i.map(l=>n[l]);const u=r.filter((l,c)=>o[c]);return a.concat(u)}return[]}makeTensor(e,n,r,s){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",s=s||this.backend;let i=e;r==="string"&&m0(e[0])&&(i=e.map(u=>Gl(u)));const o=s.write(i,n,r),a=new Cn(n,r,o,this.nextTensorId());if(this.trackTensor(a,s),r==="string"){const u=this.state.tensorInfo.get(o),l=ile(i);this.state.numBytes+=l-u.bytes,u.bytes=l}return a}makeTensorFromDataId(e,n,r,s){r=r||"float32";const i={dataId:e,shape:n,dtype:r};return this.makeTensorFromTensorInfo(i,s)}makeTensorFromTensorInfo(e,n){const{dataId:r,shape:s,dtype:i}=e,o=new Cn(s,i,r,this.nextTensorId());return this.trackTensor(o,n),o}makeVariable(e,n=!0,r,s){r=r||this.nextVariableId().toString(),s!=null&&s!==e.dtype&&(e=e.cast(s));const i=new hC(e,n,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let r=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(r=e.size*hS(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof hC||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const r=e.size*hS(e.dtype);this.state.numBytes-=r}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(s=>s.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const s of this.state.activeProfile.kernels)s.kernelTimeMs=await s.kernelTimeMs,s.extraInfo=await s.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,r,s,i,o){const a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:i},u=GU(e);u!=null&&(s=u.gradFunc),s!=null&&(a.gradient=l=>(l=l.map((c,A)=>{if(c==null){const d=r[A],h=os(d.size,d.dtype);return this.makeTensor(h,d.shape,d.dtype)}return c}),s(l.length>1?l:l[0],i,o))),this.state.activeTape.push(a)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=H8(e),r=new Set(n.map(i=>i.id));for(let i=0;i<this.state.activeScope.track.length;i++){const o=this.state.activeScope.track[i];!o.kept&&!r.has(o.id)&&o.dispose()}const s=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(i=>{!i.kept&&i.scopeId===s.id&&this.track(i)})}gradients(e,n,r,s=!1){if(O(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const i=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));O(i instanceof Cn,()=>"The result y returned by f() must be a tensor.");const o=Sle(this.state.activeTape,n,i);if(!s&&o.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const a={};a[i.id]=r==null?Ule(i.shape):r,Tle(a,o,l=>this.tidy(l),Lle);const u=n.map(l=>a[l.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(l=>{for(const c of l.saved)c.dispose()}),this.state.activeTape=null),{value:i,grads:u}})}customGrad(e){return O(pS(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{O(n.every(a=>a instanceof Cn),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const s={};n.forEach((a,u)=>{s[u]=a});const i=(a,u)=>(r=e(...n,u),O(r.value instanceof Cn,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),O(pS(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),o=(a,u)=>{const l=r.gradFunc(a,u),c=Array.isArray(l)?l:[l];O(c.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),O(c.every(d=>d instanceof Cn),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const A={};return c.forEach((d,h)=>{A[h]=()=>d}),A};return this.runKernelFunc({forwardFunc:i,backwardsFunc:o,inputs:s})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=Ms(),r=await this.backend.time(e);return r.wallMs=Ms()-n,r}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new rL;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}gf.nextTensorId=0;gf.nextVariableId=0;function Ule(t){const e=$F(de(t),"float32");return j.makeTensor(e,t,"float32")}function z8(){const t=F8();if(t._tfengine==null){const e=new ale(t);t._tfengine=new gf(e)}return Ale(t._tfengine.ENV),Fle(()=>t._tfengine),t._tfengine}const j=z8();function Lle(t,e){const n={a:t,b:e};return j.runKernel(Wf,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ple(){return typeof navigator<"u"&&navigator!=null}function K8(t){if(t||Ple()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function W8(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yi=le();yi.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});yi.registerFlag("IS_BROWSER",()=>W8());yi.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");yi.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));yi.registerFlag("PROD",()=>!1);yi.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>yi.getBool("DEBUG"));yi.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);yi.registerFlag("IS_TEST",()=>!1);yi.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>!0);yi.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);yi.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);yi.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);yi.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tc(t,e){let n=t;if(Ha(t))return e==="string"?[]:[t.length];if(!Array.isArray(t))return[];const r=[];for(;Array.isArray(n)||Ha(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&le().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&G8(t,r,[]),r}function G8(t,e,n){if(n=n||[],!Array.isArray(t)&&!Ha(t)){O(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}O(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),O(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const r=e.slice(1);for(let s=0;s<t.length;++s)G8(t[s],r,n.concat(s))}function sL(t,e,n,r){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}}function U(t,e,n,r="numeric"){if(t instanceof Cn)return sL(r,t.dtype,e,n),t;let s=y0(t);if(s!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(s=r),sL(r,s,e,n),t==null||!Ha(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const u=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${u}'`)}const i=Tc(t,s);!Ha(t)&&!Array.isArray(t)&&(t=[t]);const a=s!=="string"?pd(t,s):df(t,[],!0);return j.makeTensor(a,i,s)}function fC(t,e,n,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((i,o)=>U(i,`${e}[${o}]`,n,r))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j8="__op";function G(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+j8;const s=(...i)=>{j.startScope(n);try{const o=r(...i);return ff(o)&&console.error("Cannot return a Promise inside of tidy."),j.endScope(o),o}catch(o){throw j.endScope(null),o}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mle(t,e){const n=U(t,"real","complex"),r=U(e,"imag","complex");bi(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const s={real:n,imag:r};return j.runKernel(RF,s)}const sc=G({complex_:Mle});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nc(t,e,n,r){if(r==null&&(r=y0(t)),r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Ha(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){N8(e);const s=de(e),i=de(n);O(s===i,()=>`Based on the provided shape, [${e}], the tensor should have ${s} values but has ${i}`);for(let o=0;o<n.length;++o){const a=n[o],u=o===n.length-1?a!==de(e.slice(o)):!0;O(n[o]===e[o]||!u,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!Ha(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=r!=="string"?pd(t,r):df(t,[],!0),j.makeTensor(t,e,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oa(t,e,n){const r=Tc(t,n);return Nc(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TS={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pC=4;async function NS(t,e){const n=[],r=[],s=Array.isArray(t)?t.map(o=>o.name):Object.keys(t);for(let o=0;o<s.length;++o){const a=s[o],u=Array.isArray(t)?t[o].tensor:t[a];if(u.dtype!=="float32"&&u.dtype!=="int32"&&u.dtype!=="bool"&&u.dtype!=="string"&&u.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${a}': ${u.dtype}`);const l={name:a,shape:u.shape,dtype:u.dtype};if(u.dtype==="string"){const c=new Promise(async A=>{const d=await u.bytes(),h=d.reduce((m,g)=>m+g.length,0)+pC*d.length,f=new Uint8Array(h);let p=0;for(let m=0;m<d.length;m++){const g=d[m],y=new Uint8Array(new Uint32Array([g.length]).buffer);f.set(y,p),p+=pC,f.set(g,p),p+=g.length}A(f)});r.push(c)}else r.push(u.data());e!=null&&(l.group=e),n.push(l)}const i=await Promise.all(r);return{data:Qle(i),specs:n}}function X8(t,e){const n={};let r,s=0;for(const i of e){const o=i.name,a=i.dtype,u=i.shape,l=de(u);let c;if("quantization"in i){const A=i.quantization;if(A.dtype==="uint8"||A.dtype==="uint16"){if(!("min"in A&&"scale"in A))throw new Error(`Weight ${i.name} with quantization ${A.dtype} doesn't have corresponding metadata min and scale.`)}else if(A.dtype==="float16"){if(a!=="float32")throw new Error(`Weight ${i.name} is quantized with ${A.dtype} which only supports weights of type float32 not ${a}.`)}else throw new Error(`Weight ${i.name} has unknown quantization dtype ${A.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const d=TS[A.dtype],h=t.slice(s,s+l*d),f=A.dtype==="uint8"?new Uint8Array(h):new Uint16Array(h);if(a==="float32")if(A.dtype==="uint8"||A.dtype==="uint16"){c=new Float32Array(f.length);for(let p=0;p<f.length;p++){const m=f[p];c[p]=m*A.scale+A.min}}else if(A.dtype==="float16")r===void 0&&(r=Gle()),c=r(f);else throw new Error(`Unsupported quantization type ${A.dtype} for weight type float32.`);else if(a==="int32"){if(A.dtype!=="uint8"&&A.dtype!=="uint16")throw new Error(`Unsupported quantization type ${A.dtype} for weight type int32.`);c=new Int32Array(f.length);for(let p=0;p<f.length;p++){const m=f[p];c[p]=Math.round(m*A.scale+A.min)}}else throw new Error(`Unsupported dtype in weight '${o}': ${a}`);s+=l*d}else if(a==="string"){const A=de(i.shape);c=[];for(let d=0;d<A;d++){const h=new Uint32Array(t.slice(s,s+pC))[0];s+=pC;const f=new Uint8Array(t.slice(s,s+h));c.push(f),s+=h}}else{const A=TS[a],d=t.slice(s,s+l*A);if(a==="float32")c=new Float32Array(d);else if(a==="int32")c=new Int32Array(d);else if(a==="bool")c=new Uint8Array(d);else if(a==="complex64"){c=new Float32Array(d);const h=new Float32Array(c.length/2),f=new Float32Array(c.length/2);for(let g=0;g<h.length;g++)h[g]=c[g*2],f[g]=c[g*2+1];const p=Oa(h,u,"float32"),m=Oa(f,u,"float32");n[o]=sc(p,m),p.dispose(),m.dispose()}else throw new Error(`Unsupported dtype in weight '${o}': ${a}`);s+=l*A}a!=="complex64"&&(n[o]=Oa(c,u,a))}return n}function Qle(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(i=>{if(e+=i.byteLength,n.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${i.constructor.name}`)});const r=new Uint8Array(e);let s=0;return n.forEach(i=>{r.set(new Uint8Array(i.buffer),s),s+=i.byteLength}),r.buffer}const __=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function iL(t){return __?Buffer.byteLength(t):new Blob([t]).size}function Hle(t){if(__)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let r=0,s=e.length;r<s;r++)n+=String.fromCharCode(e[r]);return btoa(n)}function Vle(t){if(__){const r=Buffer.from(t,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;++r)n.set([e.charCodeAt(r)],r);return n.buffer}function n2(t){if(t.length===1)return t[0];let e=0;t.forEach(s=>{e+=s.byteLength});const n=new Uint8Array(e);let r=0;return t.forEach(s=>{n.set(new Uint8Array(s),r),r+=s.byteLength}),n.buffer}function oL(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function q8(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function Y8(t,e,n){const r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=n}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),r}async function D_(t,e){let n,r;return t.weightsManifest!=null&&([n,r]=await e(t.weightsManifest)),Y8(t,n,r)}function fy(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:iL(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:iL(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:t.weightData.byteLength}}function J8(t){const e=[];for(const n of t)e.push(...n.weights);return e}function zle(){const t=n=>{let r=n<<13,s=0;for(;(r&8388608)===0;)s-=8388608,r<<=1;return r&=-8388609,s+=947912704,r|s},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function Kle(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function Wle(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function Gle(){const t=zle(),e=Kle(),n=Wle();return r=>{const s=new ArrayBuffer(4*r.length),i=new Uint32Array(s);for(let o=0;o<r.length;o++){const a=r[o],u=t[n[a>>10]+(a&1023)]+e[a>>10];i[o]=u}return new Float32Array(s)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kn{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return kn.instance==null&&(kn.instance=new kn),kn.instance}static registerSaveRouter(e){kn.getInstance().saveRouters.push(e)}static registerLoadRouter(e){kn.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return kn.getHandlers(e,"save")}static getLoadHandlers(e,n){return kn.getHandlers(e,"load",n)}static getHandlers(e,n,r){const s=[];return(n==="load"?kn.getInstance().loadRouters:kn.getInstance().saveRouters).forEach(o=>{const a=o(e,r);a!==null&&s.push(a)}),s}}const jle=t=>kn.registerSaveRouter(t),Xle=t=>kn.registerLoadRouter(t),Z8=t=>kn.getSaveHandlers(t),qle=(t,e)=>kn.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kS="tensorflowjs",FS=1,mA="models_store",Il="model_info_store";function eV(){if(!le().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function _S(t){const e=t.result;e.createObjectStore(mA,{keyPath:"modelPath"}),e.createObjectStore(Il,{keyPath:"modelPath"})}class WA{constructor(e){if(this.indexedDB=eV(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((r,s)=>{const i=this.indexedDB.open(kS,FS);i.onupgradeneeded=()=>_S(i),i.onsuccess=()=>{const o=i.result;if(n==null){const a=o.transaction(mA,"readonly"),l=a.objectStore(mA).get(this.modelPath);l.onsuccess=()=>{if(l.result==null)return o.close(),s(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(l.result.modelArtifacts)},l.onerror=c=>(o.close(),s(l.error)),a.oncomplete=()=>o.close()}else{const a=fy(n),u=o.transaction(Il,"readwrite");let l=u.objectStore(Il);const c=l.put({modelPath:this.modelPath,modelArtifactsInfo:a});let A;c.onsuccess=()=>{A=o.transaction(mA,"readwrite");const h=A.objectStore(mA).put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:a});h.onsuccess=()=>r({modelArtifactsInfo:a}),h.onerror=f=>{l=u.objectStore(Il);const p=l.delete(this.modelPath);p.onsuccess=()=>(o.close(),s(h.error)),p.onerror=m=>(o.close(),s(h.error))}},c.onerror=d=>(o.close(),s(c.error)),u.oncomplete=()=>{A==null?o.close():A.oncomplete=()=>o.close()}}},i.onerror=o=>s(i.error)})}}WA.URL_SCHEME="indexeddb://";const tV=t=>le().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(WA.URL_SCHEME)?Yle(t.slice(WA.URL_SCHEME.length)):null;kn.registerSaveRouter(tV);kn.registerLoadRouter(tV);function Yle(t){return new WA(t)}function Jle(t){return t.startsWith(WA.URL_SCHEME)?t.slice(WA.URL_SCHEME.length):t}class Zle{constructor(){this.indexedDB=eV()}async listModels(){return new Promise((e,n)=>{const r=this.indexedDB.open(kS,FS);r.onupgradeneeded=()=>_S(r),r.onsuccess=()=>{const s=r.result,i=s.transaction(Il,"readonly"),a=i.objectStore(Il).getAll();a.onsuccess=()=>{const u={};for(const l of a.result)u[l.modelPath]=l.modelArtifactsInfo;e(u)},a.onerror=u=>(s.close(),n(a.error)),i.oncomplete=()=>s.close()},r.onerror=s=>n(r.error)})}async removeModel(e){return e=Jle(e),new Promise((n,r)=>{const s=this.indexedDB.open(kS,FS);s.onupgradeneeded=()=>_S(s),s.onsuccess=()=>{const i=s.result,o=i.transaction(Il,"readwrite"),a=o.objectStore(Il),u=a.get(e);let l;u.onsuccess=()=>{if(u.result==null)return i.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const c=a.delete(e),A=()=>{l=i.transaction(mA,"readwrite");const h=l.objectStore(mA).delete(e);h.onsuccess=()=>n(u.result.modelArtifactsInfo),h.onerror=f=>r(u.error)};c.onsuccess=A,c.onerror=d=>(A(),i.close(),r(u.error))}},u.onerror=c=>(i.close(),r(u.error)),o.oncomplete=()=>{l==null?i.close():l.oncomplete=()=>i.close()}},s.onerror=i=>r(s.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const du="/",oh="tensorflowjs_models",nV="info",ece="model_topology",tce="weight_specs",nce="weight_data",rce="model_metadata";function rV(t){return{info:[oh,t,nV].join(du),topology:[oh,t,ece].join(du),weightSpecs:[oh,t,tce].join(du),weightData:[oh,t,nce].join(du),modelMetadata:[oh,t,rce].join(du)}}function sV(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function sce(t){const e=t.split(du);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(du)}function ice(t){return t.startsWith(GA.URL_SCHEME)?t.slice(GA.URL_SCHEME.length):t}class GA{constructor(e){if(!le().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=rV(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),s=fy(e);try{this.LS.setItem(this.keys.info,JSON.stringify(s)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,Hle(e.weightData));const i={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:s}}catch{throw sV(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${s.modelTopologyBytes}, weightSpecsBytes=${s.weightSpecsBytes}, weightDataBytes=${s.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const s=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(s==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=s;const i=this.LS.getItem(this.keys.modelMetadata);if(i!=null){const a=JSON.parse(i);n.format=a.format,n.generatedBy=a.generatedBy,n.convertedBy=a.convertedBy,a.signature!=null&&(n.signature=a.signature),a.userDefinedMetadata!=null&&(n.userDefinedMetadata=a.userDefinedMetadata),a.modelInitializer!=null&&(n.modelInitializer=a.modelInitializer),a.trainingConfig!=null&&(n.trainingConfig=a.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(o==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=Vle(o),n}}GA.URL_SCHEME="localstorage://";const iV=t=>le().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(GA.URL_SCHEME)?oce(t.slice(GA.URL_SCHEME.length)):null;kn.registerSaveRouter(iV);kn.registerLoadRouter(iV);function oce(t){return new GA(t)}class ace{constructor(){O(le().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),O(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=oh+du,r=du+nV;for(let s=0;s<this.LS.length;++s){const i=this.LS.key(s);if(i.startsWith(n)&&i.endsWith(r)){const o=sce(i);e[o]=JSON.parse(this.LS.getItem(i))}}return e}async removeModel(e){e=ice(e);const n=rV(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return sV(n),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vh="://";class gs{constructor(){this.managers={}}static getInstance(){return gs.instance==null&&(gs.instance=new gs),gs.instance}static registerManager(e,n){O(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(Vh)&&(e=e.slice(0,e.indexOf(Vh))),O(e.length>0,()=>"scheme must not be an empty string.");const r=gs.getInstance();O(r.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=n}static getManager(e){const n=gs.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(gs.getInstance().managers)}}function lw(t){if(t.indexOf(Vh)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${gs.getSchemes().join(",")}`);return{scheme:t.split(Vh)[0],path:t.split(Vh)[1]}}async function oV(t,e,n=!1){O(t!==e,()=>`Old path and new path are the same: '${t}'`);const r=kn.getLoadHandlers(t);O(r.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),O(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${t}.`);const s=r[0],i=kn.getSaveHandlers(e);O(i.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),O(i.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${e}.`);const o=i[0],a=lw(t).scheme,u=lw(t).path,l=a===lw(t).scheme,c=await s.load();n&&l&&await gs.getManager(a).removeModel(u);const A=await o.save(c);return n&&!l&&await gs.getManager(a).removeModel(u),A.modelArtifactsInfo}async function uce(){const t=gs.getSchemes(),e={};for(const n of t){const r=await gs.getManager(n).listModels();for(const s in r){const i=n+Vh+s;e[i]=r[s]}}return e}async function lce(t){const e=lw(t);return gs.getManager(e.scheme).removeModel(e.path)}async function cce(t,e){return oV(t,e,!1)}async function Ace(t,e){return oV(t,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dce{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(!window||!le().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const s=this.functionRefs[r.data.index];s(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}}if(le().get("IS_BROWSER")){le().setPlatform("browser",new dce);try{gs.registerManager(GA.URL_SCHEME,new ace)}catch{}try{gs.registerManager(WA.URL_SCHEME,new Zle)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hce={importFetch:()=>require("node-fetch")};let XI;class fce{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return le().global.fetch!=null?le().global.fetch(e,n):(XI==null&&(XI=hce.importFetch()),XI(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}}le().get("IS_NODE")&&!le().get("IS_BROWSER")&&le().setPlatform("node",new fce);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wt(t,e="float32",n){return e=e||"float32",N8(t),new Nr(t,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pce(t,e){const n=U(t,"x","cast");if(!sle(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},s={dtype:e};return j.runKernel(E0,r,s)}const _e=G({cast_:pce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gce(t){const n={x:U(t,"x","clone","string_or_numeric")};return j.runKernel(P0,n)}const bu=G({clone_:gce});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aV(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */z8();const mce={buffer:wt,cast:_e,clone:bu,print:aV};_le(mce);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yce="model",vce=".json",wce=".weights.bin";function aL(t){return new Promise(e=>setTimeout(e)).then(t)}class jA{constructor(e){if(!le().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(jA.URL_SCHEME)&&(e=e.slice(jA.URL_SCHEME.length)),(e==null||e.length===0)&&(e=yce),this.modelJsonFileName=e+vce,this.weightDataFileName=e+wce}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const r=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],s=q8(e,r),i=window.URL.createObjectURL(new Blob([JSON.stringify(s)],{type:"application/json"})),o=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(o.download=this.modelJsonFileName,o.href=i,await aL(()=>o.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const a=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;a.download=this.weightDataFileName,a.href=n,await aL(()=>a.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:fy(e)}}}}jA.URL_SCHEME="downloads://";class Cce{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const r=new FileReader;r.onload=s=>{const i=JSON.parse(s.target.result),o=i.modelTopology;if(o==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(i.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:o});return}const u=D_(i,l=>this.loadWeights(l));e(u)},r.onerror=s=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})}loadWeights(e){const n=[],r=[];for(const o of e)n.push(...o.weights),r.push(...o.paths);const s=this.checkManifestAndWeightFiles(e),i=r.map(o=>this.loadWeightsFile(o,s[o]));return Promise.all(i).then(o=>[n,n2(o)])}loadWeightsFile(e,n){return new Promise((r,s)=>{const i=new FileReader;i.onload=o=>{const a=o.target.result;r(a)},i.onerror=o=>s(`Failed to weights data from file of path '${e}'.`),i.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],r=this.weightsFiles.map(i=>oL(i.name)),s={};for(const i of e)i.paths.forEach(o=>{const a=oL(o);if(n.indexOf(a)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${a}'`);if(n.push(a),r.indexOf(a)===-1)throw new Error(`Weight file with basename '${a}' is not provided.`);s[o]=this.weightsFiles[r.indexOf(a)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return s}}const bce=t=>le().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(jA.URL_SCHEME)?xce(t.slice(jA.URL_SCHEME.length)):null;kn.registerSaveRouter(bce);function xce(t="model"){return new jA(t)}function Bce(t){return new Cce(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uL(t,e,n,r){o(t),n=n==null?0:n,r=r==null?1:r,a(n,r);let s=0;const i=u=>(u.then(l=>{const c=n+ ++s/t.length*(r-n);return e(c),l}),u);function o(u){O(u!=null&&Array.isArray(u)&&u.length>0,()=>"promises must be a none empty array")}function a(u,l){O(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${u}`),O(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${l}`),O(l>=u,()=>`startFraction must be no more than endFraction, but got startFraction ${u} and endFraction ${l}`)}return Promise.all(t.map(i))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function uV(t,e){e==null&&(e={});const n=e.fetchFunc==null?le().platform.fetch:e.fetchFunc,r=t.map(A=>n(A,e.requestInit,{isBinary:!0})),s=0,i=.5,a=(e.onProgress==null?await Promise.all(r):await uL(r,e.onProgress,s,i)).map(A=>A.arrayBuffer()),u=.5,l=1;return e.onProgress==null?await Promise.all(a):await uL(a,e.onProgress,u,l)}async function Ice(t,e="",n,r){return lV(o=>uV(o,{requestInit:r}))(t,e,n)}function lV(t){return async(e,n="",r)=>{const s=e.map(()=>!1),i={},o=r!=null?r.map(()=>!1):[],a=[];if(e.forEach((h,f)=>{let p=0;h.weights.forEach(m=>{const g="quantization"in m?m.quantization.dtype:m.dtype,y=TS[g]*de(m.shape),C=()=>{s[f]=!0,i[f]==null&&(i[f]=[]),i[f].push({manifestEntry:m,groupOffset:p,sizeBytes:y})};r!=null?r.forEach((b,B)=>{b===m.name&&(C(),o[B]=!0)}):C(),a.push(m.name),p+=y})}),!o.every(h=>h)){const h=r.filter((f,p)=>!o[p]);throw new Error(`Could not find weights in manifest with names: ${h.join(", ")}. 
Manifest JSON has weights with names: ${a.join(", ")}.`)}const u=s.reduce((h,f,p)=>(f&&h.push(p),h),[]),l=[];u.forEach(h=>{e[h].paths.forEach(f=>{const p=n+(n.endsWith("/")?"":"/")+f;l.push(p)})});const c=await t(l),A={};let d=0;return u.forEach(h=>{const f=e[h].paths.length;let p=0;for(let b=0;b<f;b++)p+=c[d+b].byteLength;const m=new ArrayBuffer(p),g=new Uint8Array(m);let y=0;for(let b=0;b<f;b++){const B=new Uint8Array(c[d+b]);g.set(B,y),y+=B.byteLength}i[h].forEach(b=>{const B=m.slice(b.groupOffset,b.groupOffset+b.sizeBytes),I=X8(B,[b.manifestEntry]);for(const w in I)A[w]=I[w]}),d+=f}),A}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ece="application/octet-stream",$ce="application/json";class R_{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(O(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=le().platform.fetch,O(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&O(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],s=q8(e,r);n.body.append("model.json",new Blob([JSON.stringify(s)],{type:$ce}),"model.json"),e.weightData!=null&&n.body.append("model.weights.bin",new Blob([e.weightData],{type:Ece}),"model.weights.bin");const i=await this.fetch(this.path,n);if(i.ok)return{modelArtifactsInfo:fy(e),responses:[i]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${i.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let o=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?o+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":o+=" Please make sure the server is serving valid JSON for this request.",new Error(o)}const r=n.modelTopology,s=n.weightsManifest;if(r==null&&s==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return D_(n,i=>this.loadWeights(i))}async loadWeights(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,s]=Sce(n),i=this.weightPathPrefix||r,o=J8(e),a=[],u=[];for(const c of e)for(const A of c.paths)this.weightUrlConverter!=null?u.push(this.weightUrlConverter(A)):a.push(i+A+s);this.weightUrlConverter&&a.push(...await Promise.all(u));const l=await uV(a,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[o,n2(l)]}}R_.URL_SCHEME_REGEX=/^https?:\/\//;function Sce(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),r=t.substring(0,e),s=n>e?t.substring(n):"";return[r+"/",s]}function DS(t){return t.match(R_.URL_SCHEME_REGEX)!=null}const cV=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(r=>DS(r)):n=DS(t),n)return O_(t,e)}return null};kn.registerSaveRouter(cV);kn.registerLoadRouter(cV);function O_(t,e){return new R_(t,e)}function Tce(t,e){return O_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qI{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class AV{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class Nce{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function kce(t,e,n,r){const s=arguments;return new Nce(dV(...s))}function dV(t,e,n,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new qI(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new qI({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new qI({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))}function Fce(t){return new AV(t)}function _ce(t){return new AV(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hV=Object.freeze(Object.defineProperty({__proto__:null,browserFiles:Bce,browserHTTPRequest:Tce,concatenateArrayBuffers:n2,decodeWeights:X8,encodeWeights:NS,fromMemory:kce,fromMemorySync:dV,getLoadHandlers:qle,getModelArtifactsForJSON:D_,getModelArtifactsForJSONSync:Y8,getModelArtifactsInfoForJSON:fy,getSaveHandlers:Z8,getWeightSpecs:J8,http:O_,isHTTPScheme:DS,loadWeights:Ice,registerLoadRouter:Xle,registerSaveRouter:jle,weightsLoaderFactory:lV,withSaveHandler:Fce,withSaveHandlerSync:_ce,copyModel:cce,listModels:uce,moveModel:Ace,removeModel:lce},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dce(t,e,n=!1,r=!1){let s=U(t,"a","matMul"),i=U(e,"b","matMul");[s,i]=Hn(s,i);const o={a:s,b:i},a={transposeA:n,transposeB:r};return j.runKernel(ox,o,a)}const Bt=G({matMul_:Dce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rce(t,e,n=1,r=0,s="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const o={indices:U(t,"indices","oneHot","int32")},a={dtype:s,depth:e,onValue:n,offValue:r};return j.runKernel(Ux,o,a)}const U_=G({oneHot_:Rce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ca(){return j}function RS(){return j.memory()}function ie(t,e){return j.tidy(t,e)}function vt(t){H8(t).forEach(n=>n.dispose())}function Vr(t){return j.keep(t)}function fV(t,e,n=1){return j.registerBackend(t,e,n)}function Oce(){return j.backend}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uce(t){const n={input:U(t,"input","imag")};return j.runKernel(ZF,n)}const r2=G({imag_:Uce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lce(t){const n={x:U(t,"x","neg")};return j.runKernel(Dx,n)}const En=G({neg_:Lce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pce(t){const n={input:U(t,"input","real")};return j.runKernel(d_,n)}const Cm=G({real_:Pce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mce(t,e,n){const r=U(t,"x","transpose");if(e==null&&(e=r.shape.map((o,a)=>a).reverse()),O(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${e}.`),e.forEach(o=>{O(o>=0&&o<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${e}`)}),r.rank<=1)return r.clone();const s={x:r},i={perm:e};return r.dtype==="complex64"?ie(()=>{let o=Cm(r),a=r2(r);return o=j.runKernel(Hh,{x:o},i),a=j.runKernel(Hh,{x:a},i),n&&(a=En(a)),sc(o,a)}):j.runKernel(Hh,s,i)}const Nt=G({transpose_:Mce});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mf(t,e){const n=t.length,r=[];for(let s=0;s<n;s++){const i=n-1-s,o=t[i]||1;(e[e.length-1-s]||1)>1&&o===1&&r.unshift(i)}return r}function wr(t,e){const n=[];for(let r=0;r<e.length;r++){const s=t[t.length-r-1],i=e.length-r-1,o=e[i];(s==null||s===1&&o>1)&&n.unshift(i)}return n}function ft(t,e){const n=[],r=Math.max(t.length,e.length);for(let s=0;s<r;s++){let i=t[t.length-s-1];i==null&&(i=1);let o=e[e.length-s-1];if(o==null&&(o=1),i===1)n.unshift(o);else if(o===1)n.unshift(i);else if(i!==o){const a=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(a)}else n.unshift(i)}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pV(t,e,n){if(zf(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=Tc(t,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Nc(t,e,r,n)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Gc;function Qce(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,s=!1,i=!1,o=!1,a=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)s=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)i=!0;else if(t.getContext!=null)o=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)a=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(CS(vS,j.backendName)!=null){const f={pixels:t},p={numChannels:e};return j.runKernel(vS,f,p)}const[l,c]=s?[t.videoWidth,t.videoHeight]:[t.width,t.height];let A;if(o)A=t.getContext("2d").getImageData(0,0,l,c).data;else if(r||n)A=t.data;else if(i||s||a){if(Gc==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Gc=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Gc=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Gc.canvas.width=l,Gc.canvas.height=c,Gc.drawImage(t,0,0,l,c),A=Gc.getImageData(0,0,l,c).data}let d;if(e===4)d=new Int32Array(A);else{const f=l*c;d=new Int32Array(f*e);for(let p=0;p<f;p++)for(let m=0;m<e;++m)d[p*e+m]=A[p*4+m]}return pV(d,[c,l,e],"int32")}const Hce=G({fromPixels_:Qce});function L_(t,e){const n=t.shape.length,r=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${n}`);if(de(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const s=e.shape,i=s[s.length-1];let o=1;for(let A=0;A<s.length-1;++A)o*=s[A];const a=t.shape,u=s.slice();u.pop();let l=1;for(let A=i;A<n;++A)l*=a[A],u.push(a[A]);const c=[...et(t.shape).map(A=>A/l),1].slice(0,i);return[u,o,l,c]}function gV(t,e,n){const r=e.rank>1?e.shape[e.rank-1]:1,s=e.rank>1?e.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${r}, and batchDim: ${s}.`;if(n.rank<s)throw new Error(i+` update.rank < ${s}. `);if(t.length<r+(n.rank-s))throw new Error(i+` Output shape length < ${r+(n.rank-s)}`);if(n.rank!==s+t.length-r)throw new Error(i+` update.rank != ${s+t.length-r}`);for(let o=0;o<s;++o)if(n.shape[o]!==e.shape[o])throw new Error(i+` updates.shape[${o}] (${n.shape[o]}) != indices.shape[${o}] (${e.shape[o]}).`);for(let o=0;o<n.rank-s;++o)if(n.shape[o+s]!==t[o+r])throw new Error(i+` updates.shape[${o+s}] (${n.shape[o+s]}) != shape[${o+s}] (${t[o+s]})`)}function mV(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}gV(n,e,t)}function py(t,e,n){const r=e.shape.length,s=r>1?e.shape[r-1]:1,i=n.length;let o=1;for(let A=s;A<i;++A)o*=n[A];const a=s<1?1:s,u=de(e.shape)/a,l=[...et(n.slice(0,s)),1],c=de(n);return{sliceRank:s,numUpdates:u,sliceSize:o,strides:l,outputSize:c}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OS=-2,Vce=-1;function P_(t,e,n){const r=t.shape.length;O(r===e.length,()=>`Error in slice${r}D: Length of begin ${e} must match the rank of the array (${r}).`),O(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let s=0;s<r;++s)O(e[s]+n[s]<=t.shape[s],()=>`Error in slice${r}D: begin[${s}] + size[${s}] (${e[s]+n[s]}) would overflow input.shape[${s}] (${t.shape[s]})`)}function zce(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function M_(t,e,n){const r=[];for(let s=0;s<t.length;s++)r[s]=Math.ceil((e[s]-t[s])/n[s]);return r}function yV(t,e,n,r){const s=[...t];for(let i=s.length;i<r.length;i++)s.push(1);for(let i=0;i<n;i++)i===0?s[e]=1:(s.splice(e,0,1),s.pop());return s}function vV(t,e,n){return n<=t?n:n-(e-1)}function wV(t,e){const n=[];for(let r=0;r<t;r++)n.push(e+r);return n}function Kce(t,e,n,r,s,i,o,a,u){const l=t.length;let c=new Array(l),A=new Array(l),d=new Array(l);if(e.length&&n>0){const h=e[0],f=n+1;c=CV(o,h,f,r,t),A=bV(a,h,f,s,t),d=yV(i,h,f,t)}else for(let h=0;h<l;h++)c[h]=BV(o,r,i,t,h,u),A[h]=IV(a,s,i,t,h,u),d[h]=xV(i,h,u);return{begin:c,end:A,strides:d}}function CV(t,e,n,r,s){const i=[...s],o=wV(n,e);for(let a=0;a<i.length;a++)if(o.indexOf(a)>-1)i[a]=0;else{const u=vV(e,n,a);let l=r[u];t&1<<u&&(l=0),i[a]=l}return i}function bV(t,e,n,r,s){const i=[...s],o=wV(n,e);for(let a=0;a<i.length;a++)if(o.indexOf(a)>-1)i[a]=Number.MAX_SAFE_INTEGER;else{const u=vV(e,n,a);let l=r[u];t&1<<u&&(l=Number.MAX_SAFE_INTEGER),i[a]=l}for(let a=0;a<i.length;a++){const u=s[a];i[a]<0&&(i[a]+=u),i[a]=KA(0,i[a],s[a])}return i}function xV(t,e,n){let r=t[e];return(n&1<<e||r==null)&&(r=1),r}function BV(t,e,n,r,s,i){let o=e[s];const a=n[s]||1;(t&1<<s||i&1<<s||o==null)&&(a>0?o=Number.MIN_SAFE_INTEGER:o=Number.MAX_SAFE_INTEGER);const u=r[s];return o<0&&(o+=u),o=KA(0,o,u-1),o}function IV(t,e,n,r,s,i){let o=e[s];const a=n[s]||1;(t&1<<s||i&1<<s||o==null)&&(a>0?o=Number.MAX_SAFE_INTEGER:o=Number.MIN_SAFE_INTEGER);const u=r[s];return o<0&&(o+=u),a>0?o=KA(0,o,u):o=KA(-1,o,u-1),o}function Q_(t,e,n){let r=n.length;for(let s=0;s<n.length;s++)if(n[s]>1){r=s;break}for(let s=r+1;s<n.length;s++)if(e[s]>0||n[s]!==t[s])return!1;return!0}function H_(t,e){let n=t.length>0?t[t.length-1]:1;for(let r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function s2(t,e,n){let r;const s=t.shape.length;typeof e=="number"?r=[e,...new Array(s-1).fill(0)]:e.length<s?r=e.concat(new Array(s-e.length).fill(0)):r=e.slice(),r.forEach(o=>{O(o!==-1,()=>"slice() does not support negative begin indexing.")});let i;return n==null?i=new Array(s).fill(-1):typeof n=="number"?i=[n,...new Array(s-1).fill(-1)]:n.length<s?i=n.concat(new Array(s-n.length).fill(-1)):i=n,i=i.map((o,a)=>o>=0?o:(O(o===-1,()=>`Negative size values should be exactly -1 but got ${o} for the slice() size at index ${a}.`),t.shape[a]-r[a])),[r,i]}function V_(t,e,n,r,s,i,o,a,u){let l;if(r==null?(l=new Array(e.length),l.fill(1)):l=r,o!=null&&(o&o-1)!==0)throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const A={dims:l.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:l.slice(),beginMask:s,endMask:i,ellipsisMask:o,newAxisMask:a,shrinkAxisMask:u};for(let C=0;C<A.dims;C++)c&&(1<<C&a)!==0&&A.numAddAxisAfterEllipsis++,1<<C&o&&(c=!0);c||(A.ellipsisMask|=1<<A.dims,A.dims++);const d={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};Wce(A,d);let h=!0,f=!0,p=!0;const m=[],g=[];for(let C=0;C<t.length;++C){if(d.strides[C]===0)throw Error(`strides[${C}] must be non-zero`);const b=!!(d.shrinkAxisMask&1<<C),B=t[C];if(B===-1){m.push(b?1:-1);continue}const I=[d.beginMask&1<<C,d.endMask&1<<C],w=[d.strides[C]>0?0:-1,d.strides[C]>0?B:B-1];if(b&&d.strides[C]<=0)throw Error("only stride 1 allowed on non-range indexing.");p=p&&d.strides[C]===1;const $=!!(d.beginMask&1<<C&&d.endMask&1<<C);if(d.beginValid&&d.endValid){if(b){const P=d.begin[C]<0?B+d.begin[C]:d.begin[C];if(d.begin[C]=P,d.end[C]=d.begin[C]+1,P<0||P>=B)throw Error(`slice index ${d.begin[C]} of dimension ${C} out of bounds.`)}else d.begin[C]=lL(d.begin[C],0,d.strides[C],B,I,w),d.end[C]=lL(d.end[C],1,d.strides[C],B,I,w);const R=d.strides[C]===1&&d.begin[C]===0&&d.end[C]===B;h=h&&R,f=f&&(C===0&&d.strides[C]===1||R)}else h=h&&d.strides[C]===1&&$,f=f&&(C===0&&d.strides[C]===1||$);let T,_=!1;if(d.beginValid&&d.endValid?(T=d.end[C]-d.begin[C],_=!0):b?(T=1,_=!0):$&&B>=0&&(d.strides[C]<0?T=-B:T=B,_=!0),_){let R;T===0||T<0!=d.strides[C]<0?R=0:R=Math.trunc(T/d.strides[C])+(T%d.strides[C]!==0?1:0),m.push(R)}else m.push(-1)}for(let C=0;C<d.finalShapeGatherIndices.length;++C){const b=d.finalShapeGatherIndices[C];b>=0?g.push(m[b]):b===OS&&g.push(1)}return{finalShapeSparse:g.filter((C,b)=>d.finalShapeGatherIndices[b]!==OS),finalShape:g,isIdentity:h,sliceDim0:f,isSimpleSlice:p,begin:d.begin,end:d.end,strides:d.strides}}function Wce(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let r=0;r<t.dims;r++)if(1<<r&t.ellipsisMask){const s=Math.min(e.dims-(t.dims-r)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<s;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&t.newAxisMask)e.finalShapeGatherIndices.push(OS),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[r]),t.end!=null&&(e.end[n]=t.end[r]),e.strides[n]=t.strides[r],t.beginMask&1<<r&&(e.beginMask|=1<<n),t.endMask&1<<r&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<r?(e.finalShapeGatherIndices.push(Vce),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(r)),e.inputShapeGatherIndicesSparse[n]=r,n++}}function lL(t,e,n,r,s,i){if(s[e])return n>0?i[e]:i[e+1&1];{const o=t<0?r+t:t;return o<i[0]?i[0]:o>i[1]?i[1]:o}}const Gce=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:P_,maskToAxes:zce,computeOutShape:M_,stridesWithElidedDims:yV,getNormalizedAxes:Kce,startIndicesWithElidedDims:CV,stopIndicesWithElidedDims:bV,stridesForAxis:xV,startForAxis:BV,stopForAxis:IV,isSliceContinous:Q_,computeFlatOffset:H_,parseSliceParams:s2,sliceInfo:V_},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Gf{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class uo{constructor(){this.classNameMap={}}static getMap(){return uo.instance==null&&(uo.instance=new uo),uo.instance}static register(e){uo.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function we(t){O(t.className!=null,()=>"Class being registered does not have the static className property defined."),O(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),O(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),uo.register(t)}/** @license See the LICENSE file. *//**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jce(t,e){let n=U(t,"a","add"),r=U(e,"b","add");[n,r]=Hn(n,r);const s={a:n,b:r};return j.runKernel(Wf,s)}const Ce=G({add_:jce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xce(t,e){let n=U(t,"a","floorDiv"),r=U(e,"b","floorDiv");[n,r]=Hn(n,r);const s={a:n,b:r};return j.runKernel(U0,s)}const z_=G({floorDiv_:Xce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qce(t,e){let n=U(t,"a","div"),r=U(e,"b","div");if([n,r]=Hn(n,r),n.dtype==="int32"&&r.dtype==="int32")return z_(n,r);const s={a:n,b:r},i={};return j.runKernel(k0,s,i)}const Je=G({div_:qce});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yce(t,e){let n=U(t,"a","mul"),r=U(e,"b","mul");[n,r]=Hn(n,r);const s={a:n,b:r};return j.runKernel(j0,s)}const X=G({mul_:Yce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jce(t){const e=U(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return j.runKernel(ux,n)}else{const n={x:e};return j.runKernel(ex,n)}}const ur=G({abs_:Jce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zce(t){const n={x:U(t,"x","acos")};return j.runKernel(v0,n)}const EV=G({acos_:Zce});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eAe(t){const n={x:U(t,"x","acosh")};return j.runKernel(w0,n)}const $V=G({acosh_:eAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tAe(t){O(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),O(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((s,i)=>U(s,`tensors${i}`,"addN")),n=e[0];e.forEach(s=>{if(s.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(s=>{if(!Ut(s.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=e;return j.runKernel(tx,r)}const nAe=G({addN_:tAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rAe(t,e=null,n=!1){const s={x:U(t,"x","all","bool")},i={axis:e,keepDims:n};return j.runKernel(TF,s,i)}const K_=G({all_:rAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sAe(t,e=null,n=!1){const s={x:U(t,"x","any","bool")},i={axis:e,keepDims:n};return j.runKernel(NF,s,i)}const gC=G({any_:sAe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iAe(t,e=0){const r={x:U(t,"x","argMax")},s={axis:e};return j.runKernel(nx,r,s)}const yf=G({argMax_:iAe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oAe(t,e=0){const r={x:U(t,"x","argMin")},s={axis:e};return j.runKernel(rx,r,s)}const SV=G({argMin_:oAe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aAe(t){const n={x:U(t,"x","asin")};return j.runKernel(C0,n)}const TV=G({asin_:aAe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uAe(t){const n={x:U(t,"x","asinh")};return j.runKernel(b0,n)}const NV=G({asinh_:uAe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lAe(t){const n={x:U(t,"x","atan")};return j.runKernel(x0,n)}const kV=G({atan_:lAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cAe(t,e){let n=U(t,"a","atan2"),r=U(e,"b","atan2");[n,r]=Hn(n,r);const s={a:n,b:r};return j.runKernel(I0,s)}const FV=G({atan2_:cAe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AAe(t){const n={x:U(t,"x","atanh")};return j.runKernel(B0,n)}const _V=G({atanh_:AAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gy(t,e,n,r,s="NHWC",i){const o=t[3],a=[...e,o],u=ju(s);return Rr(t,a,n,i,r,null,null,u)}function So(t,e,n,r,s,i,o="channelsLast"){const[a,u]=mC(e);let l;if(o==="channelsLast")l=[a,u,t[3],t[3]];else if(o==="channelsFirst")l=[a,u,t[1],t[1]];else throw new Error(`Unknown dataFormat ${o}`);return Rr(t,l,n,r,s,i,!1,o)}function Gu(t,e,n,r,s,i,o="NDHWC"){const[a,u,l]=US(e);let c,A;if(o==="NDHWC")A="channelsLast",c=[a,u,l,t[4],t[4]];else if(o==="NCDHW")A="channelsFirst",c=[a,u,l,t[1],t[1]];else throw new Error(`Unknown dataFormat ${o}`);return kc(t,c,n,r,s,!1,A,i)}function Rr(t,e,n,r,s,i,o=!1,a="channelsLast"){let[u,l,c,A]=[-1,-1,-1,-1];if(a==="channelsLast")[u,l,c,A]=t;else if(a==="channelsFirst")[u,A,l,c]=t;else throw new Error(`Unknown dataFormat ${a}`);const[d,h,,f]=e,[p,m]=mC(n),[g,y]=mC(r),C=zh(d,g),b=zh(h,y),{padInfo:B,outHeight:I,outWidth:w}=fAe(s,l,c,p,m,C,b,i,a),$=o?f*A:f;let T;return a==="channelsFirst"?T=[u,$,I,w]:a==="channelsLast"&&(T=[u,I,w,$]),{batchSize:u,dataFormat:a,inHeight:l,inWidth:c,inChannels:A,outHeight:I,outWidth:w,outChannels:$,padInfo:B,strideHeight:p,strideWidth:m,filterHeight:d,filterWidth:h,effectiveFilterHeight:C,effectiveFilterWidth:b,dilationHeight:g,dilationWidth:y,inShape:t,outShape:T,filterShape:e}}function kc(t,e,n,r,s,i=!1,o="channelsLast",a){let[u,l,c,A,d]=[-1,-1,-1,-1,-1];if(o==="channelsLast")[u,l,c,A,d]=t;else if(o==="channelsFirst")[u,d,l,c,A]=t;else throw new Error(`Unknown dataFormat ${o}`);const[h,f,p,,m]=e,[g,y,C]=US(n),[b,B,I]=US(r),w=zh(h,b),$=zh(f,B),T=zh(p,I),{padInfo:_,outDepth:R,outHeight:P,outWidth:L}=pAe(s,l,c,A,g,y,C,w,$,T,a),z=i?m*d:m;let V;return o==="channelsFirst"?V=[u,z,R,P,L]:o==="channelsLast"&&(V=[u,R,P,L,z]),{batchSize:u,dataFormat:o,inDepth:l,inHeight:c,inWidth:A,inChannels:d,outDepth:R,outHeight:P,outWidth:L,outChannels:z,padInfo:_,strideDepth:g,strideHeight:y,strideWidth:C,filterDepth:h,filterHeight:f,filterWidth:p,effectiveFilterDepth:w,effectiveFilterHeight:$,effectiveFilterWidth:T,dilationDepth:b,dilationHeight:B,dilationWidth:I,inShape:t,outShape:V,filterShape:e}}function dAe(t,e,n,r,s){r==null&&(r=W_(t,e,n));const i=t[0],o=t[1],a=$A((i-e+2*r)/n+1,s),u=$A((o-e+2*r)/n+1,s);return[a,u]}function hAe(t,e,n,r,s,i){s==null&&(s=W_(t,e,r));const o=t[0],a=t[1],u=t[2],l=$A((o-e+2*s)/r+1,i),c=$A((a-e+2*s)/r+1,i),A=$A((u-e+2*s)/r+1,i);return[l,c,A,n]}function W_(t,e,n,r=1){const s=zh(e,r);return Math.floor((t[0]*(n-1)-n+s)/2)}function mC(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function US(t){return typeof t=="number"?[t,t,t]:t}function zh(t,e){return e<=1?t:t+(t-1)*(e-1)}function fAe(t,e,n,r,s,i,o,a,u){let l,c,A;if(typeof t=="number"){l={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const h=dAe([e,n],i,r,t,a);c=h[0],A=h[1]}else if(t==="same"){c=Math.ceil(e/r),A=Math.ceil(n/s);const d=Math.max(0,(c-1)*r+i-e),h=Math.max(0,(A-1)*s+o-n),f=Math.floor(d/2),p=d-f,m=Math.floor(h/2),g=h-m;l={top:f,bottom:p,left:m,right:g,type:"SAME"}}else if(t==="valid")l={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((e-i+1)/r),A=Math.ceil((n-o+1)/s);else if(typeof t=="object"){const d=u==="channelsLast"?t[1][0]:t[2][0],h=u==="channelsLast"?t[1][1]:t[2][1],f=u==="channelsLast"?t[2][0]:t[3][0],p=u==="channelsLast"?t[2][1]:t[3][1];l={top:d,bottom:h,left:f,right:p,type:d===0&&h===0&&f===0&&p===0?"VALID":"EXPLICIT"},c=$A((e-i+d+h)/r+1,a),A=$A((n-o+f+p)/s+1,a)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:l,outHeight:c,outWidth:A}}function pAe(t,e,n,r,s,i,o,a,u,l,c){let A,d,h,f;if(typeof t=="number"){A={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const m=hAe([e,n,r,1],a,1,s,t,c);d=m[0],h=m[1],f=m[2]}else if(t==="same"){d=Math.ceil(e/s),h=Math.ceil(n/i),f=Math.ceil(r/o);const p=(d-1)*s+a-e,m=(h-1)*i+u-n,g=(f-1)*o+l-r,y=Math.floor(p/2),C=p-y,b=Math.floor(m/2),B=m-b,I=Math.floor(g/2),w=g-I;A={top:b,bottom:B,left:I,right:w,front:y,back:C,type:"SAME"}}else if(t==="valid")A={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},d=Math.ceil((e-a+1)/s),h=Math.ceil((n-u+1)/i),f=Math.ceil((r-l+1)/o);else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:A,outDepth:d,outHeight:h,outWidth:f}}function $A(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function ic(t){const[e,n,r]=mC(t);return e===1&&n===1&&r===1}function Gr(t,e){return ic(t)||ic(e)}function ju(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function _s(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")O(hf(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(r=>{r.forEach(s=>{O(hf(s),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${s}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gAe(t,e){const r={x:U(t,"x","reshape","string_or_numeric")},s={shape:e};return j.runKernel(Hx,r,s)}const Y=G({reshape_:gAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mAe(t,e,n,r,s){const i=U(t,"x","avgPool","float32"),o=1;O(Gr(n,o),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);let a=i,u=!1;i.rank===3&&(u=!0,a=Y(i,[1,i.shape[0],i.shape[1],i.shape[2]])),O(a.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${a.rank}.`),_s("avgPool",r,s);const l={x:a},c={filterSize:e,strides:n,pad:r,dimRoundingMode:s};let A=j.runKernel(sx,l,c);return A=_e(A,i.dtype),u?Y(A,[A.shape[1],A.shape[2],A.shape[3]]):A}const i2=G({avgPool_:mAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yAe(t,e,n,r,s,i="NDHWC"){const o=U(t,"x","avgPool3d","float32");let a=o,u=!1;o.rank===4&&(u=!0,a=Y(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),O(a.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${a.rank}.`),O(i==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),_s("avgPool3d",r,s);const l={x:a},c={filterSize:e,strides:n,pad:r,dimRoundingMode:s,dataFormat:i};let A=j.runKernel(ix,l,c);return A=_e(A,a.dtype),u?Y(A,[A.shape[1],A.shape[2],A.shape[3],A.shape[4]]):A}const DV=G({avgPool3d_:yAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vAe(t,e=0){O(t.length>=1,()=>"Pass at least one tensor to concat");const n=fC(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(i=>{if(i.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${i.dtype}. `)}),n.length===1)return bu(n[0]);const r=n,s={axis:e};return j.runKernel(lx,r,s)}const sr=G({concat_:vAe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wAe(t){const n={x:U(t,"x","sigmoid","float32")};return j.runKernel(iy,n)}const Ua=G({sigmoid_:wAe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CAe(t,e,n){const r=U(t,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const s={x:r},i={begin:e,size:n};return j.runKernel(Gx,s,i)}const Dt=G({slice_:CAe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bAe(t){const n={x:U(t,"x","tanh","float32")};return j.runKernel(Ay,n)}const vf=G({tanh_:bAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xAe(t,e,n,r,s,i){const o=U(t,"forgetBias","basicLSTMCell"),a=U(e,"lstmKernel","basicLSTMCell"),u=U(n,"lstmBias","basicLSTMCell"),l=U(r,"data","basicLSTMCell"),c=U(s,"c","basicLSTMCell"),A=U(i,"h","basicLSTMCell"),d=sr([l,A],1),h=Bt(d,a),f=Ce(h,u),p=f.shape[0],m=f.shape[1]/4,g=[p,m],y=Dt(f,[0,0],g),C=Dt(f,[0,m],g),b=Dt(f,[0,m*2],g),B=Dt(f,[0,m*3],g),I=Ce(X(Ua(y),vf(C)),X(c,Ua(Ce(o,b)))),w=X(vf(I),Ua(B));return[I,w]}const BAe=G({basicLSTMCell_:xAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IAe(t,e,n){const r=U(t,"x","batchToSpaceND"),s=e.reduce((a,u)=>a*u);O(r.rank>=1+e.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${e.length}`),O(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),O(r.shape[0]%s===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${s}`);const i={x:r},o={blockShape:e,crops:n};return j.runKernel(ax,i,o)}const o2=G({batchToSpaceND_:IAe});function EAe(t){let e;return t.rank===0||t.rank===1?e=Y(t,[1,1,1,t.size]):t.rank===2?e=Y(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=Y(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Ae(t,e,n,r,s,i){i==null&&(i=.001);const o=U(t,"x","batchNorm"),a=U(e,"mean","batchNorm"),u=U(n,"variance","batchNorm");let l;s!=null&&(l=U(s,"scale","batchNorm"));let c;r!=null&&(c=U(r,"offset","batchNorm")),O(a.rank===u.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),O(c==null||a.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),O(l==null||a.rank===l.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const d={x:EAe(o),scale:l,offset:c,mean:a,variance:u},h={varianceEpsilon:i},f=j.runKernel(yx,d,h);return Y(f,o.shape)}const my=G({batchNorm_:$Ae});function SAe(t,e,n,r,s,i){const o=U(t,"x","batchNorm"),a=U(e,"mean","batchNorm"),u=U(n,"variance","batchNorm");let l;s!=null&&(l=U(s,"scale","batchNorm"));let c;return r!=null&&(c=U(r,"offset","batchNorm")),O(o.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${o.rank}.`),O(a.rank===2||a.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${a.rank}.`),O(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${u.rank}.`),l!=null&&O(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${l.rank}.`),c!=null&&O(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`),my(o,a,u,c,l,i)}const RV=G({batchNorm2d_:SAe});function TAe(t,e,n,r,s,i){const o=U(t,"x","batchNorm"),a=U(e,"mean","batchNorm"),u=U(n,"variance","batchNorm");let l;s!=null&&(l=U(s,"scale","batchNorm"));let c;return r!=null&&(c=U(r,"offset","batchNorm")),O(o.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${o.rank}.`),O(a.rank===3||a.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${a.rank}.`),O(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${u.rank}.`),l!=null&&O(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${l.rank}.`),c!=null&&O(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`),my(o,a,u,c,l,i)}const OV=G({batchNorm3d_:TAe});function NAe(t,e,n,r,s,i){const o=U(t,"x","batchNorm"),a=U(e,"mean","batchNorm"),u=U(n,"variance","batchNorm");let l;s!=null&&(l=U(s,"scale","batchNorm"));let c;return r!=null&&(c=U(r,"offset","batchNorm")),O(o.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${o.rank}.`),O(a.rank===4||a.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${a.rank}.`),O(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${u.rank}.`),l!=null&&O(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${l.rank}.`),c!=null&&O(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`),my(o,a,u,c,l,i)}const UV=G({batchNorm4d_:NAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kAe(t,e,n){const r=U(t,"x","bincount"),s=U(e,"weights","bincount");O(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),O(n>=0,()=>`size must be non-negative, but got ${n}.`),O(s.size===r.size||s.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${s.shape}.`);const i={x:r,weights:s},o={size:n};return j.runKernel(_F,i,o)}const LV=G({bincount_:kAe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FAe(t,e){const n=U(t,"s0","broadcastArgs","int32"),r=U(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const s={s0:n,s1:r};return j.runKernel(DF,s)}const _Ae=G({broadcastArgs_:FAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DAe(t,e){let n=U(t,"broadcastTo","x");const r=n.shape;if(e.some(l=>!(l>0)||l%1!==0))throw new Error(`broadcastTo(): Invalid broadcast shape [${e}].`);if(e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const l=n.shape.slice();for(;l.length<e.length;)l.unshift(1);n=Y(n,l)}const s=n.shape,i=Array.from(e);for(let l=e.length-1;l>=0;l--)if(s[l]===e[l])i[l]=1;else if(n.shape[l]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${e}].`);if(i.map((l,c)=>l>1?c:-1).filter(l=>l>=0).length===0)return bu(n);const a={x:n},u={reps:i};return j.runKernel(dy,a,u)}const Kh=G({broadcastTo_:DAe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RAe(t){const n={x:U(t,"x","ceil","float32")};return j.runKernel($0,n)}const PV=G({ceil_:RAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jf(t,e,n){const r={shape:t,value:e,dtype:n};return j.runKernel(XF,{},r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OAe(t,e,n){const r=U(t,"x","clipByValue");if(O(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return jf(r.shape,e,r.dtype);const s={x:r},i={clipValueMin:e,clipValueMax:n};return j.runKernel(S0,s,i)}const vi=G({clipByValue_:OAe});function UAe(t){return sr(t,0)}const MV=G({concat1d_:UAe});function LAe(t,e){return sr(t,e)}const QV=G({concat2d_:LAe});function PAe(t,e){return sr(t,e)}const HV=G({concat3d_:PAe});function MAe(t,e){return sr(t,e)}const VV=G({concat4d_:MAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QAe(t,e,n,r,s="NHWC",i=[1,1],o){const a=U(t,"x","conv2d","float32"),u=U(e,"filter","conv2d","float32");let l=a,c=!1;a.rank===3&&(c=!0,l=Y(a,[1,a.shape[0],a.shape[1],a.shape[2]])),O(l.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${l.rank}.`),O(u.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${u.rank}.`),_s("conv2d",r,o);const A=s==="NHWC"?l.shape[3]:l.shape[1];O(A===u.shape[2],()=>`Error in conv2d: depth of input (${A}) must match input depth for filter ${u.shape[2]}.`),O(Gr(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);const d={x:l,filter:u},h={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:o},f=j.runKernel(cx,d,h);return c?Y(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const oc=G({conv2d_:QAe});function HAe(t,e,n,r,s="NWC",i=1,o){const a=U(t,"x","conv1d"),u=U(e,"filter","conv1d");let l=a,c=!1;a.rank===2&&(c=!0,l=Y(a,[1,a.shape[0],a.shape[1]])),O(l.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${l.rank}.`),O(u.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${u.rank}.`),_s("conv1d",r,o),O(l.shape[2]===u.shape[1],()=>`Error in conv1d: depth of input (${l.shape[2]}) must match input depth for filter ${u.shape[1]}.`),O(Gr(n,i),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${i}'`),O(s==="NWC",()=>`Error in conv1d: got dataFormat of ${s} but only NWC is currently supported.`);const A=Y(u,[1,u.shape[0],u.shape[1],u.shape[2]]),d=Y(l,[l.shape[0],1,l.shape[1],l.shape[2]]),m=oc(d,A,[1,n],r,"NHWC",[1,i],o);return c?Y(m,[m.shape[2],m.shape[3]]):Y(m,[m.shape[0],m.shape[2],m.shape[3]])}const G_=G({conv1d_:HAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VAe(t,e,n,r,s,i="NHWC",o){O(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let a=t,u=e,l=!1;e.rank===3&&(l=!0,u=Y(e,[1,e.shape[0],e.shape[1],e.shape[2]]),a=[1,t[0],t[1],t[2]]),O(a.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${a.length}.`),O(u.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${u.rank}`),O(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const c=i==="NHWC"?a[3]:a[1],A=i==="NHWC"?u.shape[3]:u.shape[1];O(c===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`),O(A===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${A}) must match output depth for filter ${n.shape[3]}.`),_s("conv2dDerInput",s,o);const d={dy:u,filter:n},h={strides:r,pad:s,dataFormat:i,dimRoundingMode:o,inputShape:a},f=j.runKernel(Ax,d,h);return l?Y(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const j_=G({conv2DBackpropInput_:VAe});function zAe(t,e,n,r,s,i){const o=U(t,"x","conv2dTranspose"),a=U(e,"filter","conv2dTranspose");return j_(n,o,a,r,s,"NHWC",i)}const X_=G({conv2dTranspose_:zAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KAe(t,e,n,r,s="NDHWC",i=[1,1,1]){const o=U(t,"x","conv3d"),a=U(e,"filter","conv3d");let u=o,l=!1;o.rank===4&&(l=!0,u=Y(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),O(u.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${u.rank}.`),O(a.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${a.rank}.`),O(u.shape[4]===a.shape[3],()=>`Error in conv3d: depth of input (${u.shape[4]}) must match input depth for filter ${a.shape[3]}.`),O(Gr(n,i),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),O(s==="NDHWC",()=>`Error in conv3d: got dataFormat of ${s} but only NDHWC is currently supported.`);const c={x:u,filter:a},A={strides:n,pad:r,dataFormat:s,dilations:i},d=j.runKernel(dx,c,A);return l?Y(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const zV=G({conv3d_:KAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WAe(t,e,n,r,s){O(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let i=t,o=e,a=!1;e.rank===4&&(a=!0,o=Y(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),i=[1,t[0],t[1],t[2],t[3]]);const u=i[4],l=o.shape[4];O(i.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`),O(o.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${o.rank}`),O(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),O(u===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${u}) must match input depth for filter ${n.shape[3]}.`),O(l===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${l}) must match output depth for filter ${n.shape[4]}.`);const c={dy:o,filter:n},A={pad:s,strides:r,inputShape:i},d=j.runKernel(LF,c,A);return a?Y(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const KV=G({conv3DBackpropInput_:WAe});function GAe(t,e,n,r,s){const i=U(t,"x","conv3dTranspose"),o=U(e,"filter","conv3dTranspose");return KV(n,i,o,r,s)}const WV=G({conv3dTranspose_:GAe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jAe(t){const n={x:U(t,"x","cos","float32")};return j.runKernel(T0,n)}const a2=G({cos_:jAe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XAe(t){const n={x:U(t,"x","cosh","float32")};return j.runKernel(N0,n)}const q_=G({cosh_:XAe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qAe(t,e=0,n=!1,r=!1){const i={x:U(t,"x","cumprod")},o={axis:e,exclusive:n,reverse:r};return j.runKernel(PF,i,o)}const yC=G({cumprod_:qAe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YAe(t,e=0,n=!1,r=!1){const i={x:U(t,"x","cumsum")},o={axis:e,exclusive:n,reverse:r};return j.runKernel(hx,i,o)}const Y_=G({cumsum_:YAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JAe(t,e,n,r=!1){const s=U(t,"x","denseBincount"),i=U(e,"weights","denseBincount");O(s.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${s.dtype}`),O(s.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${s.rank}.`),O(n>=0,()=>`size must be non-negative, but got ${n}.`),O(i.size===s.size||i.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${s.shape}, weights shape: ${i.shape}.`);const o={x:s,weights:i},a={size:n,binaryOutput:r};return j.runKernel(QF,o,a)}const ZAe=G({denseBincount_:JAe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ede(t,e,n="NHWC"){const r=U(t,"x","depthToSpace","float32"),s=n==="NHWC"?r.shape[1]:r.shape[2],i=n==="NHWC"?r.shape[2]:r.shape[3],o=n==="NHWC"?r.shape[3]:r.shape[1];O(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),O(s*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${e}  for depthToSpace with input shape
    ${r.shape}`),O(i*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${i} and ${e} for depthToSpace with input shape
        ${r.shape}`),O(o%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${o} for depthToSpace with input shape ${r.shape}`);const a={x:r},u={blockSize:e,dataFormat:n};return j.runKernel(HF,a,u)}const GV=G({depthToSpace_:ede});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tde(t,e,n,r,s="NHWC",i=[1,1],o){const a=U(t,"x","depthwiseConv2d","float32"),u=U(e,"filter","depthwiseConv2d","float32");let l=a,c=!1;a.rank===3&&(c=!0,l=Y(a,[1,a.shape[0],a.shape[1],a.shape[2]])),O(l.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${l.rank}.`),O(u.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${u.rank}.`);const A=s==="NHWC"?l.shape[3]:l.shape[1];O(A===u.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${A}) must match the inChannels dimension in filter ${u.shape[2]}.`),_s("depthwiseConv2d",r,o);const d={x:l,filter:u},h={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:o},f=j.runKernel(fx,d,h);return c?Y(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const yy=G({depthwiseConv2d_:tde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nde(t){const n={x:U(t,"x","diag")};return j.runKernel(KF,n)}const rde=G({diag_:nde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sde(t,e,n,r,s=[1,1],i="NHWC"){const o=U(t,"x","dilation2d"),a=U(e,"filter","dilation2d");O(o.rank===3||o.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${o.rank}.`),O(a.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${a.rank}.`),O(i==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`);let u=o,l=!1;o.rank===3&&(u=Y(o,[1,o.shape[0],o.shape[1],o.shape[2]]),l=!0);const c={x:u,filter:a},A={strides:n,pad:r,dilations:s},d=j.runKernel(px,c,A);return l?Y(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const jV=G({dilation2d_:sde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ide(t,e){let n=U(t,"a","equal","string_or_numeric"),r=U(e,"b","equal","string_or_numeric");[n,r]=Hn(n,r),ft(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(gx,s)}const na=G({equal_:ide});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ode(t,e,n){const r=U(e,"a","where"),s=U(n,"b","where"),i=U(t,"condition","where","bool"),o=ft(ft(i.shape,r.shape),s.shape),a=Kh(i,o),u=Kh(r,o),l=Kh(s,o),c={condition:a,t:u,e:l};return j.runKernel(Wx,c)}const Gs=G({where_:ode});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ade(t){const n={x:U(t,"x","zerosLike")};return j.runKernel(e2,n)}const Ot=G({zerosLike_:ade});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ude(t,e){let n=U(t,"a","div"),r=U(e,"b","div");[n,r]=Hn(n,r);const s=Je(n,r),i=Ot(s),o=na(r,i);return Gs(o,i,s)}const XV=G({divNoNan_:ude});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lde(t,e){const n=U(t,"t1","dot"),r=U(e,"t2","dot");O((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const s=n.rank===1?n.size:n.shape[1],i=r.rank===1?r.size:r.shape[0];if(O(s===i,()=>`Error in dot: inner dimensions of inputs must match, but got ${s} and ${i}.`),n.rank===1&&r.rank===1){const o=Y(n,[1,-1]),a=Y(r,[-1,1]),u=Bt(o,a);return Y(u,[])}else if(n.rank===1&&r.rank===2){const o=Y(n,[1,-1]),a=Y(r,[r.shape[0],r.shape[1]]),u=Bt(o,a);return Y(u,[u.size])}else if(n.rank===2&&r.rank===1){const o=Y(r,[-1,1]),a=Bt(n,o);return Y(a,[a.size])}else{const o=Y(r,[r.shape[0],r.shape[1]]);return Bt(n,o)}}const qV=G({dot_:lde});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cde(t,...e){const n=e.map((s,i)=>U(s,`tensors${i}`,"einsum")),r={equation:t};return j.runKernel(WF,n,r)}const Ade=G({einsum_:cde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dde(t){const n={x:U(t,"x","elu","float32")};return j.runKernel(F0,n)}const vy=G({elu_:dde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hde(t){let e=U(t,"x","erf");O(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=_e(e,"float32"));const n={x:e};return j.runKernel(_0,n)}const YV=G({erf_:hde});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J_(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function JV(t,e,n){const r=t.length+e.length,s=[];let i=0,o=0;for(let a=0;a<r;a++)n.indexOf(a)===-1?s.push(t[i++]):s.push(e[o++]);return s}function Or(t,e){const n=[],r=t.length;for(let i=0;i<r;i++)e.indexOf(i)===-1&&n.push(t[i]);const s=e.map(i=>t[i]);return[n,s]}function Gn(t,e){const n=e.map(r=>1);return JV(t,n,e)}function jr(t,e,n){O(J_(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function Un(t,e){if(J_(t,e))return null;const n=[];for(let r=0;r<e;++r)t.indexOf(r)===-1&&n.push(r);return t.forEach(r=>n.push(r)),n}function Fc(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function Yn(t,e){const n=[];for(let r=e-t;r<e;++r)n.push(r);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fde(t,e=null,n=!1){const s={x:U(t,"x","max")},i={reductionIndices:e,keepDims:n};return j.runKernel(Sx,s,i)}const qo=G({max_:fde});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pde(t,e=null,n=!1){const s={x:U(t,"x","min")},i={axis:e,keepDims:n};return j.runKernel(Fx,s,i)}const vC=G({min_:pde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gde(t,e){let n=U(t,"base","pow"),r=U(e,"exp","pow");[n,r]=Hn(n,r);const s={a:n,b:r};return j.runKernel(X0,s)}const ac=G({pow_:gde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tt(t,e){if((Ha(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&Ha(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Nc(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mde(t){const n={x:U(t,"x","sqrt","float32")};return j.runKernel(ay,n)}const as=G({sqrt_:mde});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yde(t){const e=U(t,"x","square"),n={};return j.runKernel("Square",{x:e},n)}const on=G({square_:yde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vde(t,e=null,n=!1){let r=U(t,"x","sum");r.dtype==="bool"&&(r=_e(r,"int32"));const s={x:r},i={axis:e,keepDims:n};return j.runKernel(jx,s,i)}const Ke=G({sum_:vde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wde(t,e="euclidean",n=null,r=!1){t=U(t,"x","norm");const s=ZV(t,e,n);let i=s.shape;if(r){const o=xt(n,t.shape);i=Gn(s.shape,o)}return Y(s,i)}function ZV(t,e,n=null){if(t.rank===0)return ur(t);if(t.rank!==1&&n===null)return ZV(Y(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return Ke(ur(t),n);if(e===1/0)return qo(ur(t),n);if(e===-1/0)return vC(ur(t),n);if(e==="euclidean"||e===2)return as(Ke(ac(ur(t),tt(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return qo(Ke(ur(t),n[0]),n[1]-1);if(e===1/0)return qo(Ke(ur(t),n[1]),n[0]);if(e===-1/0)return vC(Ke(ur(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return as(Ke(on(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const wy=G({norm_:wde});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cde(t,e=null,n=!1){return wy(t,"euclidean",e,n)}const e7=G({euclideanNorm_:Cde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bde(t){const n={x:U(t,"x","exp")};return j.runKernel(D0,n)}const Li=G({exp_:bde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xde(t,e=0){const n=U(t,"x","expandDims","string_or_numeric");O(e<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},s={dim:e};return j.runKernel(mx,r,s)}const Ni=G({expandDims_:xde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bde(t){const n={x:U(t,"x","expm1")};return j.runKernel(R0,n)}const t7=G({expm1_:Bde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ide(t,e){const n=U(t,"x","tile","string_or_numeric");O(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const r={x:n},s={reps:e};return j.runKernel(dy,r,s)}const mo=G({tile_:Ide});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ede(t,e,n,r="float32"){e==null&&(e=t);const s=wt([t,e],r),i=t<=e?t:e;for(let a=0;a<i;++a)s.set(1,a,a);const o=Y(s.toTensor(),[t,e]);if(n==null)return o;if(n.length===1)return mo(Ni(o,0),[n[0],1,1]);if(n.length===2)return mo(Ni(Ni(o,0),0),[n[0],n[1],1,1]);if(n.length===3)return mo(Ni(Ni(Ni(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const Z_=G({eye_:Ede});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $de(t){const n={x:U(t,"x","floor","float32")};return j.runKernel(O0,n)}const Cy=G({floor_:$de});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sde(t,e,n=0,r=0){const s=U(t,"x","gather"),i=U(e,"indices","gather","int32"),o={x:s,indices:i},a={axis:n,batchDims:r};return j.runKernel(vx,o,a)}const by=G({gather_:Sde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tde(t,e){let n=U(t,"a","greater","string_or_numeric"),r=U(e,"b","greater","string_or_numeric");[n,r]=Hn(n,r),ft(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(wx,s)}const Ki=G({greater_:Tde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nde(t,e){let n=U(t,"a","greaterEqual","string_or_numeric"),r=U(e,"b","greaterEqual","string_or_numeric");[n,r]=Hn(n,r),ft(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(L0,s)}const gd=G({greaterEqual_:Nde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kde(t){const n={x:U(t,"x","isFinite")};return j.runKernel(M0,n)}const n7=G({isFinite_:kde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fde(t){const n={x:U(t,"x","isInf")};return j.runKernel(Q0,n)}const r7=G({isInf_:Fde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _de(t){const n={x:U(t,"x","isNaN")};return j.runKernel(H0,n)}const s7=G({isNaN_:_de});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dde(t,e=.2){const r={x:U(t,"x","leakyRelu")},s={alpha:e};return j.runKernel(Cx,r,s)}const u2=G({leakyRelu_:Dde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rde(t,e){let n=U(t,"a","less","string_or_numeric"),r=U(e,"b","less","string_or_numeric");[n,r]=Hn(n,r),ft(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(bx,s)}const e3=G({less_:Rde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ode(t,e){let n=U(t,"a","lessEqual","string_or_numeric"),r=U(e,"b","lessEqual","string_or_numeric");[n,r]=Hn(n,r),ft(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(xx,s)}const md=G({lessEqual_:Ode});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ude(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:t,stop:e,num:n};return j.runKernel(e_,{},r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lde(t,e=5,n=1,r=1,s=.5){const i=U(t,"x","localResponseNormalization");O(i.rank===4||i.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${i.rank}.`),O(hf(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let o=i,a=!1;i.rank===3&&(a=!0,o=Y(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const u={x:o},l={depthRadius:e,bias:n,alpha:r,beta:s},c=j.runKernel($x,u,l);return a?Y(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const i7=G({localResponseNormalization_:Lde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pde(t){const n={x:U(t,"x","log","float32")};return j.runKernel(V0,n)}const Pi=G({log_:Pde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mde(t){const n={x:U(t,"x","log1p")};return j.runKernel(z0,n)}const l2=G({log1p_:Mde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qde(t,e){O(pS(t),()=>"The f passed in variableGrads(f) must be a function"),O(e==null||Array.isArray(e)&&e.every(l=>l instanceof hC),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const l in j.registeredVariables)e.push(j.registeredVariables[l])}const r=n?e.filter(l=>!l.trainable):null,s=e.length;e=e.filter(l=>l.trainable),O(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`);const i=!0,{value:o,grads:a}=j.gradients(t,e,null,i);O(a.some(l=>l!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),O(o.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${o.rank} tensor`);const u={};return e.forEach((l,c)=>{a[c]!=null&&(u[l.name]=a[c])}),r!=null&&r.forEach(l=>u[l.name]=null),{value:o,grads:u}}function Du(t){return j.customGrad(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hde(t){const n={x:U(t,"x","softplus")};return j.runKernel(oy,n)}const Xf=G({softplus_:Hde});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vde(t){const e=U(t,"x","logSigmoid");return Du(r=>({value:En(Xf(En(r))),gradFunc:o=>X(o,Ua(En(r)))}))(e)}const o7=G({logSigmoid_:Vde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zde(t,e){let n=U(t,"a","sub"),r=U(e,"b","sub");[n,r]=Hn(n,r);const s={a:n,b:r};return j.runKernel(ly,s)}const Me=G({sub_:zde});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kde(t,e=-1){const n=U(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return Du((s,i)=>{const a=qo(s,e,!0),u=Me(s,a),l=Me(_e(u,"float32"),Pi(Ke(Li(u),e,!0)));return i([l]),{value:l,gradFunc:(A,d)=>{const[h]=d,f=!0,p=Li(h);return Me(A,X(Ke(A,e,f),p))}}})(n)}const t3=G({logSoftmax_:Kde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wde(t,e=null,n=!1){const r=U(t,"x","logSumExp"),s=xt(e,r.shape),i=qo(r,s,!0),o=Me(r,i),a=Li(o),u=Ke(a,s),l=Pi(u),c=Ce(Y(i,l.shape),l);if(n){const A=Gn(c.shape,s);return Y(c,A)}return c}const n3=G({logSumExp_:Wde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gde(t,e){const n=U(t,"a","logicalAnd","bool"),r=U(e,"b","logicalAnd","bool");ft(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(Bx,s)}const Va=G({logicalAnd_:Gde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jde(t){const n={x:U(t,"x","logicalNot","bool")};return j.runKernel(Ix,n)}const c2=G({logicalNot_:jde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xde(t,e){const n=U(t,"a","logicalOr","bool"),r=U(e,"b","logicalOr","bool");ft(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(Ex,s)}const r3=G({logicalOr_:Xde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qde(t,e){const n=U(t,"a","logicalXor","bool"),r=U(e,"b","logicalXor","bool");return ft(n.shape,r.shape),Va(r3(t,e),c2(Va(t,e)))}const a7=G({logicalXor_:qde});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hv=2147483648;function Yde(t,e,n="left"){const r=U(t,"sortedSequence","searchSorted"),s=U(e,"values","searchSorted"),i=r.shape[r.shape.length-1],o=s.shape[s.shape.length-1],a=Y(r,[-1,i]),u=Y(s,[-1,o]);if(a.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(a.shape[0]!==u.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(de(u.shape)>=Hv)throw new Error(`values tensor size must less than ${Hv}`);if(a.shape[1]>=Hv)throw new Error(`trailing dim_size must less than ${Hv} for int32 output type, was ${a.shape[1]}`);const l={sortedSequence:a,values:u},c={side:n};return j.runKernel(g_,l,c)}const s3=G({searchSorted_:Yde});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jde(t,e){return s3(t,e,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zde(t,e,n,r,s){const i=U(t,"x","maxPool"),o=1;let a=i,u=!1;i.rank===3&&(u=!0,a=Y(i,[1,i.shape[0],i.shape[1],i.shape[2]])),O(a.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${a.rank}.`),O(Gr(n,o),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),_s("maxPool",r,s);const l={x:a},c={filterSize:e,strides:n,pad:r,dimRoundingMode:s},A=j.runKernel(Tx,l,c);return u?Y(A,[A.shape[1],A.shape[2],A.shape[3]]):A}const A2=G({maxPool_:Zde});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ehe(t,e=[1,1,1],n,r,s,i="NDHWC"){const o=U(t,"x","maxPool3d");let a=o,u=!1;o.rank===4&&(u=!0,a=Y(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),O(a.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${a.rank}.`),O(i==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),_s("maxPool3d",r,s);const l={x:a},c={filterSize:e,strides:n,pad:r,dimRoundingMode:s,dataFormat:i},A=j.runKernel(Nx,l,c);return u?Y(A,[A.shape[1],A.shape[2],A.shape[3],A.shape[4]]):A}const u7=G({maxPool3d_:ehe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function the(t,e,n,r,s=!1){const o={x:U(t,"x","maxPoolWithArgmax")},a={filterSize:e,strides:n,pad:r,includeBatchInIndex:s},u=j.runKernel(s_,o,a);return{result:u[0],indexes:u[1]}}const nhe=G({maxPoolWithArgmax_:the});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rhe(t,e){let n=U(t,"a","maximum"),r=U(e,"b","maximum");[n,r]=Hn(n,r),n.dtype==="bool"&&(n=_e(n,"int32"),r=_e(r,"int32")),ft(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(K0,s)}const Xu=G({maximum_:rhe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function she(t,e=null,n=!1){const s={x:U(t,"x","mean")},i={axis:e,keepDims:n};return j.runKernel(kx,s,i)}const Pn=G({mean_:she});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dr(t,e="float32"){if(e==="complex64"){const r=dr(t,"float32"),s=dr(t,"float32");return sc(r,s)}const n=os(de(t),e);return j.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function di(t,e="float32"){if(e==="complex64"){const r=di(t,"float32"),s=dr(t,"float32");return sc(r,s)}const n=$F(de(t),e);return j.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ihe(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let r=U(t,"x","meshgrid",t instanceof Cn?t.dtype:"float32");if(e===void 0)return[r];let s=U(e,"y","meshgrid",e instanceof Cn?e.dtype:"float32");const i=de(r.shape),o=de(s.shape);return n==="xy"?(r=Y(r,[1,-1]),s=Y(s,[-1,1]),[Bt(di([o,1],r.dtype),r),Bt(s,di([1,i],s.dtype))]):(r=Y(r,[-1,1]),s=Y(s,[1,-1]),[Bt(r,di([1,o],r.dtype)),Bt(di([i,1],s.dtype),s)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ohe(t,e){let n=U(t,"a","minimum"),r=U(e,"b","minimum");[n,r]=Hn(n,r),n.dtype==="bool"&&(n=_e(n,"int32"),r=_e(r,"int32")),ft(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(W0,s)}const xy=G({minimum_:ohe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ahe(t,e,n){O(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=U(t,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");O(e.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${e.length}.`);const s=n==="reflect"?1:0;for(let a=0;a<r.rank;a++)O(e[a].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),O(e[a][0]>=0&&e[a][0]<=r.shape[a]-s&&e[a][1]>=0&&e[a][1]<=r.shape[a]-s,()=>`Padding in dimension ${a} cannot be greater than or equal to ${r.shape[a]-s} or less than 0 for input of shape ${r.shape}`);const i={paddings:e,mode:n},o={x:r};return j.runKernel(_x,o,i)}const l7=G({mirrorPad_:ahe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uhe(t,e){let n=U(t,"a","mod"),r=U(e,"b","mod");[n,r]=Hn(n,r);const s={a:n,b:r};return j.runKernel(G0,s)}const c7=G({mod_:uhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lhe(t,e=null,n=!1){t=U(t,"x","moments");const r=xt(e,t.shape),s=Pn(t,r,n);let i=s.shape;n||(i=Gn(s.shape,r));const o=on(Me(_e(t,"float32"),Y(s,i))),a=Pn(o,r,n);return{mean:s,variance:a}}const d2=G({moments_:lhe});function che(t,e,n,r){const s=U(e,"data","multiRNNCell"),i=fC(n,"c","multiRNNCell"),o=fC(r,"h","multiRNNCell");let a=s;const u=[];for(let A=0;A<t.length;A++){const d=t[A](a,i[A],o[A]);u.push(d[0]),u.push(d[1]),a=d[1]}const l=[],c=[];for(let A=0;A<u.length;A+=2)l.push(u[A]),c.push(u[A+1]);return[l,c]}const Ahe=G({multiRNNCell_:che});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dhe(t,e,n,r=!1){const s=U(t,"logits","multinomial"),i=s.size,o=s.rank;if(i<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${i}.`);if(o>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${o}`);n=n||Math.random();const u={logits:o===1?Y(s,[1,-1]):s},l={numSamples:e,seed:n,normalized:r},c=j.runKernel(i_,u,l);return o===1?Y(c,[c.size]):c}const hhe=G({multinomial_:dhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fhe(t,e){let n=U(t,"a","notEqual","string_or_numeric"),r=U(e,"b","notEqual","string_or_numeric");[n,r]=Hn(n,r),ft(n.shape,r.shape);const s={a:n,b:r};return j.runKernel(Rx,s)}const wf=G({notEqual_:fhe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function phe(t){const n={x:U(t,"x","onesLike")};return j.runKernel(Ox,n)}const Mi=G({onesLike_:phe});function ghe(t,e){const n=U(t,"v1","outerProduct"),r=U(e,"v2","outerProduct");O(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);const s=Y(n,[-1,1]),i=Y(r,[1,-1]);return Bt(s,i)}const mhe=G({outerProduct_:ghe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yhe(t,e,n=0){const r=U(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:e,constantValue:n},i={x:r};return j.runKernel(Px,i,s)}const _c=G({pad_:yhe});function vhe(t,e,n=0){return O(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),_c(t,[e],n)}const whe=G({pad1d_:vhe});function Che(t,e,n=0){return O(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),_c(t,e,n)}const bhe=G({pad2d_:Che});function xhe(t,e,n=0){return O(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),_c(t,e,n)}const Bhe=G({pad3d_:xhe});function Ihe(t,e,n=0){return O(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),_c(t,e,n)}const Ehe=G({pad4d_:Ihe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $he(t,e,n){const r=U(t,"x","spaceToBatchND");O(r.rank>=1+e.length,()=>`input rank ${r.rank} should be > than [blockShape] ${e.length}`),O(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),O(r.shape.reduce((o,a,u)=>u>0&&u<=e.length?o&&(a+n[u-1][0]+n[u-1][1])%e[u-1]===0:o,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const s={x:r},i={blockShape:e,paddings:n};return j.runKernel(Xx,s,i)}const h2=G({spaceToBatchND_:$he});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function She(t,e,n,r,s,i,o){s==null&&(s=[1,1]),i==null&&(i=1),r===0&&(r="valid");const a=U(t,"x","maxPool");let u=a,l=!1;a.rank===3&&(l=!0,u=Y(a,[1,a.shape[0],a.shape[1],a.shape[2]])),O(Gr(i,s),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${s}'`);const c=So(u.shape,e,i,s,r),A=[c.dilationHeight,c.dilationWidth];let d;r==="same"?d=Nhe([c.filterHeight,c.filterWidth],A):d=[[0,0],[0,0]];const h=A[0]===1&&A[1]===1,[f,p]=The([c.inHeight,c.inWidth],A,d),m=h?r:"valid",g=h?u:h2(u,A,f),C=(n==="avg"?()=>i2(g,e,i,m,o):()=>A2(g,e,i,m,o))(),b=h?C:o2(C,A,p);return l?Y(b,[b.shape[1],b.shape[2],b.shape[3]]):b}function The(t,e,n){const r=n.map(c=>c[0]),s=n.map(c=>c[1]),i=t.concat(r,s),o=e.map((c,A)=>(c-i[A]%c)%c),a=s.map((c,A)=>c+o[A]),u=e.map((c,A)=>[r[A],a[A]]),l=e.map((c,A)=>[0,o[A]]);return[u,l]}function Nhe(t,e){const r=t.map((o,a)=>o+(o-1)*(e[a]-1)).map(o=>o-1),s=r.map(o=>Math.floor(o/2)),i=r.map((o,a)=>o-s[a]);return r.map((o,a)=>[s[a],i[a]])}const A7=G({pool_:She});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function khe(t,e){const n=U(t,"x","prelu"),r=U(e,"alpha","prelu"),s={x:n,alpha:r};return j.runKernel(Mx,s)}const f2=G({prelu_:khe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fhe(t,e=null,n=!1){let r=U(t,"x","prod");r.dtype==="bool"&&(r=_e(r,"int32"));const s={x:r},i={axis:e,keepDims:n};return j.runKernel(Qx,s,i)}const d7=G({prod_:Fhe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _he(t,e,n,r){const s=t.map((c,A)=>U(c,`tensors${A}`,"raggedGather","int32")),i=U(e,"paramsDenseValues","raggedGather"),o=U(n,"indices","raggedGather","int32"),a={paramsNestedSplits:s,paramsDenseValues:i,indices:o},u={outputRaggedRank:r},l=j.runKernel(l_,a,u);return{outputNestedSplits:l.slice(0,l.length-1),outputDenseValues:l[l.length-1]}}const Dhe=G({raggedGather_:_he});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rhe(t,e,n,r,s){const i=U(t,"shape","raggedTensorToTensor","int32"),o=U(e,"values","raggedTensorToTensor"),a=U(n,"defaultValue","raggedTensorToTensor",o.dtype),u=r.map((A,d)=>U(A,`tensors${d}`,"raggedTensorToTensor","int32")),l={shape:i,values:o,defaultValue:a,rowPartitionTensors:u},c={rowPartitionTypes:s};return j.runKernel(c_,l,c)}const Ohe=G({raggedTensorToTensor_:Rhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uhe(t,e,n){const r=de(t);let s=null;if(n==null||n==="float32")s=new Float32Array(r);else if(n==="int32")s=new Int32Array(r);else if(n==="bool")s=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let i=0;i<r;i++)s[i]=e();return j.makeTensor(s,t,n)}const Lhe=G({rand_:Uhe});var h7={exports:{}};(function(t){(function(e,n,r){function s(u){var l=this,c=a();l.next=function(){var A=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=A-(l.c=A|0)},l.c=1,l.s0=c(" "),l.s1=c(" "),l.s2=c(" "),l.s0-=c(u),l.s0<0&&(l.s0+=1),l.s1-=c(u),l.s1<0&&(l.s1+=1),l.s2-=c(u),l.s2<0&&(l.s2+=1),c=null}function i(u,l){return l.c=u.c,l.s0=u.s0,l.s1=u.s1,l.s2=u.s2,l}function o(u,l){var c=new s(u),A=l&&l.state,d=c.next;return d.int32=function(){return c.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,A&&(typeof A=="object"&&i(A,c),d.state=function(){return i(c,{})}),d}function a(){var u=4022871197,l=function(c){c=String(c);for(var A=0;A<c.length;A++){u+=c.charCodeAt(A);var d=.02519603282416938*u;u=d>>>0,d-=u,d*=u,u=d>>>0,d-=u,u+=d*4294967296}return(u>>>0)*23283064365386963e-26};return l}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.alea=o})(ja,t,!1)})(h7);var f7={exports:{}};(function(t){(function(e,n,r){function s(a){var u=this,l="";u.x=0,u.y=0,u.z=0,u.w=0,u.next=function(){var A=u.x^u.x<<11;return u.x=u.y,u.y=u.z,u.z=u.w,u.w^=u.w>>>19^A^A>>>8},a===(a|0)?u.x=a:l+=a;for(var c=0;c<l.length+64;c++)u.x^=l.charCodeAt(c)|0,u.next()}function i(a,u){return u.x=a.x,u.y=a.y,u.z=a.z,u.w=a.w,u}function o(a,u){var l=new s(a),c=u&&u.state,A=function(){return(l.next()>>>0)/4294967296};return A.double=function(){do var d=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(d+h)/(1<<21);while(f===0);return f},A.int32=l.next,A.quick=A,c&&(typeof c=="object"&&i(c,l),A.state=function(){return i(l,{})}),A}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.xor128=o})(ja,t,!1)})(f7);var p7={exports:{}};(function(t){(function(e,n,r){function s(a){var u=this,l="";u.next=function(){var A=u.x^u.x>>>2;return u.x=u.y,u.y=u.z,u.z=u.w,u.w=u.v,(u.d=u.d+362437|0)+(u.v=u.v^u.v<<4^(A^A<<1))|0},u.x=0,u.y=0,u.z=0,u.w=0,u.v=0,a===(a|0)?u.x=a:l+=a;for(var c=0;c<l.length+64;c++)u.x^=l.charCodeAt(c)|0,c==l.length&&(u.d=u.x<<10^u.x>>>4),u.next()}function i(a,u){return u.x=a.x,u.y=a.y,u.z=a.z,u.w=a.w,u.v=a.v,u.d=a.d,u}function o(a,u){var l=new s(a),c=u&&u.state,A=function(){return(l.next()>>>0)/4294967296};return A.double=function(){do var d=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(d+h)/(1<<21);while(f===0);return f},A.int32=l.next,A.quick=A,c&&(typeof c=="object"&&i(c,l),A.state=function(){return i(l,{})}),A}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.xorwow=o})(ja,t,!1)})(p7);var g7={exports:{}};(function(t){(function(e,n,r){function s(a){var u=this;u.next=function(){var c=u.x,A=u.i,d,h;return d=c[A],d^=d>>>7,h=d^d<<24,d=c[A+1&7],h^=d^d>>>10,d=c[A+3&7],h^=d^d>>>3,d=c[A+4&7],h^=d^d<<7,d=c[A+7&7],d=d^d<<13,h^=d^d<<9,c[A]=h,u.i=A+1&7,h};function l(c,A){var d,h=[];if(A===(A|0))h[0]=A;else for(A=""+A,d=0;d<A.length;++d)h[d&7]=h[d&7]<<15^A.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?h[7]=-1:h[d],c.x=h,c.i=0,d=256;d>0;--d)c.next()}l(u,a)}function i(a,u){return u.x=a.x.slice(),u.i=a.i,u}function o(a,u){a==null&&(a=+new Date);var l=new s(a),c=u&&u.state,A=function(){return(l.next()>>>0)/4294967296};return A.double=function(){do var d=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(d+h)/(1<<21);while(f===0);return f},A.int32=l.next,A.quick=A,c&&(c.x&&i(c,l),A.state=function(){return i(l,{})}),A}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.xorshift7=o})(ja,t,!1)})(g7);var m7={exports:{}};(function(t){(function(e,n,r){function s(a){var u=this;u.next=function(){var c=u.w,A=u.X,d=u.i,h,f;return u.w=c=c+1640531527|0,f=A[d+34&127],h=A[d=d+1&127],f^=f<<13,h^=h<<17,f^=f>>>15,h^=h>>>12,f=A[d]=f^h,u.i=d,f+(c^c>>>16)|0};function l(c,A){var d,h,f,p,m,g=[],y=128;for(A===(A|0)?(h=A,A=null):(A=A+"\0",h=0,y=Math.max(y,A.length)),f=0,p=-32;p<y;++p)A&&(h^=A.charCodeAt((p+32)%A.length)),p===0&&(m=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,p>=0&&(m=m+1640531527|0,d=g[p&127]^=h+m,f=d==0?f+1:0);for(f>=128&&(g[(A&&A.length||0)&127]=-1),f=127,p=4*128;p>0;--p)h=g[f+34&127],d=g[f=f+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,g[f]=h^d;c.w=m,c.X=g,c.i=f}l(u,a)}function i(a,u){return u.i=a.i,u.w=a.w,u.X=a.X.slice(),u}function o(a,u){a==null&&(a=+new Date);var l=new s(a),c=u&&u.state,A=function(){return(l.next()>>>0)/4294967296};return A.double=function(){do var d=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(d+h)/(1<<21);while(f===0);return f},A.int32=l.next,A.quick=A,c&&(c.X&&i(c,l),A.state=function(){return i(l,{})}),A}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.xor4096=o})(ja,t,!1)})(m7);var y7={exports:{}};(function(t){(function(e,n,r){function s(a){var u=this,l="";u.next=function(){var A=u.b,d=u.c,h=u.d,f=u.a;return A=A<<25^A>>>7^d,d=d-h|0,h=h<<24^h>>>8^f,f=f-A|0,u.b=A=A<<20^A>>>12^d,u.c=d=d-h|0,u.d=h<<16^d>>>16^f,u.a=f-A|0},u.a=0,u.b=0,u.c=-1640531527,u.d=1367130551,a===Math.floor(a)?(u.a=a/4294967296|0,u.b=a|0):l+=a;for(var c=0;c<l.length+20;c++)u.b^=l.charCodeAt(c)|0,u.next()}function i(a,u){return u.a=a.a,u.b=a.b,u.c=a.c,u.d=a.d,u}function o(a,u){var l=new s(a),c=u&&u.state,A=function(){return(l.next()>>>0)/4294967296};return A.double=function(){do var d=l.next()>>>11,h=(l.next()>>>0)/4294967296,f=(d+h)/(1<<21);while(f===0);return f},A.int32=l.next,A.quick=A,c&&(typeof c=="object"&&i(c,l),A.state=function(){return i(l,{})}),A}n&&n.exports?n.exports=o:r&&r.amd?r(function(){return o}):this.tychei=o})(ja,t,!1)})(y7);var v7={exports:{}};const Phe={},Mhe=Object.freeze(Object.defineProperty({__proto__:null,default:Phe},Symbol.toStringTag,{value:"Module"})),Qhe=mte(Mhe);(function(t){(function(e,n,r){var s=256,i=6,o=52,a="random",u=r.pow(s,i),l=r.pow(2,o),c=l*2,A=s-1,d;function h(b,B,I){var w=[];B=B==!0?{entropy:!0}:B||{};var $=g(m(B.entropy?[b,C(n)]:b==null?y():b,3),w),T=new f(w),_=function(){for(var R=T.g(i),P=u,L=0;R<l;)R=(R+L)*s,P*=s,L=T.g(1);for(;R>=c;)R/=2,P/=2,L>>>=1;return(R+L)/P};return _.int32=function(){return T.g(4)|0},_.quick=function(){return T.g(4)/4294967296},_.double=_,g(C(T.S),n),(B.pass||I||function(R,P,L,z){return z&&(z.S&&p(z,T),R.state=function(){return p(T,{})}),L?(r[a]=R,P):R})(_,$,"global"in B?B.global:this==r,B.state)}function f(b){var B,I=b.length,w=this,$=0,T=w.i=w.j=0,_=w.S=[];for(I||(b=[I++]);$<s;)_[$]=$++;for($=0;$<s;$++)_[$]=_[T=A&T+b[$%I]+(B=_[$])],_[T]=B;(w.g=function(R){for(var P,L=0,z=w.i,V=w.j,q=w.S;R--;)P=q[z=A&z+1],L=L*s+q[A&(q[z]=q[V=A&V+P])+(q[V]=P)];return w.i=z,w.j=V,L})(s)}function p(b,B){return B.i=b.i,B.j=b.j,B.S=b.S.slice(),B}function m(b,B){var I=[],w=typeof b,$;if(B&&w=="object")for($ in b)try{I.push(m(b[$],B-1))}catch{}return I.length?I:w=="string"?b:b+"\0"}function g(b,B){for(var I=b+"",w,$=0;$<I.length;)B[A&$]=A&(w^=B[A&$]*19)+I.charCodeAt($++);return C(B)}function y(){try{var b;return d&&(b=d.randomBytes)?b=b(s):(b=new Uint8Array(s),(e.crypto||e.msCrypto).getRandomValues(b)),C(b)}catch{var B=e.navigator,I=B&&B.plugins;return[+new Date,e,I,e.screen,C(n)]}}function C(b){return String.fromCharCode.apply(0,b)}if(g(r.random(),n),t.exports){t.exports=h;try{d=Qhe}catch{}}else r["seed"+a]=h})(typeof self<"u"?self:ja,[],Math)})(v7);var Hhe=h7.exports,Vhe=f7.exports,zhe=p7.exports,Khe=g7.exports,Whe=m7.exports,Ghe=y7.exports,yd=v7.exports;yd.alea=Hhe;yd.xor128=Vhe;yd.xorwow=zhe;yd.xorshift7=Khe;yd.xor4096=Whe;yd.tychei=Ghe;var p2=yd;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class i3{constructor(e,n,r,s,i){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=s,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const o=i||Math.random();this.random=p2.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const s=this.nextVal;return this.nextVal=NaN,s}let e,n,r=!1;for(;!r;){let s,i,o;do s=2*this.random()-1,i=2*this.random()-1,o=s*s+i*i;while(o>=1||o===0);const a=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*s*a,n=this.mean+this.stdDev*i*a,(!this.truncated||this.isValidTruncated(e))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class jhe{constructor(e,n,r,s){this.alpha=e,this.beta=1/n,this.dtype=r;const i=s||Math.random();this.randu=p2.alea(i.toString()),this.randn=new i3(0,1,r,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,r,s,i,o;for(;;){do s=this.randn.nextValue(),o=1+this.c*s;while(o<=0);if(o*=o*o,e=s*s,n=1-.331*e*e,r=.5*e+this.d*(1-o+Math.log(o)),i=this.randu(),i<n||Math.log(i)<r)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class Xhe{constructor(e=0,n=1,r,s){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=r,s==null&&(s=Math.random()),typeof s=="number"&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=p2.alea(s)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qhe(t,e,n=1,r="float32",s){if(n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);const i=new jhe(e,n,r,s),o=wt(t,r);for(let a=0;a<o.values.length;a++)o.values[a]=i.nextValue();return o.toTensor()}const Yhe=G({randomGamma_:qhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jhe(t,e=0,n=1,r,s){if(r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const i=new i3(e,n,r,!1,s),o=wt(t,r);for(let a=0;a<o.values.length;a++)o.values[a]=i.nextValue();return o.toTensor()}const o3=G({randomNormal_:Jhe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zhe(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return o3(t,0,1,e,n)}const efe=G({randomStandardNormal_:Zhe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tfe(t,e=0,n=1,r="float32",s){const i=wt(t,r),o=new Xhe(e,n,null,s);for(let a=0;a<i.values.length;a++)i.values[a]=o.nextValue();return i.toTensor()}const By=G({randomUniform_:tfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bm(t,e,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const s={start:t,stop:e,step:n,dtype:r};return j.runKernel(A_,{},s)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nfe(t){const n={x:U(t,"x","reciprocal")};return j.runKernel(q0,n)}const w7=G({reciprocal_:nfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rfe(t){const n={x:U(t,"x","relu")};return j.runKernel(Y0,n)}const qa=G({relu_:rfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sfe(t){const n={x:U(t,"x","relu6")};return j.runKernel(J0,n)}const a3=G({relu6_:sfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ife(t,e){const r={x:U(t,"x","reverse")},s={dims:e};return j.runKernel(Kx,r,s)}const Eo=G({reverse_:ife});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ofe(t){const e=U(t,"x","reverse");return O(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),Eo(e,0)}const afe=G({reverse1d_:ofe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ufe(t,e){const n=U(t,"x","reverse");return O(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),Eo(n,e)}const lfe=G({reverse2d_:ufe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cfe(t,e){const n=U(t,"x","reverse");return O(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),Eo(n,e)}const Afe=G({reverse3d_:cfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dfe(t,e){const n=U(t,"x","reverse");return O(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),Eo(n,e)}const hfe=G({reverse4d_:dfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ffe(t){const n={x:U(t,"x","round")};return j.runKernel(Z0,n)}const u3=G({round_:ffe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pfe(t){const n={x:U(t,"x","rsqrt","float32")};return j.runKernel(ey,n)}const l3=G({rsqrt_:pfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gfe(t){const n={x:U(t,"x","selu")};return j.runKernel(ty,n)}const c3=G({selu_:gfe});function mfe(t,e,n,r,s,i=[1,1],o="NHWC"){const a=U(t,"x","separableConv2d"),u=U(e,"depthwiseFilter","separableConv2d"),l=U(n,"pointwiseFilter","separableConv2d");let c=a,A=!1;if(a.rank===3&&(A=!0,c=Y(a,[1,a.shape[0],a.shape[1],a.shape[2]])),o==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");O(c.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`),O(u.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${u.rank}.`),O(l.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${u.rank}.`),O(l.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${l.shape[0]}.`),O(l.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${l.shape[1]}.`);const d=u.shape[2],h=u.shape[3];O(l.shape[2]===d*h,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${d*h}, but got ${l.shape[2]}.`);const f=yy(c,u,r,s,o,i),m=oc(f,l,1,"valid",o);return A?Y(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const A3=G({separableConv2d_:mfe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function yfe(t,e){const n=U(t,"x","setdiff1d"),r=U(e,"y","setdiff1d");O(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),O(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),O(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);const s=await n.data(),i=await r.data(),o=new Set(i);let a=0;for(let c=0;c<s.length;c++)o.has(s[c])||a++;const u=new Nr([a],n.dtype),l=new Nr([a],"int32");for(let c=0,A=0;c<s.length;c++)o.has(s[c])||(u.values[A]=s[c],l.values[A]=c,A++);return[u.toTensor(),l.toTensor()]}const vfe=yfe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wfe(t){const n={x:U(t,"x","sign")};return j.runKernel(sy,n)}const C7=G({sign_:wfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cfe(t){const n={x:U(t,"x","sin","float32")};return j.runKernel(ny,n)}const d3=G({sin_:Cfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bfe(t){const n={x:U(t,"x","sinh")};return j.runKernel(ry,n)}const h3=G({sinh_:bfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xfe(t,e,n){const r=U(t,"x","slice1d");return O(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),Dt(r,[e],[n])}const g2=G({slice1d_:xfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bfe(t,e,n){const r=U(t,"x","slice2d");return O(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),Dt(r,e,n)}const f3=G({slice2d_:Bfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ife(t,e,n){const r=U(t,"x","slice3d");return O(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),Dt(r,e,n)}const m2=G({slice3d_:Ife});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Efe(t,e,n){const r=U(t,"x","slice4d");return O(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),Dt(r,e,n)}const xm=G({slice4d_:Efe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $fe(t,e=-1){const n=U(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const r={logits:n},s={dim:e};return j.runKernel(Yx,r,s)}const y2=G({softmax_:$fe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sfe(t){O(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return j.runKernel(jF,e)}const v2=G({fft_:Sfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tfe(t){O(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return j.runKernel(JF,e)}const Bm=G({ifft_:Tfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nfe(t){const e=t.shape[t.shape.length-1],n=t.size/e;let r;if(e<=2){const s=Y(t,[n,e]);r=Bm(s)}else{const s=[n,2*(e-1)],i=Y(Cm(t),[n,e]),o=Y(r2(t),[n,e]),a=Eo(Dt(i,[0,1],[n,e-2]),1),u=X(Eo(Dt(o,[0,1],[n,e-2]),1),tt(-1)),l=sr([i,a],1),c=sr([o,u],1),A=Y(sc(l,c),[s[0],s[1]]);r=Bm(A)}if(r=Cm(r),t.rank===3&&t.shape[0]!==0){const s=r,i=t.shape[0];r=Y(r,[i,r.shape[0]/i,r.shape[1]]),s.dispose()}return r}const p3=G({irfft_:Nfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kfe(t,e,n=0){const s={x:U(t,"x","split")},i={numOrSizeSplits:e,axis:n};return j.runKernel(qx,s,i)}const gi=G({split_:kfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ffe(t,e){O(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const r=t.size/n;let s;if(e!=null&&e<n){const f=t.shape.map(m=>0),p=t.shape.map(m=>m);p[t.shape.length-1]=e,s=Dt(t,f,p),n=e}else if(e!=null&&e>n){const f=t.shape.map(p=>p);f[t.shape.length-1]=e-n,s=sr([t,dr(f)],t.shape.length-1),n=e}else s=t;const i=Ot(s),o=Y(sc(s,i),[r,n]),a=v2(o),u=Math.floor(n/2)+1,l=Cm(a),c=r2(a),A=gi(l,[u,n-u],l.shape.length-1),d=gi(c,[u,n-u],c.shape.length-1),h=s.shape.slice();return h[s.shape.length-1]=u,Y(sc(A[0],d[0]),h)}const w2=G({rfft_:Ffe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _fe(t,e){let n=U(t,"a","squaredDifference"),r=U(e,"b","squaredDifference");[n,r]=Hn(n,r),ft(n.shape,r.shape);const s={a:n,b:r},i={};return j.runKernel(uy,s,i)}const g3=G({squaredDifference_:_fe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dfe(t,e){const n=U(t,"x","squeeze","string_or_numeric");return Y(n,$c(n.shape,e).newShape)}const vd=G({squeeze_:Dfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rfe(t,e=0){const n=fC(t,"tensors","stack","string_or_numeric");O(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&O(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,s={axis:e};return j.runKernel(Lx,r,s)}const $o=G({stack_:Rfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ofe(t,e=0){const r={x:U(t,"x","step")},s={alpha:e};return j.runKernel(hy,r,s)}const qf=G({step_:Ofe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ufe(t,e,n,r,s=0,i=0,o=0,a=0,u=0){const c={x:U(t,"x","stridedSlice","string_or_numeric")},A={begin:e,end:n,strides:r,beginMask:s,endMask:i,ellipsisMask:o,newAxisMask:a,shrinkAxisMask:u};return j.runKernel(x_,c,A)}const b7=G({stridedSlice_:Ufe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lfe(t){const n={x:U(t,"x","tan","float32")};return j.runKernel(cy,n)}const x7=G({tan_:Lfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zs(t,e){zf(t);const n=Tc(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Nc(t,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rg(t,e,n){if(zf(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=Tc(t,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Nc(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pfe(t,e,n){if(zf(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=Tc(t,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Nc(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mfe(t,e,n){if(zf(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const r=Tc(t,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Nc(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qfe(t,e,n){if(zf(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const r=Tc(t,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||r,Nc(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hfe(t,e=1,n=!0){const r=U(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const s=r.shape[r.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>s)throw new Error(`'k' passed to topk() must be <= the last dimension (${s}) but got ${e}`);const i={x:r},o={k:e,sorted:n},[a,u]=j.runKernel($_,i,o);return{values:a,indices:u}}const B7=G({topk_:Hfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vfe(t,e=0,n=1,r,s){if(r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const i=new i3(e,n,r,!0,s),o=wt(t,r);for(let a=0;a<o.values.length;a++)o.values[a]=i.nextValue();return o.toTensor()}const m3=G({truncatedNormal_:Vfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zfe(t,e=0){const n=U(t,"x","unique","string_or_numeric");O(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},s={axis:e},[i,o]=j.runKernel(T_,r,s);return{values:i,indices:o}}const I7=G({unique_:zfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kfe(t,e,n){const r=U(t,"x","unsortedSegmentSum"),s=U(e,"segmentIds","unsortedSegmentSum","int32");O(hf(n),()=>"numSegments must be of dtype int");const i={x:r,segmentIds:s},o={numSegments:n};return j.runKernel(Zx,i,o)}const y3=G({unsortedSegmentSum_:Kfe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wfe(t,e=0){const n=U(t,"x","unstack","string_or_numeric");O(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},s={axis:e};return j.runKernel(Jx,r,s)}const ra=G({unstack_:Wfe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gfe(t,e){return s3(t,e,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E7(t,e=!0,n,r){return j.makeVariable(t,e,n,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v3(t,e){const n=[];for(let i=0;i<e.length;i++)e[i]&&n.push(i);const r=wt(t,"int32"),s=wt([n.length,t.length],"int32");for(let i=0;i<n.length;i++){const o=r.indexToLoc(n[i]),a=i*t.length;s.values.set(o,a)}return s.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function jfe(t){const e=U(t,"condition","whereAsync","bool"),n=await e.data(),r=v3(e.shape,n);return t!==e&&e.dispose(),r}const $7=jfe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Xfe(t,e,n){const r=U(t,"tensor","boolMask"),s=U(e,"mask","boolMask","bool"),i=n==null?0:n,o=s.rank,a=r.shape;O(o>0,()=>"mask cannot be scalar"),bi(a.slice(i,i+o),s.shape,"mask's shape must match the first K dimensions of tensor's shape,");let u=1;for(let p=i;p<i+o;p++)u*=a[p];const l=a.slice(0,i).concat([u],a.slice(i+o)),c=Y(r,l),A=Y(s,[-1]),d=await $7(A),h=vd(d,[1]),f=by(c,h,i);return t!==r&&r.dispose(),e!==s&&s.dispose(),h.dispose(),c.dispose(),A.dispose(),d.dispose(),f}const qfe=Xfe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yfe(t,e,n,r,s=!0){const i=U(t,"v","movingAverage"),o=U(e,"x","movingAverage"),a=U(n,"decay","movingAverage");Rle(i,o),O(Ut(i.shape,o.shape),()=>"Shape mismatch in v and x");const u=tt(1),l=Me(u,a);let c=X(Me(o,i),l);if(s){O(r!=null,()=>"When using zeroDebias: true, step is required.");const A=U(r,"step","movingAverage");c=Je(c,Me(u,ac(a,A)))}return Ce(i,c)}const Jfe=G({movingAverage_:Yfe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zfe(t,e,n){const r=U(t,"indices","scatterND","int32"),s=U(e,"updates","scatterND");mV(s,r,n);const i={indices:r,updates:s},o={shape:n};return j.runKernel(p_,i,o)}const epe=G({scatterND_:Zfe});function tpe(t,e,n,r){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const s=t.rank>0?t.shape[0]:1,i=t.rank>1?t.shape[1]:1;if(n.length!==i)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${i}.`);const o=e.size;if(!(e.rank===0||e.rank===1&&o===s))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${s}]`);if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function npe(t,e,n,r=0){const s=U(t,"sparseIndices","sparseToDense","int32"),i=U(e,"sparseValues","sparseToDense","string_or_numeric"),o=U(r,"defaultValue","sparseToDense",i.dtype);tpe(s,i,n,o);const a={sparseIndices:s,sparseValues:i,defaultValue:o},u={outputShape:n};return j.runKernel(C_,a,u)}const rpe=G({sparseToDense_:npe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function spe(t,e){const n=U(e,"indices","gatherND","int32"),s={params:U(t,"x","gatherND","string_or_numeric"),indices:n};return j.runKernel(YF,s)}const ipe=G({gatherND_:spe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ope(t,e){if(e==null)return t.shape.slice();if(Ut(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let r=0;r<t.shape.length;r++)e[r]==null&&t.shape[r]!=null?n.push(t.shape[r]):n.push(e[r]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ape(t,e,n,r){const s=U(t,"x","dropout");if(O(s.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${s.dtype} tensor instead.`),O(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof Cn?s.clone():s;const i=ope(s,n),o=1-e,a=Je(Cy(Ce(By(i,0,1,"float32",r),o)),o);return X(s,a)}const S7=G({dropout_:ape});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T7(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function w3(t,e,n){const r=1-t%2,s=new Float32Array(t);for(let i=0;i<t;++i){const o=2*Math.PI*i/(t+r-1);s[i]=e-n*Math.cos(o)}return zs(s,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function upe(t,e,n=1){const r=U(t,"predictions","inTopK"),s=U(e,"targets","inTopK");O(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),O(r.rank-1===s.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${s.rank}`),bi(r.shape.slice(0,r.shape.length-1),s.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const i=r.shape[r.shape.length-1];O(n>0&&n<=i,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${i}), but got ${n}`);const o=await r.data(),a=await s.data(),[u,l]=[o.length/i,i],c=_r("bool",u);for(let A=0;A<u;A++){const d=A*l,h=o.subarray(d,d+l),f=[];for(let p=0;p<h.length;p++)f.push({value:h[p],index:p});f.sort((p,m)=>m.value-p.value),c[A]=0;for(let p=0;p<n;p++)if(f[p].index===a[A]){c[A]=1;break}}return t!==r&&r.dispose(),e!==s&&s.dispose(),Oa(c,s.shape,"bool")}const lpe=upe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cpe(t,e,n,r,s,i="NHWC",o){let a=t;t.rank===3&&(a=Y(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let u=e;u.rank===3&&(u=Y(e,[1,e.shape[0],e.shape[1],e.shape[2]])),O(a.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${a.shape}.`),O(u.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${u.shape}.`),O(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const l=i==="NHWC"?a.shape[3]:a.shape[1],c=i==="NHWC"?u.shape[3]:u.shape[1];O(l===n[2],()=>`Error in conv2dDerFilter: depth of input ${l}) must match input depth in filter (${n[2]}.`),O(c===n[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`),_s("conv2dDerFilter",s,o);const A={x:a,dy:u},d={strides:r,pad:s,dataFormat:i,dimRoundingMode:o,filterShape:n};return j.runKernel(OF,A,d)}const C3=G({conv2DBackpropFilter_:cpe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C2(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return X(t,qf(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function b2(t,e){let n=e;const r=wr(t.shape,e.shape);return r.length>0&&(n=Ke(n,r)),Y(n,t.shape)}function x2(t,e,n,r){if(e==="linear")return t;if(e==="relu")return qa(t);if(e==="elu")return vy(t);if(e==="relu6")return a3(t);if(e==="prelu")return f2(t,n);if(e==="leakyrelu")return u2(t,r);if(e==="sigmoid")return Ua(t);throw new Error(`Unknown fused activation ${e}.`)}const B2=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ape({x:t,filter:e,strides:n,pad:r,dataFormat:s="NHWC",dilations:i=[1,1],dimRoundingMode:o,bias:a,activation:u="linear",preluActivationWeights:l,leakyreluAlpha:c}){if(u=u||"linear",B2(j.state.gradientDepth,u)===!1){O(s==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${s} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let I=oc(t,e,n,r,s,i,o);return a!=null&&(I=Ce(I,a)),x2(I,u,l,c)}const A=U(t,"x","conv2d","float32"),d=U(e,"filter","conv2d","float32");let h=A,f=!1;A.rank===3&&(f=!0,h=Y(A,[1,A.shape[0],A.shape[1],A.shape[2]])),O(h.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${h.rank}.`),O(d.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${d.rank}.`),_s("fused conv2d",r,o);const p=s==="NHWC"?h.shape[3]:h.shape[1];O(d.shape[2]===p,()=>`Error in conv2d: depth of input (${p}) must match input depth for filter ${d.shape[2]}.`),O(Gr(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);const m=Rr(h.shape,d.shape,n,i,r,o);let g;a!=null&&(g=U(a,"bias","fused conv2d"),[g]=Hn(g,A),s==="NHWC"?ft(m.outShape,g.shape):(O(g.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${g.shape.length}.`),O(g.shape.length===0||g.shape[0]===m.outChannels||g.shape[0]===1,()=>`Error in fused conv2d: bias shape (${g.shape}) is not compatible with the number of output channels (${m.outChannels})`)));let y;if(l!=null){const I=l.shape;if(O(I.length<=1||I.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${I.length}.`),I.length===1)O(I[0]===1||I[0]===m.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${I}) is not compatible with the number of output channels (${m.outChannels}).`);else if(I.length===3)try{ft(I,m.outShape)}catch{const $=`Error in fused conv2d: PReLU activation weights (${I}) is not compatible with the output shape of the conv2d (${m.outShape}).`;throw Error($)}y=U(l,"prelu weights","fused conv2d")}const C=(I,w)=>{O(s==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${s} but only NHWC is currently supported.`);const[$,T,_,R]=w,P=C2(I,_,u);O(ic(i),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);const L=j_(T.shape,P,$,n,r),z=C3(T,P,$.shape,n,r),V=[L,z];if(R!=null){const q=b2(R,P);V.push(q)}return V},b={x:h,filter:d,bias:g,preluActivationWeights:y},B={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:o,activation:u,leakyreluAlpha:c};return a==null?Du((w,$,T)=>{let _=j.runKernel(lC,b,B);return T([$,w,_]),f&&(_=Y(_,[_.shape[1],_.shape[2],_.shape[3]])),{value:_,gradFunc:C}})(h,d):Du((w,$,T,_)=>{let R=j.runKernel(lC,b,B);return _([$,w,R,T]),f&&(R=Y(R,[R.shape[1],R.shape[2],R.shape[3]])),{value:R,gradFunc:C}})(h,d,g)}const N7=G({fusedConv2d_:Ape});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dpe(t,e,n,r,s,i=[1,1],o){let a=t;t.rank===3&&(a=Y(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let u=e;u.rank===3&&(u=Y(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const l={x:a,dy:u},c={strides:r,pad:s,dimRoundingMode:o,dilations:i,filterShape:n};return j.runKernel(VF,l,c)}const k7=G({depthwiseConv2dNativeBackpropFilter_:dpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hpe(t,e,n,r,s,i=[1,1],o){let a=e,u=!1;e.rank===3&&(u=!0,a=Y(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const l={dy:a,filter:n},c={strides:r,pad:s,dimRoundingMode:o,dilations:i,inputShape:t},A=j.runKernel(zF,l,c);return u?Y(A,[A.shape[1],A.shape[2],A.shape[3]]):A}const F7=G({depthwiseConv2dNativeBackpropInput_:hpe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fpe({x:t,filter:e,strides:n,pad:r,dataFormat:s="NHWC",dilations:i=[1,1],dimRoundingMode:o,bias:a,activation:u="linear",preluActivationWeights:l,leakyreluAlpha:c}){if(B2(j.state.gradientDepth,u)===!1){let B=yy(t,e,n,r,s,i,o);return a!=null&&(B=Ce(B,a)),x2(B,u,l,c)}const A=U(t,"x","depthwiseConv2d","float32"),d=U(e,"filter","depthwiseConv2d","float32");let h=A,f=!1;A.rank===3&&(f=!0,h=Y(A,[1,A.shape[0],A.shape[1],A.shape[2]])),O(h.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${h.rank}.`),O(d.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${d.rank}.`),O(h.shape[3]===d.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${h.shape[3]}) must match the inChannels dimension in filter ${d.shape[2]}.`),i==null&&(i=[1,1]),O(Gr(n,i),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),_s("fused depthwiseConv2d",r,o);const p=Rr(h.shape,d.shape,n,i,r,o,!0);let m;a!=null&&(m=U(a,"bias","fused conv2d"),[m]=Hn(m,A),ft(p.outShape,m.shape));let g;l!=null&&(g=U(l,"prelu weights","fused depthwiseConv2d"));const y=(B,I)=>{O(ic(i),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${i}'`);const[w,$,T,_]=I,R=C2(B,T,u),P=F7($.shape,R,w,n,r,i,o),L=k7($,R,w.shape,n,r,i,o);if(_!=null){const z=b2(m,R);return[P,L,z]}return[P,L]},C={x:h,filter:d,bias:m,preluActivationWeights:g},b={strides:n,pad:r,dataFormat:s,dilations:i,dimRoundingMode:o,activation:u,leakyreluAlpha:c};return a==null?Du((I,w,$)=>{let T=j.runKernel(cC,C,b);return $([w,I,T]),f&&(T=Y(T,[T.shape[1],T.shape[2],T.shape[3]])),{value:T,gradFunc:y}})(h,d):Du((I,w,$,T)=>{let _=j.runKernel(cC,C,b);return T([w,I,_,$]),f&&(_=Y(_,[_.shape[1],_.shape[2],_.shape[3]])),{value:_,gradFunc:y}})(h,d,m)}const ppe=G({fusedDepthwiseConv2d_:fpe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gpe({a:t,b:e,transposeA:n=!1,transposeB:r=!1,bias:s,activation:i="linear",preluActivationWeights:o,leakyreluAlpha:a=.2}){if(B2(j.state.gradientDepth,i)===!1){let R=Bt(t,e,n,r);return s!=null&&(R=Ce(R,s)),x2(R,i,o,a)}let u=U(t,"a","fused matMul"),l=U(e,"b","fused matMul");[u,l]=Hn(u,l);const c=n?u.shape[u.rank-2]:u.shape[u.rank-1],A=r?l.shape[l.rank-1]:l.shape[l.rank-2],d=n?u.shape[u.rank-1]:u.shape[u.rank-2],h=r?l.shape[l.rank-2]:l.shape[l.rank-1],f=u.shape.slice(0,-2),p=l.shape.slice(0,-2),m=de(f),g=de(p);O(c===A,()=>`Error in fused matMul: inner shapes (${c}) and (${A}) of Tensors with shapes ${u.shape} and ${l.shape} and transposeA=${n} and transposeB=${r} must match.`);const C=ft(u.shape.slice(0,-2),l.shape.slice(0,-2)).concat([d,h]),b=n?Y(u,[m,c,d]):Y(u,[m,d,c]),B=r?Y(l,[g,h,A]):Y(l,[g,A,h]);let I;s!=null&&(I=U(s,"bias","fused matMul"),[I]=Hn(I,u),ft(C,I.shape));let w;o!=null&&(w=U(o,"prelu weights","fused matMul"));const $=(R,P)=>{const[L,z,V,q]=P,ne=C2(Y(R,V.shape),V,i);let H,J;if(!n&&!r?(H=Bt(ne,z,!1,!0),J=Bt(L,ne,!0,!1)):!n&&r?(H=Bt(ne,z,!1,!1),J=Bt(ne,L,!0,!1)):n&&!r?(H=Bt(z,ne,!1,!0),J=Bt(L,ne,!1,!1)):(H=Bt(z,ne,!0,!0),J=Bt(ne,L,!0,!0)),s!=null){const se=b2(q,ne);return[H,J,se]}else return[H,J]},T={a:b,b:B,bias:I,preluActivationWeights:w},_={transposeA:n,transposeB:r,activation:i,leakyreluAlpha:a};return s==null?Du((P,L,z)=>{const V=j.runKernel(uC,T,_);return z([P,L,V]),{value:Y(V,C),gradFunc:$}})(b,B):Du((P,L,z,V)=>{const q=j.runKernel(uC,T,_);return V([P,L,q,z]),{value:Y(q,C),gradFunc:$}})(b,B,I)}const LS=G({fusedMatMul_:gpe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mpe=Object.freeze(Object.defineProperty({__proto__:null,conv2d:N7,depthwiseConv2d:ppe,matMul:LS},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ype(t){return w3(t,.54,.46)}const vpe=G({hammingWindow_:ype});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wpe(t){return w3(t,.5,.5)}const _7=G({hannWindow_:wpe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cpe(t,e,n,r=!1,s=0){let i=0;const o=[];for(;i+e<=t.size;)o.push(Dt(t,i,e)),i+=n;if(r)for(;i<t.size;){const a=i+e-t.size,u=sr([Dt(t,i,e-a),jf([a],s)]);o.push(u),i+=n}return o.length===0?Rg([],[0,e]):Y(sr(o),[o.length,e])}const D7=G({frame_:Cpe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bpe(t,e,n,r,s=_7){r==null&&(r=T7(e));const i=D7(t,e,n),o=X(i,s(e));return w2(o,r)}const xpe=G({stft_:bpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bpe(t,e,n,r,s="bilinear",i=0){const o=U(t,"image","cropAndResize"),a=U(e,"boxes","cropAndResize","float32"),u=U(n,"boxInd","cropAndResize","int32"),l=a.shape[0];O(o.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${o.rank}.`),O(a.rank===2&&a.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${l},4] but had shape ${a.shape}.`),O(u.rank===1&&u.shape[0]===l,()=>`Error in cropAndResize: boxInd must be have size [${l}] but had shape ${a.shape}.`),O(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),O(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),O(s==="bilinear"||s==="nearest",()=>`method must be bilinear or nearest, but was ${s}`);const c={image:o,boxes:a,boxInd:u},A={method:s,extrapolationValue:i,cropSize:r};return j.runKernel(MF,c,A)}const Ipe=G({cropAndResize_:Bpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Epe(t){const e=U(t,"image","flipLeftRight","float32");O(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return j.runKernel(qF,n,{})}const $pe=G({flipLeftRight_:Epe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Spe(t){const e=U(t,"image","grayscaleToRGB"),n=e.rank-1,r=e.shape[n];O(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),O(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const s=new Array(e.rank);return s.fill(1,0,n),s[n]=3,mo(e,s)}const Tpe=G({grayscaleToRGB_:Spe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Npe(t,e,n=0,r=.5){const s=U(t,"image","rotateWithOffset","float32");O(s.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${s.rank}.`);const i={image:s},o={radians:e,fillValue:n,center:r};return j.runKernel(N_,i,o)}const kpe=G({rotateWithOffset_:Npe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yf(t,e,n,r,s,i){r==null&&(r=.5),s==null&&(s=Number.NEGATIVE_INFINITY),i==null&&(i=0);const o=t.shape[0];return n=Math.min(n,o),O(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),O(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),O(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),O(e.rank===1,()=>"scores must be a 1D tensor"),O(e.shape[0]===o,()=>`scores has incompatible shape with boxes. Expected ${o}, but was ${e.shape[0]}`),O(0<=i&&i<=1,()=>`softNmsSigma must be in [0, 1], but was '${i}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:i}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fpe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY){const i=U(t,"boxes","nonMaxSuppression","float32"),o=U(e,"scores","nonMaxSuppression","float32"),a=Yf(i,o,n,r,s);n=a.maxOutputSize,r=a.iouThreshold,s=a.scoreThreshold;const u={maxOutputSize:n,iouThreshold:r,scoreThreshold:s};return j.runKernel(o_,{boxes:i,scores:o},u)}const _pe=G({nonMaxSuppression_:Fpe});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dpe(t,e,n){const r=Rpe(t,e,n),s=r<0?-(r+1):r;t.splice(s,0,e)}function Rpe(t,e,n){return Upe(t,e,n||Ope)}function Ope(t,e){return t>e?1:t<e?-1:0}function Upe(t,e,n){let r=0,s=t.length,i=0,o=!1;for(;r<s;){i=r+(s-r>>>1);const a=n(e,t[i]);a>0?r=i+1:(s=i,o=!a)}return o?r:-r-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b3(t,e,n,r,s){return I3(t,e,n,r,s,0)}function x3(t,e,n,r,s,i){return I3(t,e,n,r,s,0,!1,i,!0)}function B3(t,e,n,r,s,i){return I3(t,e,n,r,s,i,!0)}function I3(t,e,n,r,s,i,o=!1,a=!1,u=!1){const l=[];for(let m=0;m<e.length;m++)e[m]>s&&l.push({score:e[m],boxIndex:m,suppressBeginIndex:0});l.sort(cL);const c=i>0?-.5/i:0,A=[],d=[];for(;A.length<n&&l.length>0;){const m=l.pop(),{score:g,boxIndex:y,suppressBeginIndex:C}=m;if(g<s)break;let b=!1;for(let B=A.length-1;B>=C;--B){const I=Lpe(t,y,A[B]);if(I>=r){b=!0;break}if(m.score=m.score*Ppe(r,c,I),m.score<=s)break}m.suppressBeginIndex=A.length,b||(m.score===g?(A.push(y),d.push(m.score)):m.score>s&&Dpe(l,m,cL))}const h=A.length,f=n-h;a&&f>0&&(A.push(...new Array(f).fill(0)),d.push(...new Array(f).fill(0)));const p={selectedIndices:A};return o&&(p.selectedScores=d),u&&(p.validOutputs=h),p}function Lpe(t,e,n){const r=t.subarray(e*4,e*4+4),s=t.subarray(n*4,n*4+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),a=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),l=Math.min(s[0],s[2]),c=Math.min(s[1],s[3]),A=Math.max(s[0],s[2]),d=Math.max(s[1],s[3]),h=(a-i)*(u-o),f=(A-l)*(d-c);if(h<=0||f<=0)return 0;const p=Math.max(i,l),m=Math.max(o,c),g=Math.min(a,A),y=Math.min(u,d),C=Math.max(g-p,0)*Math.max(y-m,0);return C/(h+f-C)}function Ppe(t,e,n){const r=Math.exp(e*n*n);return n<=t?r:0}function cL(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Mpe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY){const i=U(t,"boxes","nonMaxSuppressionAsync"),o=U(e,"scores","nonMaxSuppressionAsync"),a=Yf(i,o,n,r,s);n=a.maxOutputSize,r=a.iouThreshold,s=a.scoreThreshold;const u=await Promise.all([i.data(),o.data()]),l=u[0],c=u[1],{selectedIndices:A}=b3(l,c,n,r,s);return i!==t&&i.dispose(),o!==e&&o.dispose(),zs(A,"int32")}const Qpe=Mpe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hpe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=0){const o=U(t,"boxes","nonMaxSuppression"),a=U(e,"scores","nonMaxSuppression"),u=Yf(o,a,n,r,s,i);n=u.maxOutputSize,r=u.iouThreshold,s=u.scoreThreshold,i=u.softNmsSigma;const l={boxes:o,scores:a},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:s,softNmsSigma:i},A=j.runKernel(u_,l,c);return{selectedIndices:A[0],selectedScores:A[1]}}const Vpe=G({nonMaxSuppressionWithScore_:Hpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function zpe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=0){const o=U(t,"boxes","nonMaxSuppressionAsync"),a=U(e,"scores","nonMaxSuppressionAsync"),u=Yf(o,a,n,r,s,i);n=u.maxOutputSize,r=u.iouThreshold,s=u.scoreThreshold,i=u.softNmsSigma;const l=await Promise.all([o.data(),a.data()]),c=l[0],A=l[1],{selectedIndices:d,selectedScores:h}=B3(c,A,n,r,s,i);return o!==t&&o.dispose(),a!==e&&a.dispose(),{selectedIndices:zs(d,"int32"),selectedScores:zs(h)}}const Kpe=zpe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wpe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=!1){const o=U(t,"boxes","nonMaxSuppression"),a=U(e,"scores","nonMaxSuppression"),u=Yf(o,a,n,r,s,null),l=u.maxOutputSize,c=u.iouThreshold,A=u.scoreThreshold,d={boxes:o,scores:a},h={maxOutputSize:l,iouThreshold:c,scoreThreshold:A,padToMaxOutputSize:i},f=j.runKernel(a_,d,h);return{selectedIndices:f[0],validOutputs:f[1]}}const Gpe=G({nonMaxSuppressionPadded_:Wpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function jpe(t,e,n,r=.5,s=Number.NEGATIVE_INFINITY,i=!1){const o=U(t,"boxes","nonMaxSuppressionAsync"),a=U(e,"scores","nonMaxSuppressionAsync"),u=Yf(o,a,n,r,s,null),l=u.maxOutputSize,c=u.iouThreshold,A=u.scoreThreshold,[d,h]=await Promise.all([o.data(),a.data()]),{selectedIndices:f,validOutputs:p}=x3(d,h,l,c,A,i);return o!==t&&o.dispose(),a!==e&&a.dispose(),{selectedIndices:zs(f,"int32"),validOutputs:tt(p,"int32")}}const Xpe=jpe;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qpe(t,e,n=!1,r=!1){const s=U(t,"images","resizeBilinear");O(s.rank===3||s.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${s.rank}.`),O(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),O(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let i=s,o=!1;s.rank===3&&(o=!0,i=Y(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:i},u={alignCorners:n,halfPixelCenters:r,size:e},l=j.runKernel(zx,a,u);return o?Y(l,[l.shape[1],l.shape[2],l.shape[3]]):l}const R7=G({resizeBilinear_:qpe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ype(t,e,n=!1,r=!1){const s=U(t,"images","resizeNearestNeighbor");O(s.rank===3||s.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${s.rank}.`),O(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),O(s.dtype==="float32"||s.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),O(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let i=s,o=!1;s.rank===3&&(o=!0,i=Y(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const a={images:i},u={alignCorners:n,halfPixelCenters:r,size:e},l=j.runKernel(Vx,a,u);return o?Y(l,[l.shape[1],l.shape[2],l.shape[3]]):l}const O7=G({resizeNearestNeighbor_:Ype});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jpe(t,e="binary",n=!1,r=.5){const s=U(t,"image","threshold"),i=.2989,o=.587,a=.114,u=s.shape[0]*s.shape[1];let l=X(zs([r]),255),c,A,d,h;if(O(s.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${s.rank}.`),O(s.shape[2]===3||s.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${s.shape[2]}.`),O(s.dtype==="int32"||s.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${s.dtype}.`),O(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),s.shape[2]===3){[c,A,d]=gi(s,[1,1,1],-1);const m=X(c,i),g=X(A,o),y=X(d,a);h=Ce(Ce(m,g),y)}else h=t;if(e==="otsu"){const m=LV(_e(u3(h),"int32"),Oa([]),256);l=Zpe(m,u)}const f=n?md(h,l):Ki(h,l);return _e(X(f,255),"int32")}function Zpe(t,e){let n=zs([-1]),r=zs([0]),s=zs([0]),i,o,a,u,l,c;for(let A=0;A<t.size-1;A++){i=Dt(t,0,A+1),o=Dt(t,A+1),l=Je(Ke(i),e),c=Je(Ke(o),e);const d=Ke(X(i,bm(0,i.size)));a=Je(d,Ke(i));const h=jf(o.shape,i.size),f=Ce(bm(0,o.size),h),p=X(o,f);u=Je(Ke(p),Ke(o));const m=Me(a,u),g=Me(a,u),y=X(l,c);s=X(X(y,m),g);const C=Ki(s,r);r=Gs(C,s,r),n=Gs(C,zs([A]),n)}return n}const ege=G({threshold_:Jpe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tge(t,e,n="nearest",r="constant",s=0,i){const o=U(t,"image","transform","float32"),a=U(e,"transforms","transform","float32");O(o.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${o.rank}.`),O(a.rank===2&&(a.shape[0]===o.shape[0]||a.shape[0]===1)&&a.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),O(i==null||i.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`);const u={image:o,transforms:a},l={interpolation:n,fillMode:r,fillValue:s,outputShape:i};return j.runKernel(S_,u,l)}const nge=G({transform_:tge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rge(t,e,n){O(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),O(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`);const r=U(t,"a","bandPart");O(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const s=r.shape,[i,o]=r.shape.slice(-2);if(!(e<=i))throw new Error(`bandPart(): numLower (${e}) must not be greater than the number of rows (${i}).`);if(!(n<=o))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${o}).`);e<0&&(e=i),n<0&&(n=o);const a=Y(bm(0,i,1,"int32"),[-1,1]),u=bm(0,o,1,"int32"),l=Me(a,u),c=Va(md(l,tt(+e,"int32")),gd(l,tt(-n,"int32"))),A=dr([i,o],r.dtype);return Y($o(ra(Y(r,[-1,i,o])).map(d=>Gs(c,d,A))),s)}const sge=G({bandPart_:rge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ige(t){let e;if(Array.isArray(t)){e=!1,O(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const s=t[0].shape[0];for(let i=1;i<t.length;++i)O(t[i].shape[0]===s,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[i].shape[0]} vs. ${s})`)}else e=!0,t=gi(t,t.shape[0],0).map(s=>vd(s,[0]));O(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],r=t;for(let s=0;s<t.length;++s)n.push(j.tidy(()=>{let i=r[s];if(s>0)for(let o=0;o<s;++o){const a=X(Ke(X(n[o],i)),n[o]);i=Me(i,a)}return Je(i,wy(i,"euclidean"))}));return e?$o(n,0):n}const oge=G({gramSchmidt_:ige});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function age(t,e=!1){if(O(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return AL(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((u,l)=>u*l),r=ra(Y(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),s=[],i=[];r.forEach(u=>{const[l,c]=AL(u,e);s.push(l),i.push(c)});const o=Y($o(s,0),t.shape),a=Y($o(i,0),t.shape);return[o,a]}}function AL(t,e=!1){return j.tidy(()=>{O(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],r=t.shape[1];let s=Z_(n),i=bu(t);const o=Rg([[1]],[1,1]);let a=bu(o);const u=n>=r?r:n;for(let l=0;l<u;++l){const c=i,A=a,d=s;[a,i,s]=j.tidy(()=>{const h=Dt(i,[l,l],[n-l,1]),f=wy(h),p=Dt(i,[l,l],[1,1]),m=Gs(Ki(p,0),Rg([[-1]]),Rg([[1]])),g=Me(p,X(m,f)),y=Je(h,g);y.shape[0]===1?a=bu(o):a=sr([o,Dt(y,[1,0],[y.shape[0]-1,y.shape[1]])],0);const C=En(Je(Bt(m,g),f)),b=Dt(i,[l,0],[n-l,r]),B=X(C,a),I=Nt(a);if(l===0)i=Me(b,Bt(B,Bt(I,b)));else{const T=Me(b,Bt(B,Bt(I,b)));i=sr([Dt(i,[0,0],[l,r]),T],0)}const w=Nt(B),$=Dt(s,[0,l],[n,s.shape[1]-l]);if(l===0)s=Me($,Bt(Bt($,a),w));else{const T=Me($,Bt(Bt($,a),w));s=sr([Dt(s,[0,0],[n,l]),T],1)}return[a,i,s]}),vt([c,A,d])}return!e&&n>r&&(s=Dt(s,[0,0],[n,r]),i=Dt(i,[0,0],[r,r])),[s,i]})}const uge=G({qr_:age});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Hs;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Hs||(Hs={}));function lge(t,e,n=Hs.SUM_BY_NONZERO_WEIGHTS){const r=U(t,"losses","computeWeightedLoss");let s=null;e!=null&&(s=U(e,"weights","computeWeightedLoss"));const i=s==null?r:X(r,s);if(n===Hs.NONE)return i;if(n===Hs.SUM)return Ke(i);if(n===Hs.MEAN){if(s==null)return Pn(i);{const o=r.size/s.size,a=Je(Ke(i),Ke(s));return o>1?Je(a,tt(o)):a}}if(n===Hs.SUM_BY_NONZERO_WEIGHTS){if(s==null)return Je(Ke(i),tt(r.size));{const o=X(s,di(r.shape)),a=_e(Ke(wf(o,tt(0))),"float32");return Je(Ke(i),a)}}throw Error(`Unknown reduction: ${n}`)}const qu=G({computeWeightedLoss_:lge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cge(t,e,n,r=Hs.SUM_BY_NONZERO_WEIGHTS){const s=U(t,"labels","absoluteDifference"),i=U(e,"predictions","absoluteDifference");let o=null;n!=null&&(o=U(n,"weights","absoluteDifference")),bi(s.shape,i.shape,"Error in absoluteDifference: ");const a=ur(Me(s,i));return qu(a,o,r)}const Age=G({absoluteDifference_:cge});function dge(t,e,n,r,s=Hs.SUM_BY_NONZERO_WEIGHTS){const i=U(t,"labels","cosineDistance"),o=U(e,"predictions","cosineDistance");let a=null;r!=null&&(a=U(r,"weights","cosineDistance")),bi(i.shape,o.shape,"Error in cosineDistance: ");const u=tt(1),l=Me(u,Ke(X(i,o),n,!0));return qu(l,a,s)}const hge=G({cosineDistance_:dge});function fge(t,e,n,r=Hs.SUM_BY_NONZERO_WEIGHTS){let s=U(t,"labels","hingeLoss");const i=U(e,"predictions","hingeLoss");let o=null;n!=null&&(o=U(n,"weights","hingeLoss")),bi(s.shape,i.shape,"Error in hingeLoss: ");const a=tt(1);s=Me(X(tt(2),s),a);const u=qa(Me(a,X(s,i)));return qu(u,o,r)}const pge=G({hingeLoss_:fge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gge(t,e,n,r=1,s=Hs.SUM_BY_NONZERO_WEIGHTS){const i=U(t,"labels","huberLoss"),o=U(e,"predictions","huberLoss");let a=null;n!=null&&(a=U(n,"weights","huberLoss")),bi(i.shape,o.shape,"Error in huberLoss: ");const u=tt(r),l=ur(Me(o,i)),c=xy(l,u),A=Me(l,c),d=Ce(X(tt(.5),on(c)),X(u,A));return qu(d,a,s)}const mge=G({huberLoss_:gge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yge(t,e,n,r=1e-7,s=Hs.SUM_BY_NONZERO_WEIGHTS){const i=U(t,"labels","logLoss"),o=U(e,"predictions","logLoss");let a=null;n!=null&&(a=U(n,"weights","logLoss")),bi(i.shape,o.shape,"Error in logLoss: ");const u=tt(1),l=tt(r),c=En(X(i,Pi(Ce(o,l)))),A=X(Me(u,i),Pi(Ce(Me(u,o),l))),d=Me(c,A);return qu(d,a,s)}const vge=G({logLoss_:yge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wge(t,e,n,r=Hs.SUM_BY_NONZERO_WEIGHTS){const s=U(t,"labels","meanSquaredError"),i=U(e,"predictions","meanSquaredError");let o=null;n!=null&&(o=U(n,"weights","meanSquaredError")),bi(s.shape,i.shape,"Error in meanSquaredError: ");const a=g3(s,i);return qu(a,o,r)}const Cge=G({meanSquaredError_:wge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bge(t,e){const n=U(t,"labels","sigmoidCrossEntropyWithLogits"),r=U(e,"logits","sigmoidCrossEntropyWithLogits");bi(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const s=qa(r),i=X(r,n),o=l2(Li(En(ur(r))));return Ce(Me(s,i),o)}function xge(t,e,n,r=0,s=Hs.SUM_BY_NONZERO_WEIGHTS){let i=U(t,"multiClassLabels","sigmoidCrossEntropy");const o=U(e,"logits","sigmoidCrossEntropy");let a=null;if(n!=null&&(a=U(n,"weights","sigmoidCrossEntropy")),bi(i.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){const l=tt(r),c=tt(1),A=tt(.5);i=Ce(X(i,Me(c,l)),X(A,l))}const u=bge(i,o);return qu(u,a,s)}const Bge=G({sigmoidCrossEntropy_:xge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ige(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return Du((s,i,o)=>{const u=n3(i,[n],!0),l=Me(_e(i,"float32"),u);o([s,l]);const c=En(X(l,s));return{value:Ke(c,[n]),gradFunc:(h,f)=>{const[p,m]=f,g=Gn(h.shape,[n]);return[X(Y(h,g),Me(_e(p,"float32"),Li(m))),X(Y(h,g),Me(Li(m),_e(p,"float32")))]}}})(t,e)}function Ege(t,e,n,r=0,s=Hs.SUM_BY_NONZERO_WEIGHTS){let i=U(t,"onehotLabels","softmaxCrossEntropy");const o=U(e,"logits","softmaxCrossEntropy");let a=null;if(n!=null&&(a=U(n,"weights","softmaxCrossEntropy")),bi(i.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){const l=tt(r),c=tt(1),A=tt(i.shape[1]);i=Ce(X(i,Me(c,l)),Je(l,A))}const u=Ige(i,o);return qu(u,a,s)}const $ge=G({softmaxCrossEntropy_:Ege});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sge(t,e,n,r){const s=U(t,"indices","sparseFillEmptyRows","int32"),i=U(e,"values","sparseFillEmptyRows"),o=U(n,"denseShape","sparseFillEmptyRows","int32"),a=U(r,"defaultValue","sparseFillEmptyRows",i.dtype);if(s.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${s.shape}`);if(i.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${i.shape}`);if(o.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${o.shape}`);if(a.rank!==0)throw new Error(`Default value should be a scalar but received shape ${a.shape}`);const u={indices:s,values:i,denseShape:o,defaultValue:a},l=j.runKernel(m_,u);return{outputIndices:l[0],outputValues:l[1],emptyRowIndicator:l[2],reverseIndexMap:l[3]}}const Tge=G({sparseFillEmptyRows_:Sge});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nge(t,e,n){const r=U(t,"inputIndices","sparseReshape","int32"),s=U(e,"inputShape","sparseReshape","int32"),i=U(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(s.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${s.shape}`);if(i.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${i.shape}`);const o={inputIndices:r,inputShape:s,newShape:i},a=j.runKernel(y_,o);return{outputIndices:a[0],outputShape:a[1]}}const kge=G({sparseReshape_:Nge});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fge(t,e,n){const r=U(t,"data","sparseSegmentMean"),s=U(e,"indices","sparseSegmentMean","int32"),i=U(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${s.shape}`);if(i.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${i.shape}`);const o={data:r,indices:s,segmentIds:i};return j.runKernel(v_,o)}const _ge=G({sparseSegmentMean_:Fge});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dge(t,e,n){const r=U(t,"data","sparseSegmentSum"),s=U(e,"indices","sparseSegmentSum","int32"),i=U(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${s.shape}`);if(i.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${i.shape}`);const o={data:r,indices:s,segmentIds:i};return j.runKernel(w_,o)}const Rge=G({sparseSegmentSum_:Dge});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oge(t,e,n,r,s,i,o,a){const u=U(t,"data","stringNGrams","string");if(u.dtype!=="string")throw new Error("Data must be of datatype string");if(u.shape.length!==1)throw new Error(`Data must be a vector, saw: ${u.shape}`);const l=U(e,"dataSplits","stringNGrams");if(l.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:s,rightPad:i,padWidth:o,preserveShortSequences:a},A={data:u,dataSplits:l},d=j.runKernel(B_,A,c);return{nGrams:d[0],nGramsSplits:d[1]}}const Uge=G({stringNGrams_:Oge});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lge(t,e,n=!0){const r=U(t,"input","stringSplit","string"),s=U(e,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(s.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${s.shape}`);const i={skipEmpty:n},o={input:r,delimiter:s},a=j.runKernel(I_,o,i);return{indices:a[0],values:a[1],shape:a[2]}}const Pge=G({stringSplit_:Lge});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mge(t,e){const n=U(t,"input","stringToHashBucketFast","string"),r={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const s={input:n};return j.runKernel(E_,s,r)}const Qge=G({stringToHashBucketFast_:Mge});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hge={fft:v2,ifft:Bm,rfft:w2,irfft:p3},Vge={hammingWindow:vpe,hannWindow:_7,frame:D7,stft:xpe},Eh={flipLeftRight:$pe,grayscaleToRGB:Tpe,resizeNearestNeighbor:O7,resizeBilinear:R7,rotateWithOffset:kpe,cropAndResize:Ipe,nonMaxSuppression:_pe,nonMaxSuppressionAsync:Qpe,nonMaxSuppressionWithScore:Vpe,nonMaxSuppressionWithScoreAsync:Kpe,nonMaxSuppressionPadded:Gpe,nonMaxSuppressionPaddedAsync:Xpe,threshold:ege,transform:nge},U7={bandPart:sge,gramSchmidt:oge,qr:uge},zge={absoluteDifference:Age,computeWeightedLoss:qu,cosineDistance:hge,hingeLoss:pge,huberLoss:mge,logLoss:vge,meanSquaredError:Cge,sigmoidCrossEntropy:Bge,softmaxCrossEntropy:$ge},Kge={sparseFillEmptyRows:Tge,sparseReshape:kge,sparseSegmentMean:_ge,sparseSegmentSum:Rge},Wge={stringNGrams:Uge,stringSplit:Pge,stringToHashBucketFast:Qge};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Dc extends Gf{minimize(e,n=!1,r){const{value:s,grads:i}=this.computeGradients(e,r);if(r!=null){const o=r.map(a=>({name:a.name,tensor:i[a.name]}));this.applyGradients(o)}else this.applyGradients(i);return vt(i),n?s:(s.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return Qde(e,n)}dispose(){this.iterations_!=null&&vt(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:tt(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Dc,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class E3 extends Dc{constructor(e,n,r=null){super(),this.learningRate=e,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=j.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=j.registeredVariables[r],o=!1;this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accum_grad`,variable:ie(()=>Ot(i).variable(o))}),this.accumulatedUpdates[s]==null&&(this.accumulatedUpdates[s]={originalName:`${r}/accum_var`,variable:ie(()=>Ot(i).variable(o))});const a=Array.isArray(e)?e[s].tensor:e[r];if(a==null)return;const u=this.accumulatedGrads[s].variable,l=this.accumulatedUpdates[s].variable;ie(()=>{const c=Ce(X(u,this.rho),X(on(a),1-this.rho)),A=X(Je(as(Ce(l,this.epsilon)),as(Ce(u,this.epsilon))),a),d=Ce(X(l,this.rho),X(on(A),1-this.rho));u.assign(c),l.assign(d);const h=Ce(X(A,-this.learningRate),i);i.assign(h)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(vt(this.accumulatedGrads.map(e=>e.variable)),vt(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,r=!1;this.accumulatedGrads=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedUpdates=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}E3.className="Adadelta";we(E3);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $3 extends Dc{constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=j.registeredVariables[r];this.accumulatedGrads[s]==null&&(this.accumulatedGrads[s]={originalName:`${r}/accumulator`,variable:ie(()=>jf(i.shape,this.initialAccumulatorValue).variable(!1))});const o=Array.isArray(e)?e[s].tensor:e[r];if(o==null)return;const a=this.accumulatedGrads[s].variable;ie(()=>{const u=Ce(a,on(o));a.assign(u);const l=Ce(X(Je(o,as(Ce(u,j.backend.epsilon()))),-this.learningRate),i);i.assign(l)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&vt(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}$3.className="Adagrad";we($3);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class S3 extends Dc{constructor(e,n,r,s=null){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=s,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],ie(()=>{this.accBeta1=tt(n).variable(),this.accBeta2=tt(r).variable()}),s==null&&(this.epsilon=j.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);ie(()=>{const r=Me(1,this.accBeta1),s=Me(1,this.accBeta2);n.forEach((i,o)=>{const a=j.registeredVariables[i],u=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${i}/m`,variable:ie(()=>Ot(a).variable(u))}),this.accumulatedSecondMoment[o]==null&&(this.accumulatedSecondMoment[o]={originalName:`${i}/v`,variable:ie(()=>Ot(a).variable(u))});const l=Array.isArray(e)?e[o].tensor:e[i];if(l==null)return;const c=this.accumulatedFirstMoment[o].variable,A=this.accumulatedSecondMoment[o].variable,d=Ce(X(c,this.beta1),X(l,1-this.beta1)),h=Ce(X(A,this.beta2),X(on(l),1-this.beta2)),f=Je(d,r),p=Je(h,s);c.assign(d),A.assign(h);const m=Ce(X(Je(f,Ce(as(p),this.epsilon)),-this.learningRate),a);a.assign(m)}),this.accBeta1.assign(X(this.accBeta1,this.beta1)),this.accBeta2.assign(X(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&vt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&vt(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),ie(()=>{this.accBeta1.assign(ac(this.beta1,this.iterations_+1)),this.accBeta2.assign(ac(this.beta2,this.iterations_+1))});const n=e.length/2,r=!1;this.accumulatedFirstMoment=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}S3.className="Adam";we(S3);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class T3 extends Dc{constructor(e,n,r,s=null,i=0){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=s,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],ie(()=>{this.iteration=tt(0).variable(),this.accBeta1=tt(n).variable()}),s==null&&(this.epsilon=j.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);ie(()=>{const r=Me(1,this.accBeta1),s=Je(-this.learningRate,Ce(X(this.iteration,this.decay),1));n.forEach((i,o)=>{const a=j.registeredVariables[i],u=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${i}/m`,variable:Ot(a).variable(u)}),this.accumulatedWeightedInfNorm[o]==null&&(this.accumulatedWeightedInfNorm[o]={originalName:`${i}/v`,variable:Ot(a).variable(u)});const l=Array.isArray(e)?e[o].tensor:e[i];if(l==null)return;const c=this.accumulatedFirstMoment[o].variable,A=this.accumulatedWeightedInfNorm[o].variable,d=Ce(X(c,this.beta1),X(l,1-this.beta1)),h=X(A,this.beta2),f=ur(l),p=Xu(h,f);c.assign(d),A.assign(p);const m=Ce(X(Je(s,r),Je(d,Ce(p,this.epsilon))),a);a.assign(m)}),this.iteration.assign(Ce(this.iteration,1)),this.accBeta1.assign(X(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&vt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&vt(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}T3.className="Adamax";we(T3);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class I2 extends Dc{constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=Array.isArray(e)?e[s].tensor:e[r];if(i==null)return;const o=j.registeredVariables[r];ie(()=>{const a=Ce(X(this.c,i),o);o.assign(a)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=Vr(tt(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}I2.className="SGD";we(I2);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class N3 extends I2{constructor(e,n,r=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=tt(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=j.registeredVariables[r];this.accumulations[s]==null&&(this.accumulations[s]={originalName:`${r}/momentum`,variable:ie(()=>Ot(i).variable(!1))});const o=this.accumulations[s].variable,a=Array.isArray(e)?e[s].tensor:e[r];a!=null&&ie(()=>{let u;const l=Ce(X(this.m,o),a);this.useNesterov?u=Ce(X(this.c,Ce(a,X(l,this.m))),i):u=Ce(X(this.c,l),i),o.assign(l),i.assign(u)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&vt(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}N3.className="Momentum";we(N3);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class k3 extends Dc{constructor(e,n=.9,r=0,s=null,i=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=r,this.epsilon=s,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,s==null&&(this.epsilon=j.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,s)=>{const i=j.registeredVariables[r],o=!1;this.accumulatedMeanSquares[s]==null&&(this.accumulatedMeanSquares[s]={originalName:`${r}/rms`,variable:ie(()=>Ot(i).variable(o))}),this.accumulatedMoments[s]==null&&(this.accumulatedMoments[s]={originalName:`${r}/momentum`,variable:ie(()=>Ot(i).variable(o))}),this.accumulatedMeanGrads[s]==null&&this.centered&&(this.accumulatedMeanGrads[s]={originalName:`${r}/mg`,variable:ie(()=>Ot(i).variable(o))});const a=Array.isArray(e)?e[s].tensor:e[r];if(a==null)return;const u=this.accumulatedMeanSquares[s].variable,l=this.accumulatedMoments[s].variable;ie(()=>{const c=Ce(X(u,this.decay),X(on(a),1-this.decay));if(this.centered){const A=this.accumulatedMeanGrads[s].variable,d=Ce(X(A,this.decay),X(a,1-this.decay)),h=Je(X(a,this.learningRate),as(Me(c,Ce(on(d),this.epsilon)))),f=Ce(X(l,this.momentum),h);u.assign(c),A.assign(d),l.assign(f);const p=Me(i,f);i.assign(p)}else{const A=Ce(X(u,this.decay),X(on(a),1-this.decay)),d=Ce(X(l,this.momentum),Je(X(a,this.learningRate),as(Ce(A,this.epsilon))));u.assign(A),l.assign(d);const h=Me(i,d);i.assign(h)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&vt(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&vt(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&vt(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,n).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.accumulatedMoments=e.slice(n,n*2).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(s=>({originalName:s.name,variable:s.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}k3.className="RMSProp";we(k3);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jc{static sgd(e){return new I2(e)}static momentum(e,n,r=!1){return new N3(e,n,r)}static rmsprop(e,n=.9,r=0,s=null,i=!1){return new k3(e,n,r,s,i)}static adam(e=.001,n=.9,r=.999,s=null){return new S3(e,n,r,s)}static adadelta(e=.001,n=.95,r=null){return new E3(e,n,r)}static adamax(e=.002,n=.9,r=.999,s=null,i=0){return new T3(e,n,r,s,i)}static adagrad(e,n=.1){return new $3(e,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pd={sgd:jc.sgd,momentum:jc.momentum,adadelta:jc.adadelta,adagrad:jc.adagrad,rmsprop:jc.rmsprop,adamax:jc.adamax,adam:jc.adam};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gge=(()=>typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t())();function L7(){return new Promise(t=>Gge(()=>t()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F3(t,e){const n=t[0].length;t.forEach((s,i)=>{O(s.length===n,()=>`Error in concat${n}D: rank of tensors[${i}] must be the same as the rank of the rest (${n})`)}),O(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=t[0];t.forEach((s,i)=>{for(let o=0;o<n;o++)O(o===e||s[o]===r[o],()=>`Error in concat${n}D: Shape of tensors[${i}] (${s}) does not match the shape of the rest (${r}) along the non-concatenated axis ${i}.`)})}function La(t,e){const n=t[0].slice();for(let r=1;r<t.length;r++)n[e]+=t[r][e];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var zo;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(zo||(zo={}));function P7(t,e,n){let r=new Array;if(n==null&&e==null)return r;if(e==null)for(;r.length<t+n.length;)r.push(-1);else r=e.slice();if(n==null)return r;if(t+n.length!==r.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${r.length}`);for(let s=1;s<n.length;++s){const i=n[s],o=r[r.length-n.length+s],a=r[o];if(i>=0)if(a>=0){if(a!==i)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${s+t}] = ${i} but shape[${s+t}] = ${a}`)}else r[o]=i}return r}function M7(t){const e={FIRST_DIM_SIZE:zo.FIRST_DIM_SIZE,VALUE_ROWIDS:zo.VALUE_ROWIDS,ROW_LENGTHS:zo.ROW_LENGTHS,ROW_SPLITS:zo.ROW_SPLITS,ROW_LIMITS:zo.ROW_LIMITS,ROW_STARTS:zo.ROW_STARTS},n=[];for(const r of t)if(r in e)n.push(e[r]);else break;return n}function Q7(t){return t.length===0?0:t[0]===zo.FIRST_DIM_SIZE?t.length-1:t.length}function H7(t,e){if(t==null||e==null)return;const n=t.length,r=e.length;if(n>=r)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let s=0;s<Math.min(n,r-1);++s){const i=t[s],o=e[s+1];if(i>=0&&o>=0&&i!==1&&i!==o)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${s-t.length}] = ${i} but ragged tensor input.flatValues.shape[${s-t.length}] = ${o}`)}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _3=30;function E2(t){return t<=_3?t:gS(t,Math.floor(Math.sqrt(t)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D3(t,e,n){const r=n*(typeof t=="number"?t:t[0]),s=e*(typeof t=="number"?t:t[1]);return[r,s]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Iy(t,e,n,r=!0){let s=[];if(r)s=s.concat(e.slice(0)),s.push(t[0]/n),s=s.concat(t.slice(1));else{s=s.concat(t[0]);const i=e.length;for(let o=0;o<i;++o)s=s.concat([t[o+1]/e[o],e[o]]);s=s.concat(t.slice(i+1))}return s}function Ey(t,e,n=!0){const r=[];if(n){r.push(e);for(let s=e+1;s<t;++s)s<=2*e?(r.push(s),r.push(s-(e+1))):r.push(s)}else{const s=[],i=[];for(let o=1;o<t;++o)o>=e*2+1||o%2===1?i.push(o):s.push(o);r.push(...s),r.push(0),r.push(...i)}return r}function $y(t,e,n,r=!0){const s=[];r?s.push(t[0]/n):s.push(t[0]*n);for(let i=1;i<t.length;++i)i<=e.length?r?s.push(e[i-1]*t[i]):s.push(t[i]/e[i-1]):s.push(t[i]);return s}function R3(t,e){const n=[0];for(let r=0;r<e;++r)n.push(t[r][0]);return n}function O3(t,e,n){const r=t.slice(0,1);for(let s=0;s<n;++s)r.push(t[s+1]-e[s][0]-e[s][1]);return r}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $2=1.7580993408473768,S2=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U3=.3275911,L3=.254829592,P3=-.284496736,M3=1.421413741,Q3=-1.453152027,H3=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ru(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function V7(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}function z7(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let s=0;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],r[Math.floor(s/4)]=t[s+1];return{real:n,imag:r}}function K7(t){const e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let s=2;s<t.length;s+=4)n[Math.floor(s/4)]=t[s],r[Math.floor(s/4)]=t[s+1];return{real:n,imag:r}}function V3(t,e){const n=t[e*2],r=t[e*2+1];return{real:n,imag:r}}function W7(t,e,n,r){t[r*2]=e,t[r*2+1]=n}function G7(t,e){const n=new Float32Array(t/2),r=new Float32Array(t/2);for(let s=0;s<Math.ceil(t/2);s++){const i=(e?2:-2)*Math.PI*(s/t);n[s]=Math.cos(i),r[s]=Math.sin(i)}return{real:n,imag:r}}function j7(t,e,n){const r=(n?2:-2)*Math.PI*(t/e),s=Math.cos(r),i=Math.sin(r);return{real:s,imag:i}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YI="->",jge=/->/g,dL=",",hL="...";function z3(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(jge,"").length)/YI.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${YI}").`);const[r,s]=t.split(YI);O(r.indexOf(hL)===-1,()=>`The ellipsis notation ("${hL}") is not supported yet.`);const i=r.split(dL),o=i.length;if(e!==o)throw new Error(`Expected ${o} input tensors, received ${e}`);if(o>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const a=[];for(let d=0;d<s.length;++d){const h=s[d];if(!i.some(f=>f.indexOf(h)!==-1))throw new Error(`Output subscripts contain the label ${h} not present in the input subscripts.`);a.indexOf(h)===-1&&a.push(h)}for(let d=0;d<r.length;++d){const h=r[d];a.indexOf(h)===-1&&h!==dL&&a.push(h)}const u=new Array(i.length);for(let d=0;d<o;++d){if(new Set(i[d].split("")).size!==i[d].length)throw new Error(`Found duplicate axes in input component ${i[d]}. Support for duplicate axes in input is not implemented yet.`);u[d]=[];for(let h=0;h<i[d].length;++h)u[d].push(a.indexOf(i[d][h]))}const l=a.length,c=s.length,A=[];for(let d=c;d<l;++d)A.push(d);return{allDims:a,summedDims:A,idDims:u}}function K3(t,e){let n=new Array(t);n.fill(-1);for(let s=0;s<e.length;++s)n[e[s]]=s;const r=[];for(let s=0;s<t;++s)n[s]===-1&&r.push(s);return n=n.filter(s=>s!==-1),{permutationIndices:n,expandDims:r}}function W3(t,e,n){const r=new Array(t);for(let s=0;s<n.length;++s){const i=n[s].shape;for(let o=0;o<e[s].length;++o)r[e[s][o]]===void 0?r[e[s][o]]=i[o]:O(r[e[s][o]]===i[o],()=>`Expected dimension ${r[e[s][o]]} at axis ${o} of input shaped ${JSON.stringify(i)}, but got dimension ${i[o]}`)}}function G3(t,e){const n=t,r=[];let s=0;t.length===0&&n.push(-1),s=t.length+1;for(let o=0;o<s;++o)r.push([]);const i=[];for(let o=0;o<n.length;++o){const a=n[o],u=Xge(e,a);for(const l of u)i.indexOf(l)===-1&&(r[o].push(l),i.push(l))}return{path:n,steps:r}}function j3(t){return t.every((e,n)=>e===n)}function Xge(t,e){const n=[];for(let r=0;r<t.length;++r)(t[r].length===0||t[r].indexOf(e)!==-1||e===-1)&&n.push(r);return n}function X3(t,e,n=0){let r=[];if(typeof e=="number")O(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),r=new Array(e).fill(t.shape[n]/e);else{const s=e.reduce((o,a)=>(a===-1&&(o+=1),o),0);O(s<=1,()=>"There should be only one negative value in split array.");const i=e.indexOf(-1);if(i!==-1){const o=e.reduce((a,u)=>u>0?a+u:a);e[i]=t.shape[n]-o}O(t.shape[n]===e.reduce((o,a)=>o+a),()=>"The sum of sizes must match the size of the axis dimension."),r=e}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X7(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function q7(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function Y7(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J7(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function Z7(t,e){return`size ${t} must be non-negative, not ${e}`}function ez(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function tz(t,e){const n=de(t),r=de(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${t} outputShape= ${e}`}function nz(t,e){const n=de(t),r=de(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${t} outputShape=${e}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PS(){return"segment ids must be >= 0"}function rz(){return"segment ids are not increasing"}function sz(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function iz(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oz(t,e){let n=!1,r;for(t<=_3?(r=t,n=!0):r=gS(t,Math.floor(Math.sqrt(t)));!n;)r>e||r===t?n=!0:r=gS(t,r+1);return r}function az(t,e,n){const r=[],s=t.length;for(let i=0;i<s;i++)i!==e?r.push(t[i]):r.push(n);return r}function q3(t,e,n,r){const s=e.shape.length,i=t.shape.length;if(r!==0&&(r<-s||r>s))throw new Error(`Expect batchDims in the range of [-${s}, ${s}], but got ${r}`);if(r<0&&(r+=s),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let A=0;A<r;++A)if(t.shape[A]!==e.shape[A])throw new Error(`x.shape[${A}]: ${t.shape[A]} should be equal to indices.shape[${A}]: ${e.shape[A]}.`);const o=t.shape[n],a=[];let u=1,l=1,c=1;for(let A=0;A<r;++A)a.push(t.shape[A]),u*=t.shape[A];for(let A=r;A<n;A++)a.push(t.shape[A]),l*=t.shape[A];for(let A=r;A<s;A++)a.push(e.shape[A]);for(let A=n+1;A<i;A++)a.push(t.shape[A]),c*=t.shape[A];return{batchSize:u,sliceSize:c,outerSize:l,dimSize:o,outputShape:a}}const qge=Object.freeze(Object.defineProperty({__proto__:null,segOpComputeOptimalWindowSize:oz,computeOutShape:az,collectGatherOpShapeInfo:q3},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XA(t){try{return t.map(e=>rc(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function uz(t){return t.map(e=>Gl(e))}const Yge=Object.freeze(Object.defineProperty({__proto__:null,slice_util:Gce,segment_util:qge,fromUint8ToStringArray:XA,fromStringArrayToUint8:uz,upcastType:mi,axesAreInnerMostDims:J_,combineLocations:JV,computeOutAndReduceShapes:Or,expandShapeToKeepDim:Gn,assertAxesAreInnerMostDims:jr,getAxesPermutation:Un,getUndoAxesPermutation:Fc,getInnerMostAxes:Yn,getBroadcastDims:mf,getReductionAxes:wr,assertAndGetBroadcastShape:ft,assertParamsConsistent:F3,computeOutShape:La,computeDilation2DInfo:gy,computePool2DInfo:So,computePool3DInfo:Gu,computeConv2DInfo:Rr,computeConv3DInfo:kc,computeDefaultPad:W_,tupleValuesAreOne:ic,eitherStridesOrDilationsAreOne:Gr,convertConv2DDataFormat:ju,checkPadOnDimRoundingMode:_s,getFusedDyActivation:C2,getFusedBiasGradient:b2,applyActivation:x2,shouldFuse:B2,get RowPartitionType(){return zo},combineRaggedTensorToTensorShapes:P7,getRowPartitionTypesHelper:M7,getRaggedRank:Q7,validateDefaultValueShape:H7,PARALLELIZE_THRESHOLD:_3,computeOptimalWindowSize:E2,getImageCenter:D3,getReshaped:Iy,getPermuted:Ey,getReshapedPermuted:$y,getSliceBeginCoords:R3,getSliceSize:O3,prepareAndValidate:L_,validateUpdateShape:gV,validateInput:mV,calculateShapes:py,SELU_SCALEALPHA:$2,SELU_SCALE:S2,ERF_P:U3,ERF_A1:L3,ERF_A2:P3,ERF_A3:M3,ERF_A4:Q3,ERF_A5:H3,warn:ki,log:ple,mergeRealAndImagArrays:Ru,splitRealAndImagArrays:V7,complexWithEvenIndex:z7,complexWithOddIndex:K7,getComplexWithIndex:V3,assignToTypedArray:W7,exponents:G7,exponent:j7,decodeEinsumEquation:z3,getEinsumPermutation:K3,checkEinsumDimSizes:W3,getEinsumComputePath:G3,isIdentityPermutation:j3,prepareSplitSize:X3,getSparseFillEmptyRowsIndicesDenseShapeMismatch:X7,getSparseFillEmptyRowsNegativeIndexErrorMessage:q7,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:Y7,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:J7,getSparseReshapeNegativeOutputDimErrorMessage:Z7,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:ez,getSparseReshapeInputOutputMultipleErrorMessage:tz,getSparseReshapeInputOutputMismatchErrorMessage:nz,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:PS,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:rz,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:sz,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:iz},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oA={},Vv={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function Jge(t,e){oA[t]=e}function sa(t,e){if(!(t in oA)||e!=null){const r=eme(t,e);if(r!==null)oA[t]=r;else return console.log("Could not get context for WebGL version",t),null}const n=oA[t];return n==null||n.isContextLost()?(delete oA[t],sa(t)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),oA[t])}function Zge(t){if(typeof OffscreenCanvas<"u"&&t===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function eme(t,e){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=e==null?Zge(t):e;return n.addEventListener("webglcontextlost",r=>{r.preventDefault(),delete oA[t]},!1),le().getBool("SOFTWARE_WEBGL_ENABLED")&&(Vv.failIfMajorPerformanceCaveat=!1),t===1?n.getContext("webgl",Vv)||n.getContext("experimental-webgl",Vv):n.getContext("webgl2",Vv)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Im;(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(Im||(Im={}));var _i;(function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"})(_i||(_i={}));var Hr;(function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Hr||(Hr={}));function Sy(t,e){return[e,t]}function tme(t,e){return t*e}function zv(t){const e=de(t),n=Math.ceil(e/4);return dS(n)}function Jf(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function nme(t,e){const[n,r]=Jf(t,e);return n*r*4}function Y3(t,e){const n=t;let r,s,i,o,a,u,l,c,A,d;return le().getNumber("WEBGL_VERSION")===2?(r=n.R32F,s=n.R16F,i=n.RGBA16F,o=n.RGBA32F,a=n.RED,l=4,c=1,A=n.HALF_FLOAT,d=n.FLOAT,u=n.RGBA8):(r=t.RGBA,s=t.RGBA,i=t.RGBA,o=n.RGBA,a=t.RGBA,l=4,c=4,A=e!=null?e.HALF_FLOAT_OES:null,d=t.FLOAT,u=t.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:s,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:o,textureFormatFloat:a,downloadTextureFormat:u,downloadUnpackNumChannels:l,defaultNumChannels:c,textureTypeHalfFloat:A,textureTypeFloat:d}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ze(t,e){const n=e();return le().getBool("DEBUG")&&rme(t),n}function rme(t){const e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+ame(t,e))}const sme=596e-10,ime=65504;function ome(t){return!!(le().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||sme<Math.abs(t)&&Math.abs(t)<ime)}function ame(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${e}`}}function Kv(t,e){return Yu(t,()=>t.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function ume(t,e){const n=Yu(t,()=>t.createShader(t.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(ze(t,()=>t.shaderSource(n,e)),ze(t,()=>t.compileShader(n)),t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function lme(t,e){const n=Yu(t,()=>t.createShader(t.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(ze(t,()=>t.shaderSource(n,e)),ze(t,()=>t.compileShader(n)),le().get("ENGINE_COMPILE_ONLY"))return n;if(t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw lz(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const cme=/ERROR: [0-9]+:([0-9]+):/g;function lz(t,e){const n=cme.exec(e);if(n==null){console.log(`Couldn't parse line number in error: ${e}`),console.log(t);return}const r=+n[1],s=t.split(`
`),i=s.length.toString().length+2,o=s.map((A,d)=>Qh((d+1).toString(),i)+A);let a=0;for(let A=0;A<o.length;A++)a=Math.max(o[A].length,a);const u=o.slice(0,r-1),l=o.slice(r-1,r),c=o.slice(r);console.log(u.join(`
`)),console.log(e.split(`
`)[0]),console.log(`%c ${Qh(l[0],a)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join(`
`))}function Ame(t){return Yu(t,()=>t.createProgram(),"Unable to create WebGLProgram.")}function dme(t,e){if(ze(t,()=>t.linkProgram(e)),!le().get("ENGINE_COMPILE_ONLY")&&t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function JI(t,e){if(ze(t,()=>t.validateProgram(e)),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function hme(t,e){const n=Yu(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return ze(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),ze(t,()=>t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function fme(t,e){const n=Yu(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return ze(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)),ze(t,()=>t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function pme(t){return Yu(t,()=>t.createTexture(),"Unable to create WebGLTexture.")}function gme(t,e){const n=le().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){const r=`[${t}x${e}]`;throw new Error("Requested texture size "+r+" is invalid.")}if(t>n||e>n){const r=`[${t}x${e}]`,s=`[${n}x${n}]`;throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+s+".")}}function mme(t){return Yu(t,()=>t.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function fL(t,e,n,r,s,i,o){const a=t.getAttribLocation(e,n);return a===-1?!1:(ze(t,()=>t.bindBuffer(t.ARRAY_BUFFER,r)),ze(t,()=>t.vertexAttribPointer(a,s,t.FLOAT,!1,i,o)),ze(t,()=>t.enableVertexAttribArray(a)),!0)}function yme(t,e,n){xme(t,n),ze(t,()=>t.activeTexture(t.TEXTURE0+n)),ze(t,()=>t.bindTexture(t.TEXTURE_2D,e))}function vme(t,e,n){return Yu(t,()=>t.getUniformLocation(e,n),'uniform "'+n+'" not present in program.')}function wme(t,e,n){return t.getUniformLocation(e,n)}function Cme(t,e,n,r){ze(t,()=>yme(t,e,r)),ze(t,()=>t.uniform1i(n,r))}function ZI(t,e,n){ze(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,n)),ze(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0))}function pL(t,e){ze(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,e)),ze(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0))}function Wv(t){const e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+bme(t,e))}function bme(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${e}`}}function Yu(t,e,n){const r=ze(t,()=>e());if(r==null)throw new Error(n);return r}function xme(t,e){const n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n){const s=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${s}.`)}}function Cf(t,e=2){return de(t.slice(0,t.length-e))}function bf(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function eE(t){let e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[Cf(t),...bf(t)]),e}function Bme(t,e=!1){let n=le().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=le().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");r===1/0&&le().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),e&&(n=n*2,r=r*2,t=t.map((a,u)=>u>=t.length-2?EF(t[u]):t[u]),t.length===1&&(t=[2,t[0]])),t.length!==2&&(t=$c(t).newShape);let s=de(t),i=null;t.length<=1&&s<=n?i=[1,s]:t.length===2&&t[0]<=n&&t[1]<=n?i=t:t.length===3&&t[0]*t[1]<=n&&t[2]<=n?i=[t[0]*t[1],t[2]]:t.length===3&&t[0]<=n&&t[1]*t[2]<=n?i=[t[0],t[1]*t[2]]:t.length===4&&t[0]*t[1]*t[2]<=n&&t[3]<=n?i=[t[0]*t[1]*t[2],t[3]]:t.length===4&&t[0]<=n&&t[1]*t[2]*t[3]<=n&&(i=[t[0],t[1]*t[2]*t[3]]);const o=i!=null&&Math.max(...i)>r&&Math.min(...i)<=(e?2:1)&&Math.min(...i)>0;if(i==null||o)if(e){const a=Cf(t);let u=2,l=2;t.length&&([u,l]=bf(t)),s=a*(u/2)*(l/2),i=dS(s).map(c=>c*2)}else i=dS(s);return i}function Gv(t){return t%2===0}function wC(t,e){if(t=t.slice(-2),e=e.slice(-2),Ut(t,e)||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){const n=t.slice(-1)[0],r=e.slice(-1)[0];if(n===r||Gv(n)&&Gv(r)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&Gv(t[0])&&Gv(e[0])}let tE,nE;function Ime(t){if(tE==null){const e=sa(t);tE=e.getParameter(e.MAX_TEXTURE_SIZE)}return tE}function Eme(t){if(nE==null){const e=sa(t);nE=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,nE)}function $me(t){if(t===0)return 0;let e;const n=sa(t);return yo(n,"EXT_disjoint_timer_query_webgl2")&&t===2?e=2:yo(n,"EXT_disjoint_timer_query")?e=1:e=0,e}function yo(t,e){return t.getExtension(e)!=null}function gL(t){try{if(sa(t)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function Sme(t){if(t===0)return!1;const e=sa(t);if(t===1){if(!yo(e,"OES_texture_float"))return!1}else if(!yo(e,"EXT_color_buffer_float"))return!1;return MS(e)}function Tme(t){if(t===0)return!1;const e=sa(t);if(t===1){if(!yo(e,"OES_texture_float")||!yo(e,"WEBGL_color_buffer_float"))return!1}else{if(yo(e,"EXT_color_buffer_float"))return MS(e);const r="EXT_color_buffer_half_float";if(yo(e,r)){const s=e.getExtension(r);return Nme(e,s)}return!1}return MS(e)}function MS(t){const e=Y3(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n);const r=1,s=1;t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,r,s,0,e.textureFormatFloat,e.textureTypeFloat,null);const i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);const o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(i),o}function Nme(t,e){const n=Y3(t,e),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const s=1,i=1;t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,s,i,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);const a=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(r),t.deleteFramebuffer(o),a}function kme(t){return t!==2?!1:sa(t).fenceSync!=null}function Ty(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&O(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGL backend.`)})}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ge=le();Ge.registerFlag("HAS_WEBGL",()=>Ge.getNumber("WEBGL_VERSION")>0);Ge.registerFlag("WEBGL_VERSION",()=>gL(2)?2:gL(1)?1:0);Ge.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);Ge.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>Ge.get("WEBGL_VERSION")===2);Ge.registerFlag("WEBGL_CPU_FORWARD",()=>!0);Ge.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);Ge.registerFlag("WEBGL_PACK",()=>Ge.getBool("HAS_WEBGL"));Ge.registerFlag("WEBGL_PACK_NORMALIZATION",()=>Ge.getBool("WEBGL_PACK"));Ge.registerFlag("WEBGL_PACK_CLIP",()=>Ge.getBool("WEBGL_PACK"));Ge.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>Ge.getBool("WEBGL_PACK"));Ge.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>Ge.getBool("WEBGL_PACK"));Ge.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>Ge.getBool("WEBGL_PACK"));Ge.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>Ge.getBool("WEBGL_PACK"));Ge.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>Ge.getBool("WEBGL_PACK"));Ge.registerFlag("WEBGL_PACK_REDUCE",()=>Ge.getBool("WEBGL_PACK"));Ge.registerFlag("WEBGL_LAZILY_UNPACK",()=>Ge.getBool("WEBGL_PACK"));Ge.registerFlag("WEBGL_CONV_IM2COL",()=>Ge.getBool("WEBGL_PACK"));Ge.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>Ime(Ge.getNumber("WEBGL_VERSION")));Ge.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>Eme(Ge.getNumber("WEBGL_VERSION")));Ge.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const t=Ge.getNumber("WEBGL_VERSION");return t===0?0:$me(t)});Ge.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>Ge.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!K8());Ge.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>Sme(Ge.getNumber("WEBGL_VERSION")));Ge.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>Ge.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:Ge.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));Ge.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>Tme(Ge.getNumber("WEBGL_VERSION")));Ge.registerFlag("WEBGL_FENCE_API_ENABLED",()=>kme(Ge.getNumber("WEBGL_VERSION")));Ge.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>Ge.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);Ge.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,t=>{if(t<0&&t!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${t}.`)});Ge.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>K8()?1:-1,t=>{if(t<0&&t!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${t}.`)});Ge.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);Ge.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);Ge.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);Ge.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);Ge.registerFlag("WEBGL_EXP_CONV",()=>!1);Ge.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>Ge.getBool("IS_TEST"));Ge.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);Ge.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);Ge.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ds(){let t,e,n,r,s,i,o,a,u,l;return le().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",r="in",s="texture",i="outputColor",o="out vec4 outputColor;",a=le().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",u="",l=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(t="",e="attribute",n="varying",r="varying",s="texture2D",i="gl_FragColor",o="",a=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,u=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,l=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:t,attribute:e,varyingVs:n,varyingFs:r,texture2D:s,output:i,defineOutput:o,defineSpecialNaN:a,defineSpecialInf:u,defineRound:l}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wd(t,e,n="index"){const r=et(e);return r.map((s,i)=>{const o=`int ${t[i]} = ${n} / ${s}`,a=i===r.length-1?`int ${t[i+1]} = ${n} - ${t[i]} * ${s}`:`index -= ${t[i]} * ${s}`;return`${o}; ${a};`}).join("")}function T2(t,e,n="index"){const r=et(e);return r.map((s,i)=>{const o=`int ${t[i]} = ${n} / outShapeStrides[${i}]`,a=i===r.length-1?`int ${t[i+1]} = ${n} - ${t[i]} * outShapeStrides[${i}]`:`index -= ${t[i]} * outShapeStrides[${i}]`;return`${o}; ${a};`}).join("")}function Fme(t,e){const n=t.length,r=t.map(i=>`${e}[${i}]`),s=new Array(n-1);s[n-2]=r[n-1];for(let i=n-3;i>=0;--i)s[i]=`(${s[i+1]} * ${r[i+1]})`;return s}function _me(t,e,n="index"){const r=t.map((i,o)=>o),s=Fme(r,e);return s.map((i,o)=>{const a=`int ${t[o]} = ${n} / ${s[o]}`,u=o===s.length-1?`int ${t[o+1]} = ${n} - ${t[o]} * ${s[o]}`:`index -= ${t[o]} * ${s[o]}`;return`${a}; ${u};`}).join("")}function J3(t){const e=et(t).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function Z3(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const cz=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{getBroadcastDims:Az}=Yge;function Dme(t,e,n){const r=[];if(t.forEach(h=>{const f=de(h.shapeInfo.logicalShape);if(h.shapeInfo.isUniform?r.push(`uniform float ${h.name}${f>1?`[${f}]`:""};`):(r.push(`uniform sampler2D ${h.name};`),r.push(`uniform int offset${h.name};`)),n.enableShapeUniforms){const{uniformShape:p}=eD(n.packedInputs,h.shapeInfo.logicalShape,h.shapeInfo.texShape);switch(p.length){case 1:r.push(`uniform int ${h.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${h.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${h.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${h.name}Shape;`);break}r.push(`uniform ivec2 ${h.name}TexShape;`)}}),n.enableShapeUniforms){switch(e.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;");break}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(h=>{r.push(`uniform ${h.type} ${h.name}${h.arrayIndex?`[${h.arrayIndex}]`:""};`)});const s=r.join(`
`),i=t.map(h=>Rme(h,e,n.packedInputs,n.enableShapeUniforms)).join(`
`),o=e.texShape,a=Ds(),u=Lme(a);let l,c,A=Qme(a);return e.isPacked?(l=Ome(e.logicalShape,o,n.enableShapeUniforms),c=Mme(a)):(l=Ume(e.logicalShape,o,n.enableShapeUniforms),c=Pme(a)),n.packedInputs&&(A+=Kme),[A,u,c,s,l,i,n.userCode].join(`
`)}function Zf(t,e=!1){const n=t.shapeInfo.logicalShape;switch(n.length){case 0:return r0e(t,e);case 1:return i0e(t,e);case 2:return a0e(t,e);case 3:return l0e(t,e);case 4:return A0e(t,e);case 5:return d0e(t);case 6:return h0e(t);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function dz(t,e){switch(t.shapeInfo.logicalShape.length){case 0:return n0e(t);case 1:return s0e(t,e);case 2:return o0e(t,e);case 3:return u0e(t,e);default:return c0e(t,e)}}function Rme(t,e,n=!1,r){let s="";n?s+=dz(t,r):s+=Zf(t,r);const i=t.shapeInfo.logicalShape,o=e.logicalShape;return i.length<=o.length&&(n?s+=f0e(t,e):s+=p0e(t,e)),s}function Ome(t,e,n){switch(t.length){case 0:return hz();case 1:return Wme(t,e,n);case 2:return e0e(t,e,n);case 3:return jme(t,e,n);default:return qme(t,e,n)}}function Ume(t,e,n){switch(t.length){case 0:return hz();case 1:return Gme(t,e,n);case 2:return t0e(t,e,n);case 3:return Xme(t,e,n);case 4:return Yme(t,e,n);case 5:return Jme(t,e);case 6:return Zme(t,e);default:throw new Error(`${t.length}-D output sampling is not yet supported`)}}function Lme(t){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${t.texture2D}(textureSampler, uv).r;
    }
  `}function Pme(t){return`
    void setOutput(float val) {
      ${t.output} = vec4(val, 0, 0, 0);
    }
  `}function Mme(t){return`
    void setOutput(vec4 val) {
      ${t.output} = val;
    }
  `}function Qme(t){return`${t.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${t.varyingFs} vec2 resultUV;
    ${t.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${t.defineSpecialNaN}
    ${t.defineSpecialInf}
    ${t.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${Hme}
    ${Vme}
    ${zme}
  `}const Hme=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Vme=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,zme=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,Kme=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function hz(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function Wme(t,e,n){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return r[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${r[1]}.0);
      }
    `:r[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${r[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);
    }
  `}function Gme(t,e,n){return e[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${e[1]}.0);
      }
    `:e[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${e[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      return resTexRC.x * ${e[1]} + resTexRC.y;
    }
  `}function jme(t,e,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(t[2]/2),i=s*Math.ceil(t[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec3(b, r, c);
    }
  `}function Xme(t,e,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${T2(["r","c","d"],t)}
    return ivec3(r, c, d);
  }
`;const r=wd(["r","c","d"],t);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec3(r, c, d);
    }
  `}function qme(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],s=Math.ceil(t[t.length-1]/2),i=s*Math.ceil(t[t.length-2]/2);let o=i,a="",u="b, r, c";for(let l=2;l<t.length-1;l++)o*=t[t.length-l-1],a=`
      int b${l} = index / ${o};
      index -= b${l} * ${o};
    `+a,u=`b${l}, `+u;return`
    ivec${t.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      ${a}

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec${t.length}(${u});
    }
  `}function Yme(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${T2(["r","c","d","d2"],t)}
      return ivec4(r, c, d, d2);
    }
  `;const r=wd(["r","c","d","d2"],t);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec4(r, c, d, d2);
    }
  `}function Jme(t,e){const n=wd(["r","c","d","d2","d3"],t);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${e[0]},
                             ${e[1]}));

      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function Zme(t,e){const n=wd(["r","c","d","d2","d3","d4"],t);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function e0e(t,e,n){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(Ut(t,e))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));
      }
    `;const s=Math.ceil(t[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));

      int index = resTexRC.x * ${r[1]} + resTexRC.y;
      int r = 2 * (index / ${s});
      int c = imod(index, ${s}) * 2;

      return ivec2(r, c);
    }
  `}function t0e(t,e,n){return Ut(t,e)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:t[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:t[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${t[1]};
      int c = index - r * ${t[1]};
      return ivec2(r, c);
    }
  `}function Cd(t){return`offset${t}`}function n0e(t){const e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=Ds();return`
    vec4 ${n}() {
      return ${r.texture2D}(${e}, halfCR);
    }
  `}function r0e(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[s,i]=t.shapeInfo.texShape;if(s===1&&i===1)return`
      float ${r}() {
        return sampleTexture(${n}, halfCR);
      }
    `;const o=Cd(n);if(e)return`
    float ${r}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${o});
      return sampleTexture(${n}, uv);
    }
  `;const[a,u]=t.shapeInfo.texShape;return`
    float ${r}() {
      vec2 uv = uvFromFlat(${a}, ${u}, ${o});
      return sampleTexture(${n}, uv);
    }
  `}function s0e(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=t.shapeInfo.texShape,i=Ds();if(e)return`
    vec4 ${r}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${i.texture2D}(${n}, uv);
    }
  `;const o=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];return`
    vec4 ${r}(int index) {
      vec2 uv = packedUVfrom1D(
        ${o[0]}, ${o[1]}, index);
      return ${i.texture2D}(${n}, uv);
    }
  `}function i0e(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`
      float ${r}(int index) {
        ${ep(t)}
      }
    `;const s=t.shapeInfo.texShape,i=s[0],o=s[1];if(o===1&&i===1)return`
      float ${r}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;const a=Cd(n);return o===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${a}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${a}) + 0.5) / ${i}.0);
        return sampleTexture(${n}, uv);
      }
    `:i===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${a}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${a}) + 0.5) / ${o}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:e?`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${a});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${i}, ${o}, index + ${a});
      return sampleTexture(${n}, uv);
    }
  `}function o0e(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape,o=i[0],a=i[1],u=Ds();if(i!=null&&Ut(n,i))return e?`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);

        return ${u.texture2D}(${r}, uv);
      }
    `:`
      vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${a}.0, ${o}.0);

        return ${u.texture2D}(${r}, uv);
      }
    `;if(e)return`
    vec4 ${s}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${u.texture2D}(${r}, uv);
    }
  `;const l=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],c=Math.ceil(n[1]/2);return`
    vec4 ${s}(int row, int col) {
      vec2 uv = packedUVfrom2D(${c}, ${l[0]}, ${l[1]}, row, col);
      return ${u.texture2D}(${r}, uv);
    }
  `}function a0e(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape;if(i!=null&&Ut(n,i)){if(e)return`
      float ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `;const d=i[0],h=i[1];return`
    float ${s}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${h}.0, ${d}.0);
      return sampleTexture(${r}, uv);
    }
  `}const{newShape:o,keptDims:a}=$c(n),u=o;if(u.length<n.length){const d=tp(t,u),h=["row","col"];return`
      ${Zf(d,e)}
      float ${s}(int row, int col) {
        return ${s}(${np(h,a)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${ep(t)}
      }
    `;const l=i[0],c=i[1],A=Cd(r);return c===1?e?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${A}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${A}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${l}.0);
      return sampleTexture(${r}, uv);
    }
  `:l===1?e?`
      float ${s}(int row, int col) {
        float index = dot(vec3(row, col, ${A}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col) {
      float index = dot(vec3(row, col, ${A}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${c}.0, 0.5);
      return sampleTexture(${r}, uv);
    }
  `:e?`
      float ${s}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${r}Shape[1] + col + ${A};
        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
        return sampleTexture(${r}, uv);
      }
    `:`
  float ${s}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${A};
    vec2 uv = uvFromFlat(${l}, ${c}, index);
    return sampleTexture(${r}, uv);
  }
`}function u0e(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape,o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(n[0]===1){const d=n.slice(1),h=[1,2],f=tp(t,d),p=["b","row","col"];return`
        ${dz(f,e)}
        vec4 ${s}(int b, int row, int col) {
          return ${s}(${np(p,h)});
        }
      `}const a=Ds();if(e)return`
    vec4 ${s}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${a.texture2D}(${r}, uv);
    }
  `;const u=o[0],l=o[1],c=Math.ceil(n[2]/2),A=c*Math.ceil(n[1]/2);return`
    vec4 ${s}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${u}, ${l}, ${A}, ${c}, b, row, col);
      return ${a.texture2D}(${r}, uv);
    }
  `}function l0e(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],o=n[2],{newShape:a,keptDims:u}=$c(n),l=a;if(l.length<n.length){const p=tp(t,l),m=["row","col","depth"];return`
        ${Zf(p,e)}
        float ${s}(int row, int col, int depth) {
          return ${s}(${np(m,u)});
        }
      `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${i}, ${o}, 1)));
        ${ep(t)}
      }
    `;const c=t.shapeInfo.texShape,A=c[0],d=c[1],h=t.shapeInfo.flatOffset;if(d===i&&h==null)return e?`
      float ${s}(int row, int col, int depth) {
        int stride1 = ${r}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
        float ${s}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${o}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${d}.0, ${A}.0);
          return sampleTexture(${r}, uv);
        }
      `;if(d===o&&h==null)return e?`
      float ${s}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${s}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${d}.0, ${A}.0);
      return sampleTexture(${r}, uv);
    }
  `;const f=Cd(r);return e?`
    float ${s}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${r}Shape[1] * ${r}Shape[2];
      int stride1 = ${r}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${f};
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
      return sampleTexture(${r}, uv);
    }
    `:`
      float ${s}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${i} + col * ${o} + depth + ${f};
        vec2 uv = uvFromFlat(${A}, ${d}, index);
        return sampleTexture(${r}, uv);
      }
  `}function c0e(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=Ds();if(e)return`
    vec4 ${r}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${s.texture2D}(${n}, uv);
    }
  `;const i=t.shapeInfo.logicalShape,o=i.length,a=t.shapeInfo.texShape,u=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],l=u[0],c=u[1],A=Math.ceil(i[o-1]/2);let d=A*Math.ceil(i[o-2]/2),h="int b, int row, int col",f=`b * ${d} + (row / 2) * ${A} + (col / 2)`;for(let p=2;p<o-1;p++)h=`int b${p}, `+h,d*=i[o-p-1],f=`b${p} * ${d} + `+f;return`
    vec4 ${r}(${h}) {
      int index = ${f};
      int texR = index / ${c};
      int texC = index - texR * ${c};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${l});
      return ${s.texture2D}(${n}, uv);
    }
  `}function A0e(t,e){const n=t.shapeInfo.logicalShape,r=t.name,s="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],o=n[2]*i,a=n[1]*o,{newShape:u,keptDims:l}=$c(n);if(u.length<n.length){const y=tp(t,u),C=["row","col","depth","depth2"];return`
      ${Zf(y,e)}
      float ${s}(int row, int col, int depth, int depth2) {
        return ${s}(${np(C,l)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${a}, ${o}, ${i}, 1)));
        ${ep(t)}
      }
    `;const c=t.shapeInfo.flatOffset,A=t.shapeInfo.texShape,d=A[0],h=A[1],f=`int stride2 = ${r}Shape[3];`,p=`int stride1 = ${r}Shape[2] * stride2;`,m=`int stride0 = ${r}Shape[1] * stride1;`;if(h===a&&c==null)return e?`
      float ${s}(int row, int col, int depth, int depth2) {
        ${f}
        ${p}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${o}, ${i}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${d}.0);
        return sampleTexture(${r}, uv);
      }
    `;if(h===i&&c==null)return e?`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${s}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${d}.0);
        return sampleTexture(${r}, uv);
      }
    `;const g=Cd(r);return e?`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${f}
      ${p}
      ${m}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${g});
      return sampleTexture(${r}, uv);
    }
  `:`
    float ${s}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${a} + col * ${o} +
          depth * ${i} + depth2;
      vec2 uv = uvFromFlat(${d}, ${h}, index + ${g});
      return sampleTexture(${r}, uv);
    }
  `}function d0e(t){const e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),s=e[4],i=e[3]*s,o=e[2]*i,a=e[1]*o,{newShape:u,keptDims:l}=$c(e);if(u.length<e.length){const p=tp(t,u),m=["row","col","depth","depth2","depth3"];return`
      ${Zf(p)}
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        return ${r}(${np(m,l)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${a}, ${o}, ${i}, ${s})) +
          depth3;
        ${ep(t)}
      }
    `;const c=t.shapeInfo.flatOffset,A=t.shapeInfo.texShape,d=A[0],h=A[1];if(h===a&&c==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${o}, ${i}, ${s}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${h}.0, ${d}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(h===s&&c==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]},
               ${e[2]*e[3]}, ${e[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${h}.0, ${d}.0);
        return sampleTexture(${n}, uv);
      }
    `;const f=Cd(n);return`
    float ${r}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${a} + col * ${o} + depth * ${i} +
          depth2 * ${s} + depth3 + ${f};
      vec2 uv = uvFromFlat(${d}, ${h}, index);
      return sampleTexture(${n}, uv);
    }
  `}function h0e(t){const e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:s,keptDims:i}=$c(e);if(s.length<e.length){const m=tp(t,s),g=["row","col","depth","depth2","depth3","depth4"];return`
      ${Zf(m)}
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${r}(${np(g,i)});
      }
    `}const o=e[5],a=e[4]*o,u=e[3]*a,l=e[2]*u,c=e[1]*l;if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${c}, ${l}, ${u}, ${a})) +
          dot(
            vec2(depth3, depth4),
            vec2(${o}, 1)));
        ${ep(t)}
      }
    `;const A=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,h=d[0],f=d[1];if(f===c&&A==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${l}, ${u}, ${a}, ${o})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${f}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(f===o&&A==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]*e[4]},
               ${e[2]*e[3]*e[4]},
               ${e[3]*e[4]},
               ${e[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${f}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;const p=Cd(n);return`
    float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${c} + col * ${l} + depth * ${u} +
          depth2 * ${a} + depth3 * ${o} + depth4 + ${p};
      vec2 uv = uvFromFlat(${h}, ${f}, index);
      return sampleTexture(${n}, uv);
    }
  `}function ep(t){const e=t.name,n=de(t.shapeInfo.logicalShape);return n<2?`return ${e};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${e}[i];
      }
    }
  `}function f0e(t,e){const n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",i=t.shapeInfo.logicalShape.length,o=e.logicalShape.length,a=Az(t.shapeInfo.logicalShape,e.logicalShape),u=cn(o),l=o-i;let c;const A=["x","y","z","w","u","v"];i===0?c="":o<2&&a.length>=1?c="coords = 0;":c=a.map(y=>`coords.${A[y+l]} = 0;`).join(`
`);let d="";o<2&&i>0?d="coords":d=t.shapeInfo.logicalShape.map((y,C)=>`coords.${A[C+l]}`).join(", ");let h="return outputValue;";const p=de(t.shapeInfo.logicalShape)===1,g=de(e.logicalShape)===1;if(i===1&&!p&&!g)h=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(p&&!g)o===1?h=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:h=`
        return vec4(outputValue.x);
      `;else if(a.length){const y=i-2,C=i-1;a.indexOf(y)>-1&&a.indexOf(C)>-1?h="return vec4(outputValue.x);":a.indexOf(y)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":a.indexOf(C)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${s}() {
      ${u} coords = getOutputCoords();
      ${c}
      vec4 outputValue = get${r}(${d});
      ${h}
    }
  `}function p0e(t,e){const n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),s="get"+r+"AtOutCoords",i=e.texShape,o=t.shapeInfo.texShape,a=t.shapeInfo.logicalShape.length,u=e.logicalShape.length;if(!t.shapeInfo.isUniform&&a===u&&t.shapeInfo.flatOffset==null&&Ut(o,i))return`
      float ${s}() {
        return sampleTexture(${n}, resultUV);
      }
    `;const l=cn(u),c=Az(t.shapeInfo.logicalShape,e.logicalShape),A=u-a;let d;const h=["x","y","z","w","u","v"];a===0?d="":u<2&&c.length>=1?d="coords = 0;":d=c.map(p=>`coords.${h[p+A]} = 0;`).join(`
`);let f="";return u<2&&a>0?f="coords":f=t.shapeInfo.logicalShape.map((p,m)=>`coords.${h[m+A]}`).join(", "),`
    float ${s}() {
      ${l} coords = getOutputCoords();
      ${d}
      return get${r}(${f});
    }
  `}function cn(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error(`GPU for rank ${t} is not yet supported`)}function eD(t,e,n){const{newShape:r,keptDims:s}=$c(e),i=e.length,o=t&&i===3&&e[0]===1,a=o?e.slice(1):r,u=!t&&i>1&&!Ut(e,n)&&r.length<i||o;return{useSqueezeShape:u,uniformShape:u?a:e,keptDims:s}}function tp(t,e){const n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function np(t,e){return e.map(n=>t[n]).join(", ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g0e(t,e,n,r){const s=n.map((c,A)=>{const d={logicalShape:c.shape,texShape:c.isUniform?null:c.texData.texShape,isUniform:c.isUniform,isPacked:c.isUniform?!1:c.texData.isPacked,flatOffset:null};return c.texData!=null&&c.texData.slice!=null&&c.texData.slice.flatOffset>0&&(d.flatOffset=c.texData.slice.flatOffset),{name:e.variableNames[A],shapeInfo:d}}),i=s.map(c=>c.shapeInfo),o={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},a=Dme(s,o,e),u=lme(t.gl,a),l=t.createProgram(u);return le().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:u,source:a,webGLProgram:l,inShapeInfos:i,outShapeInfo:o,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:e,fragmentShader:u,source:a,webGLProgram:l,inShapeInfos:i,outShapeInfo:o},fz(t,e,l))}function fz(t,e,n){const r={},s={},i={},o=[];let a,u,l,c=null,A=null;A=t.getUniformLocation(n,"NAN",!1),le().getNumber("WEBGL_VERSION")===1&&(c=t.getUniformLocation(n,"INFINITY",!1));const d=!1;for(let h=0;h<e.variableNames.length;h++){const f=e.variableNames[h];r[f]=t.getUniformLocation(n,f,d),r[`offset${f}`]=t.getUniformLocation(n,`offset${f}`,d),e.enableShapeUniforms&&(s[`${f}Shape`]=t.getUniformLocation(n,`${f}Shape`,d),i[`${f}TexShape`]=t.getUniformLocation(n,`${f}TexShape`,d))}return e.enableShapeUniforms&&(a=t.getUniformLocation(n,"outShape",d),l=t.getUniformLocation(n,"outShapeStrides",d),u=t.getUniformLocation(n,"outTexShape",d)),e.customUniforms&&e.customUniforms.forEach((h,f)=>{o[f]=t.getUniformLocation(n,h.name,d)}),{uniformLocations:r,customUniformLocations:o,infLoc:c,nanLoc:A,inShapesLocations:s,inTexShapesLocations:i,outShapeLocation:a,outShapeStridesLocation:l,outTexShapeLocation:u}}function mL(t,e){if(t.length!==e.length)throw Error(`Binary was compiled with ${t.length} inputs, but was executed with ${e.length} inputs`);t.forEach((n,r)=>{const s=n.logicalShape,i=e[r],o=i.shape;if(!Ut(s,o))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${s} and ${o} must match`);if(n.isUniform&&i.isUniform)return;const a=n.texShape,u=i.isUniform?null:i.texData.texShape;if(!Ut(a,u))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${a} and ${u} must match`)})}function m0e(t,e,n,r,s){e.program.enableShapeUniforms||(mL(e.inShapeInfos,n),mL([e.outShapeInfo],[r]));const i=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?t.setOutputPackedMatrixTexture(i.texture,o[0],o[1]):t.setOutputMatrixTexture(i.texture,o[0],o[1]),t.setProgram(e.webGLProgram),le().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&t.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&t.gl.uniform1f(e.nanLoc,NaN),n.forEach((u,l)=>{const c=e.program.variableNames[l],A=e.uniformLocations[c],d=e.uniformLocations[`offset${c}`],h=e.inShapesLocations[`${c}Shape`],f=e.inTexShapesLocations[`${c}TexShape`];if(h){const{uniformShape:p}=eD(e.program.packedInputs,u.shape,u.texData.texShape);switch(p.length){case 1:t.gl.uniform1iv(h,new Int32Array(p));break;case 2:t.gl.uniform2iv(h,new Int32Array(p));break;case 3:t.gl.uniform3iv(h,new Int32Array(p));break;case 4:t.gl.uniform4iv(h,new Int32Array(p));break}}if(f&&t.gl.uniform2i(f,u.texData.texShape[0],u.texData.texShape[1]),A!=null){if(u.isUniform){if(de(u.shape)<2)t.gl.uniform1f(A,u.uniformValues[0]);else{let p=u.uniformValues;p instanceof Float32Array||(p=new Float32Array(p)),t.gl.uniform1fv(A,p)}return}u.texData.slice!=null&&d!=null&&t.gl.uniform1i(d,u.texData.slice.flatOffset),t.setInputMatrixTexture(u.texData.texture.texture,A,l)}});const a=e.outShapeLocation;if(a)switch(r.shape.length){case 1:t.gl.uniform1iv(a,new Int32Array(r.shape));break;case 2:t.gl.uniform2iv(a,new Int32Array(r.shape));break;case 3:t.gl.uniform3iv(a,new Int32Array(r.shape));break;case 4:t.gl.uniform4iv(a,new Int32Array(r.shape));break}if(e.outShapeStridesLocation){const u=et(r.shape);switch(r.shape.length){case 2:t.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(u));break;case 3:t.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(u));break;case 4:t.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(u));break}}e.outTexShapeLocation&&t.gl.uniform2i(e.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),e.program.customUniforms&&s&&e.program.customUniforms.forEach((u,l)=>{const c=e.customUniformLocations[l],A=s[l];if(u.type==="float")t.gl.uniform1fv(c,A);else if(u.type==="vec2")t.gl.uniform2fv(c,A);else if(u.type==="vec3")t.gl.uniform3fv(c,A);else if(u.type==="vec4")t.gl.uniform4fv(c,A);else if(u.type==="int")t.gl.uniform1iv(c,A);else if(u.type==="ivec2")t.gl.uniform2iv(c,A);else if(u.type==="ivec3")t.gl.uniform3iv(c,A);else if(u.type==="ivec4")t.gl.uniform4iv(c,A);else throw Error(`uniform type ${u.type} is not supported yet.`)}),t.executeProgram()}function y0e(t,e,n){let r="";e.concat(n).forEach(o=>{const a=o.texData!=null&&o.texData.slice!=null&&o.texData.slice.flatOffset>0;if(t.enableShapeUniforms&&!o.isUniform){const u=o.texData.texShape,{useSqueezeShape:l,uniformShape:c,keptDims:A}=eD(t.packedInputs,o.shape,u);let d="",h="",f="";if(c.length===1&&t.packedInputs){const B=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)];d=`${B[0]>1}_${B[1]>1}`}else if(c.length===2&&!t.packedInputs)h=`${c[0]>1}_${c[1]>1}`;else if(c.length>2&&!t.packedInputs){const B=et(c);f=`${B[0]===u[1]}_${B[B.length-1]===u[1]}`}const p=o.shape.length,m=c.length===2&&Ut(o.shape,u),g=de(o.shape)===1,y=mf(o.shape,n.shape),C=!t.packedInputs&&p===n.shape.length&&Ut(u,n.texData.texShape),b=t.packedInputs||c.length>2?"":`${u[0]>1}_${u[1]>1}`;r+=`${p}_${C}_${l?A:""}_${c.length}_${g}_${y}_${m}_${d}_${h}_${f}_${b}_${a}`}else{const u=o.isUniform?"uniform":o.texData.texShape;r+=`${o.shape}_${u}_${a}`}});const s=t.userCode;let i=t.constructor.name;return i+="_"+r+"_"+s+`${le().getNumber("WEBGL_VERSION")}`,i}function Rs(t){return le().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&t<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class v0e{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Im.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=Ds();this.outputShape=e,this.enableShapeUniforms=Rs(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?T2(["r","c","d"],e):wd(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class w0e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Im.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=Ds();this.outputShape=e,this.enableShapeUniforms=Rs(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?T2(["r","c","d"],e):wd(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class C0e{constructor(e){this.variableNames=["A"],this.outTexUsage=_i.DOWNLOAD;const n=Ds();this.outputShape=e,this.userCode=`
      ${cz}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class b0e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=_i.DOWNLOAD;const n=Ds();this.outputShape=e,this.userCode=`
      ${cz}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class x0e{constructor(e,n=!1){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=Ds();this.outputShape=e,this.enableShapeUniforms=Rs(this.outputShape.length);let s="result";n&&(s="floor(result * 255. + 0.5)"),this.userCode=`
      ${this.enableShapeUniforms?Z3():J3(e)}

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);

        int r = flatIndex / texShape[1];
        int c = imod(flatIndex, texShape[1]);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
        vec4 values = ${r.texture2D}(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        ${r.output} = vec4(${s}, 0., 0., 0.);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class B0e{constructor(e,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=Ds();this.outputShape=e,this.enableShapeUniforms=Rs(this.outputShape.length);let s="",i="result";n&&(i="floor(result * 255. + 0.5)");for(let o=0;o<=1;o++)for(let a=0;a<=1;a++){const u=o*2+a;s+=`
          localCoords = coords;
          if(localCoords[2] + ${a} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${a};
          if (localCoords[1] + ${o} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${o};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${r.texture2D}(A, uv);

            if (offset == 0) {
              result[${u}] = values[0];
            } else if (offset == 1) {
              result[${u}] = values[1];
            } else if (offset == 2) {
              result[${u}] = values[2];
            } else {
              result[${u}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?Z3():J3(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${s}

          ${r.output} = ${i};
        }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I0e(t){const e=Ds(),n=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return ume(t,n)}function E0e(t){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return hme(t,e)}function $0e(t){const e=new Uint16Array([0,1,2,2,1,3]);return fme(t,e)}function Ny(t,e,n,r,s,i){gme(e,n);const o=pme(t),a=t.TEXTURE_2D;return ze(t,()=>t.bindTexture(a,o)),ze(t,()=>t.texParameteri(a,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)),ze(t,()=>t.texParameteri(a,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),ze(t,()=>t.texParameteri(a,t.TEXTURE_MIN_FILTER,t.NEAREST)),ze(t,()=>t.texParameteri(a,t.TEXTURE_MAG_FILTER,t.NEAREST)),le().getNumber("WEBGL_VERSION")===1?ze(t,()=>t.texImage2D(a,0,r,e,n,0,s,i,null)):ze(t,()=>t.texStorage2D(a,1,r,e,n)),ze(t,()=>t.bindTexture(t.TEXTURE_2D,null)),{texture:o,texShape:[n,e]}}function pz(t){return t.internalFormatFloat}function S0e(t,e,n,r){const[s,i]=Sy(e,n);return Ny(t,s,i,pz(r),r.textureFormatFloat,t.FLOAT)}function gz(t){return t.internalFormatHalfFloat}function T0e(t,e,n,r){const[s,i]=Sy(e,n);return Ny(t,s,i,gz(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function mz(t){return t.downloadTextureFormat}function N0e(t,e,n,r){const[s,i]=Sy(e,n);return Ny(t,s,i,mz(r),t.RGBA,t.UNSIGNED_BYTE)}function yz(t){return t.internalFormatPackedFloat}function k0e(t,e,n,r){const[s,i]=Jf(e,n);return Ny(t,s,i,yz(r),t.RGBA,t.FLOAT)}function vz(t){return t.internalFormatPackedHalfFloat}function F0e(t,e,n,r){const[s,i]=Jf(e,n);return Ny(t,s,i,vz(r),t.RGBA,r.textureTypeHalfFloat)}function _0e(t,e,n){return ze(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),fL(t,e,"clipSpacePos",n,3,20,0)&&fL(t,e,"uv",n,2,20,12)}function D0e(t,e,n,r,s,i){ze(t,()=>t.bindTexture(t.TEXTURE_2D,e));let o,a,u;s instanceof Uint8Array?(o=new Uint8Array(n*r*4),a=t.UNSIGNED_BYTE,u=t.RGBA):(o=new Float32Array(n*r*4),a=t.FLOAT,u=i.internalFormatPackedFloat),o.set(s),le().getNumber("WEBGL_VERSION")===2?ze(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,r,t.RGBA,a,o)):ze(t,()=>t.texImage2D(t.TEXTURE_2D,0,u,n,r,0,t.RGBA,a,o)),ze(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function R0e(t,e,n){ze(t,()=>t.bindTexture(t.TEXTURE_2D,e)),n.data instanceof Uint8Array?le().getNumber("WEBGL_VERSION")===2?ze(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,n.data)):ze(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n.width,n.height,0,t.RGBA,t.UNSIGNED_BYTE,n.data)):le().getNumber("WEBGL_VERSION")===2?ze(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,n)):ze(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)),ze(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function O0e(t,e,n,r){const s=t.createBuffer();ze(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,s));const a=4*4*e*n;return ze(t,()=>t.bufferData(t.PIXEL_PACK_BUFFER,a,t.STREAM_READ)),ze(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,0)),ze(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,null)),s}function U0e(t,e,n){const r=t,s=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,s),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),s}function L0e(t,e,n,r){const[s,i]=Sy(e,n),o=4,a=new Uint8Array(tme(e*n,o));return ze(t,()=>t.readPixels(0,0,s,i,r.downloadTextureFormat,t.UNSIGNED_BYTE,a)),new Float32Array(a.buffer)}function P0e(t,e,n,r,s,i,o,a){const u=t,l=new Float32Array(nme(i,o));return u.bindBuffer(u.PIXEL_PACK_BUFFER,e),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,l),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),l}function M0e(t,e,n){const r=new Float32Array(e*n*4);return ze(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,r)),r}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rE{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const n=le().getNumber("WEBGL_VERSION");e!=null?(this.gl=e,Jge(n,e)):this.gl=sa(n);let r="WEBGL_color_buffer_float";const s="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),le().getNumber("WEBGL_VERSION")===1){const i="OES_texture_float",o="OES_texture_half_float";if(this.textureFloatExtension=Kv(this.gl,i),yo(this.gl,o))this.textureHalfFloatExtension=Kv(this.gl,o);else if(le().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),yo(this.gl,s))this.colorBufferHalfFloatExtension=Kv(this.gl,s);else if(le().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",yo(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else if(yo(this.gl,s))this.colorBufferHalfFloatExtension=this.gl.getExtension(s);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=E0e(this.gl),this.indexBuffer=$0e(this.gl),this.framebuffer=mme(this.gl),this.textureConfig=Y3(this.gl,this.textureHalfFloatExtension)}get debug(){return le().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;ze(e,()=>e.finish()),ze(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),ze(e,()=>e.deleteFramebuffer(this.framebuffer)),ze(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),ze(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),ze(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,n){return this.throwIfDisposed(),S0e(this.gl,e,n,this.textureConfig)}createFloat16MatrixTexture(e,n){return this.throwIfDisposed(),T0e(this.gl,e,n,this.textureConfig)}createUnsignedBytesMatrixTexture(e,n){return this.throwIfDisposed(),N0e(this.gl,e,n,this.textureConfig)}uploadPixelDataToTexture(e,n){this.throwIfDisposed(),R0e(this.gl,e,n)}uploadDenseMatrixToTexture(e,n,r,s){this.throwIfDisposed(),D0e(this.gl,e,n,r,s,this.textureConfig)}createFloat16PackedMatrixTexture(e,n){return this.throwIfDisposed(),F0e(this.gl,e,n,this.textureConfig)}createPackedMatrixTexture(e,n){return this.throwIfDisposed(),k0e(this.gl,e,n,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(pL(this.gl,this.framebuffer),this.outputTexture=null),ze(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,n,r){return this.downloadMatrixDriver(e,()=>L0e(this.gl,n,r,this.textureConfig))}downloadPackedMatrixFromBuffer(e,n,r,s,i,o){return P0e(this.gl,e,n,r,s,i,o,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,n){return U0e(this.gl,e,n)}createBufferFromTexture(e,n,r){this.bindTextureToFrameBuffer(e);const s=O0e(this.gl,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),s}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,r;if(le().getBool("WEBGL_FENCE_API_ENABLED")){const s=e,i=s.fenceSync(s.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=()=>{const o=s.clientWaitSync(i,0,0);return o===s.ALREADY_SIGNALED||o===s.CONDITION_SATISFIED},n=i}else le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=()=>this.isQueryAvailable(n,le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):r=()=>!0;return{query:n,isFencePassed:r}}downloadMatrixFromPackedTexture(e,n,r){return this.downloadMatrixDriver(e,()=>M0e(this.gl,n,r))}createProgram(e){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=I0e(n));const r=Ame(n);return ze(n,()=>n.attachShader(r,this.vertexShader)),ze(n,()=>n.attachShader(r,e)),dme(n,r),this.debug&&JI(n,r),this.vertexAttrsAreBound||(this.setProgram(r),this.vertexAttrsAreBound=_0e(n,this.program,this.vertexBuffer)),r}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&ze(this.gl,()=>this.gl.deleteProgram(e))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&JI(this.gl,this.program),ze(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,n,r=!0){return this.throwIfDisposed(),r?vme(this.gl,e,n):wme(this.gl,e,n)}getAttributeLocation(e,n){return this.throwIfDisposed(),ze(this.gl,()=>this.gl.getAttribLocation(e,n))}getUniformLocationNoThrow(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)}setInputMatrixTexture(e,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),Cme(this.gl,e,n,r)}setOutputMatrixTexture(e,n,r){this.setOutputMatrixTextureDriver(e,r,n)}setOutputPackedMatrixTexture(e,n,r){this.throwIfDisposed();const[s,i]=Jf(n,r);this.setOutputMatrixTextureDriver(e,s,i)}setOutputMatrixWriteRegion(e,n,r,s){this.setOutputMatrixWriteRegionDriver(r,e,s,n)}setOutputPackedMatrixWriteRegion(e,n,r,s){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&JI(this.gl,this.program),Wv(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;this.debug&&this.debugValidate(),ze(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),ze(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=Kv(this.gl,le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const r=this.gl,s=this.getQueryTimerExtensionWebGL2(),i=r.createQuery();return r.beginQuery(s.TIME_ELAPSED_EXT,i),i}const e=this.getQueryTimerExtensionWebGL1(),n=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,n),n}endQuery(){if(le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await KU(()=>this.disposed||this.isQueryAvailable(e,le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,n){if(n===0)return null;if(n===2){const r=this.gl;return r.getQueryParameter(e,r.QUERY_RESULT)/1e6}else{const r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,n){if(n===0)return!0;if(n===2){const r=this.gl,s=this.getQueryTimerExtensionWebGL2(),i=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(s.GPU_DISJOINT_EXT)),i&&!this.disjoint}else{const r=this.getQueryTimerExtensionWebGL1(),s=r.getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),s&&!this.disjoint}}pollFence(e){return new Promise(n=>{this.addItemToPoll(()=>e.isFencePassed(),()=>n())})}pollItems(){const e=Q0e(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=e;++n){const{resolveFn:r}=this.itemsToPoll[n];r()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,n){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1)return;let r;"setTimeoutCustom"in le().platform&&(r=le().platform.setTimeoutCustom.bind(le().platform)),KU(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,r)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),ZI(this.gl,e,this.framebuffer),this.debug&&Wv(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(ZI(this.gl,this.outputTexture,this.framebuffer),this.debug&&Wv(this.gl)):pL(this.gl,this.framebuffer)}downloadMatrixDriver(e,n){this.bindTextureToFrameBuffer(e);const r=n();return this.unbindTextureToFrameBuffer(),r}setOutputMatrixTextureDriver(e,n,r){this.throwIfDisposed();const s=this.gl;ZI(s,e,this.framebuffer),this.debug&&Wv(s),this.outputTexture=e,ze(s,()=>s.viewport(0,0,n,r)),ze(s,()=>s.scissor(0,0,n,r))}setOutputMatrixWriteRegionDriver(e,n,r,s){this.throwIfDisposed(),ze(this.gl,()=>this.gl.scissor(e,n,r,s))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function Q0e(t){let e=0;for(;e<t.length&&t[e]();++e);return e-1}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ve(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&O(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the CPU backend.`)})}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wz(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}const H0e=t=>{const{x:e}=t.inputs,n=t.backend;Ve(e,"abs");let r=new Float32Array(de(e.shape));const s=n.data.get(e.dataId).values;return r=wz(s),n.makeOutput(r,e.shape,e.dtype)},V0e={kernelName:ex,backendName:"cpu",kernelFunc:H0e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ir(t){return(e,n,r,s,i)=>{const o=ft(e,n),a=o.length,u=et(o),l=de(o),c=_r(i,l),A=e.length,d=n.length,h=et(e),f=et(n),p=mf(e,o),m=mf(n,o);if(p.length+m.length===0)for(let g=0;g<c.length;++g)c[g]=t(r[g%r.length],s[g%s.length]);else for(let g=0;g<c.length;++g){const y=Kf(g,a,u),C=y.slice(-A);p.forEach(w=>C[w]=0);const b=Ra(C,A,h),B=y.slice(-d);m.forEach(w=>B[w]=0);const I=Ra(B,d,f);c[g]=t(r[b],s[I])}return[c,o]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function li(t){const{inputs:e,backend:n}=t,{real:r,imag:s}=e,i=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,a=n.makeTensorInfo(r.shape,"complex64"),u=n.data.get(a.dataId);return u.complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(s.shape,"float32",o)},a}const z0e={kernelName:RF,backendName:"cpu",kernelFunc:li};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CC(t,e,n="float32"){if(n==="complex64"){const s=CC(t,e,"float32"),i=CC(t,e,"float32");return li({inputs:{real:s,imag:i},backend:t})}const r=os(de(e),n);return t.makeTensorInfo(e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function za(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const K0e={kernelName:P0,backendName:"cpu",kernelFunc:za};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qA(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,i)}const W0e={kernelName:d_,backendName:"cpu",kernelFunc:qA};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cz(t,e,n,r){if(r==="int32"){const s=Int32Array.from(t);return[e,"int32",s]}if(r==="bool"){const s=pd([0],n),[i,o]=ir((a,u)=>a!==u?1:0)(e,[],t,s,"bool");return[o,"bool",i]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function uc(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dtype:i}=r;if(i==="complex64"){if(s.dtype==="complex64")return za({inputs:{x:s},backend:n});const c=CC(n,s.shape,s.dtype),A=uc({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),d=li({inputs:{real:A,imag:c},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(A),d}if(s.dtype==="complex64"){const c=qA({inputs:{input:s},backend:n}),A=uc({inputs:{x:c},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(c),A}if(!$8(s.dtype,i)){const c=za({inputs:{x:s},backend:n});return{dataId:c.dataId,shape:c.shape,dtype:i}}const o=n.data.get(s.dataId).values,[a,u,l]=Cz(o,s.shape,s.dtype,i);return n.makeTensorInfo(a,u,l)}const G0e={kernelName:E0,backendName:"cpu",kernelFunc:uc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ur(t,e,n,r){return n==null?({inputs:s,backend:i})=>{const{a:o,b:a}=s,u=i;Ve([o,a],t);const l=u.data.get(o.dataId).values,c=u.data.get(a.dataId).values,A=o.dtype==="string"?XA(l):l,d=o.dtype==="string"?XA(c):c,h=r||o.dtype,[f,p]=e(o.shape,a.shape,A,d,h);return u.makeTensorInfo(p,h,f)}:({inputs:s,backend:i})=>{const{a:o,b:a}=s,u=i;if(o.dtype==="complex64"||a.dtype==="complex64"){const l=uc({inputs:{x:o},backend:u,attrs:{dtype:"complex64"}}),c=u.data.get(l.dataId),A=c.complexTensorInfos.real,d=c.complexTensorInfos.imag,h=u.data.get(A.dataId).values,f=u.data.get(d.dataId).values,p=uc({inputs:{x:a},backend:u,attrs:{dtype:"complex64"}}),m=u.data.get(p.dataId),g=m.complexTensorInfos.real,y=m.complexTensorInfos.imag,C=u.data.get(g.dataId).values,b=u.data.get(y.dataId).values,[B,I,w]=n(o.shape,a.shape,h,f,C,b),$=u.makeTensorInfo(w,"float32",B),T=u.makeTensorInfo(w,"float32",I),_=li({inputs:{real:$,imag:T},backend:u});return u.disposeIntermediateTensorInfo(l),u.disposeIntermediateTensorInfo(p),u.disposeIntermediateTensorInfo($),u.disposeIntermediateTensorInfo(T),_}else{const l=u.data.get(o.dataId).values,c=u.data.get(a.dataId).values,A=r||o.dtype,[d,h]=e(o.shape,a.shape,l,c,A);return u.makeTensorInfo(h,A,d)}}}function tD(t){return(e,n,r,s,i,o)=>{const a=ft(e,n),u=de(a),l=a.length,c=et(a),A=_r("float32",u),d=_r("float32",u),h=mf(e,a),f=mf(n,a),p=Ru(r,s),m=Ru(i,o),g=e.length,y=et(e),C=n.length,b=et(n);if(h.length+f.length===0)for(let B=0;B<A.length;B++){const I=B%p.length,w=B%m.length,$=t(p[I*2],p[I*2+1],m[w*2],m[w*2+1]);A[B]=$.real,d[B]=$.imag}else for(let B=0;B<A.length;B++){const I=Kf(B,l,c),w=I.slice(-g);h.forEach(P=>w[P]=0);const $=Ra(w,g,y),T=I.slice(-C);f.forEach(P=>T[P]=0);const _=Ra(T,C,b),R=t(p[$*2],p[$*2+1],m[_*2],m[_*2+1]);A[B]=R.real,d[B]=R.imag}return[A,d,a]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bz=ir((t,e)=>t+e),j0e=tD((t,e,n,r)=>({real:t+n,imag:e+r})),xf=Ur(Wf,bz,j0e),X0e={kernelName:Wf,backendName:"cpu",kernelFunc:xf};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nD(t,e,n,r,s){const i=de(r),o=os(s,n);for(let a=0;a<t.length;a++){const u=t[a];if(u<0)throw new Error("Input x must be non-negative!");u>=s||(i>0?o[u]+=e[a]:o[u]+=1)}return o}function xz(t,e,n,r=!1){const s=t.shape[0],i=t.shape[1],o=wt([s,n],e.dtype);for(let a=0;a<s;a++)for(let u=0;u<i;u++){const l=t.get(a,u);if(l<0)throw new Error("Input x must be non-negative!");l>=n||(r?o.set(1,a,l):e.size>0?o.set(o.get(a,l)+e.get(a,u),a,l):o.set(o.get(a,l)+1,a,l))}return o}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rc(t){return(e,n,r)=>{const s=_r(n,e.length);for(let i=0;i<e.length;++i)s[i]=t(e[i],r);return s}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function en(t,e,n){return({inputs:r,attrs:s,backend:i})=>{const{x:o}=r;if(Ve(o,t),o.dtype==="string"||n==="string")throw new Error("unaryKernelFunc does not support string input/output");const a=i,u=a.data.get(o.dataId).values,l=de(o.shape),c=n||o.dtype,A=Sr(c,l);for(let d=0;d<l;++d)A[d]=e(u[d],s);return a.makeTensorInfo(o.shape,c,A)}}function rp(t,e,n){return({inputs:r,attrs:s,backend:i})=>{const{x:o}=r;if(Ve(o,t),o.dtype==="string"||n==="string")throw new Error("unaryKernelFunc does not support string input/output");const a=i,u=a.data.get(o.dataId).values,l=n||o.dtype,c=e(u,l,s);return a.makeTensorInfo(o.shape,l,c)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bz=Rc(t=>Math.ceil(t)),q0e=rp($0,Bz),Y0e={kernelName:$0,backendName:"cpu",kernelFunc:q0e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Iz(t,e,n,r){const s=Sr(n,de(e));if(r&&n!=="string"){let i=0;t.forEach(o=>{const a=de(o.shape);s.set(o.vals,i),i+=a})}else{let i=0;t.forEach(o=>{const a=n==="string"?XA(o.vals):o.vals;let u=0;for(let l=0;l<o.shape[0];++l){const c=l*e[1]+i;for(let A=0;A<o.shape[1];++A)s[c+A]=a[u++]}i+=o.shape[1]})}return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ez=ir((t,e)=>t===e?1:0),$z=Ur(gx,Ez,null,"bool"),J0e={kernelName:gx,backendName:"cpu",kernelFunc:$z};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sz=Rc(t=>Math.exp(t)),Tz=rp(D0,Sz,"float32"),Z0e={kernelName:D0,backendName:"cpu",kernelFunc:Tz};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nz=Rc(t=>Math.expm1(t)),eye=rp(R0,Nz),tye={kernelName:R0,backendName:"cpu",kernelFunc:eye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kz=Rc(t=>Math.floor(t)),nye=rp(O0,kz),rye={kernelName:O0,backendName:"cpu",kernelFunc:nye};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fz(t,e,n,r,s,i,o,a,u){const l=wt([r,i],n);for(let c=0;c<r;c++){const A=[];let d=0;for(let h=0;h<s;h++){const f=t[c*s+h];d+=f*o[h],A.push(f)}if(d<0||d>=u/i)throw new Error(`Invalid indices: ${A} does not index into ${a}`);for(let h=0;h<i;h++)l.values[c*i+h]=e.get(...e.indexToLoc(d*i+h))}return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _z(t,e,n){const r=wt(n,t.dtype);for(let s=0;s<r.size;++s){const o=r.indexToLoc(s).slice(),a=o[0],u=o[2],l=e.locToIndex([a,u]);o[2]=e.values[l];const c=t.locToIndex(o);0<=c&&c<t.values.length&&(r.values[s]=t.values[c])}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dz=ir((t,e)=>t>e?1:0),sye=Ur(wx,Dz,null,"bool"),iye={kernelName:wx,backendName:"cpu",kernelFunc:sye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rz=ir((t,e)=>t>=e?1:0),oye=Ur(L0,Rz,null,"bool"),aye={kernelName:L0,backendName:"cpu",kernelFunc:oye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oz=ir((t,e)=>t<e?1:0),uye=Ur(bx,Oz,null,"bool"),lye={kernelName:bx,backendName:"cpu",kernelFunc:uye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uz=ir((t,e)=>t<=e?1:0),cye=Ur(xx,Uz,null,"bool"),Aye={kernelName:xx,backendName:"cpu",kernelFunc:cye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lz(t,e,n){const r=(e-t)/(n-1),s=os(n,"float32");s[0]=t;for(let i=1;i<s.length;i++)s[i]=s[i-1]+r;return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pz=Rc(t=>Math.log(t)),dye=rp(V0,Pz),hye={kernelName:V0,backendName:"cpu",kernelFunc:dye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mz(t,e,n,r){const s=_r(r,de(n));for(let i=0;i<s.length;++i){const o=i*e;let a=t[o];for(let u=0;u<e;++u){const l=t[o+u];(Number.isNaN(l)||l>a)&&(a=l)}s[i]=a}return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qz=ir((t,e)=>Math.max(t,e)),fye=Ur(K0,Qz),pye={kernelName:K0,backendName:"cpu",kernelFunc:fye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hz=ir((t,e)=>Math.min(t,e)),gye=Ur(W0,Hz),mye={kernelName:W0,backendName:"cpu",kernelFunc:gye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rD=ir((t,e)=>t*e),yye=tD((t,e,n,r)=>({real:t*n-e*r,imag:t*r+e*n})),N2=Ur(j0,rD,yye),vye={kernelName:j0,backendName:"cpu",kernelFunc:N2};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vz(t,e,n){const r=Sc(-1,n);return rD([],e,r,t,n)}function wye(t){const{inputs:e,backend:n}=t,{x:r}=e;Ve(r,"neg");const s=n.data.get(r.dataId).values,[i,o]=Vz(s,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,i)}const Cye={kernelName:Dx,backendName:"cpu",kernelFunc:wye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zz=ir((t,e)=>t!==e?1:0),bye=Ur(Rx,zz,null,"bool"),xye={kernelName:Rx,backendName:"cpu",kernelFunc:bye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sD(t,e,n,r,s){const i=e.length,o=de(e),a=et(e),u=et(s),l=_r(n,de(s));for(let c=0;c<o;++c){const A=Kf(c,i,a),d=new Array(A.length);for(let f=0;f<d.length;f++)d[f]=A[r[f]];const h=Ra(d,i,u);l[h]=t[c]}return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function js(t){const{inputs:e,attrs:n,backend:r}=t,{x:s}=e,{perm:i}=n;Ve(s,"transpose");const o=s.shape.length,a=new Array(o);for(let A=0;A<a.length;A++)a[A]=s.shape[i[A]];const u=r.data.get(s.dataId).values,l=sD(u,s.shape,s.dtype,i,a);return{dataId:r.write(l,a,s.dtype),shape:a,dtype:s.dtype}}const Bye={kernelName:Hh,backendName:"cpu",kernelFunc:js};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kz(t,e,n,r){const[s,i]=Or(t,r),o=mi(e,"int32"),a=os(de(s),o),u=de(i);for(let l=0;l<a.length;++l){const c=l*u;let A=1;for(let d=0;d<u;++d)A*=n[c+d];a[l]=A}return{outVals:a,outShape:s,outDtype:o}}function Iye(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;Ve(s,"prod");const a=s.shape.length,u=xt(i,s.shape),l=Un(u,a);let c=u,A=s;const d=[];l!=null&&(A=js({inputs:{x:s},backend:n,attrs:{perm:l}}),d.push(A),c=Yn(c.length,a));const h=n.data.get(A.dataId).values,{outVals:f,outShape:p,outDtype:m}=Kz(A.shape,A.dtype,h,c);let g=p;return o&&(g=Gn(p,u)),d.forEach(y=>n.disposeIntermediateTensorInfo(y)),n.makeTensorInfo(g,m,f)}const Eye={kernelName:Qx,backendName:"cpu",kernelFunc:Iye};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $ye(t,e,n){t.forEach((r,s)=>{if(r<0||r>=n){const i=Kf(s,e.length,et(e)).join(",");throw new Error(`indices[${i}] = ${r} is not in [0, ${n})`)}})}function Sye(t,e){for(let n=0;n<t.length;++n){const r=t[n],s=n===t.length-1?e:t[n+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>s)throw new Error("Ragged splits must not point past values");for(let i=1;i<r.length;++i)if(r[i-1]>r[i])throw new Error("Ragged splits must be sorted in ascending order")}}function Tye(t,e,n,r){const s=[];let i=0;const o=e.length-1+n.length,a=new Array(o).fill(null).map(()=>[0]);Sye(n,r);let u=1;for(let l=0;l<e.length-1;++l){u*=e[l];const c=e[l+1];for(let A=1;A<u+1;++A)a[l].push(A*c)}for(let l=0;l<t.length;++l){let c=t[l],A=t[l]+1;for(let d=0;d<n.length;++d){const h=n[d],f=d+e.length-1;if(f>=0){const p=a[f],m=p[p.length-1]-h[c];for(let g=c;g<A;++g)a[f].push(h[g+1]+m)}c=h[c],A=h[A]}A!==c&&(s.push([c,A]),i+=A-c)}return{outSplits:a,valueSlices:s,numValues:i}}function Nye(t){const e=[];for(let n=0;n<t.length;++n){const r=t[n].length,s=Sr("int32",r);e.push(s),t[n].forEach((i,o)=>s[o]=i)}return e}function yL(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let r=e;r<t.length;r++)n[e-1]*=t[r];return n}function kye(t,e,n,r,s,i){const o=yL(e,2)[1],a=yL(i,2)[1];let u=0;for(const l of n)for(let c=l[0];c<l[1];++c){for(let A=0;A<r;++A)s[u*a+A]=t[c*o+A];++u}}function Fye(t,e,n,r,s){const i=e.slice();i[0]=s;const o=Sr(n,de(i)),a=t.length,u=a===0?0:a/e[0];return kye(t,e,r,u,o,i),[o,i]}function Wz(t,e,n,r,s,i,o,a){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const u=e[0][0]-1;if($ye(i,o,u),r.length===0)throw new Error("params.rank must be nonzero");const l=r[0],{outSplits:c,valueSlices:A,numValues:d}=Tye(i,o,t,l),h=Nye(c),f=Fye(n,r,s,A,d);return[h,f[0],f[1]]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Yi=zo;class bC{constructor(e,n,r,s,i,o,a,u,l,c){this.shape=e,this.shapeShape=n,this.values=r,this.valuesShape=s,this.valuesDType=i,this.defaultValue=o,this.defaultValueShape=a,this.rowPartitionValues=u,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=M7(c),this.raggedRank=Q7(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===Yi.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===Yi.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case Yi.VALUE_ROWIDS:return bC.getMaxWidthValueRowID(n);case Yi.ROW_SPLITS:return bC.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${Yi[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let r=0;for(let s=0;s<n-1;++s){const i=e[s+1]-e[s];i>r&&(r=i)}return r}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let r=0,s=e[0],i=0;for(let o=1;o<n;++o){const a=e[o];a!==s&&(s=a,i=Math.max(o-r,i),r=o)}return Math.max(n-r,i)}tensorShapeFromTensor(e,n,r=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return wL(e,r)}calculateOutputSize(e){const n=this.valuesShape,r=this.defaultValueShape;H7(r,n);const s=this.tensorShapeFromTensor(this.shape,this.shapeShape),o=P7(this.raggedRank,s,n);o[0]<0&&(o[0]=e);for(let a=1;a<=this.raggedRank;++a)o[a]<0&&(o[a]=this.getMaxWidth(a));return o}calculateFirstParentOutputIndex(e,n,r){const s=Math.min(e,r),i=[];let o=0;for(let a=0;a<s;++a,o+=n)i.push(o);for(let a=s;a<e;++a)i.push(-1);return O(i.length===e,()=>"Final length of result must be equal to firstDimension."),i}calculateOutputIndexRowSplit(e,n,r,s){const i=e.length,o=[];for(let a=0;a<i-1;++a){const u=e[a+1]-e[a];let l=Math.min(s,u),c=n[a];c===-1&&(l=0);for(let A=0;A<l;++A)o.push(c),c+=r;for(let A=0;A<u-l;++A)o.push(-1)}if(i>0&&o.length!==e[i-1])throw new Error("Invalid row split size.");return o}calculateOutputIndexValueRowID(e,n,r,s){const i=e.length,o=[];if(i===0)return[];let a=0,u=e[0];if(u>=n.length)throw new Error(`Got currentValueRowId=${u}, which is not less than ${n.length}`);let l=n[u];o.push(l);for(let c=1;c<i;++c){const A=e[c];if(A===u)l>=0&&(++a,a<s?l+=r:l=-1);else{if(a=0,u=A,A>=n.length)throw new Error(`Got nextValueRowId=${A} which is not less than ${n.length}`);l=n[A]}o.push(l)}if(o.length!==e.length)throw new Error("Invalid row ids.");return o}calculateOutputIndex(e,n,r,s){const i=this.getRowPartitionTensor(e),o=this.getRowPartitionTypeByDimension(e);switch(o){case Yi.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(i,n,r,s);case Yi.ROW_SPLITS:if(i.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${i.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(i,n,r,s);default:throw new Error(`Unsupported partition type: ${Yi[o]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case Yi.FIRST_DIM_SIZE:return e[0];case Yi.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Yi.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${Yi[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),r=this.calculateOutputSize(n),s=new Array(this.raggedRank+1);s[s.length-1]=1;for(let u=s.length-2;u>=0;--u)s[u]=s[u+1]*r[u+1];const i=wL(r,!1),o=Sr(this.valuesDType,de(i));if(s[0]*r[0]>0){let u=this.calculateFirstParentOutputIndex(n,s[0],r[0]);for(let l=1;l<=this.raggedRank;++l)u=this.calculateOutputIndex(l-1,u,s[l],r[l]);this.setOutput(this.raggedRank,u,o,i)}return[i,o]}setOutput(e,n,r,s){if(r.length===0)return;const i=this.values,o=r;let a=s.slice();a=a.slice(e+1);const u=de(a),l=n.length;let c=this.defaultValue;if(c.length!==u&&c.length!==1){const f=this.defaultValueShape;ie(()=>{const p=Y(c,f);c=Kh(p,a).dataSync()})}let A=0,d=0,h=0;for(let f=0;f<=l;++f){let p=f<l?n[f]:-1;if(p===h){++h;continue}if(d<h){const m=i.subarray(A*u),g=o.subarray(d*u),y=(h-d)*u;vL(g,m,y)}if(f>=l){const m=r.length;p=Math.floor(m/u)}if(p>h)if(this.defaultValue.length===1)o.subarray(h*u,p*u).fill(this.defaultValue[0]),h=p;else for(;p>h;){const m=o.slice(h*u);vL(m,c,u),++h}p<0?(A=f+1,d=h):(A=f,d=h,h=d+1)}}}function vL(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function wL(t,e){const n=[];for(let r of t){if(r<0){if(!e)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function Gz(t,e,n,r,s,i,o,a,u,l){return new bC(t,e,n,r,s,i,o,a,u,l).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jz(t,e,n,r){const s=t===e,i=t<e&&n<0,o=e<t&&n>1;if(s||i||o)return os(0,r);const a=Math.abs(Math.ceil((e-t)/n)),u=os(a,r);e<t&&n===1&&(n=-1),u[0]=t;for(let l=1;l<u.length;l++)u[l]=u[l-1]+n;return u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xz=Rc(t=>1/Math.sqrt(t)),_ye=rp(ey,Xz),Dye={kernelName:ey,backendName:"cpu",kernelFunc:_ye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $h(t,e,n,r,s,i,o,a,u,l){const c=[r/s,s],A=t.values,d=e.values;if(r===0)return wt(n,e.dtype);const h=wt(c,e.dtype);typeof u=="string"||typeof u=="number"?h.values.fill(u):typeof u=="boolean"&&h.values.fill(+u);for(let f=0;f<i;f++){const p=[];let m=0;for(let g=0;g<o;g++){const y=A[f*o+g];p.push(y),m+=y*a[g]}if(m<0||m>=r/s)throw new Error(`Invalid indices: ${p} does not index into ${n}`);for(let g=0;g<s;g++)l?h.values[m*s+g]+=d[f*s+g]:h.values[m*s+g]=e.rank===0?d[0]:d[f*s+g]}return h}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rye=Rc(t=>1/(1+Math.exp(-t))),qz=en(iy,t=>1/(1+Math.exp(-t))),Oye={kernelName:iy,backendName:"cpu",kernelFunc:qz};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yz(t,e,n,r,s){const i=Q_(r,e,n),o=de(n),a=et(r);if(i){const A=H_(e,a);return s==="string"?t.slice(A,A+o):t.subarray(A,A+o)}const u=s==="string"?XA(t):t,l=wt(r,s,u),c=wt(n,s);for(let A=0;A<c.size;++A){const d=c.indexToLoc(A),h=d.map((f,p)=>f+e[p]);c.set(l.get(...h),...d)}return s==="string"?uz(c.values):c.values}function YA(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,size:o}=r;Ve(s,"slice");const[a,u]=s2(s,i,o);P_(s,a,u);const l=n.data.get(s.dataId).values,c=Yz(l,a,u,s.shape,s.dtype);return n.makeTensorInfo(u,s.dtype,c)}const Uye={kernelName:Gx,backendName:"cpu",kernelFunc:YA};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jz(t,e,n,r,s,i,o){const a=e[0],u=i[0],l=new Array(u),c=new Array(a),A=e[1];if(u===0){if(a!==0)throw new Error(X7(a));const m=Sr(n,0),g=Sr(s,0);return[m,[0,A],g,l,c]}let d=!0,h=0;const f=new Array(u).fill(0);for(let m=0;m<a;++m){const g=t[m*A];if(g<0)throw new Error(q7(m,g));if(g>=u)throw new Error(Y7(m,g,u));++f[g],d=d&&g>=h,h=g}let p=!0;for(let m=0;m<u;++m){const g=f[m]===0;l[m]=g,p=p&&!g,f[m]=Math.max(f[m],1),m>0&&(f[m]+=f[m-1])}if(p&&d){const m=t,g=r;for(let y=0;y<a;++y)c[y]=y;return[m,[a,A],g,l,c]}else{const m=f[u-1],g=Sr(n,m*A),y=Sr(s,m),C=new Array(u).fill(0);for(let b=0;b<a;++b){const B=t[b*A],I=C[B],w=(B===0?0:f[B-1])+I;C[B]++;for(let $=0;$<A;++$)g[w*A+$]=t[b*A+$];y[w]=r[b],c[b]=w}for(let b=0;b<u;++b)if(C[b]===0){const I=b===0?0:f[b-1];g[I*A+0]=b;for(let w=1;w<A;++w)g[I*A+w]=0;y[I]=o}return[g,[m,A],y,l,c]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zz(t,e,n,r,s){const i=de(r),o=e[0],a=s.length,u=[];let l=1,c=-1;for(let m=0;m<a;++m){const g=s[m];if(g===-1){if(c!==-1)throw new Error(J7(c,m));c=m,u.push(1)}else{if(g<0)throw new Error(Z7(m,g));l*=g,u.push(g)}}if(c!==-1){if(l<=0)throw new Error(ez());const m=Math.trunc(i/l);if(l*m!==i)throw new Error(tz(r,u));u[c]=m}if(de(u)!==i)throw new Error(nz(r,u));const d=r.length,h=[];if(d>0){h[d-1]=1;for(let m=d-2;m>=0;--m)h[m]=h[m+1]*r[m+1]}const f=[];if(a>0){f[a-1]=1;for(let m=a-2;m>=0;--m)f[m]=f[m+1]*u[m+1]}const p=Sr(n,o*a);for(let m=0;m<o;++m){let g=0;for(let y=0;y<d;++y)g+=t[m*d+y]*h[y];for(let y=0;y<a;++y)p[m*a+y]=Math.trunc(g/f[y]),g%=f[y]}return[p,[o,a],u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iD(t,e,n,r,s,i=!1,o=0){const a=r.length,u=[e[0],t.length/e[0]],l=u[1],A=a>0?s[a-1]+1:0;if(A<0)throw new Error(PS());const d=e.slice();d[0]=A;const h=d.reduce((C,b)=>C*b,1),f=Sr(n,h);if(a===0)return A>0&&f.fill(o),[f,d];if(A<=0)throw new Error(PS());let p=0,m=1,g=0,y=s[p];for(;;){let C=0;if(m<a){if(C=s[m],y===C){++m;continue}if(y>=C)throw new Error(rz())}if(y<0||y>=A)throw new Error(sz(y,A));y>g&&f.fill(o,g*l,y*l);for(let b=p;b<m;++b){const B=r[b];if(B<0||B>=u[0])throw new Error(iz(b,r[b],u[0]));for(let I=0;I<l;I++)f[y*l+I]+=t[B*l+I]}if(i)for(let b=0;b<l;b++)f[y*l+b]/=m-p;if(p=m,++m,g=y+1,y=C,m>a)break}return g<A&&f.fill(o,g*l,A*l),[f,d]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lye=Rc(t=>Math.sqrt(t)),Pye=en(ay,t=>Math.sqrt(t)),Mye={kernelName:ay,backendName:"cpu",kernelFunc:Pye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eK=ir((t,e)=>{const n=t-e;return n*n}),Qye=Ur(uy,eK),Hye={kernelName:uy,backendName:"cpu",kernelFunc:Qye};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tK(t,e,n,r){const s=wt(t,e.dtype);for(let i=0;i<s.size;i++){const o=s.indexToLoc(i),a=new Array(o.length);for(let u=0;u<a.length;u++)a[u]=o[u]*n[u]+r[u];s.set(e.get(...a),...o)}return s}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Vye{constructor(e,n,r,s,i,o){this.separator=Gl(e),this.nGramWidths=n,this.leftPad=Gl(r),this.rightPad=Gl(s),this.padWidth=i,this.preserveShort=o}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const r=this.getPadWidth(n);return Math.max(0,e+2*r-n+1)}createNGrams(e,n,r,s,i,o){for(let a=0;a<i;++a){const u=this.getPadWidth(o),l=Math.max(0,u-a),c=Math.max(0,u-(i-(a+1))),A=o-(l+c),d=n+(l>0?0:a-u);let h=0;h+=l*this.leftPad.length;for(let y=0;y<A;++y)h+=e[d+y].length;h+=c*this.rightPad.length;const f=l+c+A-1;h+=f*this.separator.length,r[s+a]=new Uint8Array(h);const p=r[s+a];let m=0;const g=y=>y.forEach(C=>p[m++]=C);for(let y=0;y<l;++y)g(this.leftPad),g(this.separator);for(let y=0;y<A-1;++y)g(e[d+y]),g(this.separator);if(A>0){g(e[d+A-1]);for(let y=0;y<c;++y)g(this.separator),g(this.rightPad)}else{for(let y=0;y<c-1;++y)g(this.rightPad),g(this.separator);g(this.rightPad)}}}compute(e,n){const r=e.length,s=n.length;if(s>0){let u=n[0];if(u!==0)throw new Error(`First split value must be 0, got ${u}`);for(let l=1;l<s;++l){let c=n[l]>=u;if(c=c&&n[l]<=r,!c)throw new Error(`Invalid split value ${n[l]}, must be in [${u}, ${r}]`);u=n[l]}if(u!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${u}`)}const i=s-1,o=Sr("int32",s);if(r===0||s===0){const u=new Array(r);for(let l=0;l<=i;++l)o[l]=0;return[u,o]}o[0]=0;for(let u=1;u<=i;++u){const l=n[u]-n[u-1];let c=0;this.nGramWidths.forEach(A=>{c+=this.getNumNGrams(l,A)}),this.preserveShort&&l>0&&c===0&&(c=1),o[u]=o[u-1]+c}const a=new Array(o[i]);for(let u=0;u<i;++u){const l=n[u];let c=o[u];if(this.nGramWidths.forEach(A=>{const d=n[u+1]-n[u],h=this.getNumNGrams(d,A);this.createNGrams(e,l,a,c,h,A),c+=h}),this.preserveShort&&c===o[u]){const A=n[u+1]-n[u];if(A===0)continue;const d=A+2*this.padWidth,h=1;this.createNGrams(e,l,a,c,h,d)}}return[a,o]}}function nK(t,e,n,r,s,i,o,a){return new Vye(n,r,s,i,o,a).compute(t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zye(t,e,n,r){if(!t.length)return;if(e.length===0){for(let i=0;i<t.length;++i)r.push(t.subarray(i,i+1));return}if(e.length===1){const i=e[0];let o=t.indexOf(i);for(;o!==-1;){const a=t.subarray(0,o);(!n||a.length!==0)&&r.push(a),t=t.subarray(o+1),o=t.indexOf(i)}(!n||t.length!==0)&&r.push(t);return}let s=0;for(let i=0;i<t.length+1;i++)if(i===t.length||e.indexOf(t[i])!==-1){const o=t.subarray(s,i);(!n||o.length!==0)&&r.push(o),s=i+1}}function rK(t,e,n){const r=t.length,s=[];let i=0,o=0;const a=new Array(r);for(let d=0;d<r;++d){const h=s.length;zye(t[d],e,n,s);const f=s.length-h;a[d]=f,i+=f,o=Math.max(o,f)}const u=Sr("int32",i*2),l=new Array(i),c=[r,o];let A=0;for(let d=0;d<r;++d)for(let h=0;h<a[d];++h)u[A*2]=d,u[A*2+1]=h,l[A]=s[A],++A;return[u,l,c]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sK(t,e){const n=Sr("int32",t.length);for(let r=0;r<t.length;++r)n[r]=xle(t[r]).modulo(e).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iK=ir((t,e)=>t-e),Kye=tD((t,e,n,r)=>({real:t-n,imag:e-r})),oD=Ur(ly,iK,Kye),Wye={kernelName:ly,backendName:"cpu",kernelFunc:oD};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oK(t,e){const n=new Array(t.rank);for(let s=0;s<n.length;s++)n[s]=t.shape[s]*e[s];const r=wt(n,t.dtype);for(let s=0;s<r.values.length;++s){const i=r.indexToLoc(s),o=new Array(t.rank);for(let u=0;u<o.length;u++)o[u]=i[u]%t.shape[u];const a=t.locToIndex(o);r.values[s]=t.values[a]}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ig=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function aK(t,e,n=0,r=t.length-1){for(;r>n;){if(r-n>600){const a=r-n+1,u=e-n+1,l=Math.log(a),c=.5*Math.exp(2*l/3),A=.5*Math.sqrt(l*c*(a-c)/a)*Math.sign(u-a/2),d=Math.max(n,Math.floor(e-u*c/a+A)),h=Math.min(r,Math.floor(e+(a-u)*c/a+A));aK(t,e,d,h)}const s=t[e];let i=n,o=r;for(sh(t,n,e),ig(t[r],s)>0&&sh(t,n,r);i<o;){for(sh(t,i,o),i++,o--;ig(t[i],s)<0;)i=i+1;for(;ig(t[o],s)>0;)o=o-1}ig(t[n],s)===0?sh(t,n,o):(o=o+1,sh(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}}function uK(t,e,n,r,s){const i=e[e.length-1],[o,a]=[t.length/i,i],u=_r(n,o*r),l=_r("int32",o*r);for(let A=0;A<o;A++){const d=A*a,h=t.subarray(d,d+a);let f=new Array(h.length);h.forEach((y,C)=>f[C]={value:y,index:C}),r<f.length&&(aK(f,r),f=f.slice(0,r)),s&&f.sort(ig);const p=A*r,m=u.subarray(p,p+r),g=l.subarray(p,p+r);for(let y=0;y<r;y++)m[y]=f[y].value,g[y]=f[y].index}const c=e.slice();return c[c.length-1]=r,[wt(c,n,u),wt(c,"int32",l)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lK(t,e,n,r){const s=xt(e,n)[0],i=[1,n[0],1];for(let f=0;f<s;f++)i[0]*=n[f];i[1]=n[s];for(let f=s+1;f<n.length;f++)i[2]*=n[f];const o={},a=new Int32Array(n[s]),u=new Nr(i,r,t),l=[],c=i[0]===1&&i[2]===1;for(let f=0;f<n[s];f++){let p;if(c)p=t[f].toString();else{const m=[];for(let g=0;g<i[0];g++)for(let y=0;y<i[2];y++)m.push(u.get(g,f,y));p=m.join(",")}if(o[p]!==void 0)a[f]=o[p];else{const m=Object.keys(o).length;o[p]=m,a[f]=m,l.push(f)}}const A=i.slice();A[1]=Object.keys(o).length;const d=new Nr(A,r);l.forEach((f,p)=>{for(let m=0;m<i[0];m++)for(let g=0;g<i[2];g++)d.set(u.get(m,f,g),m,p,g)});const h=n.slice();return h[s]=A[1],{outputValues:d.values,outputShape:h,indices:a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gye=Object.freeze(Object.defineProperty({__proto__:null,simpleAbsImpl:wz,addImpl:bz,bincountImpl:nD,bincountReduceImpl:xz,castImpl:Cz,ceilImpl:Bz,concatImpl:Iz,equalImpl:Ez,expImpl:Sz,expm1Impl:Nz,floorImpl:kz,gatherNdImpl:Fz,gatherV2Impl:_z,greaterImpl:Dz,greaterEqualImpl:Rz,lessImpl:Oz,lessEqualImpl:Uz,linSpaceImpl:Lz,logImpl:Pz,maxImpl:Mz,maximumImpl:Qz,minimumImpl:Hz,multiplyImpl:rD,negImpl:Vz,notEqualImpl:zz,prodImpl:Kz,raggedGatherImpl:Wz,raggedTensorToTensorImpl:Gz,rangeImpl:jz,rsqrtImpl:Xz,scatterImpl:$h,sigmoidImpl:Rye,sliceImpl:Yz,sparseFillEmptyRowsImpl:Jz,sparseReshapeImpl:Zz,sparseSegmentReductionImpl:iD,sqrtImpl:Lye,squaredDifferenceImpl:eK,stridedSliceImpl:tK,stringNGramsImpl:nK,stringSplitImpl:rK,stringToHashBucketFastImpl:sK,subImpl:iK,tileImpl:oK,topKImpl:uK,transposeImpl:sD,uniqueImpl:lK},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:jye,bincountImpl:cK,bincountReduceImpl:Xye,castImpl:qye,ceilImpl:Yye,concatImpl:Jye,equalImpl:Zye,expImpl:eve,expm1Impl:tve,floorImpl:nve,gatherNdImpl:rve,gatherV2Impl:sve,greaterImpl:ive,greaterEqualImpl:ove,lessImpl:ave,lessEqualImpl:uve,linSpaceImpl:lve,logImpl:cve,maxImpl:Ave,maximumImpl:dve,minimumImpl:hve,multiplyImpl:fve,negImpl:pve,notEqualImpl:gve,prodImpl:mve,raggedGatherImpl:yve,raggedTensorToTensorImpl:vve,rangeImpl:wve,rsqrtImpl:Cve,scatterImpl:bve,sigmoidImpl:xve,simpleAbsImpl:AK,sliceImpl:Bve,sparseFillEmptyRowsImpl:Ive,sparseReshapeImpl:Eve,sparseSegmentReductionImpl:dK,sqrtImpl:$ve,stridedSliceImpl:Sve,stringNGramsImpl:Tve,stringSplitImpl:Nve,stringToHashBucketFastImpl:kve,subImpl:Fve,tileImpl:_ve,topKImpl:Dve,transposeImpl:aD,uniqueImpl:Rve}=Gye;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hK(t,e){return["x","y","z","w","u","v"].slice(0,e).map(n=>`${t}.${n}`)}function Cs(t,e){return e===1?[t]:hK(t,e)}function Ove(t,e){if(t===1)return"rc";let n="";for(let r=0;r<t;r++)n+=e[r],r<t-1&&(n+=",");return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Uve{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=Rs(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const n=Cs("rc",this.rank),r=cn(this.rank),s=this.getOutOfBoundsCondition(n),i=this.getSetup(n),o=this.getOutput(n);this.userCode=`
        void main() {
          ${r} rc = getOutputCoords();

          if(${s}) {
            setOutput(vec4(0));
          } else {
            ${i}

            setOutput(vec4(${o}));
          }
        }
      `}}getSourceCoordsArr(e){const n=[];for(let r=0;r<=1;r++)for(let s=0;s<=1;s++){let i=`${r===0?"r":"rp1"}, ${s===0?"c":"cp1"}`;for(let o=2;o<this.rank;o++)i=`${e[e.length-1-o]},`+i;n.push(i)}return n}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let n="";for(let r=this.rank-2;r<this.rank;r++)n+=`${e[r]} >= ${this.enableShapeUniforms?`outShape[${r}]`:this.outputShape[r]}`,r<this.rank-1&&(n+="||");return n}getSetup(e){if(this.rank===1)return"";const n=e.slice(-2),r=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],s=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${n[0]};
      int c = ${n[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${r};
      bool rEdge = rp1 >= ${s};
    `}getOutput(e){const n=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${n[0]}),
            cEdge ? 0. : getA(${n[1]}),
            rEdge ? 0. : getA(${n[2]}),
            rEdge || cEdge ? 0. : getA(${n[3]})`}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fK{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=Rs(this.outputShape.length);let r="";for(let s=0;s<4;s++){let i="thisRC = rc;";s%2===1&&(i+="thisRC.z += 1;"),s>1&&(i+="thisRC.y += 1;"),r+=`
        ${i}
        ${s>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${s}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${s>0?"}":""}
      `}this.userCode=`
      ${Lve(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?Z3():J3(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${r}

        setOutput(result);
      }
    `}}function Lve(t,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?_me(["r","c","d"],"inputShape"):wd(["r","c","d"],t)}
      return ivec3(r, c, d);
    }
  `}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Pve{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,n,r){const s=bL(n,r),i=xL(e,s,r);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);const o=CL(e,s,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();const u=this.freeTextures[i].shift();return this.usedTextures[i].push(u),u}let a;return s===Hr.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):s===Hr.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):s===Hr.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):s===Hr.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):s===Hr.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(a),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),a}releaseTexture(e,n,r,s){if(this.freeTextures==null)return;const i=bL(r,s),o=xL(n,i,s);o in this.freeTextures||(this.freeTextures[o]=[]);const a=CL(n,i,this.gpgpu.gl,this.gpgpu.textureConfig,s),u=le().get("WEBGL_DELETE_TEXTURE_THRESHOLD");u!==-1&&this._numBytesAllocated>u?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=a):(this.freeTextures[o].push(e),this.numFreeTextures++,this._numBytesFree+=a),this.numUsedTextures--;const l=this.usedTextures[o],c=l.indexOf(e);if(c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l.splice(c,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function Mve(t,e){const n=t;if(e===n.R32F)return 4;if(e===n.R16F)return 2;if(e===n.RGBA32F)return 16;if(e===t.RGBA)return 16;if(e===n.RGBA16F)return 8;if(e===n.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function CL(t,e,n,r,s){const i=Qve(e,r);let o;if(s){const[u,l]=Jf(t[0],t[1]);o=u*l}else{const[u,l]=Sy(t[0],t[1]);o=u*l}const a=Mve(n,i);return o*a}function Qve(t,e){switch(t){case Hr.PACKED_2X2_FLOAT32:return yz(e);case Hr.PACKED_2X2_FLOAT16:return vz(e);case Hr.UNPACKED_FLOAT32:return pz(e);case Hr.UNPACKED_FLOAT16:return gz(e);case Hr.PACKED_4X1_UNSIGNED_BYTE:return mz(e);default:throw new Error(`Unknown physical texture type ${t}`)}}function Hve(t){return le().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?Hr.PACKED_2X2_FLOAT32:Hr.UNPACKED_FLOAT32:t?Hr.PACKED_2X2_FLOAT16:Hr.UNPACKED_FLOAT16}function bL(t,e){if(t===_i.UPLOAD)return Hr.PACKED_2X2_FLOAT32;if(t===_i.RENDER||t==null)return Hve(e);if(t===_i.DOWNLOAD||t===_i.PIXELS)return Hr.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${t}`)}function xL(t,e,n){return`${t[0]}_${t[1]}_${e}_${n}`}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yu{constructor(e,n){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=Rs(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const To="if (isnan(x)) return x;",Vve="return x;",BL="return abs(x);",zve="return (x >= 0.0) ? x : (exp(x) - 1.0);",Kve=To+`
  return (x < 0.0) ? 0.0 : x;
`,Wve=To+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,Md="return x;",Gve="return 1.0 / (1.0 + exp(-1.0 * x));";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jve="return x;",Xve=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,qve=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Yve=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,Jve="return 1.0 / (1.0 + exp(-1.0 * x));";class yA{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=Rs(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Zve{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=Rs(this.outputShape.length);const n=e.length,r=Cs("rc",n),s=cn(n),i=Ove(n,r),o=r.slice(-2),a=n<=1?"rc":`vec2(${o.join(",")})`;this.userCode=`
      void main() {
        ${s} rc = getOutputCoords();
        vec4 packedInput = getA(${i});

        setOutput(getChannel(packedInput, ${a}));
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e1e=v3,t1e=1e-7,n1e=1e-4,jv={};function r1e(t){return t in jv||(jv[t]={}),jv[t]}const s1e=le().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),i1e=600;function o1e(){return le().global.screen==null?1024:le().global.screen.height*le().global.screen.width*window.devicePixelRatio*i1e/1024/1024}class k2 extends IF{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!le().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(e!=null){if(e instanceof rE)n=e;else{const r=sa(le().getNumber("WEBGL_VERSION"),e);n=new rE(r)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const r=sa(le().getNumber("WEBGL_VERSION"));n=new rE(r),this.binaryCache=r1e(le().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new Pve(this.gpgpu),this.numMBBeforeWarning=o1e(),this.texData=new I8(this,Ca())}nextDataId(){return k2.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}write(e,n,r){if((le().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||le().getBool("DEBUG"))&&this.checkNumericalProblems(e),r==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const s={id:this.nextDataId()};return this.texData.set(s,{shape:n,dtype:r,values:e,usage:_i.UPLOAD,refCount:1}),s}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const n=this.texData.get(e);n.refCount++}decRef(e){if(this.texData.has(e)){const n=this.texData.get(e);n.refCount--}}move(e,n,r,s,i){if(le().getBool("DEBUG")&&this.checkNumericalProblems(n),s==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:r,dtype:s,values:n,usage:_i.UPLOAD,refCount:i})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const n=this.texData.get(e),{values:r,dtype:s,complexTensorInfos:i,slice:o,shape:a,isPacked:u}=n;if(o!=null){let d;u?d=new yA(a,Md):d=new yu(a,Md);const h=this.runWebGLProgram(d,[{dataId:e,shape:a,dtype:s}],s),f=this.readSync(h.dataId);return this.disposeIntermediateTensorInfo(h),f}if(r!=null)return this.convertAndCacheOnCPU(e);if(s==="string")return r;const l=this.activeTimers!=null;let c;l&&(c=Ms());let A;if(s==="complex64"){const d=this.readSync(i.real.dataId),h=this.readSync(i.imag.dataId);A=Ru(d,h)}else A=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=Ms()-c),this.convertAndCacheOnCPU(e,A)}async read(e){if(this.pendingRead.has(e)){const f=this.pendingRead.get(e);return new Promise(p=>f.push(p))}const n=this.texData.get(e),{values:r,shape:s,slice:i,dtype:o,complexTensorInfos:a,isPacked:u}=n;if(i!=null){let f;u?f=new yA(s,Md):f=new yu(s,Md);const p=this.runWebGLProgram(f,[{dataId:e,shape:s,dtype:o}],o),m=this.read(p.dataId);return this.disposeIntermediateTensorInfo(p),m}if(r!=null)return this.convertAndCacheOnCPU(e);if(le().getBool("DEBUG")&&!le().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&le().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l=null,c;if(o!=="complex64"&&le().get("WEBGL_BUFFER_SUPPORTED")){c=this.decode(e);const f=this.texData.get(c.dataId);l=this.gpgpu.createBufferFromTexture(f.texture.texture,...zv(s))}this.pendingRead.set(e,[]),o!=="complex64"&&await this.gpgpu.createAndWaitForFence();let A;if(o==="complex64"){const f=await Promise.all([this.read(a.real.dataId),this.read(a.imag.dataId)]),p=f[0],m=f[1];A=Ru(p,m)}else if(l==null)A=this.getValuesFromTexture(e);else{const f=de(s);A=this.gpgpu.downloadFloat32MatrixFromBuffer(l,f)}if(c!=null&&this.disposeIntermediateTensorInfo(c),l!=null){const f=this.gpgpu.gl;ze(f,()=>f.deleteBuffer(l))}const d=this.convertAndCacheOnCPU(e,A),h=this.pendingRead.get(e);return this.pendingRead.delete(e),h.forEach(f=>f(d)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&Ca().removeDataId(e,this),this.pendingDeletes--),d}readToGPU(e,n={}){const r=this.texData.get(e),{values:s,shape:i,slice:o,dtype:a,isPacked:u,texture:l}=r;if(a==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(o!=null){let h;u?h=new yA(i,Md):h=new yu(i,Md);const f=this.runWebGLProgram(h,[{dataId:e,shape:i,dtype:a}],a),p=this.readToGPU(f,n);return this.disposeIntermediateTensorInfo(f),p}if(l==null)throw s!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const c=this.decode(e,n.customTexShape),A=Ca().makeTensorFromTensorInfo(c),d=this.texData.get(c.dataId);return Object.assign({tensorRef:A},d.texture)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(s=>rc(s));return wt(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return wt(e.shape,e.dtype,n)}checkNumericalProblems(e){if(e!=null)for(let n=0;n<e.length;n++){const r=e[n];if(!ome(r))throw le().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${r} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:n,dtype:r,isPacked:s}=this.texData.get(e),i=de(n);if(le().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const d=this.decode(e),h=this.texData.get(d.dataId),f=this.gpgpu.downloadMatrixFromPackedTexture(h.texture.texture,...zv(n)).subarray(0,i);return this.disposeIntermediateTensorInfo(d),f}const o=le().getBool("WEBGL_PACK")&&s===!0,a=o?eE(n):n,u=o?new b0e(a):new C0e(a),l=this.runWebGLProgram(u,[{shape:a,dtype:r,dataId:e}],"float32"),c=this.texData.get(l.dataId),A=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(l),A}timerAvailable(){return le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const n=this.activeTimers,r=[];let s=!1;this.programTimersStack==null?(this.programTimersStack=r,s=!0):this.activeTimers.push(r),this.activeTimers=r,e();const i=df(this.activeTimers.map(u=>u.query)).filter(u=>u!=null),o=df(this.activeTimers.map(u=>u.name)).filter(u=>u!=null);this.activeTimers=n,s&&(this.programTimersStack=null);const a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const u=await Promise.all(i);a.kernelMs=nle(u),a.getExtraProfileInfo=()=>u.map((l,c)=>({name:o[c],ms:l})).map(l=>`${l.name}: ${l.ms}`).join(", ")}else a.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,a})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:Ms(),endMs:null}}endTimer(e){return le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=Ms(),e)}async getQueryTime(e){if(le().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const n=e;return n.endMs-n.startMs}disposeData(e,n=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(n?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!n&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:r}=this.texData.get(e);return r!=null&&(this.disposeData(r.real.dataId,n),this.disposeData(r.imag.dataId,n)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:n,dtype:r,texShape:s,usage:i,isPacked:o,slice:a}=this.texData.get(e),u=a&&a.origDataId||e,l=this.dataRefCount.get(u);l>1?this.dataRefCount.set(u,l-1):(this.dataRefCount.delete(u),n!=null&&(this.numBytesInGPU-=this.computeBytes(s,r),this.textureManager.releaseTexture(n,s,i,o)));const c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,n=s1e){return le().getBool("WEBGL_CPU_FORWARD")&&e.every(r=>this.texData.get(r.dataId).texture==null&&de(r.shape)<n)}getGPGPUContext(){return this.gpgpu}where(e){ki("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=e.dataSync();return e1e(e.shape,n)}packedUnaryOp(e,n,r){const s=new yA(e.shape,n),i=this.compileAndRun(s,[e],r);return Ca().makeTensorFromTensorInfo(i)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const s=AK(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,s)}if(le().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,BL,e.dtype);const n=new yu(e.shape,BL),r=this.compileAndRun(n,[e]);return Ca().makeTensorFromTensorInfo(r)}makeTensorInfo(e,n,r){let s;if(n==="string"&&r!=null&&r.length>0&&m0(r[0])){const i=r.map(o=>Gl(o));s=this.write(i,e,n)}else s=this.write(r,e,n);return this.texData.get(s).usage=null,{dataId:s,shape:e,dtype:n}}makeOutput(e,n,r){return Ca().makeTensorFromTensorInfo(this.makeTensorInfo(e,n,r),this)}unpackTensor(e){const n=new Zve(e.shape);return this.runWebGLProgram(n,[e],e.dtype)}packTensor(e){const n=new Uve(e.shape),r=!0;return this.runWebGLProgram(n,[e],e.dtype,null,r)}packedReshape(e,n){const r=[Cf(e.shape),...bf(e.shape)],s={dtype:e.dtype,shape:r,dataId:e.dataId},i=[Cf(n),...bf(n)],o=new fK(i,r),a=!0,u=[r],l=this.runWebGLProgram(o,[s],e.dtype,u,a);return{dataId:l.dataId,shape:n,dtype:l.dtype}}decode(e,n){const r=this.texData.get(e),{isPacked:s,shape:i,dtype:o}=r;if(n!=null){const d=de(i),h=n[0]*n[1]*4;O(d<=h,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const a=eE(i);let u;s?u=new w0e(a):u=new v0e(a);const l=!0,c=[n!=null?n:zv(a)],A=this.runWebGLProgram(u,[{shape:a,dtype:o,dataId:e}],o,c,l,n);return{dtype:o,shape:i,dataId:A.dataId}}runWebGLProgram(e,n,r,s,i=!1,o){const a=this.makeTensorInfo(e.outputShape,r),u=this.texData.get(a.dataId);if(e.packedOutput&&(u.isPacked=!0),e.outPackingScheme===Im.DENSE){const g=o!=null?o:zv(e.outputShape);u.texShape=g.map(y=>y*2)}if(e.outTexUsage!=null&&(u.usage=e.outTexUsage),de(a.shape)===0)return u.values=_r(a.dtype,0),a;const l=[],c=n.map(g=>{if(g.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let y=this.texData.get(g.dataId);if(y.texture==null){if(!e.packedInputs&&de(g.shape)<=le().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:g.shape,texData:null,isUniform:!0,uniformValues:y.values};e.packedInputs&&(y.isPacked=!0,y.shape=g.shape)}if(this.uploadToGPU(g.dataId),!!y.isPacked!=!!e.packedInputs)g=y.isPacked?this.unpackTensor(g):this.packTensor(g),l.push(g),y=this.texData.get(g.dataId);else if(y.isPacked&&!wC(y.shape,g.shape)){const C=g,b=g.shape;g.shape=y.shape,g=this.packedReshape(g,b),l.push(g),y=this.texData.get(g.dataId),C.shape=b}return{shape:g.shape,texData:y,isUniform:!1}});this.uploadToGPU(a.dataId);const A={shape:a.shape,texData:u,isUniform:!1},d=y0e(e,c,A),h=this.getAndSaveBinary(d,()=>g0e(this.gpgpu,e,c,A)),f=this.activeTimers!=null;let p;f&&(p=this.startTimer()),le().get("ENGINE_COMPILE_ONLY")||m0e(this.gpgpu,h,c,A,s),l.forEach(g=>this.disposeIntermediateTensorInfo(g)),f&&(p=this.endTimer(p),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(p)}));const m=le().get("WEBGL_FLUSH_THRESHOLD");if(m>0){const g=Ms();g-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=g)}if(!le().getBool("WEBGL_LAZILY_UNPACK")&&u.isPacked&&i===!1){const g=this.unpackTensor(a);return this.disposeIntermediateTensorInfo(a),g}return a}compileAndRun(e,n,r,s,i=!1){return r=r||n[0].dtype,this.runWebGLProgram(e,n,r,s,i)}getAndSaveBinary(e,n){return e in this.binaryCache||(this.binaryCache[e]=n()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(le().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=ie(()=>{if(!le().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=le().getBool("DEBUG");le().set("DEBUG",!1);const n=this.abs(tt(1e-8)).dataSync()[0];if(le().set("DEBUG",e),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?t1e:n1e}uploadToGPU(e){const n=this.texData.get(e),{shape:r,dtype:s,values:i,texture:o,usage:a,isPacked:u}=n;if(o!=null)return;const l=this.activeTimers!=null;let c;l&&(c=Ms());let A=n.texShape;if(A==null&&(A=Bme(r,u),n.texShape=A),i!=null){const d=eE(r);let h,f=A[1],p=A[0];const m=i instanceof Uint8Array||i instanceof Uint8ClampedArray;(u||!m)&&([f,p]=Jf(A[0],A[1])),u?h=new B0e(d,m):h=new x0e(d,m);const g=m?[p,f]:A,y=this.makeTensorInfo(g,s),C=this.texData.get(y.dataId);m?C.usage=_i.PIXELS:C.usage=_i.UPLOAD,C.texShape=g,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(y.dataId),f,p,i);const b=[[p,f]],B=!0,I=this.runWebGLProgram(h,[y],s,b,B),w=this.texData.get(I.dataId);n.texShape=w.texShape,n.isPacked=w.isPacked,n.usage=w.usage,le().get("ENGINE_COMPILE_ONLY")?this.disposeData(I.dataId):(n.texture=w.texture,n.values=null,this.texData.delete(I.dataId)),this.disposeIntermediateTensorInfo(y),l&&(this.uploadWaitMs+=Ms()-c)}else{const d=this.acquireTexture(A,a,s,u);n.texture=d}}convertAndCacheOnCPU(e,n){const r=this.texData.get(e),{dtype:s}=r;return this.releaseGPUData(e),n!=null&&(r.values=a1e(n,s)),r.values}acquireTexture(e,n,r,s){if(this.numBytesInGPU+=this.computeBytes(e,r),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${i} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,n,s)}computeBytes(e,n){return e[0]*e[1]*hS(n)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(n));return Promise.all(e)}else{for(const[,n]of Object.entries(this.binaryCache)){const r=new Promise(s=>{try{this.checkCompletion_(n),s(!0)}catch(i){throw i}});e.push(r)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await L7(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(lz(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const[,e]of Object.entries(this.binaryCache)){const{uniformLocations:n,customUniformLocations:r,infLoc:s,nanLoc:i,inShapesLocations:o,inTexShapesLocations:a,outShapeLocation:u,outShapeStridesLocation:l,outTexShapeLocation:c}=fz(this.gpgpu,e.program,e.webGLProgram);e.uniformLocations=n,e.customUniformLocations=r,e.infLoc=s,e.nanLoc=i,e.inShapesLocations=o,e.inTexShapesLocations=a,e.outShapeLocation=u,e.outShapeStridesLocation=l,e.outTexShapeLocation=c}}}k2.nextDataId=0;function a1e(t,e){if(e==="float32"||e==="complex64")return t;if(e==="int32"||e==="bool"){const n=e==="int32"?new Int32Array(t.length):new Uint8Array(t.length);for(let r=0;r<n.length;++r)n[r]=Math.round(t[r]);return n}else throw new Error(`Unknown dtype ${e}`)}/** @license See the LICENSE file. *//**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */W8()&&fV("webgl",()=>new k2,2);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uD=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class Bf{constructor(e,n,r){this.variableNames=["A","B"],this.outputShape=ft(n,r),this.enableShapeUniforms=Rs(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ky=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class Fy{constructor(e,n,r,s=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=ft(n,r);const i=this.outputShape.length;this.enableShapeUniforms=Rs(i);let o="";if(s)if(i===0||de(this.outputShape)===1)o=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(o=`
          ${cn(i)} coords = getOutputCoords();
        `,i===1)this.enableShapeUniforms?o+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:o+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const u=Cs("coords",i);this.enableShapeUniforms?o+=`
            bool nextRowOutOfBounds =
              (${u[i-2]} + 1) >= outShape[${i} - 2];
            bool nextColOutOfBounds =
              (${u[i-1]} + 1) >= outShape[${i} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:o+=`
            bool nextRowOutOfBounds =
              (${u[i-2]} + 1) >= ${this.outputShape[i-2]};
            bool nextColOutOfBounds =
              (${u[i-1]} + 1) >= ${this.outputShape[i-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${o}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wi(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const u1e={kernelName:P0,backendName:"webgl",kernelFunc:wi};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oc(t){const{inputs:e,backend:n}=t,{real:r,imag:s}=e,i=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(i.dataId),a=wi({inputs:{x:r},backend:n}),u=wi({inputs:{x:s},backend:n});return o.complexTensorInfos={real:a,imag:u},i}const l1e={kernelName:RF,backendName:"webgl",kernelFunc:Oc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pK="return (a < 0.) ? b * a : a;",gK=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function c1e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{alpha:i}=r,o=n.makeTensorInfo([],"float32",Sc(i,"float32")),a=le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Fy(gK,s.shape,o.shape):new Bf(pK,s.shape,o.shape),u=n.runWebGLProgram(a,[s,o],"float32");return n.disposeIntermediateTensorInfo(o),u}const A1e={kernelName:Cx,backendName:"webgl",kernelFunc:c1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mK="return (a < 0.) ? b * a : a;",yK=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function d1e(t){const{inputs:e,backend:n}=t,{x:r,alpha:s}=e,i=le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Fy(yK,r.shape,s.shape):new Bf(mK,r.shape,s.shape);return n.runWebGLProgram(i,[r,s],"float32")}const h1e={kernelName:Mx,backendName:"webgl",kernelFunc:d1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sp="if (isnan(x)) return x;";function Qt({opSnippet:t,packedOpSnippet:e,cpuKernelImpl:n,dtype:r}){return({inputs:s,backend:i})=>{const{x:o}=s,a=i,u=r||o.dtype;if(a.shouldExecuteOnCPU([o])&&n!=null){const A=a.texData.get(o.dataId),d=n(A.values,u);return a.makeTensorInfo(o.shape,u,d)}const l=le().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let c;return l?c=new yA(o.shape,e):c=new yu(o.shape,t),a.runWebGLProgram(c,[o],u)}}function Xr({opSnippet:t,packedOpSnippet:e,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:s,dtype:i}){return({inputs:o,backend:a})=>{const{a:u,b:l}=o,c=a;if(r&&u.dtype==="complex64"){const f=c.texData.get(u.dataId),p=c.texData.get(l.dataId),[m,g]=[[f.complexTensorInfos.real,p.complexTensorInfos.real],[f.complexTensorInfos.imag,p.complexTensorInfos.imag]].map(C=>{const[b,B]=C,I={dataId:b.dataId,dtype:b.dtype,shape:u.shape},w={dataId:B.dataId,dtype:B.dtype,shape:l.shape},$=new Bf(t,u.shape,l.shape);return c.runWebGLProgram($,[I,w],mi(b.dtype,B.dtype))}),y=Oc({inputs:{real:m,imag:g},backend:c});return c.disposeIntermediateTensorInfo(m),c.disposeIntermediateTensorInfo(g),y}const A=i||mi(u.dtype,l.dtype);if((u.dtype==="string"||l.dtype==="string"||c.shouldExecuteOnCPU([u,l]))&&s!=null){const f=c.texData.get(u.dataId).values,p=c.texData.get(l.dataId).values,m=u.dtype==="string"?XA(f):f,g=u.dtype==="string"?XA(p):p,[y,C]=s(u.shape,l.shape,m,g,A),b=c.makeTensorInfo(C,A),B=c.texData.get(b.dataId);return B.values=y,b}const d=le().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let h;return d?h=new Fy(e,u.shape,l.shape,n):h=new Bf(t,u.shape,l.shape),c.runWebGLProgram(h,[u,l],A)}}function Em(t,e=!1){if(t==="linear")return e?jve:Vve;if(t==="relu")return e?qve:Kve;if(t==="elu")return e?Xve:zve;if(t==="relu6")return e?Yve:Wve;if(t==="prelu")return e?yK:mK;if(t==="leakyrelu")return e?gK:pK;if(t==="sigmoid")return e?Jve:Gve;throw new Error(`Activation ${t} has not been implemented for the WebGL backend.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vK{constructor(e,n,r,s=!1,i=!1,o=!1,a=null,u=!1,l=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=Rs(this.outputShape.length);const c=s?e[1]:e[2],A=Math.ceil(c/2),d=s?"i * 2, rc.y":"rc.y, i * 2",h=i?"rc.z, i * 2":"i * 2, rc.z",f=s?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],p=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",g="";a&&(u?m=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${a}
        }`:l?m=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${a}
        }`:m=`vec4 activation(vec4 x) {
          ${a}
        }`,g="result = activation(result);");const y=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),u&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let C="rc.x",b="rc.x";e[0]<n[0]?C=`int(min(float(rc.x), ${e[0]-1}.))`:n[0]<e[0]&&(b=`int(min(float(rc.x), ${n[0]-1}.))`),this.userCode=`
      ${m}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${A}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < ${A}; i++) {
          int batchA = ${C};
          int batchB = ${b};
          vec4 a = getMatrixA(batchA, ${d});
          vec4 b = getMatrixB(batchB, ${h});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${f[0]} * ${p[0]});
          result += (${f[1]} * ${p[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${y}

        ${g}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IL={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class EL{constructor(e,n,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=ft(n,r),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $L="return a * b;";function lD(t){const{inputs:e,backend:n}=t,{a:r,b:s}=e,i=mi(r.dtype,s.dtype);if(r.dtype==="complex64"){const a=n.texData.get(r.dataId),u=n.texData.get(s.dataId),l=new EL(IL.REAL,r.shape,s.shape),c=new EL(IL.IMAG,r.shape,s.shape),A=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:r.shape},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:u.complexTensorInfos.real.dataId,dtype:u.complexTensorInfos.real.dtype,shape:s.shape},{dataId:u.complexTensorInfos.imag.dataId,dtype:u.complexTensorInfos.imag.dtype,shape:s.shape}],d=n.runWebGLProgram(l,A,"float32"),h=n.runWebGLProgram(c,A,"float32"),f=Oc({inputs:{real:d,imag:h},backend:n});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),f}if(n.shouldExecuteOnCPU([r,s])){const a=n.texData.get(r.dataId),u=n.texData.get(s.dataId),[l,c]=fve(r.shape,s.shape,a.values,u.values,i),A=n.makeTensorInfo(c,i),d=n.texData.get(A.dataId);return d.values=l,A}let o;return le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?o=new Fy($L,r.shape,s.shape):o=new Bf($L,r.shape,s.shape),n.runWebGLProgram(o,[r,s],i)}const f1e={kernelName:j0,backendName:"webgl",kernelFunc:lD};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p1e(t,e,n){const r=[Cf(t.shape),...bf(t.shape)],s={dtype:t.dtype,shape:r,dataId:t.dataId},i=[Cf(e),...bf(e)],o=new fK(i,r),a=!0,u=[r],l=n.runWebGLProgram(o,[s],t.dtype,u,a);return{dataId:l.dataId,shape:e,dtype:l.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{shape:i}=r,o=n,a=de(s.shape),u=E8(i,a),l=de(u);O(a===l,()=>`The new shape (${u}) has ${l} elements and the old shape (${s.shape}) has ${a} elements. The new shape and old shape must have the same number of elements.`);const c=o.texData.get(s.dataId);return c.isPacked&&!wC(s.shape,u)&&!(c.texture!==null&&wC(c.shape,u))?p1e(s,u,o):(o.incRef(s.dataId),{dataId:s.dataId,shape:u,dtype:s.dtype})}const g1e={kernelName:Hx,backendName:"webgl",kernelFunc:Fe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SL{constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:s,inSize:i,outSize:o}=e;this.outputShape=[s,o];const a=Math.floor(r/4)*4,u=r%4;let l="sumValue += dot(values, ones);";if(n!=null){const A=1/n;l=`sumValue += dot(values * ${hf(A)?A.toPrecision(2):A}, ones);`}let c="";i%r>0&&(c=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${c}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        float sumValue = 0.0;

        for (int i = 0; i < ${a}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${l}
        }

        int inIdx = inOffset + ${a};
        if (${u===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${l}
        } else if (${u===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${l}
        } else if (${u===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${l}
        }
        setOutput(sumValue);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class m1e{constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:s,inSize:i,outSize:o}=e;this.outputShape=[s,o];let a="0.0",u="";n==="prod"?a="1.0":n==="min"?(a="1.0 / 1e-20",u="min"):n==="max"&&(a="-1.0 / 1e-20",u="max");let l=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?l="sumValue":n==="prod"?l="prodValue":n==="all"?l="allValue":n==="any"&&(l="anyValue");const c=Math.floor(r/4)*4,A=r%4;let d=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${u}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${u}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,h="vec4";n==="all"?(a="1.0",d=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,h="bvec4"):n==="any"&&(a="0.0",d=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,h="bvec4");let f="";i%r>0&&(f=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${a};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${f}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        vec4 minMaxValue = vec4(${a});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${d}
        }

        int inIdx = inOffset + ${c};
        if (${A===1}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${d}
        } else if (${A===2}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${d}
        } else if (${A===3}) {
          ${h} values = ${h}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${d}
        }
        setOutput(${l});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y1e(t){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const n=e.length?e[e.length-1].outSize:t[1],r=E2(n);e.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return e}function bd(t,e,n,r){const s=y1e(t.shape);let i=t;for(let o=0;o<s.length;o++){const{inSize:a,windowSize:u,outSize:l}=s[o];let c,A;n==="mean"?c=o===0?new SL({windowSize:u,inSize:a,batchSize:t.shape[0],outSize:l},a):new SL({windowSize:u,inSize:a,batchSize:t.shape[0],outSize:l}):c=new m1e({windowSize:u,inSize:a,batchSize:t.shape[0],outSize:l},n),A=i,i=r.runWebGLProgram(c,[i],e),A.dataId!==t.dataId&&r.disposeIntermediateTensorInfo(A)}return i}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class v1e{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let o=0;o<r.length;o++)r[o]=e[n[o]];this.outputShape=r,this.rank=r.length;const s=cn(this.rank),i=w1e(n);this.userCode=`
    void main() {
      ${s} resRC = getOutputCoords();
      setOutput(getA(${i}));
    }
    `}}function w1e(t){const e=t.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(e);for(let s=0;s<t.length;s++)r[t[s]]=n[s];return r.join()}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class C1e{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const r=new Array(e.length);for(let c=0;c<r.length;c++)r[c]=e[n[c]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const s=cn(this.rank),i=hK("rc",this.rank),o=new Array(this.rank);for(let c=0;c<n.length;c++)o[n[c]]=i[c];const a=`vec2(${o.slice(-2).join()})`,u=`++${i[this.rank-1]} < ${r[this.rank-1]}`,l=`getChannel(getA(${o.join()}), ${a})`;this.userCode=`
    void main() {
      ${s} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${l};
      if(${u}) {
        result[1] = ${l};
      }
      --${i[this.rank-1]};
      if(++${i[this.rank-2]} < ${r[this.rank-2]}) {
        result[2] = ${l};
        if(${u}) {
          result[3] = ${l};
        }
      }
      setOutput(result);
    }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F2(t,e,n){const r=le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new C1e(t.shape,e):new v1e(t.shape,e);return n.runWebGLProgram(r,[t],t.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b1e(t,e,n,r){const s=e,i=t.shape.length,o=xt(s,t.shape);let a=o;const u=Un(a,i),l=u!=null;let c=t;l&&(c=F2(t,u,r),a=Yn(a.length,i)),jr("sum",a,i);const[A,d]=Or(c.shape,a);let h=A;n&&(h=Gn(A,o));const f=de(d),m=de(t.shape)/f,g=Fe({inputs:{x:c},attrs:{shape:[m,f]},backend:r}),y=F_(t.dtype),C=bd(g,y,"sum",r),b=Fe({inputs:{x:C},attrs:{shape:h},backend:r});return r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(C),l&&r.disposeIntermediateTensorInfo(c),b}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _2(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;return b1e(s,i,o,n)}const x1e={kernelName:jx,backendName:"webgl",kernelFunc:_2};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ks(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{perm:i}=r,o=n,a=s.shape.length,u=new Array(a);for(let c=0;c<u.length;c++)u[c]=s.shape[i[c]];let l;if(o.shouldExecuteOnCPU([s])){const A=o.texData.get(s.dataId).values,d=aD(A,s.shape,s.dtype,i,u);l=o.makeTensorInfo(u,s.dtype);const h=o.texData.get(l.dataId);h.values=d}else l=F2(s,i,o);return l}const B1e={kernelName:Hh,backendName:"webgl",kernelFunc:ks};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wK=1e3;function xC({a:t,b:e,transposeA:n,transposeB:r,backend:s,bias:i=null,preluActivationWeights:o=null,leakyreluAlpha:a=0,activation:u=null}){const l=t.shape.length,c=e.shape.length,A=n?t.shape[l-2]:t.shape[l-1],d=r?e.shape[c-1]:e.shape[c-2],h=n?t.shape[l-1]:t.shape[l-2],f=r?e.shape[c-2]:e.shape[c-1],p=t.shape.slice(0,-2),m=e.shape.slice(0,-2),g=de(p),y=de(m),b=ft(t.shape.slice(0,-2),e.shape.slice(0,-2)).concat([h,f]);O(A===d,()=>`Error in matMul: inner shapes (${A}) and (${d}) of Tensors with shapes ${t.shape} and ${e.shape} and transposeA=${n} and transposeB=${r} must match.`);const B=n?[g,A,h]:[g,h,A],I=r?[y,f,d]:[y,d,f],w=Fe({inputs:{x:t},backend:s,attrs:{shape:B}}),$=Fe({inputs:{x:e},backend:s,attrs:{shape:I}}),T=[w,$],_=Math.max(g,y),R=n?w.shape[1]:w.shape[2],P=i!=null,L=o!=null,z=u==="leakyrelu",V=u!=null?Em(u,!0):null,q=P||L||z||V!=null;let ne;if((h===1||f===1)&&R>wK&&q===!1){let J=w,se=$;n&&(J=ks({inputs:{x:w},backend:s,attrs:{perm:[0,2,1]}}),T.push(J)),r&&(se=ks({inputs:{x:$},backend:s,attrs:{perm:[0,2,1]}}),T.push(se));const ae=f!==1,Ae=f===1;let pe=J;ae&&(pe=Fe({inputs:{x:J},backend:s,attrs:{shape:[_,R,1]}}),T.push(pe));const ye=f===1?2:1;let ve=se;Ae&&(ve=Fe({inputs:{x:se},backend:s,attrs:{shape:[_,1,R]}}),T.push(ve));const Ee=lD({inputs:{a:pe,b:ve},backend:s});ne=_2({inputs:{x:Ee},backend:s,attrs:{axis:ye,keepDims:!0}}),T.push(Ee)}else{const J=mi(t.dtype,e.dtype),se=new vK(B,I,[_,h,f],n,r,P,V,L,z),ae=[w,$];if(i!=null&&ae.push(i),L&&ae.push(o),z){const Ae=s.makeTensorInfo([],"float32",Sc(a,"float32"));ae.push(Ae),T.push(Ae)}ne=s.runWebGLProgram(se,ae,J)}const H=Fe({inputs:{x:ne},backend:s,attrs:{shape:b}});T.push(ne);for(const J of T)s.disposeIntermediateTensorInfo(J);return H}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I1e(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i,bias:o,preluActivationWeights:a}=e,{transposeA:u,transposeB:l,activation:c,leakyreluAlpha:A}=r;return xC({a:s,b:i,transposeA:u,transposeB:l,backend:n,bias:o,preluActivationWeights:a,leakyreluAlpha:A,activation:c})}const E1e={kernelName:uC,backendName:"webgl",kernelFunc:I1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TL="return abs(x);";function $1e(t){const{inputs:e,backend:n}=t,{x:r}=e;if(n.shouldExecuteOnCPU([r])&&r.dtype!=="complex64"){const i=n.texData.get(r.dataId),o=AK(i.values);return n.makeTensorInfo(r.shape,r.dtype,o)}let s;return le().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new yA(r.shape,TL):s=new yu(r.shape,TL),n.runWebGLProgram(s,[r],r.dtype)}const S1e={kernelName:ex,backendName:"webgl",kernelFunc:$1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T1e=To+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,N1e=Qt({opSnippet:T1e}),k1e={kernelName:v0,backendName:"webgl",kernelFunc:N1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F1e=To+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,_1e=Qt({opSnippet:F1e}),D1e={kernelName:w0,backendName:"webgl",kernelFunc:_1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NL="return a + b;",R1e=Xr({opSnippet:NL,packedOpSnippet:NL,supportsComplex:!0,cpuKernelImpl:jye}),O1e={kernelName:Wf,backendName:"webgl",kernelFunc:R1e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class U1e{constructor(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map((i,o)=>`T${o}`);const r=[];this.variableNames.forEach(i=>{r.push(`float v${i} = get${i}AtOutCoords();`)});const s=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        float result = ${s};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class L1e{constructor(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((i,o)=>`T${o}`);const r=[];this.variableNames.forEach(i=>{r.push(`vec4 v${i} = get${i}AtOutCoords();`)});const s=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        vec4 result = ${s};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cw(t){const{inputs:e,backend:n}=t,r=e;if(r.length===1)return wi({inputs:{x:r[0]},backend:n});if(r.length>le().get("WEBGL_MAX_TEXTURES_IN_SHADER")){const u=Math.floor(r.length/2),l=cw({inputs:r.slice(0,u),backend:n}),c=cw({inputs:r.slice(u),backend:n});return cw({inputs:[l,c],backend:n})}const s=r.map(u=>u.dtype).reduce((u,l)=>mi(u,l)),i=r.map(u=>u.shape),a=le().getBool("WEBGL_PACK")?new L1e(r[0].shape,i):new U1e(r[0].shape,i);return n.runWebGLProgram(a,r,s)}const P1e={kernelName:tx,backendName:"webgl",kernelFunc:cw};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M1e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r,a=s.shape.length,u=xt(i,s.shape);let l=u;const c=Un(l,a);let A=s;c!=null&&(A=ks({inputs:{x:s},backend:n,attrs:{perm:c}}),l=Yn(l.length,a)),jr("all",l,a);const[d,h]=Or(A.shape,l),f=de(h),p=Fe({inputs:{x:A},backend:n,attrs:{shape:[-1,f]}}),m=bd(p,p.dtype,"all",n);let g;if(o){const y=Gn(d,u);g=Fe({inputs:{x:m},backend:n,attrs:{shape:y}})}else g=Fe({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),c!=null&&n.disposeIntermediateTensorInfo(A),g}const Q1e={kernelName:TF,backendName:"webgl",kernelFunc:M1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H1e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r,a=s.shape.length,u=xt(i,s.shape);let l=u;const c=Un(l,a);let A=s;c!=null&&(A=ks({inputs:{x:s},backend:n,attrs:{perm:c}}),l=Yn(l.length,a)),jr("any",l,a);const[d,h]=Or(A.shape,l),f=de(h),p=Fe({inputs:{x:A},backend:n,attrs:{shape:[-1,f]}}),m=bd(p,p.dtype,"any",n);let g;if(o){const y=Gn(d,u);g=Fe({inputs:{x:m},backend:n,attrs:{shape:y}})}else g=Fe({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),c!=null&&n.disposeIntermediateTensorInfo(A),g}const V1e={kernelName:NF,backendName:"webgl",kernelFunc:H1e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class z1e{constructor(e,n,r){this.variableNames=["A"];const{windowSize:s,batchSize:i,outSize:o}=e;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];const a=n==="max"?">":"<",u=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${s};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${s}; i++) {
          int inIdx = ${u};
          float candidate = getA(batch, inIdx);
          if (candidate ${a} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class K1e{constructor(e,n,r,s){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,O(e.length>2,()=>`Packed arg${r.charAt(0).toUpperCase()+r.slice(1)} supports only inputs with rank above 2.`);const i=e[e.length-1],o=Math.ceil(i/n);this.outputShape=e.slice(0,-1),o>1&&this.outputShape.push(o),s||this.variableNames.push("bestIndicesA");const a=this.outputShape,u=a.length,l=cn(u),c=Cs("coords",u);let A,d;if(o===1){d=u+1;const $=cn(d);A=`
        ${$} sourceLocR = ${$}(${c.join()}, 0);
        ++${c[u-1]};
        ${$} sourceLocG = ${$}(${c.join()}, 0);
        ++${c[u-2]};
        ${$} sourceLocA = ${$}(${c.join()}, 0);
        --${c[u-1]};
        ${$} sourceLocB = ${$}(${c.join()}, 0);
        --${c[u-2]};`}else d=u,A=`
        ${l} sourceLocR = coords;
        ++${c[u-1]};
        ${l} sourceLocG = coords;
        ++${c[u-2]};
        ${l} sourceLocA = coords;
        --${c[u-1]};
        ${l} sourceLocB = coords;
        --${c[u-2]};`;const h=["x","y","z","w","u","v"].slice(0,d),f="."+h[d-1],p=h.map($=>"int "+$),m=Cs("sourceLocR",d-1).concat("inIdx.r"),g=Cs("sourceLocG",d-1).concat("inIdx.g"),y=Cs("sourceLocB",d-1).concat("inIdx.b"),C=Cs("sourceLocA",d-1).concat("inIdx.a"),b=r==="max"?"greaterThan":"lessThan",B=s?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${m.join()}),
                             getBestIndicesAChannel(${g.join()}),
                             getBestIndicesAChannel(${y.join()}),
                             getBestIndicesAChannel(${C.join()})));`,I=`vec4(
            getAChannel(${m.join()}),
            hasNextCol ? getAChannel(${g.join()}) : 0.,
            hasNextRow ? getAChannel(${y.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${C.join()}) : 0.)`,w=s?"":`
      float getBestIndicesAChannel(${p.join()}) {
        return getChannel(getBestIndicesA(${h.join()}),
                                          vec2(${h.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${p.join()}) {
        return getChannel(getA(${h.join()}),
                               vec2(${h.slice(-2).join()}));
      }
      ${w}
      void main() {
        ${l} coords = getOutputCoords();
        bool hasNextCol = ${c[u-1]} < ${a[u-1]-1};
        bool hasNextRow = ${c[u-2]} < ${a[u-2]-1};
        ${A}
        ivec4 srcIdx = ivec4(sourceLocR${f}, sourceLocG${f},
          sourceLocB${f}, sourceLocA${f}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${I};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${B}
          vec4 candidate = ${I};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${b}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CK(t,e,n,r=null){let s=e.shape[0],i=e.shape[1];r!=null&&(s=r.shape[0],i=r.shape[1]);const o=E2(i),a={windowSize:o,inSize:i,batchSize:s,outSize:Math.ceil(i/o)},u=new z1e(a,n,r==null),l=[e];r!=null&&l.push(r);const c=t.runWebGLProgram(u,l,"int32");if(c.shape[1]===1)return c;const A=CK(t,e,n,c);return t.disposeIntermediateTensorInfo(c),A}function bK(t,e,n,r=null){const s=r!=null?r.shape:e.shape,i=s[s.length-1],o=E2(i),a=new K1e(s,o,n,r==null),u=r==null?[e]:[e,r],l=t.runWebGLProgram(a,u,"int32");if(l.shape.length===e.shape.length){const c=bK(t,e,n,l);return t.disposeIntermediateTensorInfo(l),c}return l}function xK(t,e,n,r){const s=[n];if(jr("arg"+r.charAt(0).toUpperCase()+r.slice(1),s,e.shape.length),!le().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const i=[],o=t.texData.get(e.dataId),a=o!==null&&o.isPacked;let u=e;a&&(u=t.unpackTensor(e),i.push(u));const[l,c]=Or(u.shape,s),A=de(c),d=Fe({inputs:{x:u},backend:t,attrs:{shape:[-1,A]}});i.push(d);const h=CK(t,d,r);i.push(h);const f=Fe({inputs:{x:h},backend:t,attrs:{shape:l}});return i.forEach(p=>t.disposeIntermediateTensorInfo(p)),f}return bK(t,e,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W1e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;let o=xt(i,s.shape);const a=Un(o,s.shape.length);let u=s;const l=[];a!=null&&(u=ks({inputs:{x:s},backend:n,attrs:{perm:a}}),l.push(u),o=Yn(o.length,u.shape.length)),jr("argMax",[o[0]],u.shape.length);const c=xK(n,u,o[0],"max");return l.forEach(A=>n.disposeIntermediateTensorInfo(A)),c}const G1e={kernelName:nx,backendName:"webgl",kernelFunc:W1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j1e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;let o=xt(i,s.shape);const a=Un(o,s.shape.length);let u=s;const l=[];a!=null&&(u=ks({inputs:{x:s},backend:n,attrs:{perm:a}}),l.push(u),o=Yn(o.length,u.shape.length)),jr("argMin",[o[0]],u.shape.length);const c=xK(n,u,o[0],"min");return l.forEach(A=>n.disposeIntermediateTensorInfo(A)),c}const X1e={kernelName:rx,backendName:"webgl",kernelFunc:j1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q1e=To+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,Y1e=Qt({opSnippet:q1e}),J1e={kernelName:C0,backendName:"webgl",kernelFunc:Y1e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z1e=To+"return log(x + sqrt(x * x + 1.0));",ewe=Qt({opSnippet:Z1e}),twe={kernelName:b0,backendName:"webgl",kernelFunc:ewe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nwe=To+`
  return atan(x);
`,rwe=Qt({opSnippet:nwe}),swe={kernelName:x0,backendName:"webgl",kernelFunc:rwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iwe=uD+`
  return atan(a, b);
`,owe=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+ky+`
  return result;
`,awe=Xr({opSnippet:iwe,packedOpSnippet:owe}),uwe={kernelName:I0,backendName:"webgl",kernelFunc:awe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lwe=To+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,cwe=Qt({opSnippet:lwe}),Awe={kernelName:B0,backendName:"webgl",kernelFunc:cwe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $m{constructor(e,n,r,s=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,a=e.strideHeight,u=e.strideWidth,l=e.dilationHeight,c=e.dilationWidth,A=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.top,f=e.padInfo.left;this.outputShape=e.outShape;const p=n==="avg",m=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let y="0.0";if(p||(y="-1.0 / 1e-20"),r){const $=">=";this.userCode=`
        const ivec2 strides = ivec2(${a}, ${u});
        const ivec2 pads = ivec2(${h}, ${f});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${A};
              wR += ${l}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${d};
                wC += ${c}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${$} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${s?i?m:g:`wR * ${d} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const C="max";let b=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(b="avgValue / count");const B=Math.floor(o/4)*4,I=o%4,w=`
      if (${p}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${C}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${a}, ${u});
      const ivec2 pads = ivec2(${h}, ${f});
      const float initializationValue = ${y};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${y});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${A};
            wR += ${l}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${B}; wC += 4) {
            int xC = xCCorner + wC * ${c};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              getValue(batch, xR, xC + 3 * ${c}, d)
            );

            ${w}
          }

          int xC = xCCorner + ${B};
          if (${I===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${w}
          } else if (${I===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              initializationValue,
              initializationValue
            );

            ${w}
          } else if (${I===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              initializationValue
            );

            ${w}
          }
        }
        setOutput(${b});
      }
    `}}class cD{constructor(e,n,r,s=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,a=e.strideDepth,u=e.strideHeight,l=e.strideWidth,c=e.dilationDepth,A=e.dilationHeight,d=e.dilationWidth,h=e.effectiveFilterDepth,f=e.effectiveFilterHeight,p=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,y=e.padInfo.left;this.outputShape=e.outShape;const C=n==="avg";let b="0.0";if(C||(b="-1.0 / 1e-20"),r){const _=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${a}, ${u}, ${l});
        const ivec3 pads = ivec3(${m}, ${g}, ${y});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${h};
              wD += ${c}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${f};
                wR += ${A}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${p};
                  wC += ${d}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${_} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${s?i?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${f} * ${p} +
                      wR * ${p} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const B="max";let I=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(I="avgValue / count");const w=Math.floor(o/4)*4,$=o%4,T=`
      if (${C}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${B}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${a}, ${u}, ${l});
      const ivec3 pads = ivec3(${m}, ${g}, ${y});
      const float initializationValue = ${b};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${b});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${h};
            wD += ${c}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${f};
            wR += ${A}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${w}; wC += 4) {
              int xC = xCCorner + wC * ${d};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                getValue(batch, xD, xR, xC + 2 * ${d}, ch),
                getValue(batch, xD, xR, xC + 3 * ${d}, ch)
              );

              ${T}
            }

            int xC = xCCorner + ${w};
            if (${$===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${T}
            } else if (${$===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                initializationValue,
                initializationValue
              );

              ${T}
            } else if (${$===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                getValue(batch, xD, xR, xC + 2 * ${d}, ch),
                initializationValue
              );

              ${T}
            }
          }
          setOutput(${I});
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dwe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;Ty(s,"avgPool");const{filterSize:i,strides:o,pad:a,dimRoundingMode:u}=r,l=1;O(Gr(o,l),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${l}'`);const c=So(s.shape,i,o,l,a,u);if(c.filterWidth===1&&c.filterHeight===1&&Ut(c.inShape,c.outShape))return wi({inputs:{x:s},backend:n});const A=new $m(c,"avg",!1);return n.runWebGLProgram(A,[s],"float32")}const hwe={kernelName:sx,backendName:"webgl",kernelFunc:dwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fwe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:o,pad:a,dimRoundingMode:u,dataFormat:l}=r,c=[1,1,1],A=Gu(s.shape,i,o,c,a,u,l),d=new cD(A,"avg",!1);return n.runWebGLProgram(d,[s],"float32")}const pwe={kernelName:ix,backendName:"webgl",kernelFunc:fwe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gwe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,o=e.dilationHeight,a=e.dilationWidth,u=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=u-1-e.padInfo.top,A=l-1-e.padInfo.left,d=1/(n*r);this.userCode=`
      const ivec2 pads = ivec2(${c}, ${A});
      const float avgMultiplier = float(${d});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${u};
            wR += ${o}) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${l};
            wC+= ${a}) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class mwe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,s=e.filterWidth,i=e.strideDepth,o=e.strideHeight,a=e.strideWidth,u=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,A=e.effectiveFilterDepth,d=e.effectiveFilterHeight,h=e.effectiveFilterWidth,f=A-1-e.padInfo.front,p=d-1-e.padInfo.top,m=h-1-e.padInfo.left,g=1/(n*r*s);this.userCode=`
      const ivec3 pads = ivec3(${f}, ${p}, ${m});
      const float avgMultiplier = float(${g});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${A};
            wD += ${u}) {
          float dyD = float(dyDCorner + wD) / ${i}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${d};
              wR += ${l}) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${h};
                wC += ${c}) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ywe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,o=i,{filterSize:a,strides:u,pad:l,dimRoundingMode:c}=r,A=[1,1,1],d=Gu(o.shape,a,u,A,l,c),h=new mwe(d);return n.runWebGLProgram(h,[s],o.dtype)}const vwe={kernelName:FF,backendName:"webgl",kernelFunc:ywe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wwe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,o=i;Ty([s,i],"avgPoolGrad");const{filterSize:a,strides:u,pad:l}=r,c=So(o.shape,a,u,1,l),A=new gwe(c);return n.runWebGLProgram(A,[s],o.dtype)}const Cwe={kernelName:kF,backendName:"webgl",kernelFunc:wwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bwe(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i}=e,{transposeA:o,transposeB:a}=r;return xC({a:s,b:i,transposeA:o,transposeB:a,backend:n})}const xwe={kernelName:ox,backendName:"webgl",kernelFunc:bwe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Bwe{constructor(e,n,r,s,i,o){this.outputShape=[],this.variableNames=["x","mean","variance"],ft(e,n),ft(e,r);let a="0.0";s!=null&&(ft(e,s),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let u="1.0";i!=null&&(ft(e,i),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${a};
        float scale = ${u};
        float inv = scale * inversesqrt(variance + float(${o}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Iwe{constructor(e,n,r,s,i,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],ft(e,n),ft(e,r);let a="vec4(0.0)";s!=null&&(ft(e,s),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let u="vec4(1.0)";i!=null&&(ft(e,i),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${a};
        vec4 scale = ${u};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${o}));

        setOutput((x - mean) * inv + offset);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ewe=({inputs:t,backend:e,attrs:n})=>{const{x:r,mean:s,variance:i,offset:o,scale:a}=t;O(s.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),O(o==null||s.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),O(a==null||s.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:u}=n;u==null&&(u=.001);const l=[r,s,i];let c=null;o!=null&&(c=o.shape,l.push(o));let A=null;a!=null&&(A=a.shape,l.push(a));const d=le().getBool("WEBGL_PACK_NORMALIZATION")?new Iwe(r.shape,s.shape,i.shape,c,A,u):new Bwe(r.shape,s.shape,i.shape,c,A,u);return e.runWebGLProgram(d,l,l[0].dtype)},$we={kernelName:yx,backendName:"webgl",kernelFunc:Ewe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Swe{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const n=cn(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const r=Twe(this.rank);let s;const i=e.map((o,a)=>`sourceLoc.${QS[a]} = start[${a}] + coords.${QS[a]};`);s=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${i.join(`
`)}
      `,this.userCode=`
      void main() {
        ${s}
        setOutput(getSource(${r}));
      }
    `}}const QS=["x","y","z","w","u","v"];function Twe(t){if(t===1)return"sourceLoc";if(t<=6)return QS.slice(0,t).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Nwe{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=cn(this.rank),r=Cs("coords",this.rank),s=Cs("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":`vec2(${s.slice(-2).join()})`,o=`getChannel(getSource(${s.join()}), ${i})`,a=`
      result.x = ${o};
      if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
        ++${s[this.rank-1]};
        result.y = ${o};
        --${s[this.rank-1]};
      }
    `,u=this.rank===1?"":`
      --${r[this.rank-1]};
      if (++${r[this.rank-2]} < ${e[this.rank-2]}) {
        ++${s[this.rank-2]};
        result.z = ${o};
        if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
          ++${s[this.rank-1]};
          result.w = ${o};
        }
      }
    `,l=this.rank<=4?`sourceLoc = coords +
            ${n}(${e.map((c,A)=>`start[${A}]`).join()});`:e.map((c,A)=>`${s[A]} = ${r[A]} + start[${A}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${l}
        vec4 result = vec4(0.);
        ${a}
        ${u}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kwe(t,e,n,r){const s=r.texData.get(t.dataId),i=r.makeTensorInfo(n,t.dtype),o=r.texData.get(i.dataId);Object.assign(o,s),o.refCount=1,o.shape=n,o.dtype=t.dtype;let a=H_(e,et(t.shape));s.slice&&(a+=s.slice.flatOffset),o.slice={flatOffset:a,origDataId:s.slice&&s.slice.origDataId||t.dataId};const u=r.dataRefCount.get(o.slice.origDataId)||1;return r.dataRefCount.set(o.slice.origDataId,u+1),i}function ip(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,size:o}=r,[a,u]=s2(s,i,o);if(P_(s,a,u),de(u)===0)return n.makeTensorInfo(u,s.dtype,[]);if(n.shouldExecuteOnCPU([s])||s.dtype==="string"){const A=n.texData.get(s.dataId),d=Bve(A.values,a,u,s.shape,s.dtype);return n.makeTensorInfo(u,s.dtype,d)}const{isPacked:l}=n.texData.get(s.dataId),c=Q_(s.shape,a,u);if(l||!c){const A=le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Nwe(u):new Swe(u),d=[a];return n.runWebGLProgram(A,[s],s.dtype,d)}return n.uploadToGPU(s.dataId),kwe(s,a,u,n)}const Fwe={kernelName:Gx,backendName:"webgl",kernelFunc:ip};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _we=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,crops:o}=r;O(s.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const a=i.reduce((y,C)=>y*C),u=Iy(s.shape,i,a),l=Ey(u.length,i.length),c=$y(s.shape,i,a),A=R3(o,i.length),d=O3(c,o,i.length),h=[],f=Fe({inputs:{x:s},backend:n,attrs:{shape:u}}),p=ks({inputs:{x:f},backend:n,attrs:{perm:l}}),m=Fe({inputs:{x:p},backend:n,attrs:{shape:c}}),g=ip({inputs:{x:m},backend:n,attrs:{begin:A,size:d}});return h.push(f),h.push(p),h.push(m),h.forEach(y=>n.disposeIntermediateTensorInfo(y)),g},Dwe={kernelName:ax,backendName:"webgl",kernelFunc:_we};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rwe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:o}=r,a=n.readSync(s.dataId),u=n.readSync(i.dataId),l=cK(a,u,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,l)}const Owe={kernelName:_F,backendName:"webgl",kernelFunc:Rwe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uwe(t){const{inputs:e,backend:n}=t,{s0:r,s1:s}=e,i=n.readSync(r.dataId),o=n.readSync(s.dataId),a=ft(Array.from(i),Array.from(o));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const Lwe={kernelName:DF,backendName:"webgl",kernelFunc:Uwe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pwe="return float(a != b);",BK=Xr({opSnippet:Pwe,cpuKernelImpl:gve,dtype:"bool"}),Mwe={kernelName:Rx,backendName:"webgl",kernelFunc:BK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _y(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.texData.get(r.dataId);return wi({inputs:{x:s.complexTensorInfos.real},backend:n})}const Qwe={kernelName:d_,backendName:"webgl",kernelFunc:_y};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hwe="return float(int(x));";function Vwe(t,e){const n=new yu(t.shape,Hwe),r=e.runWebGLProgram(n,[t],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HS(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dtype:i}=r;if(i==="complex64"){if(s.dtype==="complex64")return wi({inputs:{x:s},backend:n});const o=dr(s.shape),a=HS({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),u=Oc({inputs:{real:a,imag:o},backend:n});return o.dispose(),n.disposeIntermediateTensorInfo(a),u}if(s.dtype==="complex64"){const o=_y({inputs:{input:s},backend:n}),a=HS({inputs:{x:o},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(o),a}if(!$8(s.dtype,i)){const o=wi({inputs:{x:s},backend:n});return{dataId:o.dataId,shape:o.shape,dtype:i}}if(n.shouldExecuteOnCPU([s])){const o=n.texData.get(s.dataId).values,[a,u,l]=qye(o,s.shape,s.dtype,i);return n.makeTensorInfo(a,u,l)}if(i==="int32")return Vwe(s,n);if(i==="bool"){const o=n.makeTensorInfo([],"bool",_r("bool",1)),u=BK({inputs:{a:s,b:o},backend:n});return n.disposeIntermediateTensorInfo(o),u}throw new Error(`Error in Cast: failed to cast ${s.dtype} to ${i}`)}const zwe={kernelName:E0,backendName:"webgl",kernelFunc:HS};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kL="return ceil(x);",Kwe=Qt({opSnippet:kL,packedOpSnippet:kL,cpuKernelImpl:Yye}),Wwe={kernelName:$0,backendName:"webgl",kernelFunc:Kwe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Gwe{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jwe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xwe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{clipValueMin:i,clipValueMax:o}=r;let a;le().getBool("WEBGL_PACK_CLIP")?a=new jwe(s.shape):a=new Gwe(s.shape);const u=[[i],[o]];return n.runWebGLProgram(a,[s],s.dtype,u)}const qwe={kernelName:S0,backendName:"webgl",kernelFunc:Xwe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ywe{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FL(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}function Jwe(t){const{inputs:e,backend:n}=t,{x:r}=e,s=n.texData.get(r.dataId),i=new Ywe(r.shape),o=[FL(r,s.complexTensorInfos.real),FL(r,s.complexTensorInfos.imag)];return n.runWebGLProgram(i,o,o[0].dtype)}const Zwe={kernelName:ux,backendName:"webgl",kernelFunc:Jwe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eCe{constructor(e){this.outputShape=[],this.outputShape=La(e,1),this.variableNames=e.map((o,a)=>`T${a}`);const n=new Array(e.length-1);n[0]=e[0][1];for(let o=1;o<n.length;o++)n[o]=n[o-1]+e[o][1];const r=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let o=1;o<n.length;o++){const a=n[o-1];r.push(`else if (yC < ${n[o]}) setOutput(getT${o}(yR, yC-${a}));`)}const s=n.length,i=n[n.length-1];r.push(`else setOutput(getT${s}(yR, yC-${i}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${r.join(`
        `)}
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tCe{constructor(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=La(e,n);const r=this.outputShape,s=r.length,i=cn(s),o=Cs("coords",s),a=["x","y","z","w","u","v"].slice(0,s);this.variableNames=e.map((p,m)=>`T${m}`);const u=new Array(e.length-1);u[0]=e[0][n];for(let p=1;p<u.length;p++)u[p]=u[p-1]+e[p][n];const l=a[n],c=a.slice(-2),A=a.join();let d=`if (${l} < ${u[0]}) {
        return getChannel(
            getT0(${A}), vec2(${c.join()}));
        }`;for(let p=1;p<u.length;p++){const m=u[p-1];d+=`
        if (${l} < ${u[p]}  && ${l} >= ${u[p-1]}) {
          return getChannel(
            getT${p}(${Xv(a,l,m)}),
            vec2(${Xv(c,l,m)}));
        }`}const h=u.length,f=u[u.length-1];d+=`
        return getChannel(
          getT${h}(${Xv(a,l,f)}),
          vec2(${Xv(c,l,f)}));`,this.userCode=`
      float getValue(${a.map(p=>"int "+p)}) {
        ${d}
      }

      void main() {
        ${i} coords = getOutputCoords();
        vec4 result = vec4(getValue(${o}), 0., 0., 0.);

        ${o[s-1]} = ${o[s-1]} + 1;
        if (${o[s-1]} < ${r[s-1]}) {
          result.g = getValue(${o});
        }

        ${o[s-2]} = ${o[s-2]} + 1;
        if (${o[s-2]} < ${r[s-2]}) {
          result.a = getValue(${o});
        }

        ${o[s-1]} = ${o[s-1]} - 1;
        if (${o[s-2]} < ${r[s-2]} &&
            ${o[s-1]} < ${r[s-1]}) {
          result.b = getValue(${o});
        }
        setOutput(result);
      }
    `}}function Xv(t,e,n){const r=t.indexOf(e);return t.map((i,o)=>o===r?`${i} - ${n}`:i).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D2(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.texData.get(r.dataId);return wi({inputs:{x:s.complexTensorInfos.imag},backend:n})}const nCe={kernelName:ZF,backendName:"webgl",kernelFunc:D2};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function og(t,e,n){const r=t[0].dtype;if(r==="complex64"){const A=t.map(m=>_y({inputs:{input:m},backend:n})),d=t.map(m=>D2({inputs:{input:m},backend:n})),h=og(A,e,n),f=og(d,e,n),p=Oc({inputs:{real:h,imag:f},backend:n});return A.forEach(m=>n.disposeIntermediateTensorInfo(m)),d.forEach(m=>n.disposeIntermediateTensorInfo(m)),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),p}let s=n.shouldExecuteOnCPU(t);if(r==="string"&&(s=!0),s){const A=t.map(y=>{const b=[-1,de(y.shape.slice(e))];return Fe({inputs:{x:y},backend:n,attrs:{shape:b}})}),d=A.map(y=>({vals:n.readSync(y.dataId),shape:y.shape})),h=La(A.map(y=>y.shape),1),f=A[0].shape[0]===1,p=Jye(d,h,r,f),m=La(t.map(y=>y.shape),e),g=n.makeTensorInfo(m,r,p);return A.forEach(y=>n.disposeIntermediateTensorInfo(y)),g}const i=le().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(t.length>i){const A=[];for(let h=0;h<t.length;h+=i){const f=t.slice(h,h+i);A.push(og(f,e,n))}const d=og(A,e,n);for(const h of A)n.disposeIntermediateTensorInfo(h);return d}if(le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&t[0].shape.length>1){const A=new tCe(t.map(d=>d.shape),e);return n.runWebGLProgram(A,t,r)}const{tensors2D:o,outShape:a}=rCe(t,e,n),u=new eCe(o.map(A=>A.shape)),l=n.runWebGLProgram(u,o,r);o.forEach(A=>n.disposeIntermediateTensorInfo(A));const c=Fe({inputs:{x:l},attrs:{shape:a},backend:n});return n.disposeIntermediateTensorInfo(l),c}function rCe(t,e,n){const r=La(t.map(i=>i.shape),e);return{tensors2D:t.map(i=>Fe({inputs:{x:i},attrs:{shape:[-1,de(i.shape.slice(e))]},backend:n})),outShape:r}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IK(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r,i=xt(s,e[0].shape)[0],o=e.map(l=>l.shape);F3(o,i);const a=La(e.map(l=>l.shape),i);if(de(a)===0)return n.makeTensorInfo(a,e[0].dtype,[]);const u=e.filter(l=>de(l.shape)>0);return u.length===1?wi({inputs:{x:u[0]},backend:n}):og(u,i,n)}const sCe={kernelName:lx,backendName:"webgl",kernelFunc:IK};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EK{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const o=e.padInfo.top,a=e.padInfo.left,u=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,A=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,f=Math.floor(e.inChannels/4)*4,p=e.inChannels%4,m=e.dataFormat==="channelsLast",g=m?1:2,y=m?2:3,C=m?3:1;let b="",B="";r&&(s?b=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?b=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:b=`
          float activation(float x) {
            ${r}
          }
        `,B="result = activation(result);");const I=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${b}

      const ivec2 strides = ivec2(${u}, ${l});
      const ivec2 pads = ivec2(${o}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${C}];

        ivec2 xRCCorner =
            ivec2(coords[${g}], coords[${y}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${d}; wR++) {
          int xR = xRCorner + wR * ${c};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${h}; wC++) {
            int xC = xCCorner + wC * ${A};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${f}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${m}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${p===1}) {

              if (${m}) {
                dotProd +=
                    getX(batch, xR, xC, ${f}) *
                    getW(wR, wC, ${f}, d2);
              } else {
                dotProd +=
                    getX(batch, ${f}, xR, xC) *
                    getW(wR, wC, ${f}, d2);
              }

            } else if (${p===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${f}, d2),
                getW(wR, wC, ${f} + 1, d2)
              );

              if (${m}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${f}),
                  getX(batch, xR, xC, ${f} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${f}, xR, xC),
                  getX(batch, ${f} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${p===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${f}, d2),
                getW(wR, wC, ${f} + 1, d2),
                getW(wR, wC, ${f} + 2, d2)
              );

              if (${m}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${f}),
                  getX(batch, xR, xC, ${f} + 1),
                  getX(batch, xR, xC, ${f} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${f}, xR, xC),
                  getX(batch, ${f} + 1, xR, xC),
                  getX(batch, ${f} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${I}
        ${B}
        setOutput(result);
      }
    `}}class iCe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const n=e.padInfo.front,r=e.padInfo.top,s=e.padInfo.left,i=e.strideDepth,o=e.strideHeight,a=e.strideWidth,u=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,A=e.filterDepth,d=e.filterHeight,h=e.filterWidth,f=Math.floor(e.inChannels/4)*4,p=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${i}, ${o}, ${a});
      const ivec3 pads = ivec3(${n}, ${r}, ${s});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${A}; wF++) {
          int xF = xFCorner + wF * ${u};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${d}; wR++) {
            int xR = xRCorner + wR * ${l};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${h}; wC++) {
              int xC = xCCorner + wC * ${c};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${f}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${p===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${f}) *
                  getW(wF, wR, wC, ${f}, d2);
              } else if (${p===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${f}),
                  getX(batch, xF, xR, xC, ${f} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${f}, d2),
                  getW(wF, wR, wC, ${f} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${p===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${f}),
                  getX(batch, xF, xR, xC, ${f} + 1),
                  getX(batch, xF, xR, xC, ${f} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${f}, d2),
                  getW(wF, wR, wC, ${f} + 1, d2),
                  getW(wF, wR, wC, ${f} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $K{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Rs(this.outputShape.length);const o=e.padInfo.left,a=e.strideWidth,u=e.dilationWidth,l=e.filterHeight,c=e.filterWidth,A=c;let d=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let m=0;m<c;m++)d+=`
           vec4 xTexelC${m*2};
           int xTexelC${m*2}Ready;
           vec4 xTexelC${m*2+1};
           int xTexelC${m*2+1}Ready;
           vec4 xC${m};`;d+=`
     for (int r = 0; r < ${l}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let m=0;m<c;m++)d+=`
           xTexelC${m*2} = vec4(0.0);
           xTexelC${m*2}Ready = 0;
           xTexelC${m*2+1} = vec4(0.0);
           xTexelC${m*2+1}Ready = 0;
           xC${m} = vec4(0.0);`;d+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let m=0;m<(A+1)/2;m++){const g=m*2;if(d+=`
           xC = xCCorner + ${g*u};
           `,a===1){if(g<c&&(o%2===1?(d+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }
               `,u===1&&g>0?d+=`
                 xC${g} = vec4(xTexelC${g-2}.zw, xTexelC${g}.xy);
                 `:d+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${g} = vec4(previous.zw, xTexelC${g}.xy);
                   } else {
                     xC${g} = vec4(0.0, 0.0, xTexelC${g}.xy);
                   }
                   `):d+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }

                 xC${g} = xTexelC${g};
                 `,g+1<c)){const y=o%2===0?EF(u):u;u%2===0&&o%2===1||u%2!==0&&o%2!==1?(d+=`
                   xCOffset = xC + imod(pads[1], 2) + ${y};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                     xTexelC${g+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${g+1}.zw = vec2(0.0);
                     }
                     xTexelC${g+1}Ready = 1;
                   }
                   `,u>1?d+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${g+1} = vec4(previous.zw, xTexelC${g+1}.xy);
                     } else {
                      xC${g+1} = vec4(0.0, 0.0, xTexelC${g+1}.xy);
                     }
                     `:d+=`
                     xC${g+1} = vec4(xTexelC${g}.zw, xTexelC${g+1}.xy);
                     `):y===1?d+=`
                     xC${g+1} = xTexelC${g};
                     `:d+=`
                     xCOffset = xC + ${y};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                       xTexelC${g+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${g+1}.zw = vec2(0.0);
                       }
                       xTexelC${g+1}Ready = 1;
                     }

                     xC${g+1} = xTexelC${g+1};
                     `}}else g<c&&(o%2===1?(d+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${g+1}Ready == 0) {
                   xTexelC${g+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${g+1}.zw = vec2(0.0);
                   }
                   xTexelC${g+1}Ready = 1;
                 }

                 xC${g} = vec4(xTexelC${g}.zw, xTexelC${g+1}.zw);
               `,g+1<c&&(d+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${g+1} = vec4(xTexelC${g+1}.xy, final.xy);
                 `)):(d+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${g}Ready == 0) {
                   xTexelC${g} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${g}.zw = vec2(0.0);
                   }
                   xTexelC${g}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${g+1}Ready == 0) {
                   xTexelC${g+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${g+1}.zw = vec2(0.);
                   }
                   xTexelC${g+1}Ready = 1;
                 }

                 xC${g} = vec4(
                   xTexelC${g}.xy, xTexelC${g+1}.xy);
               `,g+1<c&&(d+=`
                   xC${g+1} = vec4(xTexelC${g}.zw, xTexelC${g+1}.zw);
                 `)));g<c&&(d+=`
             wTexel = getW(r, ${g}, d1, d2);
             dotProd += xC${g}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${g}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,g+1<c&&(d+=`
               wTexel = getW(r, ${g+1}, d1, d2);
               dotProd += xC${g+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${g+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}d+=`
     }
   `,d+=`
     }
   `,d+=`
     }
   `;let h="",f="";r&&(s?h=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${r}
         }`:i?h=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${r}
         }`:h=`vec4 activation(vec4 x) {
           ${r}
         }`,f="result = activation(result);");const p=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${h}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${d}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${p}
         ${f}
         setOutput(result);
       }
     `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oCe{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=Rs(this.outputShape.length);const{dataFormat:r}=n,s=Ds(),i=r==="channelsLast",o=i?1:2,a=i?2:3,u=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let l="";for(let c=0;c<=1;c++)for(let A=0;A<=1;A++)l+=`
          blockIndex = rc.z + ${A};
          pos = rc.y + ${c};

          ${u}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${o}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${a}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${i}) {
                  innerDims = vec2(d1, ch);
                  result[${c*2+A}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${c*2+A}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${l}

        ${s.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BC(t,e){const n=t.length;return n>=3?e?[...t.slice(0,-3),t[n-3]*t[n-2],t[n-1]]:[...t.slice(0,-3),t[n-3],t[n-2]*t[n-1]]:!e&&n===1&&t[0]>1?[t[0],1]:null}function SK({x:t,filter:e,convInfo:n,backend:r,bias:s=null,preluActivationWeights:i=null,leakyreluAlpha:o=0,activation:a=null}){const u=t.shape,l=r.texData.get(t.dataId),c=n.inChannels,A=u[0]*u[1]*u[2],d=n.outChannels,h=n.dataFormat==="channelsLast",f=!1,p=!1;let m;const g=[];if(i!=null){const b=BC(i.shape,h);b!=null&&(i=Fe({inputs:{x:i},backend:r,attrs:{shape:b}}),g.push(i))}if(s!=null){const b=BC(s.shape,h);b!=null&&(s=Fe({inputs:{x:s},backend:r,attrs:{shape:b}}),g.push(s))}if(!((A===1||d===1)&&c>wK)&&l.isPacked&&h&&l.texture!=null&&u[2]%2!==0&&Ut(l.shape.slice(-3),u.slice(-3))){const b=u[0]*u[1]*(u[2]+1),B={dataId:t.dataId,shape:[1,b,n.inChannels],dtype:t.dtype},I=l.shape;l.shape=l.shape.slice(),l.shape[l.shape.length-2]++,O(wC(l.shape,B.shape),()=>`packed reshape ${l.shape} to ${B.shape} isn't free`);const w=Fe({inputs:{x:e},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});g.push(w);const $=xC({a:B,b:w,backend:r,transposeA:f,transposeB:p,bias:s,activation:a,preluActivationWeights:i,leakyreluAlpha:o}),T=r.texData.get($.dataId);O(T.isPacked,()=>"batchMatMul result is expected to be packed"),l.shape=I,T.shape=n.outShape,m=wi({inputs:{x:$},backend:r}),m.shape=n.outShape,g.push($)}else{const b=n.outHeight*n.outWidth,B=Fe({inputs:{x:t},backend:r,attrs:{shape:h?[n.batchSize,b,n.inChannels]:[n.batchSize,n.inChannels,b]}}),I=Fe({inputs:{x:e},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),w=xC({a:h?B:I,b:h?I:B,transposeA:!h,transposeB:p,backend:r,bias:s,activation:a,preluActivationWeights:i,leakyreluAlpha:o});m=Fe({inputs:{x:w},backend:r,attrs:{shape:n.outShape}}),g.push(B),g.push(I),g.push(w)}for(const b of g)r.disposeIntermediateTensorInfo(b);return m}function TK({x:t,filter:e,convInfo:n,backend:r,bias:s=null,preluActivationWeights:i=null,leakyreluAlpha:o=0,activation:a=null}){const{filterWidth:u,filterHeight:l,inChannels:c,outWidth:A,outHeight:d,dataFormat:h}=n,f=h==="channelsLast",p=u*l*c,m=d*A,g=[n.batchSize,p,m],y=!0,C=!1,b=[];if(i!=null){const H=BC(i.shape,f);H!=null&&(i=Fe({inputs:{x:i},backend:r,attrs:{shape:H}}),b.push(i))}if(s!=null){const H=BC(s.shape,f);H!=null&&(s=Fe({inputs:{x:s},backend:r,attrs:{shape:H}}),b.push(s))}const B=Fe({inputs:{x:e},backend:r,attrs:{shape:[1,p,de(e.shape)/p]}});b.push(B);const I=new oCe(g,n),w=[t.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],$=r.runWebGLProgram(I,[t],"float32",w),T=Fe({inputs:{x:$},backend:r,attrs:{shape:g}});b.push($),b.push(T);const _=s!=null,R=i!=null,P=a==="leakyrelu",L=a?Em(a,!0):null,z=new vK(f?T.shape:B.shape,f?B.shape:T.shape,f?[n.batchSize,m,n.outChannels]:[n.batchSize,n.outChannels,m],y,C,_,L,R,P),V=f?[T,B]:[B,T];if(s&&V.push(s),R&&V.push(i),P){const H=r.makeTensorInfo([],"float32",Sc(o,"float32"));V.push(H),b.push(H)}const q=r.runWebGLProgram(z,V,"float32"),ne=Fe({inputs:{x:q},backend:r,attrs:{shape:n.outShape}});b.push(q);for(const H of b)r.disposeIntermediateTensorInfo(H);return ne}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dataFormat:u,dilations:l,dimRoundingMode:c}=r,A=ju(u),d=Rr(s.shape,i.shape,o,l,a,c,!1,A);let h;if(d.filterHeight===1&&d.filterWidth===1&&d.dilationHeight===1&&d.dilationWidth===1&&d.strideHeight===1&&d.strideWidth===1&&(d.padInfo.type==="SAME"||d.padInfo.type==="VALID"))h=SK({x:s,filter:i,convInfo:d,backend:n});else if(d.strideWidth<=2&&A==="channelsLast"&&le().getBool("WEBGL_EXP_CONV")){const p=new $K(d),m=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];h=n.runWebGLProgram(p,[s,i],"float32",m)}else if(le().getBool("WEBGL_CONV_IM2COL"))h=TK({x:s,filter:i,convInfo:d,backend:n});else{const p=new EK(d);h=n.runWebGLProgram(p,[s,i],"float32")}const f=Fe({inputs:{x:h},backend:n,attrs:{shape:d.outShape}});return n.disposeIntermediateTensorInfo(h),f}const uCe={kernelName:cx,backendName:"webgl",kernelFunc:aCe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lCe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,s=e.padInfo.top,i=e.padInfo.left,o=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              if (${o}) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class cCe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,o=e.dataFormat==="channelsLast",a=n-1-e.padInfo.top,u=r-1-e.padInfo.left,l=o?1:2,c=o?2:3,A=o?3:1;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${u});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${A}];

        ivec2 dyCorner = ivec2(coords[${l}], coords[${c}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${o}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class ACe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideDepth,r=e.strideHeight,s=e.strideWidth,i=e.padInfo.front,o=e.padInfo.top,a=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${i};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${r} - ${o};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${s} - ${a};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class dCe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,s=e.filterWidth,i=e.strideDepth,o=e.strideHeight,a=e.strideWidth,u=n-1-e.padInfo.front,l=r-1-e.padInfo.top,c=s-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${u}, ${l}, ${c});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${i}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${r}; wR++) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${r} - 1 - wR;

            for (int wC = 0; wC < ${s}; wC++) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${s} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,pad:a,dataFormat:u,dimRoundingMode:l,filterShape:c}=r,A=ju(u),d=Rr(s.shape,c,o,1,a,l,!1,A),h=new lCe(d);return n.runWebGLProgram(h,[s,i],"float32")}const fCe={kernelName:OF,backendName:"webgl",kernelFunc:hCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pCe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{inputShape:o,strides:a,pad:u,dataFormat:l,dimRoundingMode:c}=r,A=ju(l),d=Rr(o,i.shape,a,1,u,c,!1,A),h=new cCe(d);return n.runWebGLProgram(h,[s,i],"float32")}const gCe={kernelName:Ax,backendName:"webgl",kernelFunc:pCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dilations:u}=r,l=kc(s.shape,i.shape,o,u,a),c=new iCe(l);return n.runWebGLProgram(c,[s,i],"float32")}const yCe={kernelName:dx,backendName:"webgl",kernelFunc:mCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,pad:a,filterShape:u}=r,l=kc(s.shape,u,o,1,a),c=new ACe(l);return n.runWebGLProgram(c,[s,i],"float32")}const wCe={kernelName:UF,backendName:"webgl",kernelFunc:vCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CCe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{pad:o,strides:a,inputShape:u}=r,l=kc(u,i.shape,a,1,o),c=new dCe(l);return n.runWebGLProgram(c,[s,i],"float32")}const bCe={kernelName:LF,backendName:"webgl",kernelFunc:CCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xCe=sp+`
  return cos(x);
`,BCe=Qt({opSnippet:xCe}),ICe={kernelName:T0,backendName:"webgl",kernelFunc:BCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ECe=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,$Ce=Qt({opSnippet:ECe}),SCe={kernelName:N0,backendName:"webgl",kernelFunc:$Ce};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class TCe{constructor(e,n,r,s,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[o,a,u,l]=e,[c]=n,[A,d]=r;this.outputShape=[c,A,d,l];const h=s==="bilinear"?1:0,[f,p]=[`${a-1}.0`,`${u-1}.0`],[m,g,y]=A>1?[`${(a-1)/(A-1)}`,"(y2-y1) * height_ratio",`y1*${f} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${f}`],[C,b,B]=d>1?[`${(u-1)/(d-1)}`,"(x2-x1) * width_ratio",`x1*${p} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${p}`];this.userCode=`
      const float height_ratio = float(${m});
      const float width_ratio = float(${C});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${o}) {
          return;
        }

        float height_scale = ${g};
        float width_scale = ${b};

        float in_y = ${y};
        if( in_y < 0.0 || in_y > ${f} ) {
          setOutput(float(${i}));
          return;
        }
        float in_x = ${B};
        if( in_x < 0.0 || in_x > ${p} ) {
          setOutput(float(${i}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${h} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NCe=t=>{const{inputs:e,backend:n,attrs:r}=t,{image:s,boxes:i,boxInd:o}=e,{cropSize:a,method:u,extrapolationValue:l}=r,c=new TCe(s.shape,i.shape,a,u,l);return n.runWebGLProgram(c,[s,i,o],"float32")},kCe={kernelName:MF,backendName:"webgl",kernelFunc:NCe};var Sm;(function(t){t.Prod="*",t.Sum="+"})(Sm||(Sm={}));class _L{constructor(e,n,r,s){this.op=e,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const i=this.outputShape.length,o=this.op===Sm.Prod?"1.0":"0.0",a=r?o:`getX(${DL(i,"coords",this.op)})`,u=this.outputShape[this.outputShape.length-1];let l="",c="";r?(l=s?`end != ${u-1}`:"end != 0",c=s?"end + 1":"end - 1"):(l=s?`end + pow2 < ${u}`:"end >= pow2",c=s?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${cn(i)} coords = getOutputCoords();
        int end = ${RL(i,"coords",this.op)};
        float val = ${a};
        int pow2 = int(pow(2.0, index));
        if (${l}) {
          int idx = ${c};
          ${RL(i,"coords",this.op)} = idx;
          val ${this.op}= getX(${DL(i,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function DL(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.x, ${e}.y`;if(t===3)return`${e}.x, ${e}.y, ${e}.z`;if(t===4)return`${e}.x, ${e}.y, ${e}.z, ${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}function RL(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.y`;if(t===3)return`${e}.z`;if(t===4)return`${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NK(t,e,n,r,s,i){const o=e.shape.length,a=Un([r],o);let u=e;a!=null&&(u=ks({inputs:{x:e},backend:n,attrs:{perm:a}}));const l=Yn(1,o)[0];if(l!==o-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${e.shape.length-1} but got axis=${r}`);const c=u.shape[l];let A=wi({inputs:{x:u},backend:n});for(let d=0;d<=Math.ceil(Math.log2(c))-1;d++){const h=new _L(t,u.shape,!1,i),f=[[d]],p=A;A=n.runWebGLProgram(h,[A],A.dtype,f),n.disposeIntermediateTensorInfo(p)}if(s){const d=new _L(t,u.shape,s,i),h=A;A=n.runWebGLProgram(d,[A],A.dtype),n.disposeIntermediateTensorInfo(h)}if(a!=null){const d=Fc(a),h=ks({inputs:{x:A},backend:n,attrs:{perm:d}});return n.disposeIntermediateTensorInfo(A),n.disposeIntermediateTensorInfo(u),h}return A}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:o,reverse:a}=r;return NK(Sm.Prod,s,n,i,o,a)}const _Ce={kernelName:PF,backendName:"webgl",kernelFunc:FCe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:o,reverse:a}=r;return NK(Sm.Sum,s,n,i,o,a)}const RCe={kernelName:hx,backendName:"webgl",kernelFunc:DCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:o,binaryOutput:a}=r;if(s.shape.length===1){const u=n.readSync(s.dataId),l=n.readSync(i.dataId),c=cK(u,l,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}else if(s.shape.length===2){const u=n.bufferSync(s),l=n.bufferSync(i),c=Xye(u,l,o,a);return n.makeTensorInfo(c.shape,i.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const UCe={kernelName:QF,backendName:"webgl",kernelFunc:OCe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class LCe{constructor(e,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockSize:i,dataFormat:o}=r,a=s.shape[0],u=o==="NHWC"?s.shape[1]:s.shape[2],l=o==="NHWC"?s.shape[2]:s.shape[3],c=o==="NHWC"?s.shape[3]:s.shape[1],A=u*i,d=l*i,h=c/(i*i),f=o==="NHWC"?[a,A,d,h]:[a,h,A,d],p=new LCe(f,i,o);return n.runWebGLProgram(p,[s],s.dtype)}const MCe={kernelName:HF,backendName:"webgl",kernelFunc:PCe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kK{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Rs(this.outputShape.length);const o=e.filterHeight,a=e.filterWidth,u=e.outChannels/e.inChannels;let l="",c="";r&&(s?l=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?l=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:l=`
          float activation(float x) {
            ${r}
          }
        `,c="result = activation(result);");const A=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${l}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${u};
        int q = d2 - d1 * ${u};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${o}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${a}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${A}
        ${c}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class FK{constructor(e,n=!1,r=null,s=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Rs(this.outputShape.length);const o=e.outChannels/e.inChannels,a=e.padInfo.left,u=e.strideWidth,l=e.dilationWidth,c=e.filterHeight,A=e.filterWidth,d=A;let h=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let g=0;g<A;g++)h+=`
          vec4 xTexelC${g*2};
          int xTexelC${g*2}Ready;
          vec4 xTexelC${g*2+1};
          int xTexelC${g*2+1}Ready;
          vec4 xC${g};`;h+=`
    for (int r = 0; r < ${c}; r++) {
      `;for(let g=0;g<A;g++)h+=`
          xTexelC${g*2} = vec4(0.0);
          xTexelC${g*2}Ready = 0;
          xTexelC${g*2+1} = vec4(0.0);
          xTexelC${g*2+1}Ready = 0;
          xC${g} = vec4(0.0);`;h+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let g=0;g<(d+1)/2;g++){const y=g*2;if(h+=`
          xC = xCCorner + ${y*l};
          `,u===1){if(y<A&&(a%2===1?(h+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }
              `,l===1&&y>0?h+=`
                xC${y} = vec4(xTexelC${y-2}.zw, xTexelC${y}.xy);
                `:h+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${y} = vec4(previous.zw, xTexelC${y}.xy);
                  } else {
                    xC${y} = vec4(0.0, 0.0, xTexelC${y}.xy);
                  }
                  `):h+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                xC${y} = xTexelC${y};
                `,y+1<A)){const C=a%2===0?EF(l):l;l%2===0&&a%2===1||l%2!==0&&a%2!==1?(h+=`
                  xCOffset = xC + imod(pads[1], 2) + ${C};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                    xTexelC${y+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${y+1}.zw = vec2(0.0);
                    }
                    xTexelC${y+1}Ready = 1;
                  }
                  `,l>1?h+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${y+1} = vec4(previous.zw, xTexelC${y+1}.xy);
                    } else {
                     xC${y+1} = vec4(0.0, 0.0, xTexelC${y+1}.xy);
                    }
                    `:h+=`
                    xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.xy);
                    `):C===1?h+=`
                    xC${y+1} = xTexelC${y};
                    `:h+=`
                    xCOffset = xC + ${C};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                      xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${y+1}.zw = vec2(0.0);
                      }
                      xTexelC${y+1}Ready = 1;
                    }

                    xC${y+1} = xTexelC${y+1};
                    `}}else y<A&&(a%2===1?(h+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${y+1}Ready == 0) {
                  xTexelC${y+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${y+1}.zw = vec2(0.0);
                  }
                  xTexelC${y+1}Ready = 1;
                }

                xC${y} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
              `,y+1<A&&(h+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${y+1} = vec4(xTexelC${y+1}.xy, final.xy);
                `)):(h+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                  xTexelC${y} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${y}.zw = vec2(0.0);
                  }
                  xTexelC${y}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                  xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${y+1}.zw = vec2(0.);
                  }
                  xTexelC${y+1}Ready = 1;
                }

                xC${y} = vec4(
                  xTexelC${y}.xy, xTexelC${y+1}.xy);
              `,y+1<A&&(h+=`
                  xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
                `)));y<A&&(h+=`
            wTexel = getW(r, ${y}, d1, q);
            dotProd += xC${y} * vec4(wTexel.xz, wTexel.xz);
          `,y+1<A&&(h+=`
              wTexel = getW(r, ${y+1}, d1, q);
              dotProd += xC${y+1} * vec4(wTexel.xz, wTexel.xz);
            `))}h+=`
    }
  `,h+=`
      }
    `;let f="",p="";r&&(s?f=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?f=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:f=`vec4 activation(vec4 x) {
          ${r}
        }`,p="result = activation(result);");const m=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${f}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${o};
        int q = d2 - d1 * ${o};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${h}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${m}
        ${p}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dilations:u,dimRoundingMode:l}=r;let c=u;c==null&&(c=[1,1]),O(Gr(o,c),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${c}'`);const A=Rr(s.shape,i.shape,o,c,a,l,!0);let d;le().getBool("WEBGL_PACK_DEPTHWISECONV")&&A.strideWidth<=2&&A.outChannels/A.inChannels===1?d=new FK(A):d=new kK(A);const h=[[A.padInfo.top,A.padInfo.left],[A.strideHeight,A.strideWidth],[A.dilationHeight,A.dilationWidth],[A.inHeight,A.inWidth]];return n.runWebGLProgram(d,[s,i],"float32",h)}const HCe={kernelName:fx,backendName:"webgl",kernelFunc:QCe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class VCe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,s=e.padInfo.top,i=e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${o} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${s};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class zCe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,s=e.strideHeight,i=e.strideWidth,o=n-1-e.padInfo.top,a=r-1-e.padInfo.left,u=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${s}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${u}; dm++) {
              int d2 = d1 * ${u} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,dilations:a,pad:u,dimRoundingMode:l,filterShape:c}=r,A=Rr(s.shape,c,o,a,u,l,!0),d=new VCe(A);return n.runWebGLProgram(d,[s,i],"float32")}const WCe={kernelName:VF,backendName:"webgl",kernelFunc:KCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GCe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{strides:o,dilations:a,pad:u,dimRoundingMode:l,inputShape:c}=r,A=Rr(c,i.shape,o,a,u,l,!0),d=new zCe(A);return n.runWebGLProgram(d,[s,i],"float32")}const jCe={kernelName:zF,backendName:"webgl",kernelFunc:GCe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class XCe{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qCe(t){const{inputs:e,backend:n}=t,{x:r}=e,s=[...r.shape,...r.shape],i=de(r.shape),o=Fe({inputs:{x:r},backend:n,attrs:{shape:[i]}}),a=new XCe(i),u=n.runWebGLProgram(a,[o],o.dtype),l=Fe({inputs:{x:u},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(u),l}const YCe={kernelName:KF,backendName:"webgl",kernelFunc:qCe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class JCe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:n,inWidth:r,padInfo:s,strideHeight:i,strideWidth:o,filterHeight:a,filterWidth:u,dilationHeight:l,dilationWidth:c}=e,{top:A,left:d}=s;this.userCode=`
      const ivec2 strides = ivec2(${i}, ${o});
      const ivec2 pads = ivec2(${A}, ${d});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${a}; h++) {
          int hIn = hBeg + h * ${l};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${u}; w++) {
              int wIn = wBeg + w * ${c};

              if (wIn >= 0 && wIn < ${r}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dilations:u}=r,l=gy(s.shape,i.shape,o,a,"NHWC",u);let c;const A=new JCe(l);c=n.runWebGLProgram(A,[s,i],"float32");const d=Fe({inputs:{x:c},backend:n,attrs:{shape:l.outShape}});return n.disposeIntermediateTensorInfo(c),d}const ebe={kernelName:px,backendName:"webgl",kernelFunc:ZCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tbe(t){const{inputs:e,backend:n,attrs:r}=t,{equation:s}=r,i=e,{allDims:o,summedDims:a,idDims:u}=z3(s,i.length);W3(o.length,u,i);const{path:l,steps:c}=G3(a,u),A=c.length;let d=null,h=o.length;const f=[];for(let p=0;p<A;++p){for(const m of c[p]){const{permutationIndices:g,expandDims:y}=K3(h,u[m]);let C;j3(g)?C=i[m]:(C=ks({inputs:{x:i[m]},backend:n,attrs:{perm:g}}),f.push(C));const b=C.shape.slice();for(let B=0;B<y.length;++B)b.splice(y[B],0,1);Ut(C.shape,b)||(C=Fe({inputs:{x:C},backend:n,attrs:{shape:b}}),f.push(C)),d===null?d=C:(d=lD({inputs:{a:C,b:d},backend:n}),f.push(d))}p<A-1&&(l[p]>=0&&(d=_2({inputs:{x:d},backend:n,attrs:{axis:l[p]-(o.length-h),keepDims:!1}}),f.push(d)),h--)}for(const p of f)p!==d&&n.disposeIntermediateTensorInfo(p);return d}const nbe={kernelName:WF,backendName:"webgl",kernelFunc:tbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rbe="return (x >= 0.0) ? x : (exp(x) - 1.0);",sbe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,ibe=Qt({opSnippet:rbe,packedOpSnippet:sbe}),obe={kernelName:F0,backendName:"webgl",kernelFunc:ibe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const abe="return (b >= 1.0) ? a : a * (b + 1.0);",ube=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,lbe=t=>{const{inputs:e,backend:n}=t,{dy:r,y:s}=e,i=le().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Fy(ube,r.shape,s.shape):new Bf(abe,r.shape,s.shape);return n.runWebGLProgram(i,[r,s],r.dtype)},cbe={kernelName:GF,backendName:"webgl",kernelFunc:lbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Abe=`
  return vec4(equal(a, b));
`,dbe="return float(a == b);",hbe=Xr({opSnippet:dbe,packedOpSnippet:Abe,dtype:"bool",cpuKernelImpl:Zye}),fbe={kernelName:gx,backendName:"webgl",kernelFunc:hbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pbe=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${U3};
  float a1 = ${L3};
  float a2 = ${P3};
  float a3 = ${M3};
  float a4 = ${Q3};
  float a5 = ${H3};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,gbe=Qt({opSnippet:pbe}),mbe={kernelName:_0,backendName:"webgl",kernelFunc:gbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ybe=sp+`
  return exp(x);
`,vbe=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,_K=Qt({opSnippet:ybe,packedOpSnippet:vbe,cpuKernelImpl:eve,dtype:"float32"}),wbe={kernelName:D0,backendName:"webgl",kernelFunc:_K};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VS(t){const{inputs:e,attrs:n,backend:r}=t,{dim:s}=n,{input:i}=e,o=i.shape.length,a=i.shape.slice();let u=s;return s<0&&(O(-(o+1)<=s,()=>`Axis must be in the interval [${-(o+1)}, ${o}]`),u=o+s+1),a.splice(u,0,1),Fe({inputs:{x:i},backend:r,attrs:{shape:a}})}const Cbe={kernelName:mx,backendName:"webgl",kernelFunc:VS};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OL="return exp(x) - 1.0;",bbe=Qt({opSnippet:OL,packedOpSnippet:OL,cpuKernelImpl:tve}),xbe={kernelName:R0,backendName:"webgl",kernelFunc:bbe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class UL{constructor(e,n,r){this.variableNames=["real","imag"];const s=n[1];this.outputShape=n;const i=r?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,o=r?`${s}.0`:"1.0";let a;if(e==="real")a="return real * expR - imag * expI;";else if(e==="imag")a="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${i};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${a}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${s});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${s}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${o};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DK(t,e,n){const r=n.texData.get(t.dataId),s=de(t.shape),i=t.shape[t.shape.length-1],o=s/i,a=Fe({inputs:{x:t},backend:n,attrs:{shape:[o,i]}}),u=a.shape,l=new UL("real",u,e),c=new UL("imag",u,e),A=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:u},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:u}],d=n.runWebGLProgram(l,A,"float32"),h=n.runWebGLProgram(c,A,"float32"),f=Oc({inputs:{real:d,imag:h},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h);const p=Fe({inputs:{x:f},backend:n,attrs:{shape:t.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(f),p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bbe(t){const{inputs:e,backend:n}=t,{input:r}=e;return DK(r,!1,n)}const Ibe={kernelName:jF,backendName:"webgl",kernelFunc:Bbe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ebe{constructor(e,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dy(t){const{backend:e,attrs:n}=t,{shape:r,value:s}=n;let{dtype:i}=n;if(i=i||y0(s),i==="string"){const o=Sr(i,de(r));return o.fill(s),e.makeTensorInfo(r,i,o)}else{const o=new Ebe(r,s),a=[[s]];return e.runWebGLProgram(o,[],i,a)}}const $be={kernelName:XF,backendName:"webgl",kernelFunc:Dy};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Sbe{constructor(e){this.variableNames=["Image"],this.outputShape=[];const n=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tbe={kernelName:qF,backendName:"webgl",kernelFunc:({inputs:t,backend:e})=>{const{image:n}=t,r=e,s=new Sbe(n.shape);return r.runWebGLProgram(s,[n],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LL="return floor(x);",Nbe=Qt({opSnippet:LL,packedOpSnippet:LL,cpuKernelImpl:nve}),kbe={kernelName:O0,backendName:"webgl",kernelFunc:Nbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fbe=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,_be=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,Dbe=Xr({opSnippet:Fbe,packedOpSnippet:_be,dtype:"int32"}),Rbe={kernelName:U0,backendName:"webgl",kernelFunc:Dbe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Obe{constructor(e){this.variableNames=["A"];const n=Ds(),[r,s]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${s}.0, ${r}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ube{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=Ds(),[r,s]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${s}.0, ${r}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lbe={kernelName:vS,backendName:"webgl",kernelFunc:Pbe};let Qd,sE=le().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function Pbe(t){const{inputs:e,backend:n,attrs:r}=t;let{pixels:s}=e;const{numChannels:i}=r,o=typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement,a=typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement,[u,l]=o?[s.videoWidth,s.videoHeight]:[s.width,s.height],c=[l,u],A=[l,u,i];if(a||o){const p=le().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(Qd==null||p!==sE)&&(sE=p,Qd=document.createElement("canvas").getContext("2d",{willReadFrequently:sE})),Qd.canvas.width=u,Qd.canvas.height=l,Qd.drawImage(s,0,0,u,l),s=Qd.canvas}const d=n.makeTensorInfo(c,"int32");n.texData.get(d.dataId).usage=_i.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(d.dataId),s);const h=le().getBool("WEBGL_PACK")?new Ube(A):new Obe(A),f=n.runWebGLProgram(h,[d],"int32");return n.disposeData(d.dataId),f}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mbe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:o,preluActivationWeights:a}=e,{strides:u,pad:l,dataFormat:c,dilations:A,dimRoundingMode:d,activation:h,leakyreluAlpha:f}=r,p=ju(c),m=Rr(s.shape,i.shape,u,A,l,d,!1,p);let g;const y=[],C=o!=null,b=a!=null,B=h==="leakyrelu",I=()=>{const $=[s,i],T=(_,R)=>{if(R==="NCHW"&&_.shape.length===1&&_.shape[0]!==1){const P=Fe({inputs:{x:_},backend:n,attrs:{shape:[_.shape[0],1,1]}});return y.push(P),P}return _};if(C&&$.push(T(o,c)),b&&$.push(T(a,c)),B){const _=n.makeTensorInfo([],"float32",Sc(f,"float32"));$.push(_),y.push(_)}return $};if(m.filterHeight===1&&m.filterWidth===1&&m.dilationHeight===1&&m.dilationWidth===1&&m.strideHeight===1&&m.strideWidth===1&&(m.padInfo.type==="SAME"||m.padInfo.type==="VALID"))g=SK({x:s,filter:i,convInfo:m,backend:n,bias:o,activation:h,preluActivationWeights:a,leakyreluAlpha:f});else if(m.strideWidth<=2&&p==="channelsLast"&&le().getBool("WEBGL_EXP_CONV")){const $=h?Em(h,!0):null,T=new $K(m,C,$,b,B),_=[[m.padInfo.top,m.padInfo.left],[m.strideHeight,m.strideWidth],[m.dilationHeight,m.dilationWidth],[m.inHeight,m.inWidth]],R=I();g=n.runWebGLProgram(T,R,"float32",_)}else if(le().getBool("WEBGL_CONV_IM2COL"))g=TK({x:s,filter:i,convInfo:m,backend:n,bias:o,activation:h,preluActivationWeights:a,leakyreluAlpha:f});else{const $=h?Em(h,!1):null,T=new EK(m,C,$,b,B),_=I();g=n.runWebGLProgram(T,_,"float32")}const w=Fe({inputs:{x:g},backend:n,attrs:{shape:m.outShape}});return y.push(g),y.forEach($=>n.disposeIntermediateTensorInfo($)),w}const Qbe={kernelName:lC,backendName:"webgl",kernelFunc:Mbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hbe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:o,preluActivationWeights:a}=e,{strides:u,pad:l,dilations:c,dimRoundingMode:A,activation:d,leakyreluAlpha:h}=r,f=[];let p=c;p==null&&(p=[1,1]),O(Gr(u,p),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${u} and dilations '${p}'`);const m=Rr(s.shape,i.shape,u,p,l,A,!0),g=le().getBool("WEBGL_PACK_DEPTHWISECONV")&&m.strideWidth<=2&&m.outChannels/m.inChannels===1,y=d?Em(d,g):null,C=[s,i],b=o!=null,B=a!=null,I=d==="leakyrelu";if(b&&C.push(o),B&&C.push(a),I){const _=n.makeTensorInfo([],"float32",Sc(h,"float32"));C.push(_),f.push(_)}let w;g?w=new FK(m,b,y,B,I):w=new kK(m,b,y,B,I);const $=[[m.padInfo.top,m.padInfo.left],[m.strideHeight,m.strideWidth],[m.dilationHeight,m.dilationWidth],[m.inHeight,m.inWidth]],T=n.runWebGLProgram(w,C,"float32",$);return f.forEach(_=>n.disposeIntermediateTensorInfo(_)),T}const Vbe={kernelName:cC,backendName:"webgl",kernelFunc:Hbe};class zbe{constructor(e,n,r,s){this.sliceDim=e,this.strides=n,this.paramsShape=s,this.variableNames=["x","indices"],this.outputShape=r;const i=cn(r.length);let o=`
    int index;`;for(let a=0;a<this.sliceDim;a++)o+=`
          index = round(getIndices(coords[0], ${a}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[a]};
          flattenIndex += index * ${this.strides[a]};`;this.userCode=`
         void main() {
          ${i} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${o}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kbe(t){const{inputs:e,backend:n}=t,{params:r,indices:s}=e,i=s.shape,o=i[i.length-1],a=de(r.shape),[u,l,c,A]=L_(r,s),d=Fe({inputs:{x:s},backend:n,attrs:{shape:[l,o]}}),h=Fe({inputs:{x:r},backend:n,attrs:{shape:[de(r.shape)/c,c]}});if(n.shouldExecuteOnCPU([r,s])||r.dtype==="string"){const g=n.readSync(s.dataId),y=n.bufferSync(r),C=rve(g,y,r.dtype,l,o,c,A,r.shape,a);return n.makeTensorInfo(u,r.dtype,C.values)}const f=new zbe(o,A,[l,c],r.shape),p=n.runWebGLProgram(f,[h,d],h.dtype),m=Fe({inputs:{x:p},backend:n,attrs:{shape:u}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),m}const Wbe={kernelName:YF,backendName:"webgl",kernelFunc:Kbe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Gbe{constructor(e,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const r=cn(this.rank),s=jbe(e);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${s}));
      }
    `}}function jbe(t,e){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let s=0;s<t.length;s++)s===2?r.push("index"):r.push(`${n[s]}`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RK(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,indices:i}=e,{axis:o,batchDims:a}=r,u=xt(o,s.shape)[0];if(le().get("DEBUG")){const y=n.readSync(i.dataId),C=s.shape[u];for(let b=0;b<y.length;++b){const B=y[b];O(B<=C-1&&B>=0,()=>`GatherV2: the index value ${B} is not in [0, ${C-1}]`)}}const l=q3(s,i,u,a),c=de(i.shape),A=[],d=Fe({inputs:{x:s},backend:n,attrs:{shape:[l.batchSize,l.outerSize,l.dimSize,l.sliceSize]}}),h=Fe({inputs:{x:i},backend:n,attrs:{shape:[l.batchSize,c/l.batchSize]}});A.push(d),A.push(h);const f=[l.batchSize,l.outerSize,c/l.batchSize,l.sliceSize];if(n.shouldExecuteOnCPU([s,i])||s.dtype==="string"){const y=n.bufferSync(h),C=n.bufferSync(d),b=sve(C,y,f);return A.forEach(B=>n.disposeIntermediateTensorInfo(B)),n.makeTensorInfo(l.outputShape,b.dtype,b.values)}const p=new Gbe(d.shape,f),m=n.runWebGLProgram(p,[d,h],d.dtype);A.push(m);const g=Fe({inputs:{x:m},backend:n,attrs:{shape:l.outputShape}});return A.forEach(y=>n.disposeIntermediateTensorInfo(y)),g}const Xbe={kernelName:vx,backendName:"webgl",kernelFunc:RK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qbe="return float(a > b);",Ybe=`
  return vec4(greaterThan(a, b));
`,Jbe=Xr({opSnippet:qbe,packedOpSnippet:Ybe,cpuKernelImpl:ive,dtype:"bool"}),Zbe={kernelName:wx,backendName:"webgl",kernelFunc:Jbe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const exe="return float(a >= b);",txe=`
  return vec4(greaterThanEqual(a, b));
`,nxe=Xr({opSnippet:exe,packedOpSnippet:txe,dtype:"bool",cpuKernelImpl:ove}),rxe={kernelName:L0,backendName:"webgl",kernelFunc:nxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sxe(t){const{inputs:e,backend:n}=t,{input:r}=e;return DK(r,!0,n)}const ixe={kernelName:JF,backendName:"webgl",kernelFunc:sxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oxe="return float(!isnan(x) && !isinf(x));",axe=Qt({opSnippet:oxe,dtype:"bool"}),uxe={kernelName:M0,backendName:"webgl",kernelFunc:axe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lxe="return float(isinf(x));",cxe=Qt({opSnippet:lxe,dtype:"bool"}),Axe={kernelName:Q0,backendName:"webgl",kernelFunc:cxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dxe="return float(isnan(x));",hxe=Qt({opSnippet:dxe,dtype:"bool"}),fxe={kernelName:H0,backendName:"webgl",kernelFunc:hxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pxe="return float(a < b);",gxe=`
  return vec4(lessThan(a, b));
`,mxe=Xr({opSnippet:pxe,packedOpSnippet:gxe,cpuKernelImpl:ave,dtype:"bool"}),yxe={kernelName:bx,backendName:"webgl",kernelFunc:mxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vxe="return float(a <= b);",wxe=`
  return vec4(lessThanEqual(a, b));
`,Cxe=Xr({opSnippet:vxe,packedOpSnippet:wxe,cpuKernelImpl:uve,dtype:"bool"}),bxe={kernelName:xx,backendName:"webgl",kernelFunc:Cxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xxe(t){const{backend:e,attrs:n}=t,{start:r,stop:s,num:i}=n,o=lve(r,s,i);return e.makeTensorInfo([o.length],"float32",o)}const Bxe={kernelName:e_,backendName:"webgl",kernelFunc:xxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ixe=sp+`
  return x < 0.0 ? 0./0. : log(x);
`,Exe=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,$xe=Qt({opSnippet:Ixe,packedOpSnippet:Exe,cpuKernelImpl:cve}),Sxe={kernelName:V0,backendName:"webgl",kernelFunc:$xe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Txe=sp+`
  return log(1.0 + x);
`,Nxe=Qt({opSnippet:Txe}),kxe={kernelName:z0,backendName:"webgl",kernelFunc:Nxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fxe="return float(a >= 1.0 && b >= 1.0);",_xe=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,Dxe=Xr({opSnippet:Fxe,packedOpSnippet:_xe,dtype:"bool"}),Rxe={kernelName:Bx,backendName:"webgl",kernelFunc:Dxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oxe="return float(!(x >= 1.0));",Uxe=Qt({opSnippet:Oxe}),Lxe={kernelName:Ix,backendName:"webgl",kernelFunc:Uxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pxe="return float(a >= 1.0 || b >= 1.0);",Mxe=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,Qxe=Xr({opSnippet:Pxe,packedOpSnippet:Mxe,dtype:"bool"}),Hxe={kernelName:Ex,backendName:"webgl",kernelFunc:Qxe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Vxe{constructor(e,n,r,s,i){this.variableNames=["x"],this.outputShape=[];const o=n,a=e[3]-1;this.outputShape=e;let u;const l=`float(${r}) + float(${s}) * sum`;i===.5?u=`inversesqrt(${l})`:i===1?u=`1.0/(${l})`:u=`exp(log(${l}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${o}; j <= ${o}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${a}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${u};
        setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zxe{constructor(e,n,r,s,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const o=n,a=e[3]-1;this.outputShape=e;let u;const l=`float(${r}) + float(${s}) * sum`;i===.5?u=`inversesqrt(${l})`:i===1?u=`1.0/(${l})`:u=`exp(log(${l}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${o};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${o}; j <= ${o}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${a}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${u};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kxe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{depthRadius:i,bias:o,alpha:a,beta:u}=r,l=le().getBool("WEBGL_PACK_NORMALIZATION")?new zxe(s.shape,i,o,a,u):new Vxe(s.shape,i,o,a,u);return n.runWebGLProgram(l,[s],s.dtype)},Wxe={kernelName:$x,backendName:"webgl",kernelFunc:Kxe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Gxe{constructor(e,n,r,s,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=r,this.alpha=s,this.beta=i,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${s}) * norm + float(${r});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${s})
                * float(${i})
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${i});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jxe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s,y:i,dy:o}=e,{depthRadius:a,bias:u,alpha:l,beta:c}=r,A=new Gxe(s.shape,a,u,l,c);return n.runWebGLProgram(A,[s,i,o],s.dtype)},Xxe={kernelName:t_,backendName:"webgl",kernelFunc:jxe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qxe(t,e,n,r){const s=de(e),o=de(t.shape)/s,a=Fe({inputs:{x:t},attrs:{shape:[o,s]},backend:r}),u=bd(a,t.dtype,"max",r),l=Fe({inputs:{x:u},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(u),l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OK(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reductionIndices:i,keepDims:o}=r,a=s.shape.length,u=xt(i,s.shape);let l=u;const c=Un(l,a),A=c!=null,d=n.shouldExecuteOnCPU([s]);let h=s;if(A){if(d){const C=n.texData.get(h.dataId).values,b=new Array(a);for(let w=0;w<b.length;w++)b[w]=s.shape[c[w]];const B=aD(C,s.shape,s.dtype,c,b);h=n.makeTensorInfo(b,s.dtype);const I=n.texData.get(h.dataId);I.values=B}else h=F2(s,c,n);l=Yn(l.length,a)}jr("max",l,a);const[f,p]=Or(h.shape,l);let m=f;o&&(m=Gn(f,u));let g;if(d){const C=n.texData.get(h.dataId).values,b=Ave(C,de(p),m,s.dtype);g=n.makeTensorInfo(m,s.dtype);const B=n.texData.get(g.dataId);B.values=b}else g=qxe(h,p,m,n);return A&&n.disposeIntermediateTensorInfo(h),g}const Yxe={kernelName:Sx,backendName:"webgl",kernelFunc:OK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jxe=uD+`
  return max(a, b);
`,Zxe=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+ky+`
  return result;
`,e2e=Xr({opSnippet:Jxe,packedOpSnippet:Zxe,cpuKernelImpl:dve}),t2e={kernelName:K0,backendName:"webgl",kernelFunc:e2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n2e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;Ty(s,"maxPool");const{filterSize:i,strides:o,pad:a,dimRoundingMode:u}=r,l=1;O(Gr(o,l),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${l}'`);const c=So(s.shape,i,o,l,a,u);if(c.filterWidth===1&&c.filterHeight===1&&Ut(c.inShape,c.outShape))return wi({inputs:{x:s},backend:n});const A=new $m(c,"max",!1);return n.runWebGLProgram(A,[s],s.dtype)}const r2e={kernelName:Tx,backendName:"webgl",kernelFunc:n2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s2e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:o,pad:a,dataFormat:u,dimRoundingMode:l}=r,c=[1,1,1],A=Gu(s.shape,i,o,c,a,l,u),d=new cD(A,"max",!1);return n.runWebGLProgram(d,[s],s.dtype)}const i2e={kernelName:Nx,backendName:"webgl",kernelFunc:s2e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class o2e{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideHeight,r=e.strideWidth,s=e.dilationHeight,i=e.effectiveFilterHeight,o=e.effectiveFilterWidth,a=i-1-e.padInfo.top,u=o-1-e.padInfo.left,l=i*o-1;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${u});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${i};
          wR += ${s}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${o}; wC++) {
            float dyC = float(dyCCorner + wC) / ${r}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${o} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class a2e{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideDepth,r=e.strideHeight,s=e.strideWidth,i=e.dilationDepth,o=e.dilationHeight,a=e.dilationWidth,u=e.effectiveFilterDepth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,A=u-1-e.padInfo.front,d=l-1-e.padInfo.top,h=c-1-e.padInfo.left,f=u*l*c-1;this.userCode=`
      const ivec3 pads = ivec3(${A}, ${d}, ${h});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${u};
           wD += ${i}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${l};
              wR += ${o}) {
            float dyR = float(dyRCorner + wR) / ${r}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${c};
                wC += ${a}) {
              float dyC = float(dyCCorner + wC) / ${s}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${f} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${l} * ${c} +
                  wR * ${c} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u2e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,o=i,{filterSize:a,strides:u,pad:l,dimRoundingMode:c}=r,A=[1,1,1],d=Gu(o.shape,a,u,A,l,c),h=new cD(d,"max",!0),f=n.runWebGLProgram(h,[o],o.dtype),p=new a2e(d),m=n.runWebGLProgram(p,[s,f],o.dtype);return n.disposeIntermediateTensorInfo(f),m}const l2e={kernelName:r_,backendName:"webgl",kernelFunc:u2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c2e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i,output:o}=e,a=i;Ty([i,o],"maxPoolGrad");const{filterSize:u,strides:l,pad:c,dimRoundingMode:A}=r,d=So(a.shape,u,l,1,c,A),h=!0,f=new $m(d,"max",h),p=n.runWebGLProgram(f,[a],a.dtype),m=new o2e(d),g=n.runWebGLProgram(m,[s,p],a.dtype);return n.disposeIntermediateTensorInfo(p),g}const A2e={kernelName:n_,backendName:"webgl",kernelFunc:c2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d2e(t,e,n,r){let s=new $m(n,"max",!1);const i=r.runWebGLProgram(s,[t],"float32");s=new $m(n,"max",!0,!0,e);const o=r.runWebGLProgram(s,[t],"float32");return[i,o]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h2e={kernelName:s_,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:s,strides:i,pad:o,includeBatchInIndex:a}=e,u=n;O(r.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);const l=[1,1];O(Gr(i,l),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${l}'`);const c=So(r.shape,s,i,l,o),[A,d]=d2e(r,a,c,u);return[A,d]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f2e(t,e,n,r){const s=de(e),o=de(t.shape)/s,a=Fe({inputs:{x:t},attrs:{shape:[o,s]},backend:r}),u=bd(a,"float32","mean",r),l=Fe({inputs:{x:u},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(u),l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p2e={kernelName:kx,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{keepDims:s,axis:i}=e,o=n,a=r.shape.length,u=xt(i,r.shape);let l=u;const c=Un(l,a),A=c!=null,d=o.shouldExecuteOnCPU([r]),h=[];let f=r;if(A){if(d){const b=o.texData.get(f.dataId).values,B=new Array(a);for(let $=0;$<B.length;$++)B[$]=r.shape[c[$]];const I=aD(b,r.shape,r.dtype,c,B);f=o.makeTensorInfo(B,r.dtype);const w=o.texData.get(f.dataId);w.values=I}else f=F2(r,c,o);h.push(f),l=Yn(l.length,a)}jr("sum",l,a);const[p,m]=Or(f.shape,l);let g=p;s&&(g=Gn(p,u));const y=f2e(f,m,g,o);for(const C of h)o.disposeIntermediateTensorInfo(C);return y}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g2e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r,a=s.shape.length,u=xt(i,s.shape);let l=u;const c=Un(l,a);let A=s;c!=null&&(A=ks({inputs:{x:s},backend:n,attrs:{perm:c}}),l=Yn(l.length,s.shape.length)),jr("min",l,a);const[d,h]=Or(A.shape,l),f=de(h),p=Fe({inputs:{x:A},backend:n,attrs:{shape:[-1,f]}}),m=bd(p,p.dtype,"min",n);let g;if(o){const y=Gn(d,u);g=Fe({inputs:{x:m},backend:n,attrs:{shape:y}})}else g=Fe({inputs:{x:m},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),c!=null&&n.disposeIntermediateTensorInfo(A),g}const m2e={kernelName:Fx,backendName:"webgl",kernelFunc:g2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y2e=uD+`
  return min(a, b);
`,v2e=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+ky+`
  return result;
`,w2e=Xr({opSnippet:y2e,packedOpSnippet:v2e,cpuKernelImpl:hve}),C2e={kernelName:W0,backendName:"webgl",kernelFunc:w2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class b2e{constructor(e,n,r){this.variableNames=["x"],this.outputShape=n.map((c,A)=>c[0]+e[A]+c[1]);const s=e.length,i=cn(s),o=n.map(c=>c[0]).join(","),a=n.map((c,A)=>c[0]+e[A]).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s),l=r==="reflect"?0:1;if(s===1){this.userCode=`
        int start = ${o};
        int end = ${a};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${l};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${l};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${o});
      ${i} end = ${i}(${a});

      void main() {
        ${i} outC = getOutputCoords();
        for (int i = 0; i < ${s}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${l};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};
          }
        }
        ${i} coords = outC - start;
        setOutput(getX(${u}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class x2e{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((f,p)=>f[0]+e[p]+f[1]);const s=e.length,i=cn(s),o=n.map(f=>f[0]).join(","),a=n.map((f,p)=>f[0]+e[p]).join(","),u=Cs("rc",s),l=Cs("source",s),c=`${u[s-1]} < ${this.outputShape[s-1]}`,A=s===1?"source":`vec2(${l.slice(-2).join()})`,d=r==="reflect"?0:1;let h="";if(s===1){const f=`
        ${i} source = rc;
        if (source < start) {
          source = start * 2 - source - ${d};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${d};
        }
        source -= start;
      `;h=`
        ${i} rc = outputLoc;
        ${f}
        result[0] = getChannel(getX(${l.join()}), ${A});
        ${u[s-1]} += 1;
        if(${c}) {
          ${f}
          result[1] = getChannel(getX(${l.join()}), ${A});
        }
      `}else{const f=`
        ${i} source = rc;
        ${i} lt = ${i}(lessThan(source, start));
        ${i} gte = ${i}(greaterThanEqual(source, end));
        ${i} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${d}) +
                gte * ((end - 1) * 2 - source + ${d});
        source -= start;
      `;h=`
        ${i} rc = outputLoc;
        ${f}
        result[0] = getChannel(getX(${l.join()}), ${A});
        ${u[s-1]} += 1;
        if(${c}) {
          ${f}
          result[1] = getChannel(getX(${l.join()}), ${A});
        }
        rc = outputLoc;
        ${u[s-2]} += 1;
        if(${u[s-2]} < ${this.outputShape[s-2]}) {
          ${f}
          result[2] = getChannel(getX(${l.join()}), ${A});
          ${u[s-1]} += 1;
          if(${c}) {
            ${f}
            result[3] = getChannel(getX(${l.join()}), ${A});
          }
        }
      `}this.userCode=`
      const ${i} start = ${i}(${o});
      const ${i} end = ${i}(${a});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${h}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B2e=({inputs:t,backend:e,attrs:n})=>{const{x:r}=t,{paddings:s,mode:i}=n,o=le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new x2e(r.shape,s,i):new b2e(r.shape,s,i);return e.runWebGLProgram(o,[r],r.dtype)},I2e={kernelName:_x,backendName:"webgl",kernelFunc:B2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E2e=`if (b == 0.0) return NAN;
  return mod(a, b);`,$2e=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+ky+`
  return result;
`,S2e=Xr({opSnippet:E2e,packedOpSnippet:$2e}),T2e={kernelName:G0,backendName:"webgl",kernelFunc:S2e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class N2e{constructor(e,n,r){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,r],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k2e=`
if (a == b) {
  return 1.0;
};
return a / b;`,F2e=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,UK=Xr({opSnippet:k2e,packedOpSnippet:F2e,checkOutOfBounds:!0}),_2e={kernelName:k0,backendName:"webgl",kernelFunc:UK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PL="return a - b;",LK=Xr({opSnippet:PL,packedOpSnippet:PL,supportsComplex:!0,cpuKernelImpl:Fve}),D2e={kernelName:ly,backendName:"webgl",kernelFunc:LK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PK(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{dim:i}=r,o=xt([i],s.shape),a=OK({inputs:{x:s},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),u=Gn(a.shape,o),l=Fe({inputs:{x:a},backend:n,attrs:{shape:u}}),c=LK({inputs:{a:s,b:l},backend:n}),A=_K({inputs:{x:c},backend:n}),d=_2({inputs:{x:A},backend:n,attrs:{axis:o,keepDims:!1}}),h=Fe({inputs:{x:d},backend:n,attrs:{shape:u}}),f=UK({inputs:{a:A,b:h},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(A),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),f}const R2e={kernelName:Yx,backendName:"webgl",kernelFunc:PK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O2e(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{numSamples:i,seed:o,normalized:a}=r,u=a?s:PK({inputs:{logits:s},backend:n,attrs:{dim:s.shape.length-1}}),l=u.shape[0],c=u.shape[1],A=new N2e(l,c,i),d=[[o]],h=n.runWebGLProgram(A,[u],"int32",d);return a||n.disposeIntermediateTensorInfo(u),h}const U2e={kernelName:i_,backendName:"webgl",kernelFunc:O2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L2e=To+`
  return -x;
`,P2e=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function M2e(t){const{inputs:e,backend:n}=t,{x:r}=e;if(n.shouldExecuteOnCPU([r])){const i=n.texData.get(r.dataId),[o,a]=pve(i.values,r.shape,r.dtype);return n.makeTensorInfo(a,r.dtype,o)}let s;return le().getBool("WEBGL_PACK_UNARY_OPERATIONS")?s=new yA(r.shape,P2e):s=new yu(r.shape,L2e),n.runWebGLProgram(s,[r],r.dtype)}const Q2e={kernelName:Dx,backendName:"webgl",kernelFunc:M2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H2e=b3;function V2e(t){ki("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:u}=r,l=n.readSync(s.dataId),c=n.readSync(i.dataId),{selectedIndices:A}=H2e(l,c,o,a,u);return n.makeTensorInfo([A.length],"int32",new Int32Array(A))}const z2e={kernelName:o_,backendName:"webgl",kernelFunc:V2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K2e=x3;function W2e(t){ki("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:u,padToMaxOutputSize:l}=r,c=n.readSync(s.dataId),A=n.readSync(i.dataId),{selectedIndices:d,validOutputs:h}=K2e(c,A,o,a,u,l);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const G2e={kernelName:a_,backendName:"webgl",kernelFunc:W2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j2e=B3;function X2e(t){ki("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:u,softNmsSigma:l}=r,c=n.readSync(s.dataId),A=n.readSync(i.dataId),d=o,h=a,f=u,p=l,{selectedIndices:m,selectedScores:g}=j2e(c,A,d,h,f,p);return[n.makeTensorInfo([m.length],"int32",new Int32Array(m)),n.makeTensorInfo([g.length],"float32",new Float32Array(g))]}const q2e={kernelName:u_,backendName:"webgl",kernelFunc:X2e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Y2e{constructor(e,n,r,s){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${s}), float(${r}),
                      float(index == coords.y)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J2e=t=>{const{inputs:e,backend:n,attrs:r}=t,{indices:s}=e,{dtype:i,depth:o,onValue:a,offValue:u}=r,l=de(s.shape),c=new Y2e(l,o,a,u),A=Fe({inputs:{x:s},backend:n,attrs:{shape:[l]}}),d=n.runWebGLProgram(c,[A],i);n.disposeIntermediateTensorInfo(A);const h=[...s.shape,o],f=Fe({inputs:{x:d},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(d),f},Z2e={kernelName:Ux,backendName:"webgl",kernelFunc:J2e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IC(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="complex64"){const s=_y({inputs:{input:r},backend:n}),i=IC({inputs:{x:s},backend:n}),o=D2({inputs:{input:r},backend:n}),a=IC({inputs:{x:o},backend:n}),u=Oc({inputs:{real:i,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),u}else return Dy({attrs:{shape:r.shape,dtype:r.dtype,value:r.dtype==="string"?"":0},backend:n})}const eBe={kernelName:e2,backendName:"webgl",kernelFunc:IC};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MK(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(r.dtype==="complex64"){const s=_y({inputs:{input:r},backend:n}),i=MK({inputs:{x:s},backend:n}),o=D2({inputs:{input:r},backend:n}),a=IC({inputs:{x:o},backend:n}),u=Oc({inputs:{real:i,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),u}else return Dy({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:n})}const tBe={kernelName:Ox,backendName:"webgl",kernelFunc:MK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nBe(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r;if(e.length===1)return VS({inputs:{input:e[0]},backend:n,attrs:{dim:s}});const i=e[0].shape,o=e[0].dtype;e.forEach(c=>{bi(i,c.shape,"All tensors passed to stack must have matching shapes"),O(o===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],u=e.map(c=>{const A=VS({inputs:{input:c},backend:n,attrs:{dim:s}});return a.push(A),A}),l=IK({inputs:u,backend:n,attrs:{axis:s}});return a.forEach(c=>n.disposeIntermediateTensorInfo(c)),l}const rBe={kernelName:Lx,backendName:"webgl",kernelFunc:nBe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sBe{constructor(e,n,r){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((l,c)=>l[0]+e[c]+l[1]);const s=e.length,i=cn(s),o=n.map(l=>l[0]).join(","),a=n.map((l,c)=>l[0]+e[c]).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,s);if(s===1){this.userCode=`
        int start = ${o};
        int end = ${a};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${o});
      ${i} end = ${i}(${a});

      void main() {
        ${i} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${i} coords = outC - start;
          setOutput(getX(${u}));
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iBe{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((p,m)=>p[0]+e[m]+p[1]);const s=e.length,i=cn(s),o=n.map(p=>p[0]).join(","),a=n.map((p,m)=>p[0]+e[m]).join(","),u=Cs("rc",s),l=Cs("source",s),c=`${u[s-1]} < ${this.outputShape[s-1]}`,A=s===1?"source":`vec2(${l.slice(-2).join()})`,d=[`${i} rc = outputLoc;`,`${u[s-1]} += 1;
       if(${c}) {
      `,s===1?"":`}
       rc = outputLoc;
       ${u[s-2]} += 1;
       if(${u[s-2]} < ${this.outputShape[s-2]}) {`,s===1?"":`  ${u[s-1]} += 1;
         if(${c}) {`],h=s===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let f="";for(let p=0,m=s===1?2:4;p<m;p++)f+=`
        ${d[p]}
        if (${h}) {
          result[${p}] = float(value);
        } else {
          ${i} source = rc - start;
          result[${p}] = getChannel(getX(${l.join()}), ${A});
        }
      `;f+=s===1?"} ":"}}",this.userCode=`
      const ${i} start = ${i}(${o});
      const ${i} end = ${i}(${a});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${f}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QK=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,constantValue:o}=r;if(de(s.shape)===0){const l=i.map((c,A)=>c[0]+s.shape[A]+c[1]);return Dy({backend:n,attrs:{shape:l,value:o,dtype:s.dtype}})}const a=le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new iBe(s.shape,i,o):new sBe(s.shape,i,o),u=[[o]];return n.runWebGLProgram(a,[s],s.dtype,u)},oBe={kernelName:Px,backendName:"webgl",kernelFunc:QK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aBe=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,uBe=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+ky+`
  return result;
`,lBe=Xr({opSnippet:aBe,packedOpSnippet:uBe}),cBe={kernelName:X0,backendName:"webgl",kernelFunc:lBe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ABe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r,a=s.shape.length,u=[],l=xt(i,s.shape);let c=l;const A=Un(c,a);let d=s;A!=null&&(d=ks({inputs:{x:s},backend:n,attrs:{perm:A}}),c=Yn(c.length,a),u.push(d)),jr("prod",c,a);let h;if(n.shouldExecuteOnCPU([d])){const f=n.texData.get(d.dataId).values,{outVals:p,outShape:m,outDtype:g}=mve(d.shape,d.dtype,f,c);h=n.makeTensorInfo(m,g,p)}else{const[f,p]=Or(d.shape,c),m=de(p),g=Fe({inputs:{x:d},backend:n,attrs:{shape:[-1,m]}}),y=F_(s.dtype),C=bd(g,y,"prod",n);h=Fe({inputs:{x:C},backend:n,attrs:{shape:f}}),u.push(g),u.push(C)}if(o){u.push(h);const f=Gn(h.shape,l);h=Fe({inputs:{x:h},backend:n,attrs:{shape:f}})}return u.forEach(f=>n.disposeIntermediateTensorInfo(f)),h}const dBe={kernelName:Qx,backendName:"webgl",kernelFunc:ABe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hBe(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:s,paramsDenseValues:i,indices:o}=e,{outputRaggedRank:a}=r,u=s.map(g=>n.readSync(g.dataId)),l=s.map(g=>g.shape),c=n.readSync(i.dataId),A=n.readSync(o.dataId),[d,h,f]=yve(u,l,c,i.shape,i.dtype,A,o.shape,a),p=d.map(g=>n.makeTensorInfo([g.length],"int32",g)),m=n.makeTensorInfo(f,i.dtype,h);return p.concat([m])}const fBe={kernelName:l_,backendName:"webgl",kernelFunc:hBe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pBe(t){const{inputs:e,backend:n,attrs:r}=t,{shape:s,values:i,defaultValue:o,rowPartitionTensors:a}=e,{rowPartitionTypes:u}=r,l=n.readSync(s.dataId),c=n.readSync(i.dataId),A=n.readSync(o.dataId),d=a.map(m=>n.readSync(m.dataId)),h=a.map(m=>m.shape),[f,p]=vve(l,s.shape,c,i.shape,i.dtype,A,o.shape,d,h,u);return n.makeTensorInfo(f,i.dtype,p)}const gBe={kernelName:c_,backendName:"webgl",kernelFunc:pBe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HK=t=>{const{backend:e,attrs:n}=t,{start:r,stop:s,step:i,dtype:o}=n,a=wve(r,s,i,o);return e.makeTensorInfo([a.length],o,a)},mBe={kernelName:A_,backendName:"webgl",kernelFunc:HK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yBe="return 1.0 / x;",vBe=Qt({opSnippet:yBe}),wBe={kernelName:q0,backendName:"webgl",kernelFunc:vBe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CBe=To+`
  return (x < 0.0) ? 0.0 : x;
`,bBe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,xBe=Qt({opSnippet:CBe,packedOpSnippet:bBe}),BBe={kernelName:Y0,backendName:"webgl",kernelFunc:xBe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IBe=To+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,EBe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,$Be=Qt({opSnippet:IBe,packedOpSnippet:EBe}),SBe={kernelName:J0,backendName:"webgl",kernelFunc:$Be};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class TBe{constructor(e,n,r,s,i){this.variableNames=["A"],this.outputShape=[];const[o,a,u,l]=e;this.outputShape=[o,n,r,l];const c=[s&&n>1?a-1:a,s&&r>1?u-1:u],A=[s&&n>1?n-1:n,s&&r>1?r-1:r];let d;i?d="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":d="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/A[0]},
          ${c[1]/A[1]});
      const vec2 inputShapeRC = vec2(${a}.0, ${u}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${d};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NBe{constructor(e,n,r,s,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,a,u,l]=e;this.outputShape=[o,n,r,l];const c=[s&&n>1?a-1:a,s&&r>1?u-1:u],A=[s&&n>1?n-1:n,s&&r>1?r-1:r];let d;i?d="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":d="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/A[0]},
          ${c[1]/A[1]},
          ${c[1]/A[1]});
      const vec3 inputShapeRC = vec3(${a}.0, ${u}.0,
                                     ${u}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${d};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${l-1};
        bool hasNextRow = coords.z < ${r-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kBe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:o,size:a}=r,[u,l]=a,c=le().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new NBe(s.shape,u,l,i,o):new TBe(s.shape,u,l,i,o);return n.runWebGLProgram(c,[s],"float32")}const FBe={kernelName:zx,backendName:"webgl",kernelFunc:kBe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _Be{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,i]=n,[,o,a]=e,u=[r&&o>1?s-1:s,r&&a>1?i-1:i],l=[r&&o>1?o-1:o,r&&a>1?a-1:a],c=u[0]/l[0],A=u[1]/l[1],d=1/c,h=1/A,f=Math.ceil(d)*2+2,p=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${A});

        const float invHeightScale = float(${d});
        const float invWidthScale = float(${h});

        const int winHeight = int(${f});
        const int winWidth = int(${p});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${o}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${a}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${s-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${i-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DBe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:o}=r,a=new _Be(i.shape,s.shape,o);return n.runWebGLProgram(a,[i],i.dtype)}const RBe={kernelName:f_,backendName:"webgl",kernelFunc:DBe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OBe{constructor(e,n,r,s,i){this.variableNames=["A"],this.outputShape=[];const[o,a,u,l]=e;this.outputShape=[o,n,r,l];const c=[s&&n>1?a-1:a,s&&r>1?u-1:u],A=[s&&n>1?n-1:n,s&&r>1?r-1:r],d=s?"0.5":"0.0";let h;i?h="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/A[0]},
          ${c[1]/A[1]});
      const vec2 inputShapeRC = vec2(${a}.0, ${u}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class UBe{constructor(e,n,r,s,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,a,u,l]=e;this.outputShape=[o,n,r,l];const c=[s&&n>1?a-1:a,s&&r>1?u-1:u],A=[s&&n>1?n-1:n,s&&r>1?r-1:r],d=s?"0.5":"0.0";let h;i?h="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/A[0]},
          ${c[1]/A[1]},
          ${c[1]/A[1]});
      const vec3 inputShapeRC = vec3(${a}.0, ${u}.0,
                                     ${u}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${h};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${l-1};
        bool hasNextRow = coords.z < ${r-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LBe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:o,size:a}=r,[u,l]=a,c=le().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new UBe(s.shape,u,l,i,o):new OBe(s.shape,u,l,i,o);return n.runWebGLProgram(c,[s],s.dtype)}const PBe={kernelName:Vx,backendName:"webgl",kernelFunc:LBe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class MBe{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,s,i]=n,[,o,a]=e,u=[r&&o>1?s-1:s,r&&a>1?i-1:i],l=[r&&o>1?o-1:o,r&&a>1?a-1:a],c=u[0]/l[0],A=u[1]/l[1],d=1/c,h=1/A,f=Math.ceil(d)*2+2,p=Math.ceil(h)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${A});

        const float invHeightScale = float(${d});
        const float invWidthScale = float(${h});

        const int winHeight = int(${f});
        const int winWidth = int(${p});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${o}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${a}) {
              continue;
            }

            float sourceFracRow =
              float(${u[0]}) *
                (float(dyR) / float(${l[0]}));

            float sourceFracCol =
                float(${u[1]}) *
                  (float(dyC) / float(${l[1]}));

            int sourceNearestRow = int(min(
                float(int(${s}) - 1),
                ${r} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${i}) - 1),
                ${r} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QBe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:o}=r,a=new MBe(i.shape,s.shape,o);return n.runWebGLProgram(a,[i],i.dtype)}const HBe={kernelName:h_,backendName:"webgl",kernelFunc:QBe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class VBe{constructor(e,n){this.variableNames=["x"];const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);if(this.outputShape=e,r===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}const s=a=>n.indexOf(a)!==-1&&e[a]!==1?`${e[a]} - coords[${a}] - 1`:`coords[${a}]`,i=e.map((a,u)=>s(u)).join(","),o=cn(r);this.userCode=`
      void main() {
        ${o} coords = getOutputCoords();
        setOutput(getX(${i}));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zBe{constructor(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);this.outputShape=e;const s=Cs("rc",r),i=`${s[r-1]} + 1 < ${this.outputShape[r-1]}`,o=`${s[r-2]} + 1 < ${this.outputShape[r-2]}`,a=cn(r);r===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${i}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${a} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${u(s.slice())};
          if(${i}){
            result.g = ${l(s.slice())};
          }
          if(${o}) {
            result.b = ${c(s.slice())};
            if(${i}) {
              result.a = ${A(s.slice())};
            }
          }
          setOutput(result);
        }
    `;function u(f){return d(f)}function l(f){return f[r-1]="("+f[r-1]+" + 1)",d(f)}function c(f){return f[r-2]="("+f[r-2]+" + 1)",d(f)}function A(f){return f[r-1]="("+f[r-1]+" + 1)",f[r-2]="("+f[r-2]+" + 1)",d(f)}function d(f){const p=e.map((y,C)=>h(C,f)),m=p.join(","),g=p.slice(-2).join(",");return`getChannel(getX(${m}), vec2(${g}))`}function h(f,p){return n.indexOf(f)!==-1&&e[f]!==1?`${e[f]} - ${p[f]} - 1`:`${p[f]}`}}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KBe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dims:i}=r,o=s.shape.length,a=xt(i,s.shape);if(o===0)return wi({inputs:{x:s},backend:n});const u=le().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new zBe(s.shape,a):new VBe(s.shape,a);return n.runWebGLProgram(u,[s],s.dtype)}const WBe={kernelName:Kx,backendName:"webgl",kernelFunc:KBe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GBe{constructor(e,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const r=e[1],s=e[2];this.outputShape=e;let i="";typeof n=="number"?i=`float outputValue = ${n.toFixed(2)};`:i=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${i}
          if(coordX >= 0 && coordX < ${s} && coordY >= 0 && coordY < ${r}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jBe={kernelName:N_,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:s,fillValue:i,center:o}=e,a=n,u=new GBe(r.shape,i),[l,c]=D3(o,r.shape[1],r.shape[2]),A=[[l,c,Math.sin(s),Math.cos(s)]];return a.runWebGLProgram(u,[r],r.dtype,A)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XBe=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,qBe=Qt({opSnippet:XBe}),YBe={kernelName:Z0,backendName:"webgl",kernelFunc:qBe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JBe="return inversesqrt(x);",ZBe=Qt({opSnippet:JBe,cpuKernelImpl:Cve}),eIe={kernelName:ey,backendName:"webgl",kernelFunc:ZBe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class VK{constructor(e,n,r,s,i,o,a=!0){this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;const u=cn(i.length),l=cn(o.length);let c="";r===1?c="i":r===2&&(c="i, j");const A=`getIndices(${c})`;let d="";s===1?d="i":s===2&&(d="i, coords[1]");const h=`getUpdates(${d})`,f=n>1?"strides[j]":"strides";this.userCode=`
        ${u} strides = ${u}(${i});

        void main() {
          ${l} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${A});
              flattenedIndex += index * ${f};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${h};
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tIe(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s,updates:i}=e,{shape:o}=r,{sliceRank:a,numUpdates:u,sliceSize:l,strides:c,outputSize:A}=py(i,s,o),d=[A/l,l];if(A===0)return n.makeTensorInfo(o,s.dtype);const h=Fe({inputs:{x:s},backend:n,attrs:{shape:[u,a]}}),f=Fe({inputs:{x:i},backend:n,attrs:{shape:[u,l]}}),p=n.makeTensorInfo([],"float32",new Float32Array([0])),m=new VK(u,a,h.shape.length,f.shape.length,c,d),g=n.runWebGLProgram(m,[f,h,p],f.dtype),y=Fe({inputs:{x:g},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(p),y}const nIe={kernelName:p_,backendName:"webgl",kernelFunc:tIe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rIe{constructor(e,n,r,s){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,r];const i="while (left < right) {",o=`for (int i = 0; i < ${Math.ceil(Math.log2(n+1))}; ++i) { if (left >= right) break;`,a=le().getNumber("WEBGL_VERSION")===2?i:o,u=s==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${a}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${u} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sIe(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:s,values:i}=e,{side:o}=r,a=new rIe(s.shape[0],s.shape[1],i.shape[1],o),u=[[s.shape[1]]];return n.runWebGLProgram(a,[s,i],"int32",u)}const iIe={kernelName:g_,backendName:"webgl",kernelFunc:sIe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oIe{constructor(e,n,r){this.variableNames=["c","a","b"],this.outputShape=n;let s,i;if(r>4)throw Error(`Where for rank ${r} is not yet supported`);if(r===1)i="resRC",s="resRC";else{const a=["resRC.x","resRC.y","resRC.z","resRC.w"],u=[],l=[];for(let c=0;c<n.length;c++)l.push(`${a[c]}`),c<e&&u.push(`${a[c]}`);s=u.join(),i=l.join()}const o=cn(r);this.userCode=`
      void main() {
        ${o} resRC = getOutputCoords();
        float cVal = getC(${s});
        if (cVal >= 1.0) {
          setOutput(getA(${i}));
        } else {
          setOutput(getB(${i}));
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aIe(t){const{inputs:e,backend:n}=t,{condition:r,t:s,e:i}=e,o=new oIe(r.shape.length,s.shape,s.shape.length);return n.runWebGLProgram(o,[r,s,i],mi(s.dtype,i.dtype))}const uIe={kernelName:Wx,backendName:"webgl",kernelFunc:aIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lIe=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${$2};
  float scale = ${S2};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,cIe=Qt({opSnippet:lIe}),AIe={kernelName:ty,backendName:"webgl",kernelFunc:cIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dIe=sp+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,hIe=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,fIe=Qt({opSnippet:dIe,packedOpSnippet:hIe,cpuKernelImpl:xve}),pIe={kernelName:iy,backendName:"webgl",kernelFunc:fIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gIe=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,mIe=Qt({opSnippet:gIe}),yIe={kernelName:sy,backendName:"webgl",kernelFunc:mIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vIe=sp+`
  return sin(x);
`,wIe=Qt({opSnippet:vIe}),CIe={kernelName:ny,backendName:"webgl",kernelFunc:wIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bIe=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,xIe=Qt({opSnippet:bIe}),BIe={kernelName:ry,backendName:"webgl",kernelFunc:xIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IIe=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,EIe=Qt({opSnippet:IIe}),$Ie={kernelName:oy,backendName:"webgl",kernelFunc:EIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SIe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,paddings:o}=r;O(s.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const a=i.reduce((g,y)=>g*y),u=[[0,0]];u.push(...o);for(let g=1+i.length;g<s.shape.length;++g)u.push([0,0]);const l=[],c=QK({inputs:{x:s},backend:n,attrs:{paddings:u,constantValue:0}}),A=Iy(c.shape,i,a,!1),d=Ey(A.length,i.length,!1),h=$y(c.shape,i,a,!1),f=Fe({inputs:{x:c},backend:n,attrs:{shape:A}}),p=ks({inputs:{x:f},backend:n,attrs:{perm:d}}),m=Fe({inputs:{x:p},backend:n,attrs:{shape:h}});return l.push(c),l.push(f),l.push(p),l.forEach(g=>n.disposeIntermediateTensorInfo(g)),m},TIe={kernelName:Xx,backendName:"webgl",kernelFunc:SIe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NIe(t){const{inputs:e,backend:n}=t,{indices:r,values:s,denseShape:i,defaultValue:o}=e;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${r.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${s.shape}`);if(o.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${o.shape}`);const a=n.readSync(r.dataId),u=n.readSync(s.dataId),l=n.readSync(i.dataId),c=n.readSync(o.dataId)[0],[A,d,h,f,p]=Ive(a,r.shape,r.dtype,u,s.dtype,l,c);return[n.makeTensorInfo(d,r.dtype,A),n.makeTensorInfo([d[0]],s.dtype,h),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map(m=>Number(m)))),n.makeTensorInfo([p.length],r.dtype,new Int32Array(p))]}const kIe={kernelName:m_,backendName:"webgl",kernelFunc:NIe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FIe(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:s,newShape:i}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${s.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const o=Array.from(n.readSync(s.dataId)),a=n.readSync(r.dataId),u=Array.from(n.readSync(i.dataId)),[l,c,A]=Eve(a,r.shape,r.dtype,o,u);return[n.makeTensorInfo(c,r.dtype,l),n.makeTensorInfo([A.length],i.dtype,new Int32Array(A))]}const _Ie={kernelName:y_,backendName:"webgl",kernelFunc:FIe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DIe(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${i.shape}`);const o=n.readSync(r.dataId),a=n.readSync(s.dataId),u=n.readSync(i.dataId),[l,c]=dK(o,r.shape,r.dtype,a,u,!0);return n.makeTensorInfo(c,r.dtype,l)}const RIe={kernelName:v_,backendName:"webgl",kernelFunc:DIe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OIe(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${i.shape}`);const o=n.readSync(r.dataId),a=n.readSync(s.dataId),u=n.readSync(i.dataId),[l,c]=dK(o,r.shape,r.dtype,a,u);return n.makeTensorInfo(c,r.dtype,l)}const UIe={kernelName:w_,backendName:"webgl",kernelFunc:OIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LIe(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:s,sparseValues:i,defaultValue:o}=e,{outputShape:a}=r,{sliceRank:u,numUpdates:l,sliceSize:c,strides:A,outputSize:d}=py(i,s,a),h=!1;if(i.dtype==="string"){const g=n.bufferSync(s),y=n.bufferSync(i),C=rc(n.readSync(o.dataId)[0]),b=bve(g,y,a,d,c,l,u,A,C,h);return n.makeTensorInfo(a,b.dtype,b.values)}const f=new VK(l,u,s.shape.length,i.shape.length,A,[d,1],h),p=n.runWebGLProgram(f,[i,s,o],i.dtype),m=Fe({inputs:{x:p},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(p),m}const PIe={kernelName:C_,backendName:"webgl",kernelFunc:LIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MIe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{numOrSizeSplits:i,axis:o}=r,a=xt(o,s.shape)[0],u=X3(s,i,a),l=s.shape.length,c=new Array(l).fill(0),A=s.shape.slice();return u.map(d=>{const h=[...A];h[a]=d;const f=ip({inputs:{x:s},backend:n,attrs:{begin:c,size:h}});return c[a]+=d,f})}const QIe={kernelName:qx,backendName:"webgl",kernelFunc:MIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ML="return sqrt(x);",HIe=Qt({opSnippet:ML,packedOpSnippet:ML,cpuKernelImpl:$ve}),VIe={kernelName:ay,backendName:"webgl",kernelFunc:HIe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zIe="return x * x;",KIe=Qt({opSnippet:zIe}),WIe={kernelName:b_,backendName:"webgl",kernelFunc:KIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QL="return (a - b) * (a - b);",GIe=Xr({opSnippet:QL,packedOpSnippet:QL}),jIe={kernelName:uy,backendName:"webgl",kernelFunc:GIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XIe({inputs:t,attrs:e,backend:n}){const{x:r}=t,s=To+`
    return x > 0.0 ? 1.0 : float(${e.alpha});
  `,i=new yu(r.shape,s);return n.runWebGLProgram(i,[r],r.dtype)}const qIe={kernelName:hy,backendName:"webgl",kernelFunc:XIe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class YIe{constructor(e,n,r){this.variableNames=["x"],this.outputShape=r;const s=r.length,i=cn(r.length),o=cn(r.length);let a="";if(s===1)a="coords * strides + begin";else{let u=0;a=r.map((l,c)=>(u++,r.length===1?`coords * strides[${c}] + begin[${c}]`:`coords[${u-1}] * strides[${c}] + begin[${c}]`)).join(",")}this.userCode=`
      ${i} begin = ${i}(${e});
      ${i} strides = ${i}(${n});

      void main() {
        ${o} coords = getOutputCoords();
        setOutput(getX(${a}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JIe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,end:o,strides:a,beginMask:u,endMask:l,ellipsisMask:c,newAxisMask:A,shrinkAxisMask:d}=r,{finalShapeSparse:h,finalShape:f,isIdentity:p,sliceDim0:m,isSimpleSlice:g,begin:y,end:C,strides:b}=V_(s.shape,i,o,a,u,l,c,A,d);let B;if(p)B=Fe({inputs:{x:s},backend:n,attrs:{shape:f}});else if(m||g){O(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const w=M_(y,C,b),$=ip({inputs:{x:s},backend:n,attrs:{begin:y,size:w}});B=Fe({inputs:{x:$},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo($)}else if(n.shouldExecuteOnCPU([s])){const $=n.readSync(s.dataId),T=wt(s.shape,s.dtype,$),_=Sve(h,T,b,y);B=n.makeTensorInfo(f,s.dtype,_.values)}else{const $=new YIe(y,b,h);B=n.runWebGLProgram($,[s],s.dtype)}const I=Fe({inputs:{x:B},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(B),I}const ZIe={kernelName:x_,backendName:"webgl",kernelFunc:JIe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eEe(t){const{inputs:e,backend:n,attrs:r}=t,{separator:s,nGramWidths:i,leftPad:o,rightPad:a,padWidth:u,preserveShortSequences:l}=r,{data:c,dataSplits:A}=e,d=n.readSync(c.dataId),h=n.readSync(A.dataId),[f,p]=Tve(d,h,s,i,o,a,u,l);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(A.shape,"int32",p)]}const tEe={kernelName:B_,backendName:"webgl",kernelFunc:eEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nEe(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:s}=r,{input:i,delimiter:o}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(o.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${o.shape}`);const a=n.readSync(i.dataId),u=n.readSync(o.dataId)[0],[l,c,A]=Nve(a,u,s),d=c.length;return[n.makeTensorInfo([d,2],"int32",l),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(A))]}const rEe={kernelName:I_,backendName:"webgl",kernelFunc:nEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sEe(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:s}=r,{input:i}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const o=n.readSync(i.dataId),a=kve(o,s);return n.makeTensorInfo(i.shape,"int32",a)}const iEe={kernelName:E_,backendName:"webgl",kernelFunc:sEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oEe="return tan(x);",aEe=Qt({opSnippet:oEe}),uEe={kernelName:cy,backendName:"webgl",kernelFunc:aEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lEe=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,cEe=Qt({opSnippet:lEe}),AEe={kernelName:Ay,backendName:"webgl",kernelFunc:cEe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dEe{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let o=0;o<r.length;o++)r[o]=e[o]*n[o];this.outputShape=r,this.rank=r.length;const s=cn(this.rank),i=hEe(e);this.userCode=`
      void main() {
        ${s} resRC = getOutputCoords();
        setOutput(getA(${i}));
      }
    `}}function hEe(t){const e=t.length;if(e>5)throw Error(`Tile for rank ${e} is not yet supported`);if(e===1)return`imod(resRC, ${t[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let s=0;s<t.length;s++)r.push(`imod(${n[s]}, ${t[s]})`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zK(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reps:i}=r;if(s.dtype==="string"||s.shape.length>5){const u=n.readSync(s.dataId),l=s.dtype==="string"?u.map(d=>rc(d)):u,c=wt(s.shape,s.dtype,l),A=_ve(c,i);return n.makeTensorInfo(A.shape,A.dtype,A.values)}const o=new dEe(s.shape,i);return n.runWebGLProgram(o,[s],s.dtype)}const fEe={kernelName:dy,backendName:"webgl",kernelFunc:zK};class pEe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class gEe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xc(t,e){e!==null&&t.disposeIntermediateTensorInfo(e)}function HL(t){let e=1;for(;e<t;)e*=2;return e}function mEe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{k:i,sorted:o}=r,a=le().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),u=le().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),l=s.shape,c=l[l.length-1];if(n.shouldExecuteOnCPU([s])||c<a||i>u){const _=n.readSync(s.dataId),[R,P]=Dve(_,l,s.dtype,i,o);return[n.makeTensorInfo(R.shape,R.dtype,R.values),n.makeTensorInfo(P.shape,P.dtype,P.values)]}if(i===0)return l[l.length-1]=0,[n.makeTensorInfo(l,s.dtype,[]),n.makeTensorInfo(l,"int32",[])];if(c===1)return[s,Dy({attrs:{shape:l,dtype:"int32",value:0},backend:n})];const A=n.texData.get(s.dataId),d=A!==null&&A.isPacked,h=d?n.unpackTensor(s):s,p=de(l)/c,m=Fe({inputs:{x:h},attrs:{shape:[p,c]},backend:n});d&&Xc(n,h);const g=HL(i),y=HL(c);let C=null;const b=()=>C===null?[m,m]:[m,C],B=(_,R,P)=>{const L=b(),z=new pEe(P),q=[[c],[C===null?1:0],[Number.NEGATIVE_INFINITY],[_],[R]],ne=C;C=n.runWebGLProgram(z,L,"int32",q),Xc(n,ne)};for(let _=1;_<g;_*=2){const R=_*2;for(let P=_;P>=1;P/=2)B(R,P,[p,y])}for(let _=y;_>g;_/=2){const R=b(),P=new gEe([p,_/2]),z=[[c],[C===null?1:0],[g]],V=C;C=n.runWebGLProgram(P,R,"int32",z),Xc(n,V);const q=g/2,ne=q*2;for(let H=q;H>=1;H/=2)B(ne,H,C.shape)}let I=C;C=ip({inputs:{x:C},backend:n,attrs:{begin:0,size:[p,i]}}),Xc(n,I);let w=RK({inputs:{x:m,indices:C},backend:n,attrs:{axis:1,batchDims:1}});Xc(n,m);const $=l.slice(0,-1);$.push(i),I=C,C=Fe({inputs:{x:C},attrs:{shape:$},backend:n}),Xc(n,I);const T=w;return w=Fe({inputs:{x:w},attrs:{shape:$},backend:n}),Xc(n,T),[w,C]}const yEe={kernelName:$_,backendName:"webgl",kernelFunc:mEe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vEe{constructor(e,n,r,s,i,o){this.variableNames=["Image","Transforms"],this.outputShape=o;const a=r==="nearest"?1:2;let u;switch(s){case"constant":u=1;break;case"reflect":u=2;break;case"wrap":u=3;break;case"nearest":u=4;break;default:u=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${u} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${u} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${u} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${i});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${i});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${e}));

                if (${a} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wEe(t){const{inputs:e,backend:n,attrs:r}=t,{image:s,transforms:i}=e,{interpolation:o,fillMode:a,fillValue:u,outputShape:l}=r,[c,A,d,h]=s.shape,[f,p]=l!=null?l:[A,d],m=[c,f,p,h],g=new vEe(A,d,o,a,u,m);return n.runWebGLProgram(g,[s,i],"float32")}const CEe={kernelName:S_,backendName:"webgl",kernelFunc:wEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bEe(t){const{inputs:e,attrs:n,backend:r}=t,{axis:s}=n,{x:i}=e;Ty(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const o=r.readSync(i.dataId),{outputValues:a,outputShape:u,indices:l}=Rve(o,s,i.shape,i.dtype);return[r.makeTensorInfo(u,i.dtype,a),r.makeTensorInfo([l.length],"int32",l)]}const xEe={kernelName:T_,backendName:"webgl",kernelFunc:bEe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BEe(t){const{inputs:e,backend:n,attrs:r}=t,{value:s}=e;let{axis:i}=r;i<0&&(i+=s.shape.length);const o=s,a=o.shape.length,u=s.shape[i],l=new Array(a-1);let c=0;for(let p=0;p<a;p++)p!==i&&(l[c++]=o.shape[p]);const A=[],d=new Array(a).fill(0),h=o.shape.slice();h[i]=1;const f=new Array(u);for(let p=0;p<f.length;p++){d[i]=p;const m=ip({inputs:{x:o},backend:n,attrs:{begin:d,size:h}}),g=Fe({inputs:{x:m},backend:n,attrs:{shape:l}});f[p]=g,A.push(m)}return A.forEach(p=>n.disposeIntermediateTensorInfo(p)),f}const IEe={kernelName:Jx,backendName:"webgl",kernelFunc:BEe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EEe{constructor(e,n){this.variableNames=["x","segmentIds"];const r=e.windowSize,s=e.batchSize,i=e.inSize,o=e.numSegments,a=o*Math.ceil(i/r);this.outputShape=[s,a];const u="0.0",l="sumValue",c=Math.floor(r/4)*4,A=r%4,d=`
        sumValue += dot(values, segFilter);
    `;let h="";i%r>0&&(h=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `);let f="";i%r>0&&(f=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${u};

      float getValue(int batch, int inIdx) {
        ${h}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${f}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${o})) * float(${r}));
        int currentSeg = int(mod(float(outIdx), float(${o})));

        float sumValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${d}
        }

        int inIdx = inOffset + ${c};
        if (${A===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${d}
        } else if (${A===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${d}
        } else if (${A===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${d}
        }
        setOutput(${l});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Ee(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,segmentIds:i}=e,{numSegments:o}=r,a=s.shape.length,u=[];let l=0;const c=Un([l],a);let A=s;c!=null&&(A=ks({inputs:{x:s},backend:n,attrs:{perm:c}}),u.push(A),l=Yn(1,a)[0]);const d=az(A.shape,l,o),h=de([A.shape[l]]),f=Fe({inputs:{x:A},backend:n,attrs:{shape:[-1,h]}});u.push(f);const p=F_(s.dtype),m=(b,B,I,w,$)=>{const T=b.shape[0],_=b.shape[1],R=oz(_,$),P={windowSize:R,inSize:_,batchSize:T,numSegments:$},L=new EEe(P,B),z=n.compileAndRun(L,[b,I],w);if(u.push(z),z.shape[1]===$)return z;const V=HK({backend:n,attrs:{start:0,stop:$,step:1,dtype:"float32"}}),q=zK({inputs:{x:V},backend:n,attrs:{reps:[_/R]}});return u.push(V),u.push(q),m(z,B,q,w,$)},g=m(f,"unsortedSegmentSum",i,p,o),y=Fe({inputs:{x:g},backend:n,attrs:{shape:d}});let C=y;if(c!=null){u.push(y);const b=Fc(c);C=ks({inputs:{x:C},backend:n,attrs:{perm:b}})}return u.forEach(b=>n.disposeIntermediateTensorInfo(b)),C}const SEe={kernelName:Zx,backendName:"webgl",kernelFunc:$Ee};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TEe=[E1e,S1e,k1e,D1e,O1e,P1e,Q1e,V1e,G1e,X1e,J1e,twe,swe,uwe,Awe,hwe,pwe,vwe,Cwe,xwe,$we,Dwe,Owe,Lwe,zwe,Wwe,qwe,l1e,Zwe,sCe,uCe,fCe,gCe,yCe,wCe,bCe,ICe,SCe,kCe,_Ce,RCe,UCe,MCe,HCe,WCe,jCe,YCe,ebe,nbe,obe,cbe,fbe,mbe,wbe,Cbe,xbe,Ibe,$be,Tbe,kbe,Rbe,Lbe,Qbe,Vbe,Wbe,Xbe,Zbe,rxe,u1e,ixe,nCe,uxe,Axe,fxe,A1e,yxe,bxe,Bxe,Sxe,kxe,Rxe,Lxe,Hxe,Wxe,Xxe,Yxe,t2e,r2e,i2e,l2e,A2e,h2e,p2e,m2e,C2e,I2e,T2e,U2e,f1e,Q2e,z2e,G2e,q2e,Mwe,Z2e,tBe,rBe,oBe,cBe,h1e,dBe,fBe,gBe,mBe,Qwe,_2e,wBe,BBe,SBe,g1e,FBe,RBe,PBe,HBe,WBe,jBe,YBe,eIe,nIe,iIe,uIe,AIe,pIe,yIe,CIe,BIe,Fwe,R2e,$Ie,TIe,kIe,_Ie,RIe,UIe,PIe,QIe,VIe,WIe,jIe,qIe,ZIe,tEe,rEe,iEe,D2e,x1e,uEe,AEe,fEe,yEe,CEe,B1e,xEe,IEe,SEe,eBe];for(const t of TEe)_8(t);var KK={exports:{}};(function(t,e){(function(r,s){t.exports=s(Z.exports)})(ja,function(n){return function(r){var s={};function i(o){if(s[o])return s[o].exports;var a=s[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=r,i.c=s,i.d=function(o,a,u){i.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:u})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,a){if(a&1&&(o=i(o)),a&8||a&4&&typeof o=="object"&&o&&o.__esModule)return o;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:o}),a&2&&typeof o!="string")for(var l in o)i.d(u,l,function(c){return o[c]}.bind(null,l));return u},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,s,i){i.r(s);var o=i("react"),a=function(){var d=function(h,f){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var g in m)m.hasOwnProperty(g)&&(p[g]=m[g])},d(h,f)};return function(h,f){d(h,f);function p(){this.constructor=h}h.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}(),u=function(){return u=Object.assign||function(d){for(var h,f=1,p=arguments.length;f<p;f++){h=arguments[f];for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(d[m]=h[m])}return d},u.apply(this,arguments)},l=function(d,h){var f={};for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&h.indexOf(p)<0&&(f[p]=d[p]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,p=Object.getOwnPropertySymbols(d);m<p.length;m++)h.indexOf(p[m])<0&&Object.prototype.propertyIsEnumerable.call(d,p[m])&&(f[p[m]]=d[p[m]]);return f};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(h){var f=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return f?new Promise(function(p,m){f.call(navigator,h,p,m)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function c(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var A=function(d){a(h,d);function h(f){var p=d.call(this,f)||this;return p.canvas=null,p.ctx=null,p.requestUserMediaId=0,p.unmounted=!1,p.state={hasUserMedia:!1},p}return h.prototype.componentDidMount=function(){var f=this,p=f.state,m=f.props;if(this.unmounted=!1,!c()){m.onUserMediaError("getUserMedia not supported");return}p.hasUserMedia||this.requestUserMedia(),m.children&&typeof m.children!="function"&&console.warn("children must be a function")},h.prototype.componentDidUpdate=function(f){var p=this.props;if(!c()){p.onUserMediaError("getUserMedia not supported");return}var m=JSON.stringify(f.audioConstraints)!==JSON.stringify(p.audioConstraints),g=JSON.stringify(f.videoConstraints)!==JSON.stringify(p.videoConstraints),y=f.minScreenshotWidth!==p.minScreenshotWidth,C=f.minScreenshotHeight!==p.minScreenshotHeight;(g||y||C)&&(this.canvas=null,this.ctx=null),(m||g)&&(this.stopAndCleanup(),this.requestUserMedia())},h.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},h.stopMediaStream=function(f){f&&(f.getVideoTracks&&f.getAudioTracks?(f.getVideoTracks().map(function(p){f.removeTrack(p),p.stop()}),f.getAudioTracks().map(function(p){f.removeTrack(p),p.stop()})):f.stop())},h.prototype.stopAndCleanup=function(){var f=this.state;f.hasUserMedia&&(h.stopMediaStream(this.stream),f.src&&window.URL.revokeObjectURL(f.src))},h.prototype.getScreenshot=function(f){var p=this,m=p.state,g=p.props;if(!m.hasUserMedia)return null;var y=this.getCanvas(f);return y&&y.toDataURL(g.screenshotFormat,g.screenshotQuality)},h.prototype.getCanvas=function(f){var p=this,m=p.state,g=p.props;if(!this.video||!m.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var y=this.video.videoWidth,C=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var b=y/C;y=g.minScreenshotWidth||this.video.clientWidth,C=y/b,g.minScreenshotHeight&&C<g.minScreenshotHeight&&(C=g.minScreenshotHeight,y=C*b)}this.canvas=document.createElement("canvas"),this.canvas.width=(f==null?void 0:f.width)||y,this.canvas.height=(f==null?void 0:f.height)||C,this.ctx=this.canvas.getContext("2d")}var B=this,I=B.ctx,w=B.canvas;return I&&w&&(w.width=(f==null?void 0:f.width)||w.width,w.height=(f==null?void 0:f.height)||w.height,g.mirrored&&(I.translate(w.width,0),I.scale(-1,1)),I.imageSmoothingEnabled=g.imageSmoothing,I.drawImage(this.video,0,0,(f==null?void 0:f.width)||w.width,(f==null?void 0:f.height)||w.height),g.mirrored&&(I.scale(-1,1),I.translate(-w.width,0))),w},h.prototype.requestUserMedia=function(){var f=this,p=this.props,m=function(C,b){var B={video:typeof b<"u"?b:!0};p.audio&&(B.audio=typeof C<"u"?C:!0),f.requestUserMediaId++;var I=f.requestUserMediaId;navigator.mediaDevices.getUserMedia(B).then(function(w){f.unmounted||I!==f.requestUserMediaId?h.stopMediaStream(w):f.handleUserMedia(null,w)}).catch(function(w){f.handleUserMedia(w)})};if("mediaDevices"in navigator)m(p.audioConstraints,p.videoConstraints);else{var g=function(C){return{optional:[{sourceId:C}]}},y=function(C){var b=C.deviceId;return typeof b=="string"?b:Array.isArray(b)&&b.length>0?b[0]:typeof b=="object"&&b.ideal?b.ideal:null};MediaStreamTrack.getSources(function(C){var b=null,B=null;C.forEach(function($){$.kind==="audio"?b=$.id:$.kind==="video"&&(B=$.id)});var I=y(p.audioConstraints);I&&(b=I);var w=y(p.videoConstraints);w&&(B=w),m(g(b),g(B))})}},h.prototype.handleUserMedia=function(f,p){var m=this.props;if(f||!p){this.setState({hasUserMedia:!1}),m.onUserMediaError(f);return}this.stream=p;try{this.video&&(this.video.srcObject=p),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(p)})}m.onUserMedia(p)},h.prototype.render=function(){var f=this,p=this,m=p.state,g=p.props,y=g.audio;g.forceScreenshotSourceSize;var C=g.disablePictureInPicture;g.onUserMedia,g.onUserMediaError,g.screenshotFormat,g.screenshotQuality,g.minScreenshotWidth,g.minScreenshotHeight,g.audioConstraints,g.videoConstraints,g.imageSmoothing;var b=g.mirrored,B=g.style,I=B===void 0?{}:B,w=g.children,$=l(g,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),T=b?u(u({},I),{transform:(I.transform||"")+" scaleX(-1)"}):I,_={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",u({autoPlay:!0,disablePictureInPicture:C,src:m.src,muted:!y,playsInline:!0,ref:function(R){f.video=R},style:T},$)),w&&w(_))},h.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},h}(o.Component);s.default=A},react:function(r,s){r.exports=n}}).default})})(KK);const NEe=$b(KK.exports);const kEe=()=>{const t=Ic();return cd(),De("div",{className:"pixel-app",children:[M("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark",style:{position:"relative"},children:M("div",{className:"container-fluid"})}),M("div",{className:"pixel-camera-cont",children:M(NEe,{src:"1.jpg",id:"videoId",audio:!1,className:"img-fluid",screenshotQuality:"0.95",screenshotFormat:"image/jpeg",videoConstraints:{facingMode:"environment"}})}),M("nav",{id:"navbar_",className:"navbar fixed-bottom navbar-expand-sm bg-dark",children:De("div",{className:"container-fluid",children:[De("span",{className:"navbar-brand ",children:[" ",M(eg,{to:"/home",className:"navbar-brand icon-op",children:M("img",{width:"50",height:"50",src:"static/img/goback.svg",alt:""})})]}),M("span",{onClick:()=>{var r=document.getElementById("videoId"),s=document.createElement("canvas");s.height=r.videoHeight,s.width=r.videoWidth;var i=s.getContext("2d");i.drawImage(r,0,0,s.width,s.height);var o=s.toDataURL();t("/preview",{state:{metal_type:"Angle Bar",img:o}})},className:"pixel-camera-btn navbar-brand "}),De("div",{className:"navbar-brand",children:[M("input",{type:"file",onChange:r=>{var s=new window.FileReader;s.readAsDataURL(r.target.files[0]),s.onloadend=async()=>{await t("/preview",{state:{metal_type:"Angle Bar",img:s.result}})}},id:"fileupload",style:{display:"none"}}),De("label",{htmlFor:"fileupload",className:"btn btn-default",children:[" ",M("img",{width:"50",height:"50",src:"static/img/image.svg",alt:""})," "]})]})]})})]})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WK={kernelName:ex,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>X(t,qf(_e(n,"float32"),-1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FEe={kernelName:v0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=on(_e(n,"float32")),s=as(Me(tt(1),r));return En(Je(t,s))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Ee={kernelName:w0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=as(Me(on(_e(n,"float32")),1));return Je(t,r)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DEe={kernelName:Wf,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=ft(n.shape,r.shape);return{a:()=>{let a=t;const u=wr(n.shape,s);return u.length>0&&(a=Ke(a,u)),Y(a,n.shape)},b:()=>{let a=t;const u=wr(r.shape,s);return u.length>0&&(a=Ke(a,u)),Y(a,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const REe={kernelName:tx,saveAllInputs:!0,gradFunc:(t,e)=>{const n={};return e.forEach((r,s)=>{n[s]=()=>t.clone()}),n}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OEe={kernelName:nx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ot(n)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UEe={kernelName:rx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ot(n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LEe={kernelName:C0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Je(t,as(Me(tt(1),on(_e(n,"float32")))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PEe={kernelName:b0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=as(Ce(tt(1),on(_e(n,"float32"))));return Je(t,r)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MEe={kernelName:I0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=ft(n.shape,r.shape);return{a:()=>{const a=Ce(on(n),on(r));let u=X(t,Je(r,a));const l=wr(n.shape,s);return l.length>0&&(u=Ke(u,l)),Y(u,n.shape)},b:()=>{const a=Ce(on(n),on(r));let u=En(X(t,Je(n,a)));const l=wr(r.shape,s);return l.length>0&&(u=Ke(u,l)),Y(u,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QEe={kernelName:x0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Je(t,Ce(on(_e(n,"float32")),1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HEe={kernelName:B0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Je(t,Me(tt(1),on(_e(n,"float32"))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VEe(t,e,n,r,s,i){const o=U(t,"dy","avgPool3dGrad"),a=U(e,"input","avgPool3dGrad");let u=o,l=a,c=!1;a.rank===4&&(c=!0,u=Y(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),l=Y(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),O(u.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${u.rank}.`),O(l.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${l.rank}.`),_s("avgPool3dGrad",s,i);const A={dy:u,input:l},d={filterSize:n,strides:r,pad:s,dimRoundingMode:i},h=j.runKernel(FF,A,d);return c?Y(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const zEe=G({avgPool3dGrad_:VEe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KEe={kernelName:ix,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{filterSize:s,strides:i,pad:o,dimRoundingMode:a}=n;return{x:()=>zEe(t,r,s,i,o,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WEe(t,e,n,r,s){const i=U(t,"dy","avgPoolGrad"),o=U(e,"input","avgPoolGrad");O(o.rank===i.rank,()=>`Rank of input (${o.rank}) does not match rank of dy (${i.rank})`);let a=o,u=i,l=!1;o.rank===3&&(l=!0,a=Y(o,[1,o.shape[0],o.shape[1],o.shape[2]]),u=Y(i,[1,i.shape[0],i.shape[1],i.shape[2]])),O(u.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${u.rank}.`),O(a.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${a.rank}.`);const c={dy:u,input:a},A={filterSize:n,strides:r,pad:s},d=j.runKernel(kF,c,A);return l?Y(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const GEe=G({avgPoolGrad_:WEe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jEe={kernelName:sx,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{filterSize:s,strides:i,pad:o}=n;return{x:()=>GEe(t,r,s,i,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XEe={kernelName:ox,inputsToSave:["a","b"],gradFunc:(t,e,n)=>{const[r,s]=e,{transposeA:i,transposeB:o}=n;return!i&&!o?{a:()=>Bt(t,s,!1,!0),b:()=>Bt(r,t,!0,!1)}:!i&&o?{a:()=>Bt(t,s,!1,!1),b:()=>Bt(t,r,!0,!1)}:i&&!o?{a:()=>Bt(s,t,!1,!0),b:()=>Bt(r,t,!1,!1)}:{a:()=>Bt(s,t,!0,!0),b:()=>Bt(t,r,!0,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qEe={kernelName:ax,gradFunc:(t,e,n)=>{const{blockShape:r,crops:s}=n;return{x:()=>h2(t,r,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YEe={kernelName:hle,gradFunc:(t,e,n)=>{const r=n,s=r.inputShape,i=r.shape,o=Array.from(i);for(let u=s.length-1;u>=0;u--)if(s[u]===i[u])o[u]=1;else if(s[u]!==1)throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${i}].`);const a=[];for(let u=0;u<o.length;u++)o[u]>1&&a.push(u);return{x:()=>Ke(t,a,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JEe={kernelName:E0,gradFunc:t=>({x:()=>t.clone()})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZEe={kernelName:$0,gradFunc:t=>({x:()=>Ot(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e$e={kernelName:S0,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{clipValueMin:s,clipValueMax:i}=n;return{x:()=>Gs(Va(gd(r,s),md(r,i)),t,Ot(t))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t$e={kernelName:ux,inputsToSave:["x"],gradFunc:WK.gradFunc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n$e={kernelName:lx,saveAllInputs:!0,gradFunc:(t,e,n)=>{const r=e.map(u=>u.shape),{axis:s}=n,i=xt(s,e[0].shape)[0],o=r.map(u=>u[i]);return gi(t,o,i).map(u=>()=>u)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r$e={kernelName:cx,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,{dilations:i,strides:o,pad:a,dataFormat:u}=n;return O(ic(i),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`),{x:()=>j_(r.shape,t,s,o,a,u),filter:()=>C3(r,t,s.shape,o,a,u)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s$e={kernelName:Ax,inputsToSave:["dy","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,{strides:i,pad:o,dataFormat:a,dimRoundingMode:u}=n;return{dy:()=>oc(t,s,i,o,a,1,u),filter:()=>C3(t,r,s.shape,i,o,a,u)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i$e(t,e,n,r,s){let i=t;t.rank===4&&(i=Y(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let o=e;o.rank===4&&(o=Y(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),O(i.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`),O(o.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${o.shape}.`),O(n.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`),O(i.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${n[3]}.`),O(o.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${o.shape[4]}) must match output depth for filter (${n[4]}).`);const a={x:i,dy:o},u={strides:r,pad:s,filterShape:n};return j.runKernel(UF,a,u)}const o$e=G({conv3DBackpropFilter_:i$e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a$e={kernelName:dx,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:r,strides:s,pad:i}=n;O(ic(r),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`);const[o,a]=e;return{x:()=>KV(o.shape,t,a,s,i),filter:()=>o$e(o,t,a.shape,s,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u$e={kernelName:T0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>X(En(d3(_e(n,"float32"))),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l$e={kernelName:N0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>X(h3(_e(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c$e={kernelName:hx,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s,exclusive:i,reverse:o}=n;return{x:()=>{const a=Un([s],r.rank);let u=Y_(t,s,i,!o);return a!=null&&(u=Nt(u,a)),u}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A$e={kernelName:fx,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:r,strides:s,pad:i,dimRoundingMode:o}=n,a=r==null?[1,1]:r;O(ic(a),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${a}'`);const[u,l]=e;return O(u.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${u.rank}.`),O(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${l.rank}.`),O(u.shape[3]===l.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${u.shape[3]}) must match the inChannels dimension in filter ${l.shape[2]}.`),O(Gr(s,a),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${s} and dilations '${a}'.`),_s("depthwiseConv2d",i,o),{x:()=>F7(u.shape,t,l,s,i,a,o),filter:()=>k7(u,t,l.shape,s,i,a,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d$e={kernelName:px,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[r,s]=e,i={x:r,filter:s,dy:t},o={x:r,filter:s,dy:t};return{x:()=>j.runKernel(mS,i,n),filter:()=>j.runKernel(yS,o,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h$e={kernelName:F0,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e,r={dy:t,y:n};return{x:()=>j.runKernel(GF,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f$e={kernelName:_0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,r=X(Li(En(on(n))),2/Math.sqrt(Math.PI));return{x:()=>X(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p$e={kernelName:D0,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>X(t,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g$e={kernelName:mx,inputsToSave:["input"],gradFunc:(t,e)=>{const[n]=e;return{input:()=>Y(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m$e={kernelName:R0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>X(t,Li(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y$e={kernelName:O0,gradFunc:t=>({x:()=>Ot(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v$e={kernelName:U0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=ft(n.shape,r.shape);return{a:()=>{const a=Je(t,_e(r,"float32")),u=wr(n.shape,s);return u.length>0?Y(Ke(a,u),n.shape):a},b:()=>{let a=X(t,_e(n,"float32"));const u=wr(r.shape,s);u.length>0&&(a=Y(Ke(a,u),r.shape));const l=on(r);return En(Je(a,_e(l,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w$e={kernelName:yx,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,n)=>{const{varianceEpsilon:r}=n,[s,i,o,a]=e,u=a==null?tt(1):a,l=wr(i.shape,s.shape),c=[];if(i.rank===1){for(let b=0;b<s.shape.length-1;++b)c.push(s.shape[b]);c.push(1)}const A=Me(s,i),d=X(t,u),h=l3(Ce(o,tt(r))),f=X(X(X(h,h),h),tt(-.5));return{x:()=>i.rank===1?Y(X(X(t,mo(Y(h,[1,1,1,i.shape[0]]),c)),u),s.shape):Y(X(X(t,h),u),s.shape),mean:()=>{let b=X(X(h,tt(-1)),d);return i.rank===1&&(b=Ke(b,l)),Y(b,i.shape)},variance:()=>{let b=X(X(f,A),d);return i.rank===1&&(b=Ke(b,l)),Y(b,i.shape)},scale:()=>{const b=X(A,h);let B=X(t,b);return i.rank===1&&(B=Ke(B,l)),Y(B,i.shape)},offset:()=>{let b=t;return i.rank===1&&(b=Ke(b,l)),Y(b,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C$e={kernelName:vx,inputsToSave:["x","indices"],gradFunc:(t,e,n)=>{const[r,s]=e,{axis:i}=n,o=xt(i,r.shape)[0];return{x:()=>{const u=r.shape,l=s.size,c=u.slice(0,o),A=c.length,d=u.slice(i,u.length).slice(1),h=d.length,f=VL(0,A),p=VL(A+1,A+1+h),m=zL([c,[l],d]),g=Y(t,m),y=Y(s,[l]),C=zL([[A],f,p]),b=Nt(g,C);let B=y3(b,y,r.shape[o]);const I=Fc(C);return B=Nt(B,I),B},indices:()=>s}}};function VL(t,e){const n=[];for(let r=t;r<e;++r)n.push(r);return n}function zL(t){const e=[];for(let n=0;n<t.length;++n)for(let r=0;r<t[n].length;++r)e.push(t[n][r]);return e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b$e={kernelName:L0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>Ot(n),b:()=>Ot(r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x$e={kernelName:P0,gradFunc:t=>({x:()=>_e(t,"float32")})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B$e={kernelName:M0,gradFunc:t=>({x:()=>Ot(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I$e={kernelName:Q0,gradFunc:t=>({x:()=>Ot(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E$e={kernelName:H0,gradFunc:t=>({x:()=>Ot(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $$e={kernelName:Cx,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{alpha:s}=n,i=Ki(r,0);return{x:()=>Gs(i,t,X(t,s))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S$e={kernelName:z0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Je(t,Ce(n,1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T$e={kernelName:V0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Je(t,_e(n,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N$e={kernelName:fle,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n;return{logits:()=>{const o=Li(r);return Me(t,X(Ke(t,s,!0),o))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k$e(t,e,n,r=5,s=1,i=1,o=.5){const a={x:t,y:e,dy:n},u={depthRadius:r,bias:s,alpha:i,beta:o};return j.runKernel(t_,a,u)}const F$e=G({localResponseNormalizationBackprop_:k$e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _$e={kernelName:$x,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{depthRadius:i,bias:o,alpha:a,beta:u}=n;return{x:()=>F$e(r,s,t,i,o,a,u)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GK(t,e,n,r){return e.rank<n.rank&&(e=Y(e,Gn(e.shape,r))),t.rank<n.rank&&(t=Y(t,Gn(t.shape,r))),{x:()=>X(t,_e(na(n,e),t.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KL={kernelName:Sx,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const r=n,{reductionIndices:s}=r,i=e[0],o=e[1],a=xt(s,i.shape),u=GK(t,o,i,a);return{x:()=>u.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D$e={kernelName:K0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>X(t,_e(gd(n,r),"float32")),b:()=>X(t,_e(e3(n,r),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R$e(t,e,n,r,s,i,o){const a=U(t,"dy","maxPool3dGrad"),u=U(e,"input","maxPool3dGrad"),l=U(n,"output","maxPool3dGrad");let c=a,A=u,d=l,h=!1;u.rank===4&&(h=!0,c=Y(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]),A=Y(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),d=Y(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),O(c.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`),O(A.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${A.rank}.`),O(d.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${d.rank}.`),_s("maxPool3dGrad",i,o);const f={dy:c,input:A,output:d},p={filterSize:r,strides:s,pad:i,dimRoundingMode:o},m=j.runKernel(r_,f,p);return h?Y(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}const O$e=G({maxPool3dGrad_:R$e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U$e={kernelName:Nx,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{filterSize:i,strides:o,pad:a,dimRoundingMode:u}=n;return{x:()=>O$e(t,r,s,i,o,a,u)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L$e(t,e,n,r,s,i,o){const a=U(t,"dy","maxPoolGrad"),u=U(e,"input","maxPoolGrad"),l=U(n,"output","maxPoolGrad");O(u.rank===a.rank,()=>`Rank of input (${u.rank}) does not match rank of dy (${a.rank})`),O(a.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${a.rank}.`),O(u.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${u.rank}.`),_s("maxPoolGrad",i,o);const c={dy:a,input:u,output:l},A={filterSize:r,strides:s,pad:i,dimRoundingMode:o};return j.runKernel(n_,c,A)}const P$e=G({maxPoolGrad_:L$e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M$e={kernelName:Tx,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,s]=e,{filterSize:i,strides:o,pad:a}=n;return{x:()=>P$e(t,r,s,i,o,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q$e={kernelName:kx,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n,i=xt(s,r.shape),a=Or(r.shape,i)[1],u=de(a);return{x:()=>{const c=r.shape.slice();i.forEach(h=>{c[h]=1});const A=Y(t,c);return Je(X(A,di(r.shape,"float32")),u)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H$e={kernelName:Fx,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const r=n,{axis:s}=r,[i,o]=e,a=xt(s,i.shape),u=GK(t,o,i,a);return{x:()=>u.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V$e={kernelName:W0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>X(t,_e(md(n,r),"float32")),b:()=>X(t,_e(Ki(n,r),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z$e={kernelName:_x,inputsToSave:["x"],gradFunc:(t,e,n)=>{const r=e[0],{paddings:s}=n,i=s.map(o=>o[0]);return{x:()=>Dt(t,i,r.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K$e={kernelName:G0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=ft(n.shape,r.shape);return{a:()=>{const a=wr(n.shape,s);return a.length>0?Y(Ke(t,a),n.shape):t},b:()=>{const a=X(t,En(Cy(Je(n,r)))),u=wr(r.shape,s);return u.length>0?Y(Ke(a,u),r.shape):a}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W$e={kernelName:j0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=ft(n.shape,r.shape);return{a:()=>{const a=X(t,_e(r,"float32")),u=wr(n.shape,s);return u.length>0?Y(Ke(a,u),n.shape):a},b:()=>{const a=X(t,_e(n,"float32")),u=wr(r.shape,s);return u.length>0?Y(Ke(a,u),r.shape):a}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G$e={kernelName:Dx,gradFunc:t=>({x:()=>En(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j$e={kernelName:Ux,inputsToSave:["indices"],gradFunc:(t,e)=>{const n=e[0];return{indices:()=>dr(n.shape,"float32")}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X$e={kernelName:Ox,gradFunc:t=>({x:()=>Ot(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q$e={kernelName:Lx,saveAllInputs:!0,gradFunc:(t,e,n)=>{const{axis:r}=n;return ra(t,r).map(i=>()=>i)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WL={kernelName:Px,inputsToSave:["x"],gradFunc:(t,e,n)=>{const r=e[0],{paddings:s}=n,i=s.map(o=>o[0]);return{x:()=>Dt(t,i,r.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y$e={kernelName:X0,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{const[n,r,s]=e,i=n,o=r,a=ft(i.shape,o.shape);return{a:()=>{const c=_e(o,"float32");let A=X(t,X(c,ac(i,Me(c,tt(1)))));const d=wr(i.shape,a);return d.length>0&&(A=Ke(A,d)),Y(A,i.shape)},b:()=>{const c=Ki(i,0),A=Gs(c,Pi(i),Ot(i));let d=X(t,X(s,A));const h=wr(o.shape,a);return h.length>0&&(d=Ke(d,h)),Y(d,o.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J$e={kernelName:Mx,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{const[n,r]=e,s=Ki(n,0);return{x:()=>Gs(s,t,X(t,r)),alpha:()=>{let i=Gs(s,Ot(t),X(t,n));const o=wr(r.shape,t.shape);return o.length>0&&(i=Ke(i,o)),Y(i,r.shape)}}}};/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z$e(t,e,n){const r=t.shape.slice();r[n]=1;const s=Y(e,r),i=yC(t,n,!0,!1),o=yC(t,n,!0,!0),a=X(i,o);return X(s,a)}function eSe(t,e,n){const r=t.shape.length,s=r-n.length,i=Un(n,r);let o=t;i!=null&&(o=Nt(t,i));const a=o.shape.slice(),l=a.splice(r-n.length,n.length).reduce((d,h)=>d*h,1);a.push(l);const c=o.reshape(a);let A=Z$e(c,e,s);if(A=A.reshape(o.shape),i!=null){const d=Fc(i);A=Nt(A,d)}return A}const tSe={kernelName:Qx,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:s}=n;let i=[];return s==null?i=r.shape.map((o,a)=>a):typeof s=="number"?i=[s]:i=s,{x:()=>eSe(r,t,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nSe={kernelName:k0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=ft(n.shape,r.shape);return{a:()=>{const a=Je(t,_e(r,"float32")),u=wr(n.shape,s);return u.length>0?Y(Ke(a,u),n.shape):a},b:()=>{let a=X(t,_e(n,"float32"));const u=wr(r.shape,s);u.length>0&&(a=Y(Ke(a,u),r.shape));const l=on(r);return En(Je(a,_e(l,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rSe={kernelName:q0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Je(t,En(on(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sSe={kernelName:J0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,r=X(md(n,6),qf(n));return{x:()=>X(t,_e(r,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iSe={kernelName:Y0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>X(t,_e(qf(n),"float32"))}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oSe={kernelName:Hx,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Y(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aSe={kernelName:zx,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[r]=e,s={dy:t,images:r};return{images:()=>j.runKernel(f_,s,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uSe={kernelName:Vx,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[r]=e,s={dy:t,images:r};return{images:()=>j.runKernel(h_,s,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lSe={kernelName:Kx,gradFunc:(t,e,n)=>{const{dims:r}=n,s=xt(r,t.shape);return{x:()=>Eo(t,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cSe={kernelName:Z0,gradFunc:t=>({x:()=>Ot(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ASe={kernelName:ey,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>En(Je(t,X(ac(n,1.5),2)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dSe={kernelName:Wx,inputsToSave:["condition"],gradFunc:(t,e)=>{const[n]=e;return{condition:()=>_e(Ot(n),"float32"),t:()=>X(t,_e(n,t.dtype)),e:()=>X(t,_e(c2(n),t.dtype))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hSe={kernelName:ty,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=Ki(n,tt(0)),s=tt($2),i=tt(S2),o=X(t,i),a=X(X(t,s),Li(_e(n,"float32")));return Gs(r,o,a)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fSe={kernelName:iy,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>X(t,X(n,Me(tt(1),n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pSe={kernelName:sy,gradFunc:t=>({x:()=>Ot(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gSe={kernelName:ny,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>X(a2(_e(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mSe={kernelName:ry,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>X(q_(_e(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ySe={kernelName:Gx,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{begin:s,size:i}=n,o=r.shape,[a,u]=s2(r,s,i),l=[];for(let c=0;c<t.rank;c++)l.push([a[c],o[c]-a[c]-u[c]]);return{x:()=>_c(t,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vSe={kernelName:Yx,outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r]=e,{dim:s}=n,i=!0,o=X(t,r);return{logits:()=>Me(o,X(Ke(o,[s],i),r))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wSe={kernelName:oy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>X(t,Ua(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GL={kernelName:Xx,gradFunc:(t,e,n)=>{const{blockShape:r,paddings:s}=n;return{x:()=>o2(t,r,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jL={kernelName:qx,gradFunc:(t,e,n)=>{const{axis:r}=n;return{x:()=>sr(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CSe={kernelName:ay,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Je(t,X(as(_e(n,"float32")),2))}}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bSe={kernelName:b_,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>X(t,X(_e(n,"float32"),2))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xSe={kernelName:uy,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=tt(2);return{a:()=>X(t,X(s,Me(n,r))),b:()=>X(t,X(s,Me(r,n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BSe={kernelName:hy,gradFunc:t=>({x:()=>Ot(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ISe={kernelName:ly,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,s=ft(n.shape,r.shape);return{a:()=>{let a=t;const u=wr(n.shape,s);return u.length>0&&(a=Ke(a,u)),Y(a,n.shape)},b:()=>{let a=t;const u=wr(r.shape,s);return u.length>0&&(a=Ke(a,u)),Y(En(a),r.shape)}}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ESe={kernelName:jx,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,s=r.shape.slice(),{axis:i}=n;xt(i,r.shape).forEach(l=>{s[l]=1});const a=Y(t,s),u=X(a,di(r.shape,"float32"));return{x:()=>u}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Se={kernelName:cy,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Je(t,on(a2(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SSe={kernelName:Ay,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>X(Me(tt(1),on(n)),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TSe={kernelName:dy,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{reps:s}=n;return{x:()=>{let o=Ot(r);if(r.rank===1)for(let a=0;a<s[0];++a)o=Ce(o,Dt(t,[a*r.shape[0]],[r.shape[0]]));else if(r.rank===2)for(let a=0;a<s[0];++a)for(let u=0;u<s[1];++u)o=Ce(o,Dt(t,[a*r.shape[0],u*r.shape[1]],[r.shape[0],r.shape[1]]));else if(r.rank===3)for(let a=0;a<s[0];++a)for(let u=0;u<s[1];++u)for(let l=0;l<s[2];++l)o=Ce(o,Dt(t,[a*r.shape[0],u*r.shape[1],l*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else if(r.rank===4)for(let a=0;a<s[0];++a)for(let u=0;u<s[1];++u)for(let l=0;l<s[2];++l)for(let c=0;c<s[3];++c)o=Ce(o,Dt(t,[a*r.shape[0],u*r.shape[1],l*r.shape[2],c*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);return o}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NSe={kernelName:Hh,gradFunc:(t,e,n)=>{const r=n,{perm:s}=r,i=Fc(s);return{x:()=>Nt(t,i)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kSe={kernelName:Jx,gradFunc:(t,e,n)=>{const r=n,{axis:s}=r;return{value:()=>$o(t,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FSe={kernelName:Zx,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>_Se(t,n)}}};function _Se(t,e){const n=Xu(e,Ot(e)),r=by(t,n);let s=gd(e,tt(0,"int32"));const i=r.rank-s.rank;for(let a=0;a<i;++a)s=Ni(s,a+1);s=Va(s,di(r.shape,"bool"));const o=Ot(r);return Gs(s,r,o)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DSe={kernelName:e2,gradFunc:t=>({x:()=>Ot(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RSe=[WK,FEe,_Ee,DEe,REe,OEe,UEe,LEe,PEe,MEe,QEe,HEe,KEe,jEe,XEe,qEe,YEe,JEe,ZEe,e$e,t$e,n$e,s$e,r$e,a$e,u$e,l$e,c$e,A$e,d$e,nSe,h$e,f$e,p$e,g$e,m$e,v$e,y$e,w$e,C$e,b$e,x$e,B$e,I$e,E$e,$$e,S$e,T$e,N$e,_$e,KL,KL,D$e,U$e,M$e,Q$e,H$e,V$e,z$e,K$e,W$e,G$e,j$e,X$e,q$e,WL,WL,Y$e,J$e,tSe,rSe,sSe,iSe,oSe,aSe,uSe,lSe,cSe,ASe,dSe,hSe,fSe,pSe,gSe,mSe,ySe,vSe,wSe,GL,GL,jL,jL,CSe,xSe,bSe,BSe,ISe,ESe,$Se,SSe,TSe,NSe,kSe,FSe,DSe];for(const t of RSe)gle(t);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.abs=function(){return this.throwIfDisposed(),ur(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.acos=function(){return this.throwIfDisposed(),EV(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.acosh=function(){return this.throwIfDisposed(),$V(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.add=function(t){return this.throwIfDisposed(),Ce(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.all=function(t,e){return this.throwIfDisposed(),K_(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.any=function(t,e){return this.throwIfDisposed(),gC(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.argMax=function(t){return this.throwIfDisposed(),yf(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.argMin=function(t){return this.throwIfDisposed(),SV(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.asScalar=function(){return this.throwIfDisposed(),O(this.size===1,()=>"The array must have only 1 element."),Y(this,[])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.asType=function(t){return this.throwIfDisposed(),_e(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.as1D=function(){return this.throwIfDisposed(),Y(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.as2D=function(t,e){return this.throwIfDisposed(),Y(this,[t,e])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.as3D=function(t,e,n){return this.throwIfDisposed(),Y(this,[t,e,n])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.as4D=function(t,e,n,r){return this.throwIfDisposed(),Y(this,[t,e,n,r])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.as5D=function(t,e,n,r,s){return this.throwIfDisposed(),Y(this,[t,e,n,r,s])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.asin=function(){return this.throwIfDisposed(),TV(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.asinh=function(){return this.throwIfDisposed(),NV(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.atan=function(){return this.throwIfDisposed(),kV(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.atan2=function(t){return this.throwIfDisposed(),FV(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.atanh=function(){return this.throwIfDisposed(),_V(this)};he().prototype.avgPool=function(t,e,n,r){return this.throwIfDisposed(),i2(this,t,e,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),o2(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.batchNorm=function(t,e,n,r,s){return this.throwIfDisposed(),my(this,t,e,n,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.broadcastTo=function(t){return this.throwIfDisposed(),Kh(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.cast=function(t){return this.throwIfDisposed(),_e(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.ceil=function(){return this.throwIfDisposed(),PV(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.clipByValue=function(t,e){return this.throwIfDisposed(),vi(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.concat=function(t,e){return this.throwIfDisposed(),t instanceof Cn&&(t=[t]),sr([this,...t],e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.conv1d=function(t,e,n,r,s,i){return this.throwIfDisposed(),G_(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.conv2dTranspose=function(t,e,n,r,s){return this.throwIfDisposed(),X_(this,t,e,n,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.conv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),oc(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.cos=function(){return this.throwIfDisposed(),a2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.cosh=function(){return this.throwIfDisposed(),q_(this)};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.cumprod=function(t,e,n){return this.throwIfDisposed(),yC(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.cumsum=function(t,e,n){return this.throwIfDisposed(),Y_(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),GV(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.depthwiseConv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),yy(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.dilation2d=function(t,e,n,r,s){return this.throwIfDisposed(),jV(this,t,e,n,r,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.divNoNan=function(t){return this.throwIfDisposed(),XV(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.div=function(t){return this.throwIfDisposed(),Je(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.dot=function(t){return this.throwIfDisposed(),qV(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.elu=function(){return this.throwIfDisposed(),vy(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.equal=function(t){return this.throwIfDisposed(),na(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.erf=function(){return this.throwIfDisposed(),YV(this)};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.euclideanNorm=function(t,e){return this.throwIfDisposed(),e7(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.exp=function(){return this.throwIfDisposed(),Li(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.expandDims=function(t){return this.throwIfDisposed(),Ni(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.expm1=function(){return this.throwIfDisposed(),t7(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.fft=function(){return this.throwIfDisposed(),v2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.flatten=function(){return this.throwIfDisposed(),Y(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.floor=function(){return this.throwIfDisposed(),Cy(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.floorDiv=function(t){return this.throwIfDisposed(),z_(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.gather=function(t,e){return this.throwIfDisposed(),by(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.greaterEqual=function(t){return this.throwIfDisposed(),gd(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.greater=function(t){return this.throwIfDisposed(),Ki(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.ifft=function(){return this.throwIfDisposed(),Bm(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.irfft=function(){return this.throwIfDisposed(),p3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.isFinite=function(){return this.throwIfDisposed(),n7(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.isInf=function(){return this.throwIfDisposed(),r7(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.isNaN=function(){return this.throwIfDisposed(),s7(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.leakyRelu=function(t){return this.throwIfDisposed(),u2(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.lessEqual=function(t){return this.throwIfDisposed(),md(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.less=function(t){return this.throwIfDisposed(),e3(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.localResponseNormalization=function(t,e,n,r){return this.throwIfDisposed(),i7(this,t,e,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.logSigmoid=function(){return this.throwIfDisposed(),o7(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.logSoftmax=function(t){return this.throwIfDisposed(),t3(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.logSumExp=function(t,e){return this.throwIfDisposed(),n3(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.log=function(){return this.throwIfDisposed(),Pi(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.log1p=function(){return this.throwIfDisposed(),l2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.logicalAnd=function(t){return this.throwIfDisposed(),Va(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.logicalNot=function(){return this.throwIfDisposed(),c2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.logicalOr=function(t){return this.throwIfDisposed(),r3(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.logicalXor=function(t){return this.throwIfDisposed(),a7(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.matMul=function(t,e,n){return this.throwIfDisposed(),Bt(this,t,e,n)};he().prototype.maxPool=function(t,e,n,r){return this.throwIfDisposed(),A2(this,t,e,n,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.max=function(t,e){return this.throwIfDisposed(),qo(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.maximum=function(t){return this.throwIfDisposed(),Xu(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.mean=function(t,e){return this.throwIfDisposed(),Pn(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.min=function(t,e){return this.throwIfDisposed(),vC(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.minimum=function(t){return this.throwIfDisposed(),xy(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.mirrorPad=function(t,e){return this.throwIfDisposed(),l7(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.mod=function(t){return this.throwIfDisposed(),c7(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.mul=function(t){return this.throwIfDisposed(),X(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.neg=function(){return this.throwIfDisposed(),En(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.norm=function(t,e,n){return this.throwIfDisposed(),wy(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.notEqual=function(t){return this.throwIfDisposed(),wf(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.oneHot=function(t,e=1,n=0){return this.throwIfDisposed(),U_(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.onesLike=function(){return this.throwIfDisposed(),Mi(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.pad=function(t,e){return this.throwIfDisposed(),_c(this,t,e)};he().prototype.pool=function(t,e,n,r,s,i){return this.throwIfDisposed(),A7(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.pow=function(t){return this.throwIfDisposed(),ac(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.prelu=function(t){return this.throwIfDisposed(),f2(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.prod=function(t,e){return this.throwIfDisposed(),d7(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.reciprocal=function(){return this.throwIfDisposed(),w7(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.relu=function(){return this.throwIfDisposed(),qa(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.relu6=function(){return this.throwIfDisposed(),a3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.reshapeAs=function(t){return this.throwIfDisposed(),Y(this,t.shape)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.reshape=function(t){return this.throwIfDisposed(),Y(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.resizeBilinear=function(t,e,n){return this.throwIfDisposed(),R7(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.resizeNearestNeighbor=function(t,e,n){return this.throwIfDisposed(),O7(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.reverse=function(t){return this.throwIfDisposed(),Eo(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.rfft=function(){return this.throwIfDisposed(),w2(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.round=function(){return this.throwIfDisposed(),u3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.rsqrt=function(){return this.throwIfDisposed(),l3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.selu=function(){return this.throwIfDisposed(),c3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.separableConv2d=function(t,e,n,r,s,i){return this.throwIfDisposed(),A3(this,t,e,n,r,s,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.sigmoid=function(){return this.throwIfDisposed(),Ua(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.sign=function(){return this.throwIfDisposed(),C7(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.sin=function(){return this.throwIfDisposed(),d3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.sinh=function(){return this.throwIfDisposed(),h3(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.slice=function(t,e){return this.throwIfDisposed(),Dt(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.softmax=function(t){return this.throwIfDisposed(),y2(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.softplus=function(){return this.throwIfDisposed(),Xf(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),h2(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.split=function(t,e){return this.throwIfDisposed(),gi(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.sqrt=function(){return this.throwIfDisposed(),as(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.square=function(){return this.throwIfDisposed(),on(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.squaredDifference=function(t){return this.throwIfDisposed(),g3(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.squeeze=function(t){return this.throwIfDisposed(),vd(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.stack=function(t,e){this.throwIfDisposed();const n=t instanceof Cn?[this,t]:[this,...t];return $o(n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.step=function(t){return this.throwIfDisposed(),qf(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.stridedSlice=function(t,e,n,r,s,i,o,a){return this.throwIfDisposed(),b7(this,t,e,n,r,s,i,o,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.sub=function(t){return this.throwIfDisposed(),Me(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.sum=function(t,e){return this.throwIfDisposed(),Ke(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.tan=function(){return this.throwIfDisposed(),x7(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.tanh=function(){return this.throwIfDisposed(),vf(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.tile=function(t){return this.throwIfDisposed(),mo(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.toBool=function(){return this.throwIfDisposed(),_e(this,"bool")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.toFloat=function(){return this.throwIfDisposed(),_e(this,"float32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.toInt=function(){return this.throwIfDisposed(),_e(this,"int32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.topk=function(t,e){return this.throwIfDisposed(),B7(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.transpose=function(t){return this.throwIfDisposed(),Nt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.unique=function(t){return this.throwIfDisposed(),I7(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),y3(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.unstack=function(t){return this.throwIfDisposed(),ra(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.where=function(t,e){return this.throwIfDisposed(),Gs(t,this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */he().prototype.zerosLike=function(){return this.throwIfDisposed(),Ot(this)};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ba extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ba.prototype)}}class vo extends Error{constructor(e){super(e),Object.setPrototypeOf(this,vo.prototype)}}class te extends Error{constructor(e){super(e),Object.setPrototypeOf(this,te.prototype)}}class gt extends Error{constructor(e){super(e),Object.setPrototypeOf(this,gt.prototype)}}class AD extends Error{constructor(e){super(e),Object.setPrototypeOf(this,AD.prototype)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class jK{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let n;return this.cache.has(e)&&(n=this.cache.get(e),this.cache.delete(e),this.cache.set(e,n)),n}put(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let n=0;n<this.maxEntries-e;n++){const r=this.cache.keys().next().value;this.cache.delete(r)}this.maxEntries=e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function JA(t,e){if(Array.isArray(t)){let n=[];for(let r=0;r<e;r++)n=n.concat(t);return n}else{const n=new Array(e);return n.fill(t),n}}function xa(t,e){if(!t)throw new AD(e)}function XL(t,e){let n=0;for(const r of t)r===e&&n++;return n}function Qs(t){return t.length===1?t[0]:t}function fn(t){return Array.isArray(t)?t:[t]}function uu(t){const n=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function aA(t){return t.length<=1||t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,(e,n)=>n.toUpperCase())}let Ji={};function dD(t){if(t==null)return null;const e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function zS(t){if(!(t==null||typeof t!="object"))if(Array.isArray(t))t.forEach(e=>zS(e));else{const e=Object.keys(t);for(const n of e){const r=t[n];r!=null&&typeof r=="object"&&(!Array.isArray(r)&&r.type==="ndarray"&&typeof r.value=="number"?t[n]=r.value:zS(r))}}}function Ry(t,e={},n={},r="object",s=!1){if(typeof t=="string"){const i=t;let o;if(i in n)o=n[i];else if(i in Ji)o=Ji[i];else if(o=e[i],o==null)throw new te(`Unknown ${r}: ${t}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return o}else{const i=t;if(i.className==null||i.config==null)throw new te(`${r}: Improper config format: ${JSON.stringify(i)}.
'className' and 'config' must set.`);const o=i.className;let a,u;if(o in n?[a,u]=n[o]:o in Ji?[a,u]=Ji.className:o in e&&([a,u]=e[o]),a==null)throw new te(`Unknown ${r}: ${o}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(u!=null){const l={};for(const h of Object.keys(Ji))l[h]=Ji[h];for(const h of Object.keys(n))l[h]=n[h];const c=i.config;c.customObjects=l;const A=Object.assign({},Ji);for(const h of Object.keys(n))Ji[h]=n[h];zS(i.config);const d=u(a,i.config,n,s);return Ji=Object.assign({},A),d}else{const l=Object.assign({},Ji);for(const A of Object.keys(n))Ji[A]=n[A];const c=new a(i.config);return Ji=Object.assign({},l),c}}}function OSe(t,e){return t<e?-1:t>e?1:0}function qv(t,e){return-1*OSe(t,e)}function jl(t){if(t==null)return t;const e=[];for(const n of t)e.indexOf(n)===-1&&e.push(n);return e}function USe(t){if(t==null)throw new te(`Invalid value in obj: ${JSON.stringify(t)}`);for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}function xd(t,e,n){if(n!=null&&t.indexOf(n)<0)throw new te(`${n} is not a valid ${e}.  Valid values are ${t} or null/undefined.`)}function hD(t,e,n=0,r=1/0){return xa(n>=0),xa(r>=n),Array.isArray(t)&&t.length>=n&&t.length<=r&&t.every(s=>typeof s===e)}function Tr(t,e){Array.isArray(t)?(O(t.length>0,()=>`${e} is unexpectedly an empty array.`),t.forEach((n,r)=>Tr(n,`element ${r+1} of ${e}`))):O(Number.isInteger(t)&&t>0,()=>`Expected ${e} to be a positive integer, but got ${XK(t)}.`)}function XK(t){return t===null?"null":Array.isArray(t)?"["+t.map(e=>XK(e)).join(",")+"]":typeof t=="string"?`"${t}"`:`${t}`}function LSe(t,e,n){let r=n!=null?n():Ms(),s;return(...o)=>{const a=n!=null?n():Ms();return a-r<e||(r=a,s=t(...o)),s}}function qK(t){return t==="relu"?"relu":t==="linear"?"linear":t==="elu"?"elu":null}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let PSe=0;function YK(){return PSe++}const Yv={};function R2(t=""){return t in Yv||(Yv[t]=0),Yv[t]+=1,t+Yv[t].toString()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const MSe=["channelsFirst","channelsLast"],QSe=["nearest","bilinear"],HSe=["valid","same","causal"],VSe=["max","avg"],zSe=["sum","mul","concat","ave"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Hd=new Map;function Jn(t){xd(MSe,"DataFormat",t)}function KSe(t){xd(QSe,"InterpolationFormat",t)}function Wi(t){xd(HSe,"PaddingMode",t)}function JK(t){xd(VSe,"PoolMode",t)}const Og=[],qL="/";function SA(t,e){Og.push(t);try{const n=e();return Og.pop(),n}catch(n){throw Og.pop(),n}}function WSe(){return Og.length===0?"":Og.join(qL)+qL}function ZK(t){if(!tW(t))throw new Error("Not a valid tensor name: '"+t+"'");return WSe()+t}function eW(t){if(!tW(t))throw new Error("Not a valid tensor name: '"+t+"'");Hd.has(t)||Hd.set(t,0);const e=Hd.get(t);if(Hd.set(t,Hd.get(t)+1),e>0){const n=`${t}_${e}`;return Hd.set(n,1),n}else return t}const GSe=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function tW(t){return!!t.match(GSe)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function jSe(t){return t===parseInt(t.toString(),10)}function Xl(t,e,n){e==null&&(e=0),n==null&&(n=t.length);let r=1;for(let s=e;s<n;++s)r*=t[s];return r}function If(t){if(t.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let n=0;n<t.length;n++){const r=t[n];r<e&&(e=r)}return e}function lc(t){if(t.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){const r=t[n];r>e&&(e=r)}return e}function ia(t,e){if(e<t)throw new te(`end (${e}) < begin (${t}) is forbidden.`);const n=[];for(let r=t;r<e;++r)n.push(r);return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let iE;function fr(){return iE==null&&(iE=Oce().epsilon()),iE}function oa(){return"channelsLast"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Oy(t,e){return _e(t,e)}function Uy(t,e=-1){const n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),Y(t,n)}function XSe(t,e){return ie(()=>{if(t.shape.length!==2)throw new te(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);const n=Uy(t,1);return KS(n,[1,e,1])})}function qSe(t){const e=[Xl(t.shape)];return Y(t,e)}function YSe(t){if(t.rank<=1)throw new te(`batchFlatten requires a minimum rank of 2. Got rank: ${t.rank}.`);const e=[t.shape[0],Xl(t.shape,1)];return Y(t,e)}function TA(t,e,n){return ie(()=>{switch(t.rank){case 1:return g2(t,e,n);case 2:return f3(t,[e,0],[n,t.shape[1]]);case 3:return m2(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return xm(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);case 5:return Dt(t,[e,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return Dt(t,[e,0,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new te(`sliceAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}})}function oE(t,e,n){return ie(()=>{switch(t.rank){case 1:return g2(t,e,n);case 2:return f3(t,[0,e],[t.shape[0],n]);case 3:return m2(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return xm(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new te(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function Jv(t,e,n,r){return ie(()=>{switch(t.rank){case 1:return g2(t,e,n);case 2:switch(r){case 1:return TA(t,e,n);case 2:return oE(t,e,n);default:throw new te(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return TA(t,e,n);case 2:return m2(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return oE(t,e,n);default:throw new te(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return TA(t,e,n);case 2:return xm(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return xm(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return oE(t,e,n);default:throw new te(`The axis is not within the rank of the tensor ${r}`)}default:throw new te(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function fD(t,e=-1){let n;return e<0&&(n=t[0].rank,n!==0?e=n:e=0),e===t[0].rank&&(e=-1),sr(t,e)}function YL(t,e){switch(t.rank){case 1:return MV([t,e]);case 2:return QV([t,e],0);case 3:return HV([t,e],0);case 4:return VV([t,e],0);default:throw new te(`concatAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}}function KS(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new te(`The length of input n (${e.length}) does not match the number of dimensions in input x (${t.rank})`);return mo(t,e)}function O2(t,e=0,n=1,r,s){return o3(t,e,n,r,s)}function Pa(t,e,n,r){if(t.rank<2||e.rank<2)throw new gt(`dot requires both inputs to be rank >= 2 but got x shape = ${t.shape} and y shape = ${e.shape}`);if(e.rank>=3){const s=t.shape.slice(-1)[0],i=e.shape.slice(-2)[0];if(s!==i)throw new gt(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${t.shape} and  y shape = ${e.shape}`)}if(t.rank===2&&e.rank===2)return LS({a:t,b:e,transposeA:!1,transposeB:!1,bias:r?WS(t.rank,r,oa()):null,activation:n});{const s=t.shape.slice(),i=s.pop();t=Y(t,[-1,i]);const o=e.shape.slice(),a=o.pop(),u=o.pop(),l=[...o,a],c=Array.from({length:e.rank},(f,p)=>p===0?e.rank-2:p<=e.rank-2?p-1:p);e=Y(Nt(e,c),[u,-1]);const A=[...s,...l];return Y(LS({a:t,b:e,transposeA:!1,transposeB:!1,bias:r?WS(t.rank,r,oa()):null,activation:n}),A)}}function nW(t,e,n){return ie(()=>(Array.isArray(e)?e=zs(e,"int32"):e=_e(e,"int32"),by(t,e,n)))}function Ly(t){return X(t,t)}function WS(t,e,n){const r=e.shape;if(e.rank!==1&&e.rank!==t)throw new te(`Unexpected bias dimensions: ${e.rank}; expected it to be 1 or ${t}`);if(t===5){if(n==="channelsFirst")return r.length===1?Y(e,[1,r[0],1,1,1]):Y(e,[1,r[3],r[0],r[1],r[2]]);if(n==="channelsLast")return r.length===1?Y(e,[1,1,1,1,r[0]]):Y(e,[1].concat(r))}else if(t===4){if(n==="channelsFirst")return r.length===1?Y(e,[1,r[0],1,1]):Y(e,[1,r[2],r[0],r[1]]);if(n==="channelsLast")return r.length===1?Y(e,[1,1,1,r[0]]):Y(e,[1].concat(r))}else if(t===3){if(n==="channelsFirst")return r.length===1?Y(e,[1,r[0],1]):Y(e,[1,r[1],r[0]]);if(n==="channelsLast")return r.length===1?Y(e,[1,1,r[0]]):Y(e,[1].concat(r))}else if(t<3)return e;throw new te(`Unsupported input rank by biasAdd: ${e.rank}`)}function la(t,e,n){return ie(()=>(n==null&&(n=oa()),Jn(n),Ce(t,WS(t.rank,e,n))))}function JSe(t,e=1){if(e!==1)throw new gt(`Support for alpha values other than 1 (${e}) is not implemented yet.`);return vy(t)}function ZSe(t){return ie(()=>Je(t,Ce(ur(t),1)))}function rW(t,e,n,r){return ie(()=>S7(t,e,n,r))}function eTe(t){return ie(()=>{const e=Ce(.5,X(.2,t));return vi(e,0,1)})}function Py(t,e,n=!1){return n?t():e()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const tTe=["fanIn","fanOut","fanAvg"],nTe=["normal","uniform","truncatedNormal"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function rTe(t){xd(tTe,"FanMode",t)}function sTe(t){xd(nTe,"Distribution",t)}class No extends Gf{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class sW extends No{apply(e,n){return dr(e,n)}}sW.className="Zeros";we(sW);class pD extends No{apply(e,n){return di(e,n)}}pD.className="Ones";we(pD);class iW extends No{constructor(e){if(super(),typeof e!="object")throw new te(`Expected argument of type ConstantConfig but got ${e}`);if(e.value===void 0)throw new te(`config must have value set but got ${e}`);this.value=e.value}apply(e,n){return ie(()=>X(tt(this.value),di(e,n)))}getConfig(){return{value:this.value}}}iW.className="Constant";we(iW);class oW extends No{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,n){return By(e,this.minval,this.maxval,n)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}oW.className="RandomUniform";we(oW);class aW extends No{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new gt(`randomNormal does not support dType ${n}.`);return O2(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}aW.className="RandomNormal";we(aW);class uW extends No{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new gt(`truncatedNormal does not support dType ${n}.`);return m3(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}uW.className="TruncatedNormal";we(uW);class lW extends No{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,n){return ie(()=>{if(e.length!==2||e[0]!==e[1])throw new te("Identity matrix initializer can only be used for 2D square matrices.");return X(this.gain,Z_(e[0]))})}getConfig(){return{gain:this.gain}}}lW.className="Identity";we(lW);function iTe(t,e="channelsLast"){let n,r;if(Jn(e),t.length===2)n=t[0],r=t[1];else if([3,4,5].indexOf(t.length)!==-1){if(e==="channelsFirst"){const s=Xl(t,2);n=t[1]*s,r=t[0]*s}else if(e==="channelsLast"){const s=Xl(t,0,t.length-2);n=t[t.length-2]*s,r=t[t.length-1]*s}}else{const s=Xl(t);n=Math.sqrt(s),r=Math.sqrt(s)}return[n,r]}class Ci extends No{constructor(e){if(super(),e.scale<0)throw new te(`scale must be a positive float. Got: ${e.scale}`);this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,rTe(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,sTe(this.distribution),this.seed=e.seed}apply(e,n){const r=iTe(e),s=r[0],i=r[1];let o=this.scale;if(this.mode==="fanIn"?o/=Math.max(1,s):this.mode==="fanOut"?o/=Math.max(1,i):o/=Math.max(1,(s+i)/2),this.distribution==="normal"){const a=Math.sqrt(o);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new gt(`${this.getClassName()} does not support dType ${n}.`);return m3(e,0,a,n,this.seed)}else{const a=Math.sqrt(3*o);return By(e,-a,a,n)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}Ci.className="VarianceScaling";we(Ci);class gD extends Ci{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Ci.className}}gD.className="GlorotUniform";we(gD);class mD extends Ci{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Ci.className}}mD.className="GlorotNormal";we(mD);class yD extends Ci{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Ci.className}}yD.className="HeNormal";we(yD);class vD extends Ci{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Ci.className}}vD.className="HeUniform";we(vD);class wD extends Ci{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Ci.className}}wD.className="LeCunNormal";we(wD);class CD extends Ci{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Ci.className}}CD.className="LeCunNormal";we(CD);class cW extends No{constructor(e){if(super(),this.DEFAULT_GAIN=1,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed,this.seed!=null)throw new gt("Random seed is not implemented for Orthogonal Initializer yet.")}apply(e,n){return ie(()=>{if(e.length<2)throw new gt("Shape must be at least 2D.");e[0]*e[1]>2e3&&console.warn(`Orthogonal initializer is being called on a matrix with more than 2000 (${e[0]*e[1]}) elements: Slowness may result.`);const r=e[0]>e[1]?[e[1],e[0]]:e,s=O2(r,0,1,"float32");let i=U7.gramSchmidt(s);return e[0]>e[1]&&(i=Nt(i)),X(this.gain,i)})}getConfig(){return{gain:this.gain,seed:this.seed}}}cW.className="Orthogonal";we(cW);const JL={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function ZL(t,e={}){return Ry(t,uo.getMap().classNameMap,e,"initializer")}function On(t){return dD(t)}function In(t){if(typeof t=="string"){const e=t in JL?JL[t]:t;if(e==="GlorotNormal")return new mD;if(e==="GlorotUniform")return new gD;if(e==="HeNormal")return new yD;if(e==="HeUniform")return new vD;if(e==="LeCunNormal")return new wD;if(e==="LeCunUniform")return new CD;{const n={};return n.className=e,n.config={},ZL(n)}}else return t instanceof No?t:ZL(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function GS(t){return Array.isArray(t)&&Array.isArray(t[0])}function EC(t){return t.length===0?[]:Array.isArray(t[0])?t:[t]}function mt(t){let e;if(Array.isArray(t)){if(t.length!==1)throw new te(`Expected Tensor length to be 1; got ${t.length}`);e=t[0]}else e=t;return e}function Zt(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(t.length===1)return t=t,t[0];throw new te(`Expected exactly 1 Shape; got ${t.length}`)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function $C(t){let e=0;for(const n of t)n.shape.length===0?e+=1:e+=n.shape.reduce((r,s)=>r*s);return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const eP="Variable";class oTe{constructor(e,n="float32",r=eP,s=!0,i=null){this.dtype=n==null?"float32":n,this.shape=e.shape,this.id=YK(),r=r==null?eP:r,this.originalName=ZK(r),this.name=eW(this.originalName),this.trainable_=s,this.constraint=i,this.val=E7(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),aTe(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function aTe(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function jS(t){return t.map(e=>e.read())}function bD(t){t.forEach(e=>{e[0].write(e[1])})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class pr{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class Ta{constructor(e,n,r,s,i,o,a){this.dtype=e,this.shape=n,this.sourceLayer=r,this.inputs=s,this.callArgs=i,this.outputTensorIndex=a,this.id=YK(),o!=null&&(this.originalName=ZK(o),this.name=eW(this.originalName)),this.rank=n.length}}let uTe=0;class U2{constructor(e,n){this.callArgs=n,this.id=uTe++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const r of e.inboundLayers)r!=null&&r.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const n of this.inboundLayers)n!=null?e.push(n.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let lTe=0;class Pt extends Gf{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=lTe++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=e.name;if(!n){const r=this.getClassName();n=uu(r)+"_"+R2(r)}if(this.name=n,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let r;if(e.batchInputShape!=null)r=e.batchInputShape;else if(e.inputShape!=null){let i=null;e.batchSize!=null&&(i=e.batchSize),r=[i].concat(e.inputShape)}this.batchInputShape=r;let s=e.dtype;s==null&&(s=e.inputDType),s==null&&(s="float32"),this.dtype=s}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,n){return e.name+"_ib-"+n.toString()}getNodeAtIndex(e,n){if(this.inboundNodes.length===0)throw new vo(`The layer has never been called and thus has no defined ${n}.`);if(this.inboundNodes.length<=e)throw new te(`Asked to get ${n} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return Qs(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return Qs(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new ba(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new ba(`Layer ${this.name} is not connected, no input to return.`);return Qs(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new ba(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new ba(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return Qs(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(n=>n.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){if(e=fn(e),this.inputSpec==null||this.inputSpec.length===0)return;const n=fn(this.inputSpec);if(e.length!==n.length)throw new te(`Layer ${this.name} expects ${n.length} inputs, but it received ${e.length} input tensors. Input received: ${e}`);for(let r=0;r<e.length;r++){const s=e[r],i=n[r];if(i==null)continue;const o=s.rank;if(i.ndim!=null&&o!==i.ndim)throw new te(`Input ${r} is incompatible with layer ${this.name}: expected ndim=${i.ndim}, found ndim=${o}`);if(i.maxNDim!=null&&o>i.maxNDim)throw new te(`Input ${r} is incompatible with layer ${this.name}: expected max_ndim=${i.maxNDim}, found ndim=${o}`);if(i.minNDim!=null&&o<i.minNDim)throw new te(`Input ${r} is incompatible with layer ${this.name}: expected min_ndim=${i.minNDim}, found ndim=${o}.`);if(i.dtype!=null&&s.dtype!==i.dtype)throw new te(`Input ${r} is incompatible with layer ${this.name} : expected dtype=${i.dtype}, found dtype=${s.dtype}.`);if(i.axes){const a=s.shape;for(const u in i.axes){const l=Number(u),c=i.axes[u],A=l>=0?a[l]:a[a.length+l];if(c!=null&&[c,null].indexOf(A)===-1)throw new te(`Input ${r} is incompatible with layer ${this.name}: expected axis ${l} of input shape to have value ${c} but got shape ${a}.`)}}if(i.shape!=null)for(let a=0;a<i.shape.length;++a){const u=i.shape[a],l=s.shape[a];if(u!=null&&l!=null&&u!==l)throw new te(`Input ${r} is incompatible with layer ${this.name}: expected shape=${i.shape}, found shape=${s.shape}.`)}}}call(e,n){return e}invokeCallHook(e,n){this._callHook!=null&&this._callHook(e,n)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,n){n=n||{},this.assertNotDisposed();const r=fn(e);let s=!0;for(const o of r)if(!(o instanceof Ta)){s=!1;break}let i=!0;for(const o of r)if(o instanceof Ta){i=!1;break}if(s===i)throw new te("Arguments to apply() must be all SymbolicTensors or all Tensors");return SA(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const o=[];for(const a of fn(e))o.push(a.shape);this.build(Qs(o)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&i&&(this._refCount=1)}if(this.assertInputCompatibility(e),i){let o=this.call(e,n);const a=fn(o),u=[];for(let l of a)r.indexOf(l)!==-1&&(l=l.clone()),u.push(l);if(o=Qs(u),this.activityRegularizer!=null)throw new gt("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return o}else{const o=cTe(e),a=this.computeOutputShape(o);let u;const l=ATe(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?o[0]:o),a!=null&&a.length>0&&Array.isArray(a[0])?u=a.map((c,A)=>new Ta(l,c,this,fn(e),n,this.name,A)):u=new Ta(l,a,this,fn(e),n,this.name),this.addInboundNode(e,u,null,null,o,a,n),this._refCount++,this.activityRegularizer!=null)throw new gt("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return u}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let n=!1;this.batchInputShape.forEach((r,s)=>{r!=null&&e[s]!=null&&e[s]!==r&&(n=!0)}),n&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new ba(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const n of this.inboundNodes){const r=JSON.stringify(n.outputShapes);e.indexOf(r)===-1&&e.push(r)}if(e.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new ba(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new vo(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return $C(this.weights)}build(e){this.built=!0}getWeights(e=!1){return jS(e?this.trainableWeights:this.weights)}setWeights(e){ie(()=>{const n=this.weights;if(n.length!==e.length)throw new te(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${n.length} weights. Provided weights: ${e}...`);if(n.length===0)return;const r=[],s=jS(n);for(let i=0;i<s.length;++i){const o=s[i],a=n[i],u=e[i];if(!Ut(o.shape,u.shape))throw new te(`Layer weight shape ${o.shape} not compatible with provided weight shape ${u.shape}`);r.push([a,u])}bD(r)})}addWeight(e,n,r,s,i,o,a,u){if(this._addedWeightNames.indexOf(e)!==-1)throw new te(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),r==null&&(r="float32"),this.fastWeightInitDuringBuild&&(s=u!=null?u():In("zeros"));const l=s.apply(n,r),c=new oTe(l,r,e,o,a);return l.dispose(),i!=null&&this.addLoss(()=>i.apply(c.read())),o==null&&(o=!0),o?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=fn(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(r=>{if(r!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return n}addInboundNode(e,n,r,s,i,o,a=null){const u=fn(e);n=fn(n),r=fn(r),s=fn(s),i=EC(i),o=EC(o);const l=[],c=[],A=[];for(const d of u)l.push(d.sourceLayer),c.push(d.nodeIndex),A.push(d.tensorIndex);new U2({outboundLayer:this,inboundLayers:l,nodeIndices:c,tensorIndices:A,inputTensors:u,outputTensors:n,inputMasks:r,outputMasks:s,inputShapes:i,outputShapes:o},a);for(let d=0;d<n.length;d++)n[d].sourceLayer=this,n[d].nodeIndex=this.inboundNodes.length-1,n[d].tensorIndex=d}getConfig(){const e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function cTe(t){t=fn(t);const e=[];for(const n of t)e.push(n.shape);return Qs(e)}function ATe(t){return"float32"}function AW(t,e,n){if((e==null||n!=null&&n>0)&&(e=t.sourceLayer,n=t.nodeIndex),e.inboundNodes.length===0)return[t];{const r=e.inboundNodes[n];if(r.inboundLayers.length===0)return r.inputTensors;{const s=[];for(let i=0;i<r.inboundLayers.length;i++){const o=r.inputTensors[i],a=r.inboundLayers[i],u=r.nodeIndices[i],l=AW(o,a,u);for(const c of l)s.indexOf(c)===-1&&s.push(c)}return s}}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class My extends Pt{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:R2("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new te("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=e.batchInputShape;if(n==null){if(e.inputShape==null)throw new te("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new te("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const r=e.dtype||"float32";this.batchInputShape=n,this.dtype=r,this.inputSpec=[{shape:n}];const s=new Ta(this.dtype,this.batchInputShape,this,[],{},this.name);s.nodeIndex=0,s.tensorIndex=0,new U2({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[s],outputTensors:[s],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(e,n){throw new te(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}My.className="InputLayer";we(My);function dTe(t){if(t.batchShape==null&&t.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(t.batchShape!=null&&t.shape!=null)throw new te("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=t.batchShape;t.shape!=null&&e==null&&(e=[null].concat(t.shape));let n=t.dtype;return n==null&&(n="float32"),new My({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function hTe(t,e){if(t.dtype==null||t.dtype===e.dtype)return e;try{return _e(e,t.dtype)}catch{throw new te(`The dtype of the feed (${e.dtype}) can not be cast to the dtype of the key '${t.name}' (${t.dtype}).`)}}class El{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof El)for(const n in e.id2Value)this.id2Value[n]=e.id2Value[n],n in e.id2Mask&&(this.id2Mask[n]=e.id2Mask[n]);else{if(e==null)return;for(const n of e)this.add(n.key,n.value)}}add(e,n,r){if(this.id2Value[e.id]==null)this.id2Value[e.id]=hTe(e,n),this.name2Id[e.name]=e.id,r!=null&&(this.id2Mask[e.id]=r);else throw new te(`Duplicate key: name=${e.name}, id=${e.id}`);return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof Ta){if(this.id2Value[e.id]==null)throw new te(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}else{const n=this.name2Id[e];if(n==null)throw new te(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[n]}}getMask(e){if(e instanceof Ta){if(this.id2Value[e.id]==null)throw new te(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}else{const n=this.name2Id[e];if(n==null)throw new te(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&vt(this.id2Mask)}}const SC=new jK,TC=new jK;function fTe(t){SC!=null&&SC.setMaxEntries(t),TC!=null&&TC.setMaxEntries(t)}function ag(t,e,n,r){const s=n==null?!1:n.training,i=Array.isArray(t),o=i?t:[t],a=o.map(f=>f.name),u=[],l=e.names();for(const f of a)l.indexOf(f)!==-1?u.push(e.getValue(f)):u.push(null);r!=null&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);const c=a.join(",")+"|"+e.names().sort().join(",");let A=SC.get(c),d;if(A==null){const f=pTe(o,e);A=f.sorted,d=f.recipientCounts,SC.put(c,A),TC.put(c,d)}d={},s||Object.assign(d,TC.get(c));const h=new El(e);for(let f=0;f<A.length;++f){if(r!=null){const T=RS().numTensors;T>r.maxNumTensors&&(r.maxNumTensors=T),T<r.minNumTensors&&(r.minNumTensors=T)}const p=A[f],m=p.sourceLayer;if(m instanceof My)continue;const g=[],y=[],C=[];let b=!1;for(const T of p.inputs){const _=h.getValue(T),R=h.getMask(T);g.push(_),y.push(R),R!=null&&(b=!0),s||(d[T.name]--,d[T.name]===0&&!e.hasKey(T)&&a.indexOf(T.name)===-1&&!_.isDisposed&&T.sourceLayer.stateful!==!0&&C.push(_))}b&&(n=n||{},n.mask=y[0]);const B=fn(m.apply(g,n));let I=null;m.supportsMasking&&(I=m.computeMask(g,y));const w=mTe(p),$=Array.isArray(w)?w:[w];for(let T=0;T<$.length;++T){h.hasKey($[T])||h.add($[T],B[T],Array.isArray(I)?I[0]:I);const _=a.indexOf($[T].name);_!==-1&&(u[_]=B[T])}s||vt(C)}return h.disposeMasks(),i?u:u[0]}function pTe(t,e){O(t!=null&&t.length>0,()=>"Expected at least one fetch, got none");let n=[],r={};if(t.length===1){const s=tP(t[0],e);n=s.sorted,r=s.recipientMap}else{const s=new Set;for(const i of t){const{sorted:o,recipientMap:a}=tP(i,e);for(const u of o)s.has(u.name)||(n.push(u),s.add(u.name));for(const u in a)r[u]==null&&(r[u]=new Set),a[u].forEach(l=>r[u].add(l))}}return{sorted:n,recipientCounts:gTe(r)}}function gTe(t){const e={};for(const n in t)e[n]=t[n].size;return e}function tP(t,e){const n=new Set,r=[],s={};for(const a of e.names())n.add(a);const i=[],o=[];for(i.push(t);i.length>0;){const a=i[i.length-1];if(n.has(a.name)){i.pop();continue}const u=o[o.length-1]===i.length-1;if(a.inputs.length===0||u)i.pop(),r.push(a),n.add(a.name),u&&o.pop();else{o.push(i.length-1);for(const l of a.inputs)s[l.name]==null&&(s[l.name]=new Set),s[l.name].add(a.name),!n.has(l.name)&&i.push(l)}}return{sorted:r,recipientMap:s}}function mTe(t){let e;if(t.sourceLayer.inboundNodes.length===1)e=t.sourceLayer.output;else{let n=null;for(let r=0;r<t.sourceLayer.inboundNodes.length;++r)for(const s of t.sourceLayer.inboundNodes[r].outputTensors)if(s.id===t.id){n=r;break}e=t.sourceLayer.getOutputAt(n)}return e}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yTe=le();yTe.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,fTe);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function xD(t,e){return ie(()=>as(Ke(X(t,t),e,!0)))}class Qy extends Gf{getConfig(){return{}}}class dW extends Qy{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return ie(()=>{const n=xD(e,this.axis),r=vi(n,0,this.maxValue);return X(e,Je(r,Ce(fr(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}dW.className="MaxNorm";we(dW);class hW extends Qy{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return ie(()=>Je(e,Ce(fr(),xD(e,this.axis))))}getConfig(){return{axis:this.axis}}}hW.className="UnitNorm";we(hW);class fW extends Qy{apply(e){return qa(e)}}fW.className="NonNeg";we(fW);class pW extends Qy{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return ie(()=>{const n=xD(e,this.axis),r=Ce(X(this.rate,vi(n,this.minValue,this.maxValue)),X(1-this.rate,n));return X(e,Je(r,Ce(fr(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}pW.className="MinMaxNorm";we(pW);const nP={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function mr(t){return dD(t)}function rP(t,e={}){return Ry(t,uo.getMap().classNameMap,e,"constraint")}function yr(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in nP?nP[t]:t,config:{}};return rP(n)}else return t instanceof Qy?t:rP(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function qc(t){if(t==null)return;const e=[],n=[],r=[];for(const s in t){const i=t[s];if(typeof i!="number"){const o=i;e.push(o.data()),n.push(s),r.push(o)}}if(e.length>0){const s=await Promise.all(e);for(let i=0;i<s.length;++i)t[n[i]]=s[i][0];vt(r)}}function gW(t){if(t!=null)for(const e in t){const n=t[e];typeof n!="number"&&n.dispose()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var sP;(function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"})(sP||(sP={}));const vTe=125;class Tm{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,n){}async onEpochEnd(e,n){}async onBatchBegin(e,n){}async onBatchEnd(e,n){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class wTe{constructor(e,n=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=n}append(e){this.callbacks.push(e)}setParams(e){for(const n of this.callbacks)n.setParams(e)}setModel(e){for(const n of this.callbacks)n.setModel(e)}async onEpochBegin(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochBegin(e,n)}async onEpochEnd(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochEnd(e,n)}async onBatchBegin(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchBegin(e,n)}async onBatchEnd(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchEnd(e,n)}async onTrainBegin(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainBegin(e)}async onTrainEnd(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainEnd(e)}}class CTe extends Tm{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,n){n==null&&(n={});const r=n.size==null?0:n.size;this.seen+=r;for(const s in n){const i=n[s];if(typeof i=="number")this.totals.hasOwnProperty(s)||(this.totals[s]=0),this.totals[s]=this.totals[s]+i*r;else{let o;s in this.totals?o=this.totals[s]:this.totals[s]=0;const a=ie(()=>Ce(this.totals[s],X(i,r)));this.totals[s]=a,o!=null&&o.dispose()}}}async onEpochEnd(e,n){if(n!=null)for(const r of this.params.metrics)this.totals[r]!=null&&(typeof this.totals[r]=="number"?n[r]=this.totals[r]/this.seen:ie(()=>{const s=X(Je(1,this.seen),this.totals[r]);n[r]=s,this.totals[r].dispose(),Vr(n[r])}))}}class bTe extends Tm{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,n){n==null&&(n={}),this.epoch.push(e);for(const r in n)this.history[r]==null&&(this.history[r]=[]),this.history[r].push(n[r])}async syncData(){const e=[],n=[],r=[];for(const i in this.history){const o=this.history[i];for(let a=0;a<o.length;++a)if(typeof o[a]!="number"){const u=o[a];e.push(u.data()),n.push(i),r.push(a)}}const s=await Promise.all(e);for(let i=0;i<s.length;++i)this.history[n[i]][r[i]].dispose(),this.history[n[i]][r[i]]=s[i][0]}}class xTe extends Tm{constructor(e,n){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||L7,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=vTe),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");fS(this.yieldEvery)&&(this.maybeWait=LSe(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,n,r){const s=[];this.yield!=null&&(await qc(r),s.push(this.yield(e,n,r))),s.push(this.nextFrameFunc()),await Promise.all(s)}async onEpochBegin(e,n){this.currentEpoch=e,this.epochBegin!=null&&(await qc(n),await this.epochBegin(e,n))}async onEpochEnd(e,n){const r=[];this.epochEnd!=null&&(await qc(n),r.push(this.epochEnd(e,n))),this.yieldEvery==="epoch"&&r.push(this.nextFrameFunc()),await Promise.all(r)}async onBatchBegin(e,n){this.batchBegin!=null&&(await qc(n),await this.batchBegin(e,n))}async onBatchEnd(e,n){const r=[];this.batchEnd!=null&&(await qc(n),r.push(this.batchEnd(e,n))),this.yieldEvery==="batch"?r.push(this.nextFrameFunc()):fS(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,e,n)),await Promise.all(r)}async onTrainBegin(e){this.trainBegin!=null&&(await qc(e),await this.trainBegin(e))}async onTrainEnd(e){this.trainEnd!=null&&(await qc(e),await this.trainEnd(e))}}function mW(t,e){return t==null&&(t={}),t instanceof Tm?[t]:Array.isArray(t)&&t[0]instanceof Tm?t:fn(t).map(r=>new xTe(r,e))}class to{constructor(){}static registerCallbackConstructor(e,n){O(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),to.checkForDuplicate(n),to.constructors[e]==null&&(to.constructors[e]=[]),to.constructors[e].push(n)}static checkForDuplicate(e){for(const n in to.constructors)to.constructors[+n].forEach(s=>{if(s===e)throw new te("Duplicate callback constructor.")})}static clear(){to.constructors={}}static createCallbacks(e){const n=[];for(const r in to.constructors){const s=+r;e>=s&&n.push(...to.constructors[s])}return n.map(r=>new r)}}to.constructors={};function yW(t,e,n,r,s,i,o,a,u){const l=new bTe,c=[new CTe,...to.createCallbacks(e)];t!=null&&c.push(...t),c.push(l);const A=new wTe(c);return A.setParams({epochs:n,initialEpoch:r,samples:s,steps:i,batchSize:o,verbose:e,doValidation:a,metrics:u}),{callbackList:A,history:l}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function xu(t,e={},n=!1){return Ry(t,uo.getMap().classNameMap,e,"layer",n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function NC(t,e){return ie(()=>{t.dtype!=="float32"&&(t=_e(t,"float32"));const n=Ke(Ly(t),e,!0),r=jf(n.shape,fr()),s=as(Xu(n,r));return Je(t,s)})}function L2(t,e){return ie(()=>Pn(Ly(Me(e,t)),-1))}function BD(t,e){return ie(()=>Pn(ur(Me(e,t)),-1))}function ID(t,e){return ie(()=>{const n=Me(t,e),r=vi(ur(t),fr(),Number.MAX_VALUE),s=ur(Je(n,r));return X(100,Pn(s,-1))})}function BTe(t,e){return ie(()=>{const n=vi(e,fr(),Number.MAX_VALUE),r=Pi(Ce(1,n)),s=vi(t,fr(),Number.MAX_VALUE),i=Pi(Ce(1,s));return Pn(Ly(Me(r,i)),-1)})}function ITe(t,e){return ie(()=>{const n=Xu(0,Me(1,X(t,e)));return Pn(Ly(n),-1)})}function ETe(t,e){return ie(()=>{const n=Xu(0,Me(1,X(t,e)));return Pn(n,-1)})}function $Te(t,e){return ie(()=>{const n=Ke(X(t,e),-1),r=qo(X(Me(1,t),e),-1);return Xu(0,Ce(1,Me(r,n)))})}function STe(t,e){return ie(()=>{const n=Math.log(2),r=Me(e,t),s=Me(Ce(r,Xf(X(-2,r))),n);return Pn(s,-1)})}function Nm(t,e,n=!1){return ie(()=>{if(n)e=y2(e);else{const r=Ke(e,e.shape.length-1,!0);e=Je(e,r)}return e=vi(e,fr(),1-fr()),En(Ke(X(_e(t,"float32"),Pi(e)),e.shape.length-1))})}function kC(t,e,n=!1){return ie(()=>{const r=_e(Cy(qSe(t)),"int32");e=vi(e,fr(),1-fr());const s=e.shape,i=Y(U_(r,s[s.length-1]),s);return Nm(i,e,n)})}function TTe(t,e){if(!Ut(t.shape,e.shape))throw new te(`logits and labels must have the same shape, but got shapes ${JSON.stringify(t.shape)} and ${JSON.stringify(e.shape)}`);return ie(()=>{const n=qa(e),r=En(ur(e));return Ce(Me(n,X(e,t)),l2(Li(r)))})}function P2(t,e){return ie(()=>{let n;return n=vi(e,fr(),1-fr()),n=Pi(Je(n,Me(1,n))),Pn(TTe(t,n),-1)})}function NTe(t,e){return ie(()=>{const n=vi(t,fr(),1),r=vi(e,fr(),1);return Ke(X(t,Pi(Je(n,r))),-1)})}function kTe(t,e){return ie(()=>{const n=Pi(Ce(fr(),e));return Pn(Me(e,X(t,n)),-1)})}function vW(t,e){return ie(()=>{const n=NC(t,-1),r=NC(e,-1),s=X(n,r);return En(Ke(s,-1))})}const FC={meanSquaredError:L2,meanAbsoluteError:BD,meanAbsolutePercentageError:ID,meanSquaredLogarithmicError:BTe,squaredHinge:ITe,hinge:ETe,categoricalHinge:$Te,logcosh:STe,categoricalCrossentropy:Nm,sparseCategoricalCrossentropy:kC,binaryCrossentropy:P2,kullbackLeiblerDivergence:NTe,poisson:kTe,cosineProximity:vW};function aE(t){if(typeof t=="string"){if(t in FC)return FC[t];let e=`Unknown loss ${t}`;throw t.toLowerCase().includes("softmaxcrossentropy")&&(e=`Unknown loss ${t}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new te(e)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function wW(t,e){return ie(()=>{const n=X(.5,Mi(e)),r=Oy(Ki(e,n),t.dtype);return Pn(na(t,r),-1)})}function CW(t,e){return ie(()=>Oy(na(yf(t,-1),yf(e,-1)),"float32"))}function FTe(t,e){return ie(()=>_e(Ke(Va(na(t,1),na(e,1))),"float32"))}function _Te(t,e){return ie(()=>_e(Ke(Va(na(t,0),na(e,1))),"float32"))}function DTe(t,e){return ie(()=>{const n=FTe(t,e),r=_Te(t,e),s=Ce(n,r);return _e(Gs(Ki(s,0),Je(n,s),0),"float32")})}function RTe(t,e){return P2(t,e)}function OTe(t,e){return t.rank===e.rank&&(t=vd(t,[t.rank-1])),e=yf(e,-1),e.dtype!==t.dtype&&(e=_e(e,t.dtype)),_e(na(t,e),"float32")}const UTe=L2,LTe=L2,PTe=BD,MTe=BD,QTe=ID,HTe=ID,bW=Nm,VTe=vW,xW=kC,_C={binaryAccuracy:wW,categoricalAccuracy:CW,precision:DTe,categoricalCrossentropy:bW,sparseCategoricalCrossentropy:xW,mse:UTe,MSE:LTe,mae:PTe,MAE:MTe,mape:QTe,MAPE:HTe,cosine:VTe};function zTe(t){if(typeof t=="string"&&t in _C)return _C[t];if(typeof t!="string"&&t!=null)return t;throw new te(`Unknown metric ${t}`)}function Zv(t){if(xa(t!==null,`Unknown LossOrMetricFn ${t}`),typeof t=="string")return t;{let e;for(const n of Object.keys(FC))if(FC[n]===t){e=n;break}if(e!==void 0)return e;for(const n of Object.keys(_C))if(_C[n]===t){e=n;break}return e!==void 0?e:t.name}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function KTe(t){const e={Adagrad:()=>Pd.adagrad(.01),Adadelta:()=>Pd.adadelta(1,.95,fr()),Adam:()=>Pd.adam(.001,.9,.999,fr()),Adamax:()=>Pd.adamax(.002,.9,.999,fr(),0),RMSProp:()=>Pd.rmsprop(.001,.9,0,fr()),SGD:()=>Pd.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new te(`Unknown Optimizer ${t}`)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const iP=1*1024*1024;function oP(t,e,n=!1){if(t==null||typeof t!="object"||Object.getPrototypeOf(t)!==Object.prototype||!XS(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const r=JSON.stringify(t);r.length>iP&&console.warn(`User-defined metadata of model "${e}" is too large in size (length=${r.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${iP}.`)}}function XS(t){if(t===null)return!0;if(typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);for(const n of e)if(typeof n!="string"||!XS(t[n]))return!1;return!0}else if(Array.isArray(t)){for(const e of t)if(!XS(e))return!1;return!0}else return!1;else{const e=typeof t;return e==="string"||e==="number"||e==="boolean"}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function WTe(t,e,n,r=console.log){const s=jTe(t),i=["Layer (type)","Input Shape","Output shape","Param #"];s?(e=e||90,n=n||[.32,.61,.89,1]):(e=e||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(c=>Math.floor(e*c)));let o;if(!s){i.push("Receives inputs"),o=[];for(const c in t.nodesByDepth)o.push(...t.nodesByDepth[c])}r("_".repeat(e)),DC(i,n,r),r("=".repeat(e));const a=t.layers;for(let c=0;c<a.length;++c)s?XTe(a[c],n,r):qTe(a[c],n,o,r),r((c===a.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();const u=GTe(t),l=$C(t.nonTrainableWeights);r(`Total params: ${u+l}`),r(`Trainable params: ${u}`),r(`Non-trainable params: ${l}`),r("_".repeat(e))}function GTe(t){let e;return t.collectedTrainableWeights!=null?e=$C(t.collectedTrainableWeights):e=$C(t.trainableWeights),e}function jTe(t){let e=!0;const n=[],r=[];for(const s in t.nodesByDepth)n.push(t.nodesByDepth[s]);for(const s of n){if(s.length>1||s.length===1&&s[0].inboundLayers.length>1){e=!1;break}r.push(...s)}if(e)for(const s of t.layers){let i=!1;for(const o of s.inboundNodes)if(r.indexOf(o)!==-1)if(i){e=!1;break}else i=!0;if(!e)break}return e}function DC(t,e,n=console.log){let r="";for(let s=0;s<t.length;++s)s>0&&(r=r.slice(0,r.length-1)+" "),r+=t[s],r=r.slice(0,e[s]),r+=" ".repeat(e[s]-r.length);n(r)}function XTe(t,e,n){let r,s;try{s=t.inboundNodes.map(u=>JSON.stringify(u.inputShapes)).join(",")}catch{s="multiple"}try{r=JSON.stringify(t.outputShape)}catch{r="multiple"}const i=t.name,o=t.getClassName(),a=[`${i} (${o})`,s,r,t.countParams().toString()];DC(a,e,n)}function qTe(t,e,n,r){let s,i;try{i=t.inboundNodes.map(A=>JSON.stringify(A.inputShapes)).join(",")}catch{i="multiple"}try{s=JSON.stringify(t.outputShape)}catch{s="multiple"}const o=[];for(const A of t.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(A)===-1))for(let d=0;d<A.inboundLayers.length;++d){const h=A.inboundLayers[d].name,f=A.nodeIndices[d],p=A.tensorIndices[d];o.push(`${h}[${f}][${p}]`)}const a=t.name,u=t.getClassName(),l=o.length===0?"":o[0],c=[`${a} (${u})`,i,s,t.countParams().toString(),l];DC(c,e,r);for(let A=1;A<o.length;++A)DC(["","","","",o[A]],e,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function BW(t,e,n){return(t==="inboundNodes"||t==="outputLayers"||t==="inputLayers")&&e===0&&typeof n=="string"}function qS(t,e){if(t===null)return null;if(typeof t=="string")return aA(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],r=t.length;for(let s=0;s<r;++s){const i=t[s];BW(e,s,i)?n.push(i):n.push(qS(i,e))}return n}else{const n={};for(const r of Object.keys(t)){const s=t[r];if(r==="name"&&typeof s=="string")n[r]=s;else{const i=aA(r);n[i]=qS(s,i)}}return n}}function YS(t,e){if(t==null)return null;if(typeof t=="string")return uu(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],r=t.length;for(let s=0;s<r;++s){const i=t[s];BW(e,s,i)?n.push(i):n.push(YS(i,e))}return n}else{const n={};for(const r of Object.keys(t)){const s=t[r],i=uu(r);(r==="name"||r==="className")&&typeof s=="string"?n[i]=s:n[i]=YS(s,r)}return n}}/** @license See the LICENSE file. */const IW="3.21.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Lo extends Pt{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){const y=this.getClassName().toLowerCase();this.name=R2(y)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],jl(this.inputs).length!==this.inputs.length)throw new te(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(y=>y.name)}`);jl(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(y=>y.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const y of this.outputs){const C=y.sourceLayer,b=y.nodeIndex,B=y.tensorIndex;this.outputLayers.push(C),this.outputLayersNodeIndices.push(b),this.outputLayersTensorIndices.push(B)}for(const y of this.inputs){const C=y.sourceLayer,b=y.nodeIndex,B=y.tensorIndex;xa(b===0,"input layer has >1 nodes"),xa(B===0,"input layer has >1 tensors"),this.inputLayers.push(C),this.inputLayersNodeIndices.push(b),this.inputLayersTensorIndices.push(B)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let y=0;y<this.inputLayers.length;y++){const C=this.inputLayers[y];if(!(C instanceof My))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${y} (0-based) originates from layer type ${C.getClassName()}.`);this.inputNames.push(C.name),this.feedInputShapes.push(C.batchInputShape),this.feedInputNames.push(C.name)}for(const y of this.outputLayers)this.outputNames.push(y.name);this.internalInputShapes=this.inputs.map(y=>y.shape),this.internalOutputShapes=this.outputs.map(y=>y.shape);const n={},r={},s={},i={},o={},a=[],u=(y,C,b,B,I,w)=>{(B==null||I==null||w==null)&&(B=y.sourceLayer,I=y.nodeIndex,w=y.tensorIndex);const $=B.inboundNodes[I];if(b.indexOf($)!==-1)throw new vo(`The tensor ${y.name} at layer "${B.name}" is part of a cycle.`);if(C.indexOf($)!==-1)return;this.containerNodes.add(Lo.nodeKey(B,I)),B.id in o||(o[B.id]=Object.keys(o).length),b.indexOf($)===-1&&b.push($);const T=$.inboundLayers.length;for(let _=0;_<T;_++){const R=$.inputTensors[_],P=$.inboundLayers[_],L=$.nodeIndices[_],z=$.tensorIndices[_];u(R,C,b,P,L,z)}for(C.push($);b.indexOf($)>=0;)b.splice(b.indexOf($),1);a.push($)},l=[],c=[];for(const y of this.outputs)u(y,l,c);const A=a.slice().reverse();for(const y of A){r[y.id]=y,y.id in n||(n[y.id]=0);let C=n[y.id];const b=s[y.outboundLayer.id]==null?0:s[y.outboundLayer.id];C=Math.max(C,b),s[y.outboundLayer.id]=C,i[y.outboundLayer.id]=y.outboundLayer,n[y.id]=C;for(let B=0;B<y.inboundLayers.length;B++){const I=y.inboundLayers[B],w=y.nodeIndices[B],$=I.inboundNodes[w],T=n[$.id]==null?0:n[$.id];n[$.id]=Math.max(C+1,T),r[$.id]=$}}const d={};for(const y in n){const C=n[y];C in d||(d[C]=[]),d[C].push(r[y])}const h={};for(const y in s){const C=s[y];C in h||(h[C]=[]),h[C].push(i[y])}let f=Object.keys(h).map(y=>parseInt(y,10)).sort(qv);this.layers=[];for(const y of f){const C=h[y];C.sort((b,B)=>{const I=o[b.id],w=o[B.id];return I<w?-1:I>w?1:0});for(const b of C)b instanceof Lo&&this.internalContainerRefs.push(b),this.layers.push(b)}this.layersByDepth=h,f=Object.keys(d).map(y=>parseInt(y,10)).sort(qv);const p=this.inputs.slice(),m=[];for(const y of f)for(const C of d[y]){const b=C.outboundLayer;if(b!=null){for(const B of C.inputTensors)if(p.indexOf(B)===-1)throw new vo(`Graph disconnected: cannot obtain value for tensor ${B} at layer "${b.name}". The following previous layers were accessed without issue: ${m}`);for(const B of C.outputTensors)p.push(B);m.push(b.name)}}this.nodesByDepth=d;const g=this.layers.map(y=>y.name);for(const y of g){const C=g.filter(b=>b===y).length;if(C!==1)throw new vo(`The name "${y}" is used ${C} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new U2({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(y=>null),outputMasks:this.outputs.map(y=>null),inputShapes:this.inputs.map(y=>y.shape),outputShapes:this.outputs.map(y=>y.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)e.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)e.numDisposedVariables+=n.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(n=>{n._trainableWeights.forEach(r=>r.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new te("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const n of this.layers)e=e.concat(n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.layers)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.layers)n.push(...r.trainableWeights);return n.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,n=!0){const r={};let s=0;for(const o of this.layers)for(const a of o.weights){if(r[a.originalName]!=null)throw new te(`Duplicate weight name: ${a.originalName}`);r[a.originalName]=a,s++}const i=[];for(const o in e){let a=o;if(r[o]==null){const u=o.split("/");a=u.slice(0,-2).concat([u[u.length-1]]).join("/")}if(r[a]!=null)i.push([r[a],e[o]]);else if(n)throw new te(`Provided weight data has no target variable: ${o}`);delete r[a]}if(n){const o=[];for(const a in r)o.push(a);if(o.length>0)throw new te(`${o.length} of ${s} weights are not set: ${o}`)}bD(i)}updatedConfig(){const e=this.getConfig(),n={};return n.className=this.getClassName(),n.config=e,n.kerasVersion=`tfjs-layers ${IW}`,n.backend="TensorFlow.js",n}toJSON(e,n=!0){const r=YS(this.updatedConfig());return n?JSON.stringify(r):r}call(e,n){return ie(()=>{e=fn(e);const r=new El;for(let s=0;s<this.inputs.length;++s)r.add(this.inputs[s],e[s]);return ag(this.outputs,r,n)})}computeMask(e,n){return ie(()=>{e=fn(e);let r;return n==null?r=JA(null,e.length):r=fn(n),this.runInternalGraph(e,r)[1]})}computeOutputShape(e){const n=EC(e);if(n.length!==this.inputLayers.length)throw new te(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const r={};for(let a=0;a<n.length;a++){const u=this.inputLayers[a],l=n[a],c=u.name+"_0_0";r[c]=l}const s=Object.keys(this.nodesByDepth).map(a=>parseInt(a,10)).sort(qv);if(s.length>1)for(const a of s){const u=this.nodesByDepth[a];for(const l of u){const c=l.outboundLayer;if(this.inputLayers.map(p=>p.id).indexOf(c.id)!==-1)continue;const A=[];for(let p=0;p<l.inboundLayers.length;p++){const m=l.inboundLayers[p],g=l.nodeIndices[p],y=l.tensorIndices[p],C=`${m.name}_${g}_${y}`,b=r[C];A.push(b)}const d=c.computeOutputShape(Qs(A)),h=EC(d),f=c.inboundNodes.indexOf(l);for(let p=0;p<h.length;p++){const m=`${c.name}_${f}_${p}`;r[m]=h[p]}}}const i=[],o=[];for(let a=0;a<this.outputLayers.length;a++){const u=this.outputLayers[a],l=this.outputLayersNodeIndices[a],c=this.outputLayersTensorIndices[a],A=`${u.name}_${l}_${c}`;o.push(A)}for(let a=0;a<o.length;a++){const u=o[a];xa(u in r),i.push(r[u])}return Qs(i)}runInternalGraph(e,n){n==null&&(n=JA(null,e.length));const r={};for(let u=0;u<this.inputs.length;++u){const l=this.inputs[u],c=e[u],A=n[u];r[l.id]=[c,A]}const s=Object.keys(this.nodesByDepth).map(u=>parseInt(u,10)).sort(qv);for(const u of s){const l=this.nodesByDepth[u];for(const c of l){const A=c.outboundLayer,d=c.inputTensors,h=c.outputTensors,f=new Array;for(const p of d)p.id in r&&f.push(r[p.id]);if(f.length===d.length){let p={},m,g,y,C;if(c.callArgs!=null&&(p=c.callArgs),f.length===1){const[b,B]=f[0];p.mask==null&&(p.mask=B),y=fn(A.call(b,p)),C=fn(A.computeMask(b,B)),m=[b],g=[B]}else m=f.map(b=>b[0]),g=f.map(b=>b[1]),p.mask==null&&(p.mask=g),y=fn(A.call(m,p)),C=fn(A.computeMask(m,g));if(A.activityRegularizer)throw new gt("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let b=0;b<h.length;++b){const B=h[b],I=y[b],w=C[b];r[B.id]=[I,w]}}}}const i=[],o=[],a=[];for(const u of this.outputs){xa(u.id in r,`Could not compute output ${u.name} : ${u.id}`);const[l,c]=r[u.id];a.push(l.shape),i.push(l),o.push(c)}return[i,o,a]}buildNodeConversionMap(e){const n={};let r;for(const s of this.layers){r=s instanceof Lo?1:0;for(let i=0;i<s.inboundNodes.length;i++){const o=Lo.nodeKey(s,i);this.containerNodes.has(o)&&(n[o]=r,r+=1)}}return n}getLayer(e,n){if(n!=null){if(this.layers.length<=n)throw new te(`Was asked to retrieve layer at index ${n}, but model only has ${this.layers.length} layer(s).`);return this.layers[n]}else if(e==null)throw new te("Provide either a layer name or layer index");for(const r of this.layers)if(r.name===e)return r;throw new te(`No such layer: ${e}`)}calculateLosses(){return ie(()=>{const e=[];for(const n of this.layers)for(let r=0;r<n.inboundNodes.length;++r){const s=Lo.nodeKey(n,r);this.containerNodes.has(s)&&e.push(...n.calculateLosses())}return e})}getConfig(){const e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[];for(const o of this.layers){const a=o.getClassName(),u=o.getConfig(),l=[];for(let A=0;A<o.inboundNodes.length;A++){const d=o.inboundNodes[A],h=Lo.nodeKey(o,A);let f={};if(this.containerNodes.has(h)){if(d.callArgs)try{JSON.stringify(d.callArgs),f=d.callArgs}catch{console.warn(`Layer ${o.name} was passed non-serializable keyword arguments: ${d.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),f={}}if(d.inboundLayers.length>0){const p=[];for(let m=0;m<d.inboundLayers.length;m++){const g=d.inboundLayers[m],y=d.nodeIndices[m],C=d.tensorIndices[m],b=Lo.nodeKey(g,y);let B=n[b];B==null&&(B=0),p.push([g.name,B,C,f])}l.push(p)}}}const c={};c.name=o.name,c.className=a,c.config=u,c.inboundNodes=l,r.push(c)}e.layers=r;const s=[];for(let o=0;o<this.inputLayers.length;o++){const a=this.inputLayers[o],u=this.inputLayersNodeIndices[o],l=Lo.nodeKey(a,u);if(!this.containerNodes.has(l))continue;let c=n[l];c==null&&(c=0);const A=this.inputLayersTensorIndices[o];s.push([a.name,c,A])}e.inputLayers=s;const i=[];for(let o=0;o<this.outputLayers.length;o++){const a=this.outputLayers[o],u=this.outputLayersNodeIndices[o],l=Lo.nodeKey(a,u);if(!this.containerNodes.has(l))continue;let c=n[l];c==null&&(c=0);const A=this.outputLayersTensorIndices[o];i.push([a.name,c,A])}return e.outputLayers=i,e}static fromConfig(e,n,r={},s=!1){const i={},o={};function a(m,g){m.name in o?o[m.name].push(g):o[m.name]=[g]}function u(m,g){const y=[];let C;for(const b of g){const B=b[0],I=b[1],w=b[2];if(C=b[3]==null?{}:b[3],!(B in i)){a(m,g);return}const $=i[B];if($.inboundNodes.length<=I){a(m,g);return}const T=$.inboundNodes[I];y.push(T.outputTensors[w])}y.length>0&&m.apply(Qs(y),C)}function l(m){const g=m.name,y=xu(m,n.customObjects!=null?n.customObjects:{});y.setFastWeightInitDuringBuild(s),i[g]=y,m.inboundNodes.forEach(b=>{if(!(b instanceof Array))throw new te(`Corrupted configuration, expected array for nodeData: ${b}`);a(y,b)})}const c=n.name,A=n.layers;for(const m of A)l(m);for(;!USe(o);)for(const m of A){const g=i[m.name];if(g.name in o){const y=o[g.name];delete o[g.name];for(const C of y)u(g,C)}}const d=[],h=[],f=n.inputLayers;for(const m of f){const g=m[0],y=m[1],C=m[2];xa(g in i);const B=i[g].inboundNodes[y].outputTensors;d.push(B[C])}const p=n.outputLayers;for(const m of p){const g=m[0],y=m[1],C=m[2];xa(g in i);const B=i[g].inboundNodes[y].outputTensors;h.push(B[C])}return new e({inputs:d,outputs:h,name:c})}get stateful(){if(this._stateful)throw new te("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){ie(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function YTe(t,e,n){const r=e.length;if(t==null||Array.isArray(t)&&t.length===0)return e.map(s=>null);if(r===1)return Array.isArray(t)&&t.length===1?t:typeof t=="object"&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==r)throw new Error(`Provided ${n} is an array of ${t.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return t}else if(typeof t=="object"&&Object.keys(t).length>0&&typeof t[Object.keys(t)[0]]=="object"){const s=[];return e.forEach(i=>{i in t?s.push(t[i]):s.push(null)}),s}else throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${e} keys. Provided ${n} not understood: ${JSON.stringify(t)}`)}function EW(t,e){return YTe(t,e,"classWeight")}async function $W(t,e,n,r){if(e!=null||r!=null)throw new Error("Support sampleWeight is not implemented yet");if(n!=null){const s=ie(()=>{if(t.shape.length===1)return bu(t);if(t.shape.length===2){if(t.shape[1]>1)return yf(t,1);if(t.shape[1]===1)return Y(t,[t.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${t.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${t.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),i=Array.from(await s.data());vt(s);const o=[];return i.forEach(a=>{if(n[a]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${a} exists in the data but not in classWeight`);o.push(n[a])}),zs(o,"float32")}else return null}function JTe(t,e){return X(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const ZTe=32;function SW(t,e){let n,r;const s=e;n=s.xs,r=s.ys,O(n!=null&&r!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${e}`);const i=aP("input",t.inputNames,n),o=aP("output",t.outputNames,r),a=i[0].shape[0];O(i.length===t.inputs.length,()=>`LayersModel has ${t.inputs.length} inputs, but the dataset provides ${i.length} inputs.  (Expected input keys: ${JSON.stringify(t.inputNames)})`),O(o.length===t.outputs.length,()=>`LayersModel has ${t.outputs.length} outputs, but the dataset provides ${o.length} outputs.  (Expected output keys: ${JSON.stringify(t.outputNames)})`);for(let u=0;u<i.length;u++)O(i[u].shape[0]===a,()=>`Batch size mismatch: input ${t.inputNames[u]} has ${i[u].shape[0]}; expected  ${a} based on input ${t.inputNames[0]}.`);for(let u=0;u<o.length;u++)O(o[u].shape[0]===a,()=>`Batch size mismatch: output ${t.outputNames[u]} has ${o[u].shape[0]}; expected  ${a} based on input ${t.inputNames[0]}.`);return{xs:i,ys:o}}function aP(t,e,n){if(n instanceof Cn)return[n];if(Array.isArray(n))return O(n.length===e.length,()=>`Received an array of ${n.length} Tensors, but expected ${e.length} to match the ${t} keys ${e}.`),n;{const r=[];for(const s of e){if(n[s]==null)throw new te(`The feature data generated by the dataset lacks the required ${t} key '${s}'.`);r.push(n[s])}return r}}function eNe(t){if(t.length===3)throw new gt("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}async function tNe(t,e,n){const r=n.batchesPerEpoch!=null;if(O(t.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),O(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),O(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`),O(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`),O(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;try{const s=n.validationData!=null;let i,o;if(s)if(uP(n.validationData))O(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`);else{const m=eNe(n.validationData);i=m.xs,o=m.ys}const a=t.makeTrainFunction(),u=t.getDedupedMetricsNames();let l;s?l=u.slice().concat(u.map(m=>"val_"+m)):l=u.slice();const c=mW(n.callbacks,n.yieldEvery),A=n.verbose==null?1:n.verbose,{callbackList:d,history:h}=yW(c,A,n.epochs,null,null,nNe(e,n),null,s,l);d.setModel(t),t.history=h,await d.onTrainBegin(),t.stopTraining_=!1;let f=n.initialEpoch==null?0:n.initialEpoch,p=await e.iterator();for(;f<n.epochs;){const m={};await d.onEpochBegin(f);let g=0,y=0;for(r||(p=await e.iterator());!r||g<n.batchesPerEpoch;){const C=await p.next();if(r&&C.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${g} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${n.batchesPerEpoch*n.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(C.value!=null){const{xs:b,ys:B}=SW(t,C.value),I={};I.batch=y,I.size=b[0].shape[0],await d.onBatchBegin(y,I);const w=[];if(n.classWeight!=null){const _=EW(n.classWeight,t.outputNames);for(let R=0;R<_.length;++R)w.push(await $W(B[R],null,_[R]))}const $=b.concat(B).concat(w),T=a($);vt($);for(let _=0;_<u.length;++_){const R=u[_],P=T[_];I[R]=P,Vr(P)}await d.onBatchEnd(y,I),gW(I),y++,g++}if(r?g>=n.batchesPerEpoch:C.done){if(s){let b;uP(n.validationData)?b=fn(await t.evaluateDataset(n.validationData,{batches:n.validationBatches})):b=fn(t.evaluate(i,o,{batchSize:n.validationBatchSize==null?ZTe:n.validationBatchSize,verbose:0}));for(let B=0;B<t.metricsNames.length;++B)m[`val_${t.metricsNames[B]}`]=b[B]}break}if(t.stopTraining_)break}if(await d.onEpochEnd(f,m),f++,t.stopTraining_)break}return await d.onTrainEnd(),await t.history.syncData(),t.history}finally{t.isTraining=!1}}function nNe(t,e){let n=null;return e.batchesPerEpoch!=null?n=e.batchesPerEpoch:Number.isFinite(t.size)&&(n=t.size),n}function uP(t){return typeof t.iterator=="function"}function rNe(t){return typeof t.next=="function"}async function sNe(t,e,n){n=n||{};const r=n.batches!=null,s=t.testFunction;let i=[];if(n.verbose>0)throw new gt("Verbose mode is not implemented yet.");O(!r||n.batches>0&&Number.isInteger(n.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`);const o=rNe(e)?e:await e.iterator();let a=0,u=0;for(;!r||u<n.batches;){const l=await o.next();if(i=ie(()=>{if(l.value){const{xs:c,ys:A}=SW(t,l.value),d=c.concat(A),h=ie(()=>s(d));if(vt(d),u===0)for(let p=0;p<h.length;++p)i.push(tt(0));const f=d[0].shape[0];for(let p=0;p<h.length;++p){const m=h[p],g=i[p];i[p]=ie(()=>Ce(i[p],X(f,m))),u>0&&vt(g)}vt(h),a+=f,++u}return i}),l.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let l=0;l<i.length;++l){const c=i[l];i[l]=Je(i[l],a),vt(c)}return Qs(i)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function JS(t){O(t>0&&Number.isInteger(t),()=>`batchSize is required to be a positive integer, but got ${t}`)}function ug(t,e,n){return t==null?[null]:Array.isArray(t)?t.map(r=>TA(r,e,n-e)):TA(t,e,n-e)}function ED(t,e){return ie(()=>t==null?null:Array.isArray(t)?t.map(n=>ED(n,e)):nW(t,e.dtype==="int32"?e:_e(e,"int32")))}function ZS(t,e){const n=[];let r=0,s=null;for(;r<t;)s=r+e,s>=t&&(s=t),n.push([r,s]),r=s;return n}async function iNe(t,e,n,r,s,i,o,a,u,l,c,A,d,h,f){s==null&&(s=32),i==null&&(i=1),c==null&&(c=!0),d==null&&(d=0);let p=!1;if(u!=null&&l!=null&&(p=!0),f!=null&&(p=!0,h==null))throw new te("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const m=t.checkNumSamples(n,s,h,"steps_per_epoch");let g;m!=null&&(g=ia(0,m)),o==null&&(o=1);const{callbackList:y,history:C}=yW(a,o,i,d,m,h,s,p,A);y.setModel(t),t.history=C,await y.onTrainBegin(),t.stopTraining_=!1;for(let b=d;b<i;++b){await y.onEpochBegin(b);const B={};if(h!=null)throw new gt("stepsPerEpoch mode is not implemented yet.");{if(c==="batch")throw new gt("batch shuffling is not implemneted yet");c&&tle(g);const I=zs(g),w=ZS(m,s);for(let $=0;$<w.length;++$){const T={};if(await y.onBatchBegin($,T),ie(()=>{const _=w[$][0],R=w[$][1],P=TA(I,_,R-_);T.batch=$,T.size=R-_;const L=ED(n,P),z=e(L);for(let V=0;V<r.length;++V){const q=r[V],ne=z[V];T[q]=ne,Vr(ne)}if($===w.length-1&&p){const V=t.testLoop(u,l,s);for(let q=0;q<r.length;++q){const ne=r[q],H=V[q];Vr(H),B["val_"+ne]=H}}}),await y.onBatchEnd($,T),gW(T),t.stopTraining_)break}I.dispose()}if(await y.onEpochEnd(b,B),t.stopTraining_)break}return await y.onTrainEnd(),await t.history.syncData(),t.history}async function oNe(t,e,n,r={}){if(t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;let s,i,o,a,u,l,c,A,d;try{const h=r.batchSize==null?32:r.batchSize;JS(h);const f=!1,p=await t.standardizeUserData(e,n,r.sampleWeight,r.classWeight,f,h);s=p[0],i=p[1],d=p[2];let m=!1,g;if(r.validationData!=null&&r.validationData.length>0){if(m=!0,r.validationData.length===2)u=r.validationData[0],l=r.validationData[1];else throw r.validationData.length===3?new gt("validationData including sample weights is not supported yet."):new te(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${r.validationData} is invalid.`);const T=!0,_=await t.standardizeUserData(u,l,null,null,T,h);c=_[0],A=_[1],g=c.concat(A)}else if(r.validationSplit!=null&&r.validationSplit>0&&r.validationSplit<1){m=!0;const T=Math.floor(s[0].shape[0]*(1-r.validationSplit)),_=s[0].shape[0];c=ug(s,T,_),o=s,s=ug(s,0,T),A=ug(i,T,_),a=i,i=ug(i,0,T),g=c.concat(A)}else r.validationSteps!=null&&(m=!0);const y=s.concat(i).concat(d);t.checkTrainableWeightsConsistency();const C=t.makeTrainFunction(),b=t.getDedupedMetricsNames();let B,I;m?(t.makeTestFunction(),B=t.testFunction,I=b.slice().concat(b.map(T=>"val_"+T))):(B=null,g=[],I=b.slice());const w=mW(r.callbacks,r.yieldEvery);return await iNe(t,C,y,b,h,r.epochs,r.verbose,w,B,g,r.shuffle,I,r.initialEpoch,null,null)}finally{t.isTraining=!1,Ko(s,e),Ko(i,n),Ko(o,e),Ko(a,n),Ko(c,u),Ko(A,l),d!=null&&vt(d)}}function TW(t){const e=[];t instanceof Cn&&(t=[t]);for(let n=0;n<t.length;++n){const r=t[n];if(r.rank===1)e.push(Uy(r,1));else{if(r.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(r)}}return e}function Ko(t,e){if(t==null)return;const n=[];if(e instanceof Cn)n.push(e.id);else if(Array.isArray(e))e.forEach(s=>n.push(s.id));else if(e!=null)for(const s in e){const i=e[s];n.push(i.id)}const r=[];if(t instanceof Cn)n.indexOf(t.id)===-1&&r.push(t);else if(Array.isArray(t))t.forEach(s=>{n.indexOf(s.id)===-1&&r.push(s)});else if(t!=null)for(const s in t){const i=t[s];n.indexOf(i.id)===-1&&r.push(i)}r.forEach(s=>{s.isDisposed||s.dispose()})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function aNe(t){return t instanceof Cn}function eT(t){return Array.isArray(t)}function lP(t){return!aNe(t)&&!eT(t)}function cP(t,e,n,r=!0,s=""){if(e==null||e.length===0){if(t!=null){let o=!1;if(eT(t)&&t.length>0)o=!0;else if(lP(t)){for(const a in t)if(t.hasOwnProperty(a)){o=!0;break}}else o=!0;if(o)throw new te(`Error when checking model ${s} expected no data, but got ${t}`)}return[]}if(t==null)return e.map(o=>null);let i;if(lP(t)){t=t,i=[];for(const o of e){if(t[o]==null)throw new te(`No data provided for "${o}". Need data for each key in: ${e}`);i.push(t[o])}}else if(eT(t)){if(t=t,t.length!==e.length)throw new te(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${e.length} Tensor(s), but instead got the following list of Tensor(s): ${t}`);i=t}else{if(t=t,e.length>1)throw new te(`The model ${s} expects ${e.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${t.shape}`);i=[t]}if(i=TW(i),n!=null)for(let o=0;o<e.length;++o){if(n[o]==null)continue;const a=i[o];if(a.shape.length!==n[o].length)throw new te(`Error when checking ${s}: expected ${e[o]} to have ${n[o].length} dimension(s). but got array with shape ${a.shape}`);for(let u=0;u<n[o].length;++u){if(u===0&&!r)continue;const l=a.shape[u],c=n[o][u];if(c!=null&&c>=0&&l!==c)throw new te(`${s} expected a batch of elements where each example has shape [${n[o].slice(1,n[o].length)}] (i.e.,tensor shape [*,${n[o].slice(1,n[o].length)}]) but the ${s} received an input with ${a.shape[0]} examples, each with shape [${a.shape.slice(1,a.shape.length)}] (tensor shape [${a.shape}])`)}}return i}function uNe(t,e,n){const r=jl(t.map(i=>i.shape[0]));r.sort();const s=jl(e.map(i=>i.shape[0]));if(s.sort(),r.length>1)throw new te(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(i=>i.shape))}`);if(s.length>1)throw new te(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(i=>i.shape))}`);if(r.length>0&&s.length>0&&!Ut(r,s))throw new te(`Input Tensors should have the same number of samples as target Tensors. Found ${r[0]} input sample(s) and ${s[0]} target sample(s).`)}function lNe(t,e,n){const r=[L2,P2,Nm];for(let s=0;s<t.length;++s){const i=t[s],o=e[s],a=n[s];if(o!=null){if(o===Nm&&i.shape[i.shape.length-1]===1)throw new te(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(r.indexOf(o)!==-1){const u=i.shape.slice(1),l=a.slice(1);for(let c=0;c<u.length;++c){const A=u[c],d=l[c];if(d!=null&&A!==d)throw new te(`A target Tensor with shape ${i.shape} was passed for an output of shape ${a}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function AP(t,e,n,r=!0,s=""){let i;if(Array.isArray(t)){if(t.length!==e.length)throw new te(`Error when checking model ${s}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${e.length} Tensor(s), but instead got ${t.length} Tensors(s).`);i=t}else{if(e.length>1)throw new te(`The model expects ${e.length} ${s} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(t.shape)}.`);i=[t]}if(n!=null)for(let o=0;o<e.length;++o){if(n[o]==null)continue;const a=i[o];if(a.shape.length!==n[o].length)throw new te(`Error when checking ${s}: expected ${e[o]} to have ${n[o].length} dimension(s), but got array with shape ${JSON.stringify(a.shape)}`);for(let u=0;u<n[o].length;++u){if(u===0&&!r)continue;const l=a.shape[u],c=n[o][u];if(c!=null&&c!==l)throw new te(`Error when checking ${s}: expected ${e[o]} to have shape ${JSON.stringify(n[o])} but got array with shape ${JSON.stringify(a.shape)}.`)}}}function cNe(t,e){if(t==null||Array.isArray(t)&&t.length===0)return e.map(r=>[]);let n;if(typeof t=="string"||typeof t=="function")n=[t];else if(Array.isArray(t)||typeof t=="object")n=t;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${t}`);if(Array.isArray(n))return e.map(r=>n);{const r=[];for(const s of e){let i=n.hasOwnProperty(s)?n[s]:[];Array.isArray(i)||(i=[i]),r.push(i)}return r}}const ANe="layers-model";class Wh extends Lo{constructor(e){super(e),this.isTraining=!1}summary(e,n,r=console.log){if(!this.built)throw new te("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");WTe(this,e,n,r)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=KTe(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Dc))throw new te("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(const o in e.loss)if(this.outputNames.indexOf(o)===-1)throw new te(`Unknown entry in loss dictionary: "${o}". Only expected the following keys: ${this.outputNames}`);for(const o of this.outputNames)e.loss[o]==null&&console.warn(`Output "${o}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${o} during training`),n.push(aE(e.loss[o]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new te(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);n=e.loss.map(a=>aE(a))}else{const o=aE(e.loss);this.outputs.forEach(a=>{n.push(o)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let o=0;o<this.outputs.length;++o){const a=this.internalOutputShapes[o],u=this.outputNames[o];this.feedOutputNames.push(u),this.feedOutputShapes.push(a),this.feedLossFns.push(this.lossFunctions[o])}const r=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],SA("loss",()=>{for(let o=0;o<this.outputs.length;++o){if(r.indexOf(o)!==-1)continue;const a=this.lossFunctions[o];this.outputs.length>1&&(this.metricsTensors.push([a,o]),this.metricsNames.push(this.outputNames[o]+"_loss"))}});const s=cNe(e.metrics,this.outputNames),i=(o,a,u)=>{this.outputNames.length>1&&(a=this.outputNames[o]+"_"+a),this.metricsNames.push(a),this.metricsTensors.push([u,o])};SA("metric",()=>{for(let o=0;o<this.outputs.length;++o){if(r.indexOf(o)!==-1)continue;const a=s[o];(l=>{const c="";let A,d,h;for(const f of l){if(typeof f=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(f)!==-1){const m=this.internalOutputShapes[o];m[m.length-1]===1||this.lossFunctions[o]===P2?["accuracy","acc"].indexOf(f)!==-1?d=wW:["crossentropy","ce"].indexOf(f)!==-1&&(d=RTe):this.lossFunctions[o]===kC?["accuracy","acc"].indexOf(f)!==-1?d=OTe:["crossentropy","ce"].indexOf(f)!==-1&&(d=xW):["accuracy","acc"].indexOf(f)!==-1?d=CW:["crossentropy","ce"].indexOf(f)!==-1&&(d=bW);let g;["accuracy","acc"].indexOf(f)!==-1?g="acc":["crossentropy","ce"].indexOf(f)!==-1&&(g="ce"),h=d,A=c+g}else h=zTe(f),A=c+Zv(f);let p;SA(A,()=>{p=h}),i(o,A,p)}})(a)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,n,r={}){const s=r.batchSize==null?32:r.batchSize;JS(s);const i=!0,o=this.standardizeUserDataXY(e,n,i,s);try{const a=o[0].concat(o[1]);this.makeTestFunction();const u=this.testFunction,l=this.testLoop(u,a,s,r.verbose,r.steps);return Qs(l)}finally{Ko(o[0],e),Ko(o[1],n)}}async evaluateDataset(e,n){return this.makeTestFunction(),sNe(this,e,n)}checkNumSamples(e,n,r,s="steps"){let i;if(r!=null){if(i=null,n!=null)throw new te(`If ${s} is set, batchSize must be null or undefined.Got batchSize = ${n}`)}else if(e!=null)Array.isArray(e)?i=e[0].shape[0]:i=e.shape[0];else throw new te(`Either the input data should have a defined shape, or ${s} shoud be specified.`);return i}execute(e,n){if(Array.isArray(n)&&n.length===0)throw new te("`outputs` is an empty Array, which is not allowed.");const r=Array.isArray(n),s=r?n:[n],i=this.retrieveSymbolicTensors(s),o=new El;if(e instanceof Cn&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new te(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let u=0;u<this.inputs.length;++u)o.add(this.inputs[u],e[u])}else for(const u of this.inputs){const l=e[u.name];if(l==null)throw new te(`No value is provided for the model's input ${u.name}`);o.add(u,l)}const a=ag(i,o);return r?a:a[0]}retrieveSymbolicTensors(e){const n=JA(null,e.length);let r=e.length;for(const s of this.layers){const i=Array.isArray(s.output)?s.output:[s.output],o=i.map(a=>a.name);for(let a=0;a<e.length;++a){const u=o.indexOf(e[a]);if(u!==-1&&(n[a]=i[u],r--),r===0)break}if(r===0)break}if(r>0){const s=[];throw n.forEach((i,o)=>{i==null&&s.push(e[o])}),new te(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(s)}`)}return n}predictLoop(e,n=32,r=!1){return ie(()=>{const s=this.checkNumSamples(e);if(r)throw new gt("Verbose predictLoop() is not implemented yet.");const i=ZS(s,n),o=this.outputs.map(a=>[]);for(let a=0;a<i.length;++a)ie(()=>{const l=i[a][0],c=i[a][1],A=ug(e,l,c),d=[];if(Array.isArray(A))for(let f=0;f<A.length;++f)d.push({key:this.inputs[f],value:A[f]});else d.push({key:this.inputs[0],value:A});const h=new El(d);return ag(this.outputs,h)}).forEach((l,c)=>o[c].push(l));return Qs(o.map(a=>sr(a,0)))})}predict(e,n={}){const r=TW(e);AP(r,this.inputNames,this.feedInputShapes,!1);try{const s=n.batchSize==null?32:n.batchSize;return JS(s),this.predictLoop(r,s)}finally{Ko(r,e)}}predictOnBatch(e){AP(e,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,n)}standardizeUserDataXY(e,n,r=!0,s){if(this.optimizer_==null)throw new vo("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const i=[];for(let o=0;o<this.feedOutputShapes.length;++o){const a=this.feedOutputShapes[o];this.feedLossFns[o]===kC?i.push(a.slice(0,a.length-1).concat([1])):i.push(a)}if(e=cP(e,this.feedInputNames,this.feedInputShapes,!1,"input"),n=cP(n,this.feedOutputNames,i,!1,"target"),uNe(e,n),lNe(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&s!=null&&s>0&&e[0].shape[0]%s!==0)throw new te(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${s}. Found: ${e[0].shape[0]} sample(s).`);return[e,n]}async standardizeUserData(e,n,r,s,i=!0,o){const[a,u]=this.standardizeUserDataXY(e,n,i,o);if(r!=null)throw new Error("sample weight is not supported yet.");let l=null;if(s!=null){const c=EW(s,this.outputNames);l=[];for(let A=0;A<c.length;++A)l.push(await $W(u[A],null,c[A]))}return[a,u,l]}testLoop(e,n,r,s=0,i){return ie(()=>{const o=this.checkNumSamples(n,r,i,"steps"),a=[];if(s>0)throw new gt("Verbose mode is not implemented yet.");if(i!=null)throw new gt("steps mode in testLoop() is not implemented yet");{const u=ZS(o,r),l=zs(ia(0,o));for(let c=0;c<u.length;++c){const A=u[c][0],d=u[c][1],h=TA(l,A,d-A),f=ED(n,h),p=e(f);if(c===0)for(let m=0;m<p.length;++m)a.push(tt(0));for(let m=0;m<p.length;++m){const g=p[m];a[m]=Ce(a[m],X(d-A,g))}}for(let c=0;c<a.length;++c)a[c]=Je(a[c],o)}return a})}getDedupedMetricsNames(){const e=this.metricsNames,n=[];for(let r=0;r<e.length;++r){const s=e[r];let i=s;if(XL(e,s)>1){const o=XL(e.slice(0,r),s);i+=`_${o}`}n.push(i)}return n}makeTrainFunction(){return e=>{const n=[],r=e.slice(0,this.inputs.length),s=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),o=[],a=()=>{const A=[];for(let p=0;p<this.inputs.length;++p)A.push({key:this.inputs[p],value:r[p]});const d=new El(A),h=ag(this.outputs,d,{training:!0});let f;for(let p=0;p<this.lossFunctions.length;++p){const m=this.lossFunctions[p];let g=m(s[p],h[p]);i[p]!=null&&(g=JTe(g,i[p]));const y=Pn(g);n.push(y),p===0?f=g:f=Ce(f,g)}for(let p=0;p<this.metricsTensors.length;++p){let m;if(this.outputs.length>1&&p<this.outputs.length)m=n[p];else{const g=this.metricsTensors[p][0],y=this.metricsTensors[p][1];m=Pn(g(s[y],h[y]))}Vr(m),o.push(m)}return f=Pn(f),this.calculateLosses().forEach(p=>{f=Ce(f,p)}),f},u=this.collectedTrainableWeights.map(A=>A.read()),l=!0;return[this.optimizer_.minimize(a,l,u)].concat(o)}}makeTestFunction(){this.testFunction=e=>ie(()=>{const n=[];let r;const s=e.slice(0,this.inputs.length),i=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=[];for(let l=0;l<this.inputs.length;++l)o.push({key:this.inputs[l],value:s[l]});const a=new El(o),u=ag(this.outputs,a);for(let l=0;l<this.lossFunctions.length;++l){const c=this.lossFunctions[l],A=Pn(c(i[l],u[l]));l===0?r=A:r=Ce(r,A),n.push(r)}for(let l=0;l<this.metricsTensors.length;++l){const c=this.metricsTensors[l][0],A=this.metricsTensors[l][1],d=Pn(c(i[A],u[A]));n.push(d)}return n})}async fit(e,n,r={}){return oNe(this,e,n,r)}async fitDataset(e,n){return tNe(this,e,n)}async trainOnBatch(e,n){const r=await this.standardizeUserData(e,n),s=r[0],i=r[1],a=this.makeTrainFunction()(s.concat(i)),u=[];for(const l of a){const c=await l.data();u.push(c[0])}return vt(a),Ko(r[0],e),Ko(r[1],n),Qs(u)}getNamedWeights(e){const n=[],r=e!=null&&e.trainableOnly,s=r?this.trainableWeights:this.weights,i=this.getWeights(r);for(let o=0;o<s.length;++o)r&&!s[o].trainable||n.push({name:s[o].originalName,tensor:i[o]});return n}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=RS().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-RS().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=uu(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(n=>uu(n))}else{const n=Object.keys(this.loss);e={};const r=this.loss;for(const s of n)if(typeof r[s]=="string")e[s]=uu(r[s]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[uu(Zv(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>uu(Zv(e)));{const e={};for(const n in this.metrics)e[n]=uu(Zv(this.metrics[n]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=qS(e.optimizer_config),r=xu(n);let s;if(typeof e.loss=="string")s=aA(e.loss);else if(Array.isArray(e.loss))s=e.loss.map(o=>aA(o));else if(e.loss!=null){s={};for(const o in e.loss)s[o]=aA(e.loss[o])}let i;if(Array.isArray(e.metrics))i=e.metrics.map(o=>aA(o));else if(e.metrics!=null){i={};for(const o in e.metrics)i[o]=aA(e.metrics[o])}this.compile({loss:s,metrics:i,optimizer:r})}async save(e,n){if(typeof e=="string"){const l=Z8(e);if(l.length===0)throw new te(`Cannot find any save handlers for URL '${e}'`);if(l.length>1)throw new te(`Found more than one (${l.length}) save handlers for URL '${e}'`);e=l[0]}if(e.save==null)throw new te("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const r=await NS(this.getNamedWeights(n)),s=!1,i=null,a={modelTopology:this.toJSON(i,s),format:ANe,generatedBy:`TensorFlow.js tfjs-layers v${IW}`,convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){a.trainingConfig=this.getTrainingConfig();const l="optimizer",{data:c,specs:A}=await NS(await this.optimizer.getWeights(),l);r.specs.push(...A),r.data=n2([r.data,c])}return this.userDefinedMetadata!=null&&(oP(this.userDefinedMetadata,this.name,!0),a.userDefinedMetadata=this.userDefinedMetadata),a.weightData=r.data,a.weightSpecs=r.specs,e.save(a)}setUserDefinedMetadata(e){oP(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}Wh.className="Model";we(Wh);class NW extends Wh{}NW.className="Functional";we(NW);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class km extends Wh{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:R2("sequential_"),e.layers!=null)for(const n of e.layers)this.add(n)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(r=>r<0))throw new te(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const n=e instanceof km||e instanceof Wh;let r;if(n){if(r=e,r.outputs.length!==1)throw new te("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(r.inputs.length!==1)throw new te("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new te("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const s=dTe({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(s)}if(n)this.outputs=r.outputs,this.inputs=r.inputs;else{if(e.inboundNodes.length!==1)throw new te(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(e.inboundNodes[0].outputTensors.length!==1)throw new te("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=AW(this.outputs[0])}this.inboundNodes=[],new U2({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:JA(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(s=>s.shape),outputShapes:this.outputs[0].shape})}else{const s=e.apply(this.outputs[0]);if(Array.isArray(s))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[s],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,n){return this.model==null&&this.build(),this.model.call(e,n)}build(e){if(Zt(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new Wh({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,n,r=console.log){this.built||this.build(),super.summary(e,n,r)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,n,r={}){if(!this.built)throw new vo("The model needs to be compiled before being used.");return this.model.evaluate(e,n,r)}async evaluateDataset(e,n){if(!this.built)throw new vo("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,n)}predict(e,n={}){return this.model==null&&this.build(),this.model.predict(e,n)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,n,r={}){if(!this.built)throw new vo("The model needs to be compiled before being used.");return this.model.fit(e,n,r)}async fitDataset(e,n){if(!this.built)throw new vo("The model needs to be compiled before being used.");return this.model.fitDataset(e,n)}async trainOnBatch(e,n){return this.model.trainOnBatch(e,n)}static fromConfig(e,n,r={},s=!1){let i,o={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new te("Legacy serialization format not supported yet.");i=n}else O(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),i=n.layers,delete n.layers,o=n;const a=new e(o);if(!(a instanceof km))throw new gt(`Sequential.fromConfig called on non-Sequential input: ${a}`);for(const u of i){const c=xu(u,void 0,s);s&&c.setFastWeightInitDuringBuild(!0),a.add(c)}return a}set stopTraining(e){if(this.model==null)throw new te("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new te("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const n of this.layers){const r={};r.className=n.getClassName(),r.config=n.getConfig(),e.push(r)}return{name:this.name,layers:e}}}km.className="Sequential";we(km);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Zs extends Gf{getConfig(){return{}}}class kW extends Zs{apply(e,n=1){return JSe(e,n)}}kW.className="elu";we(kW);class FW extends Zs{apply(e){return c3(e)}}FW.className="selu";we(FW);class _W extends Zs{apply(e){return qa(e)}}_W.className="relu";we(_W);class DW extends Zs{apply(e){return ie(()=>xy(6,qa(e)))}}DW.className="relu6";we(DW);class RW extends Zs{apply(e){return e}}RW.className="linear";we(RW);class OW extends Zs{apply(e){return Ua(e)}}OW.className="sigmoid";we(OW);class UW extends Zs{apply(e){return eTe(e)}}UW.className="hardSigmoid";we(UW);class LW extends Zs{apply(e){return Xf(e)}}LW.className="softplus";we(LW);class PW extends Zs{apply(e){return ZSe(e)}}PW.className="softsign";we(PW);class MW extends Zs{apply(e){return vf(e)}}MW.className="tanh";we(MW);class $D extends Zs{apply(e,n=-1){return y2(e,n)}}$D.className="softmax";we($D);class QW extends Zs{apply(e,n=-1){return t3(e,n)}}QW.className="logSoftmax";we(QW);class HW extends Zs{apply(e,n=1){return ie(()=>X(Ua(X(e,n)),e))}}HW.className="swish";we(HW);class VW extends Zs{apply(e){return ie(()=>X(e,vf(Xf(e))))}}VW.className="mish";we(VW);function cc(t){return t.getClassName()}function uE(t,e={}){return Ry(t,uo.getMap().classNameMap,e,"activation")}function Ac(t){if(t==null){const e={};return e.className="linear",e.config={},uE(e)}if(typeof t=="string"){const e={};return e.className=t,e.config={},uE(e)}else return t instanceof Zs?t:uE(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function dNe(t){if(t!=null&&typeof t!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${t}`)}class zW extends Gf{}class KW extends zW{constructor(e){super(),dNe(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return ie(()=>{let n=dr([1]);return this.hasL1&&(n=Ce(n,Ke(X(this.l1,ur(e))))),this.hasL2&&(n=Ce(n,Ke(X(this.l2,Ly(e))))),Y(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,n){return new e({l1:n.l1,l2:n.l2})}}KW.className="L1L2";we(KW);const dP={l1l2:"L1L2"};function an(t){return dD(t)}function hP(t,e={}){return Ry(t,uo.getMap().classNameMap,e,"regularizer")}function $n(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in dP?dP[t]:t,config:{}};return hP(n)}else return t instanceof zW?t:hP(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class WW extends Pt{constructor(e){super(e==null?{}:e),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,n){e=mt(e);let r=qa(e);return this.maxValue!=null&&(r=vi(r,0,this.maxValue)),r}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},n=super.getConfig();return Object.assign(e,n),e}}WW.className="ReLU";we(WW);class GW extends Pt{constructor(e){super(e==null?{}:e),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const r=mt(e);return u2(r,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}GW.className="LeakyReLU";we(GW);class jW extends Pt{constructor(e){if(super(e==null?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=In(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=$n(e.alphaRegularizer),this.alphaConstraint=yr(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new te(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`)}build(e){e=Zt(e);const n=e.slice(1);if(this.sharedAxes!=null)for(const s of this.sharedAxes)n[s-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const r={};if(this.sharedAxes!=null)for(let s=1;s<e.length;++s)r[s]=e[s];this.inputSpec=[new pr({ndim:e.length,axes:r})],this.built=!0}call(e,n){return e=mt(e),f2(e,this.alpha.read())}getConfig(){const e={alphaInitializer:On(this.alphaInitializer),alphaRegularizer:an(this.alphaRegularizer),alphaConstraint:mr(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(e,n),e}}jW.className="PReLU";we(jW);class XW extends Pt{constructor(e){if(super(e==null?{}:e),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new gt(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const r=mt(e);return vy(r)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}XW.className="ELU";we(XW);class qW extends Pt{constructor(e){super(e==null?{}:e),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,n){const r=mt(e);return X(r,_e(Ki(r,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},n=super.getConfig();return Object.assign(e,n),e}}qW.className="ThresholdedReLU";we(qW);class YW extends Pt{constructor(e){super(e==null?{}:e),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new $D().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,n){const r=mt(e);return this.softmax(r,this.axis)}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}YW.className="Softmax";we(YW);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Gh(t,e,n){if(typeof t=="number")return JA(t,e);if(t.length!==e)throw new te(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${t.length} elements.`);for(let r=0;r<e;++r){const s=t[r];if(!jSe(s))throw new te(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${JSON.stringify(t)} including a non-integer number ${s}`)}return t}function Yo(t,e,n,r,s=1){if(t==null)return t;const i=e+(e-1)*(s-1);let o;return n==="same"?o=t:o=t-i+1,Math.floor((o+r-1)/r)}function Ba(t,e,n,r){if(t==null)return null;if(r==="valid")t=t*e+lc([n-e,0]);else if(r==="same")t=t*e;else throw new te(`Unsupport padding mode: ${r}.`);return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function SD(t,e){return ie(()=>(Jn(e),e==="channelsFirst"?Nt(t,[0,2,3,1]):t))}function JW(t,e){return ie(()=>(Jn(e),e==="channelsFirst"?Nt(t,[0,2,3,4,1]):t))}function hNe(t,e,n,r=1,s="valid",i,o=1){return ie(()=>{if(i==null&&(i=oa()),Jn(i),t.shape.length!==3)throw new te(`The input of a conv1dWithBias operation should be 3, but is ${t.shape.length} instead.`);if(e.shape.length!==3)throw new te(`The kernel for a conv1dWithBias operation should be 3, but is ${e.shape.length} instead`);if(n!=null&&n.shape.length!==1)throw new te(`The bias for a conv1dWithBias operation should be 1, but is ${e.shape.length} instead`);if(i==="channelsFirst"&&(t=Nt(t,[0,2,1])),s==="causal")throw new gt("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let a=G_(t,e,r,s==="same"?"same":"valid","NWC",o);return n!=null&&(a=la(a,n)),a})}function fP(t,e,n,r=[1,1],s="valid",i,o,a=null){return ie(()=>{if(i==null&&(i=oa()),Jn(i),t.rank!==3&&t.rank!==4)throw new te(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${t.rank}.`);if(e.rank!==3&&e.rank!==4)throw new te(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${t.rank}.`);let u=SD(t,i);if(s==="causal")throw new gt("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return u=N7({x:u,filter:e,strides:r,pad:s==="same"?"same":"valid",dilations:o,dataFormat:"NHWC",bias:n,activation:a}),i==="channelsFirst"&&(u=Nt(u,[0,3,1,2])),u})}function fNe(t,e,n,r=[1,1,1],s="valid",i,o){return ie(()=>{if(i==null&&(i=oa()),Jn(i),t.rank!==4&&t.rank!==5)throw new te(`conv3dWithBias expects input to be of rank 4 or 5, but received ${t.rank}.`);if(e.rank!==4&&e.rank!==5)throw new te(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${t.rank}.`);let a=JW(t,i);if(s==="causal")throw new gt("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return a=zV(a,e,r,s==="same"?"same":"valid","NDHWC",o),n!=null&&(a=la(a,n)),i==="channelsFirst"&&(a=Nt(a,[0,4,1,2,3])),a})}class M2 extends Pt{constructor(e,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",M2.verifyArgs(n),this.rank=e,Tr(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new gt(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=Gh(n.kernelSize,e,"kernelSize"),this.strides=Gh(n.strides==null?1:n.strides,e,"strides"),this.padding=n.padding==null?"valid":n.padding,Wi(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,Jn(this.dataFormat),this.activation=Ac(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=In(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=yr(n.biasConstraint),this.biasRegularizer=$n(n.biasRegularizer),this.activityRegularizer=$n(n.activityRegularizer),this.dilationRate=Gh(n.dilationRate==null?1:n.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new te(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new te(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new te(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(e){if(xa("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!hD(e.kernelSize,"number",1,3))throw new te(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:cc(this.activation),useBias:this.useBias,biasInitializer:On(this.biasInitializer),biasRegularizer:an(this.biasRegularizer),activityRegularizer:an(this.activityRegularizer),biasConstraint:mr(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}class op extends M2{constructor(e,n){super(e,n),this.kernel=null,op.verifyArgs(n),this.filters=n.filters,Tr(this.filters,"filters"),this.kernelInitializer=In(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=yr(n.kernelConstraint),this.kernelRegularizer=$n(n.kernelRegularizer)}build(e){e=Zt(e);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new te(`The channel dimension of the input should be defined. Found ${e[n]}`);const r=e[n],s=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",s,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:r}}],this.built=!0}call(e,n){return ie(()=>{e=mt(e);let r;const s=this.bias==null?null:this.bias.read(),i=qK(this.activation.getClassName());if(i!=null&&this.rank===2)r=fP(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate,i);else{if(this.rank===1)r=hNe(e,this.kernel.read(),s,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)r=fP(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)r=fNe(e,this.kernel.read(),s,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new gt("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(r=this.activation.apply(r))}return r})}computeOutputShape(e){e=Zt(e);const n=[],r=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let i=0;i<r.length;++i){const o=Yo(r[i],this.kernelSize[i],this.padding,this.strides[i],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[i]);n.push(o)}let s=[e[0]];return this.dataFormat==="channelsLast"?(s=s.concat(n),s.push(this.filters)):(s.push(this.filters),s=s.concat(n)),s}getConfig(){const e={filters:this.filters,kernelInitializer:On(this.kernelInitializer),kernelRegularizer:an(this.kernelRegularizer),kernelConstraint:mr(this.kernelConstraint)},n=super.getConfig();return Object.assign(e,n),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new te(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class Hy extends op{constructor(e){super(2,e),Hy.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!hD(e.kernelSize,"number",1,2))throw new te(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}Hy.className="Conv2D";we(Hy);class Vy extends op{constructor(e){super(3,e),Vy.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new te(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}Vy.className="Conv3D";we(Vy);class ZW extends Hy{constructor(e){if(super(e),this.inputSpec=[new pr({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new te(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=Zt(e),e.length!==4)throw new te("Input should have rank 4; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new te("The channel dimension of the inputs should be defined. Found `None`.");const r=e[n],s=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new pr({ndim:4,axes:{[n]:r}})],this.built=!0}call(e,n){return ie(()=>{let r=mt(e);if(r.shape.length!==4)throw new te(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const s=r.shape,i=s[0];let o,a;this.dataFormat==="channelsFirst"?(o=2,a=3):(o=1,a=2);const u=s[o],l=s[a],c=this.kernelSize[0],A=this.kernelSize[1],d=this.strides[0],h=this.strides[1],f=Ba(u,d,c,this.padding),p=Ba(l,h,A,this.padding),m=[i,f,p,this.filters];this.dataFormat!=="channelsLast"&&(r=Nt(r,[0,2,3,1]));let g=X_(r,this.kernel.read(),m,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(g=Nt(g,[0,3,1,2])),this.bias!=null&&(g=la(g,this.bias.read(),this.dataFormat)),this.activation!=null&&(g=this.activation.apply(g)),g})}computeOutputShape(e){e=Zt(e);const n=e.slice();let r,s,i;this.dataFormat==="channelsFirst"?(r=1,s=2,i=3):(r=3,s=1,i=2);const o=this.kernelSize[0],a=this.kernelSize[1],u=this.strides[0],l=this.strides[1];return n[r]=this.filters,n[s]=Ba(n[s],u,o,this.padding),n[i]=Ba(n[i],l,a,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}ZW.className="Conv2DTranspose";we(ZW);class eG extends Vy{constructor(e){if(super(e),this.inputSpec=[new pr({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new te(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=Zt(e),e.length!==5)throw new te("Input should have rank 5; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new te("The channel dimension of the inputs should be defined. Found `None`.");const r=e[n],s=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",s,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new pr({ndim:5,axes:{[n]:r}})],this.built=!0}call(e,n){return ie(()=>{let r=mt(e);if(r.shape.length!==5)throw new te(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const s=r.shape,i=s[0];let o,a,u;this.dataFormat==="channelsFirst"?(u=2,o=3,a=4):(u=1,o=2,a=3);const l=s[u],c=s[o],A=s[a],d=this.kernelSize[0],h=this.kernelSize[1],f=this.kernelSize[2],p=this.strides[0],m=this.strides[1],g=this.strides[2],y=Ba(l,p,d,this.padding),C=Ba(c,m,h,this.padding),b=Ba(A,g,f,this.padding),B=[i,y,C,b,this.filters];this.dataFormat!=="channelsLast"&&(r=Nt(r,[0,2,3,4,1]));let I=WV(r,this.kernel.read(),B,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(I=Nt(I,[0,4,1,2,3])),this.bias!==null&&(I=la(I,this.bias.read(),this.dataFormat)),this.activation!==null&&(I=this.activation.apply(I)),I})}computeOutputShape(e){e=Zt(e);const n=e.slice();let r,s,i,o;this.dataFormat==="channelsFirst"?(r=1,s=2,i=3,o=4):(r=4,s=1,i=2,o=3);const a=this.kernelSize[0],u=this.kernelSize[1],l=this.kernelSize[2],c=this.strides[0],A=this.strides[1],d=this.strides[2];return n[r]=this.filters,n[s]=Ba(n[s],c,a,this.padding),n[i]=Ba(n[i],A,u,this.padding),n[o]=Ba(n[o],d,l,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}eG.className="Conv3DTranspose";we(eG);class tG extends op{constructor(e,n){if(super(e,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new te("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new te("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new te(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(n.padding)}`);this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=In(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=$n(n.depthwiseRegularizer),this.depthwiseConstraint=yr(n.depthwiseConstraint),this.pointwiseInitializer=In(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=$n(n.pointwiseRegularizer),this.pointwiseConstraint=yr(n.pointwiseConstraint)}build(e){if(e=Zt(e),e.length<this.rank+2)throw new te(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null||e[n]<0)throw new te(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[n])}`);const r=e[n],s=this.kernelSize.concat([r,this.depthMultiplier]),i=[];for(let a=0;a<this.rank;++a)i.push(1);i.push(r*this.depthMultiplier,this.filters);const o=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",s,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,o,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,o,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,o,this.biasConstraint):this.bias=null,this.inputSpec=[new pr({ndim:this.rank+2,axes:{[n]:r}})],this.built=!0}call(e,n){return ie(()=>{e=mt(e);let r;if(this.rank===1)throw new gt("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=Nt(e,[0,2,3,1])),r=A3(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(r=la(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),this.dataFormat==="channelsFirst"&&(r=Nt(r,[0,3,1,2])),r})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=On(this.depthwiseInitializer),e.pointwiseInitializer=On(this.pointwiseInitializer),e.depthwiseRegularizer=an(this.depthwiseRegularizer),e.pointwiseRegularizer=an(this.pointwiseRegularizer),e.depthwiseConstraint=mr(this.depthwiseConstraint),e.pointwiseConstraint=mr(this.pointwiseConstraint),e}}tG.className="SeparableConv";class nG extends tG{constructor(e){super(2,e)}}nG.className="SeparableConv2D";we(nG);class Q2 extends op{constructor(e){super(1,e),Q2.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!hD(e.kernelSize,"number",1,1))throw new te(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}Q2.className="Conv1D";we(Q2);class rG extends Pt{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,n){return ie(()=>{if(e=mt(e),this.dataFormat==="channelsLast"){const r=Jv(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return Jv(r,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const r=Jv(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return Jv(r,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}rG.className="Cropping2D";we(rG);class sG extends Pt{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Jn(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,KSe(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){const n=e[2]==null?null:this.size[0]*e[2],r=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],n,r]}else{const n=e[1]==null?null:this.size[0]*e[1],r=e[2]==null?null:this.size[1]*e[2];return[e[0],n,r,e[3]]}}call(e,n){return ie(()=>{let r=mt(e);const s=r.shape;if(this.dataFormat==="channelsFirst"){r=Nt(r,[0,2,3,1]);const i=this.size[0]*s[2],o=this.size[1]*s[3],a=this.interpolation==="nearest"?Eh.resizeNearestNeighbor(r,[i,o]):Eh.resizeBilinear(r,[i,o]);return Nt(a,[0,3,1,2])}else{const i=this.size[0]*s[1],o=this.size[1]*s[2];return this.interpolation==="nearest"?Eh.resizeNearestNeighbor(r,[i,o]):Eh.resizeBilinear(r,[i,o])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}}sG.className="UpSampling2D";we(sG);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function pNe(t,e,n=[1,1],r="valid",s,i){return ie(()=>{s==null&&(s=oa()),Jn(s);let o=SD(t,s);if(t.rank!==4)throw new te(`Input for depthwiseConv2d is required to be 4-D, but is instead ${t.rank}-D`);if(e.rank!==4)throw new te(`depthwiseKernel is required to be 4-D, but is instead ${e.rank}-D`);return o=yy(o,e,n,r==="same"?"same":"valid","NHWC",i),s==="channelsFirst"&&(o=Nt(o,[0,3,1,2])),o})}class iG extends M2{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=In(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=yr(e.depthwiseConstraint),this.depthwiseRegularizer=$n(e.depthwiseRegularizer)}build(e){if(e=Zt(e),e.length<4)throw new te(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const n=this.dataFormat==="channelsFirst"?1:3;if(e[n]==null||e[n]<0)throw new te(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[n]}).`);const r=e[n],s=[this.kernelSize[0],this.kernelSize[1],r,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",s,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[r*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return ie(()=>{e=mt(e);let r=pNe(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(r=la(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),r})}computeOutputShape(e){e=Zt(e);const n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2],s=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=Yo(n,this.kernelSize[0],this.padding,this.strides[0]),o=Yo(r,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],s,i,o]:[e[0],i,o,s]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=On(this.depthwiseInitializer),e.depthwiseRegularizer=an(this.depthwiseRegularizer),e.depthwiseConstraint=mr(this.depthwiseRegularizer),e}}iG.className="DepthwiseConv2D";we(iG);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function oG(t,e,n,r){if(Array.isArray(t)){if(e!=null||n!=null)throw new te("When inputs is an array, neither initialState or constants should be provided");r!=null&&(n=t.slice(t.length-r,t.length),t=t.slice(0,t.length-r)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function s(i){return i==null||Array.isArray(i)?i:[i]}return e=s(e),n=s(n),{inputs:t,initialState:e,constants:n}}function aG(t,e,n,r=!1,s,i,o=!1,a=!1){return ie(()=>{const u=e.shape.length;if(u<3)throw new te(`Input should be at least 3D, but is ${u}D.`);const l=[1,0].concat(ia(2,u));if(e=Nt(e,l),i!=null)throw new gt("The rnn() functoin of the deeplearn.js backend does not support constants yet.");o&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),s!=null&&(s=_e(_e(s,"bool"),"float32"),s.rank===u-1&&(s=Ni(s,-1)),s=Nt(s,l)),r&&(e=Eo(e,0),s!=null&&(s=Eo(s,0)));const c=[];let A,d=n;const h=e.shape[0],f=ra(e);let p;s!=null&&(p=ra(s));for(let g=0;g<h;++g){const y=f[g],C=ie(()=>t(y,d));if(s==null)A=C[0],d=C[1];else{const b=ie(()=>{const B=p[g],I=Me(Mi(B),B),w=Ce(X(C[0],B),X(d[0],I)),$=d.map((T,_)=>Ce(X(C[1][_],B),X(T,I)));return{output:w,newStates:$}});A=b.output,d=b.newStates}a&&c.push(A)}let m;return a&&(m=$o(c,1)),[A,m,d]})}class Uc extends Pt{constructor(e){super(e);let n;if(e.cell==null)throw new te("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?n=new kD({cells:e.cell}):n=e.cell,n.stateSize==null)throw new te("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new pr({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return ia(0,e).map(n=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){GS(e)&&(e=e[0]),e=e;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const r=n[0];let s;if(this.returnSequences?s=[e[0],e[1],r]:s=[e[0],r],this.returnState){const i=[];for(const o of n)i.push([e[0],o]);return[s].concat(i)}else return s}computeMask(e,n){return ie(()=>{Array.isArray(n)&&(n=n[0]);const r=this.returnSequences?n:null;if(this.returnState){const s=this.states.map(i=>null);return[r].concat(s)}else return r})}get states(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let r=0;r<e;++r)n.push(null);return n}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new gt("Constants support is not implemented in RNN yet.");GS(e)&&(e=e[0]),e=e;const n=this.stateful?e[0]:null,r=e.slice(2);this.inputSpec[0]=new pr({shape:[n,null,...r]});const s=[e[0]].concat(e.slice(2));this.cell.build(s);let i;if(Array.isArray(this.cell.stateSize)?i=this.cell.stateSize:i=[this.cell.stateSize],this.stateSpec!=null){if(!Ut(this.stateSpec.map(o=>o.shape[o.shape.length-1]),i))throw new te(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=i.map(o=>new pr({shape:[null,o]}));this.stateful&&this.resetStates()}resetStates(e,n=!1){ie(()=>{if(!this.stateful)throw new ba("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape[0];if(r==null)throw new te("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>dr([r,s])):this.states_=[dr([r,this.cell.stateSize])];else if(e==null)vt(this.states_),this.keptStates!=null&&(vt(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(s=>dr([r,s])):this.states_[0]=dr([r,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new te(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n===!0?this.keptStates.push(this.states_.slice()):vt(this.states_);for(let s=0;s<this.states_.length;++s){const i=e[s],o=Array.isArray(this.cell.stateSize)?this.cell.stateSize[s]:this.cell.stateSize,a=[r,o];if(!Ut(i.shape,a))throw new te(`State ${s} is incompatible with layer ${this.name}: expected shape=${a}, received shape=${i.shape}`);this.states_[s]=i}}this.states_=this.states_.map(s=>Vr(s.clone()))})}apply(e,n){let r=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const i=oG(e,r,s,this.numConstants);e=i.inputs,r=i.initialState,s=i.constants;let o=[],a=[];if(r!=null){n.initialState=r,o=o.concat(r),this.stateSpec=[];for(const l of r)this.stateSpec.push(new pr({shape:l.shape}));a=a.concat(this.stateSpec)}if(s!=null&&(n.constants=s,o=o.concat(s),this.numConstants=s.length),o[0]instanceof Ta){const l=[e].concat(o),c=this.inputSpec.concat(a),A=this.inputSpec;this.inputSpec=c;const d=super.apply(l,n);return this.inputSpec=A,d}else return super.apply(e,n)}call(e,n){return ie(()=>{const r=n==null?null:n.mask,s=n==null?null:n.training;let i=n==null?null:n.initialState;e=mt(e),i==null&&(this.stateful?i=this.states_:i=this.getInitialState(e));const o=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(i.length!==o)throw new te(`RNN Layer has ${o} state(s) but was passed ${i.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const a={training:s},l=aG((f,p)=>{const m=this.cell.call([f].concat(p),a);return[m[0],m.slice(1)]},e,i,this.goBackwards,r,null,this.unroll,this.returnSequences),c=l[0],A=l[1],d=l[2];this.stateful&&this.resetStates(d,s);const h=this.returnSequences?A:c;return this.returnState?[h].concat(d):h})}getInitialState(e){return ie(()=>{let n=dr(e.shape);return n=Ke(n,[1,2]),n=Uy(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(r=>r>1?KS(n,[1,r]):n):this.cell.stateSize>1?[KS(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const r=this.cell.getConfig();return this.getClassName()===Uc.className&&(n.cell={className:this.cell.getClassName(),config:r}),Object.assign({},r,e,n)}static fromConfig(e,n,r={}){const s=n.cell,i=xu(s,r);return new e(Object.assign(n,{cell:i}))}}Uc.className="RNN";we(Uc);class H2 extends Pt{}class TD extends H2{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Tr(this.units,"units"),this.activation=Ac(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=In(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=In(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=In(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=$n(e.kernelRegularizer),this.recurrentRegularizer=$n(e.recurrentRegularizer),this.biasRegularizer=$n(e.biasRegularizer),this.kernelConstraint=yr(e.kernelConstraint),this.recurrentConstraint=yr(e.recurrentConstraint),this.biasConstraint=yr(e.biasConstraint),this.dropout=If([1,lc([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=If([1,lc([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Zt(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return ie(()=>{if(e=e,e.length!==2)throw new te(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let r=e[1];e=e[0];const s=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=dc({ones:()=>Mi(e),rate:this.dropout,training:s,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=dc({ones:()=>Mi(r),rate:this.recurrentDropout,training:s,dropoutFunc:this.dropoutFunc}));let i;const o=this.dropoutMask,a=this.recurrentDropoutMask;o!=null?i=Pa(X(e,o),this.kernel.read()):i=Pa(e,this.kernel.read()),this.bias!=null&&(i=la(i,this.bias.read())),a!=null&&(r=X(r,a));let u=Ce(i,Pa(r,this.recurrentKernel.read()));return this.activation!=null&&(u=this.activation.apply(u)),[u,u]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:cc(this.activation),useBias:this.useBias,kernelInitializer:On(this.kernelInitializer),recurrentInitializer:On(this.recurrentInitializer),biasInitializer:On(this.biasInitializer),kernelRegularizer:an(this.kernelRegularizer),recurrentRegularizer:an(this.recurrentRegularizer),biasRegularizer:an(this.biasRegularizer),activityRegularizer:an(this.activityRegularizer),kernelConstraint:mr(this.kernelConstraint),recurrentConstraint:mr(this.recurrentConstraint),biasConstraint:mr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign({},e,n)}}TD.className="SimpleRNNCell";we(TD);class uG extends Uc{constructor(e){e.cell=new TD(e),super(e)}call(e,n){return ie(()=>{this.cell.dropoutMask!=null&&(vt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(vt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return new e(n)}}uG.className="SimpleRNN";we(uG);class ND extends H2{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new te("GRUCell does not support reset_after parameter set to true.");this.units=e.units,Tr(this.units,"units"),this.activation=Ac(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Ac(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=In(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=In(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=In(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=$n(e.kernelRegularizer),this.recurrentRegularizer=$n(e.recurrentRegularizer),this.biasRegularizer=$n(e.biasRegularizer),this.kernelConstraint=yr(e.kernelConstraint),this.recurrentConstraint=yr(e.recurrentConstraint),this.biasConstraint=yr(e.biasConstraint),this.dropout=If([1,lc([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=If([1,lc([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Zt(e);const n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return ie(()=>{if(e=e,e.length!==2)throw new te(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const r=n.training==null?!1:n.training;let s=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=dc({ones:()=>Mi(e),rate:this.dropout,training:r,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=dc({ones:()=>Mi(s),rate:this.recurrentDropout,training:r,count:3,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,o=this.recurrentDropoutMask;let a,u,l;0<this.dropout&&this.dropout<1&&(e=X(e,i[0]));let c=Pa(e,this.kernel.read());this.useBias&&(c=la(c,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(s=X(s,o[0]));const A=this.recurrentKernel.read(),[d,h]=gi(A,[2*this.units,this.units],A.rank-1),f=Pa(s,d),[p,m,g]=gi(c,3,c.rank-1),[y,C]=gi(f,2,f.rank-1);a=this.recurrentActivation.apply(Ce(p,y)),u=this.recurrentActivation.apply(Ce(m,C));const b=Pa(X(u,s),h);l=this.activation.apply(Ce(g,b));const B=Ce(X(a,s),X(Ce(1,En(a)),l));return[B,B]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:cc(this.activation),recurrentActivation:cc(this.recurrentActivation),useBias:this.useBias,kernelInitializer:On(this.kernelInitializer),recurrentInitializer:On(this.recurrentInitializer),biasInitializer:On(this.biasInitializer),kernelRegularizer:an(this.kernelRegularizer),recurrentRegularizer:an(this.recurrentRegularizer),biasRegularizer:an(this.biasRegularizer),activityRegularizer:an(this.activityRegularizer),kernelConstraint:mr(this.kernelConstraint),recurrentConstraint:mr(this.recurrentConstraint),biasConstraint:mr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign({},e,n)}}ND.className="GRUCell";we(ND);class lG extends Uc{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new ND(e),super(e)}call(e,n){return ie(()=>{this.cell.dropoutMask!=null&&(vt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(vt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}lG.className="GRU";we(lG);class V2 extends H2{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Tr(this.units,"units"),this.activation=Ac(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Ac(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=In(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=In(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=In(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=$n(e.kernelRegularizer),this.recurrentRegularizer=$n(e.recurrentRegularizer),this.biasRegularizer=$n(e.biasRegularizer),this.kernelConstraint=yr(e.kernelConstraint),this.recurrentConstraint=yr(e.recurrentConstraint),this.biasConstraint=yr(e.biasConstraint),this.dropout=If([1,lc([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=If([1,lc([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var n;e=Zt(e);const r=e[e.length-1];this.kernel=this.addWeight("kernel",[r,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let s;if(this.useBias){if(this.unitForgetBias){const i=this.biasInitializer,o=this.units;s=new(n=class extends No{apply(u,l){const c=i.apply([o]),A=new pD().apply([o]),d=i.apply([o*2]);return YL(YL(c,A),d)}},n.className="CustomInit",n)}else s=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,s,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,n){return ie(()=>{const r=n.training==null?!1:n.training;if(e=e,e.length!==3)throw new te(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let s=e[1];const i=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=dc({ones:()=>Mi(e),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=dc({ones:()=>Mi(s),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,a=this.recurrentDropoutMask;let u,l,c,A;0<this.dropout&&this.dropout<1&&(e=X(e,o[0]));let d=Pa(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(s=X(s,a[0])),d=Ce(d,Pa(s,this.recurrentKernel.read())),this.useBias&&(d=la(d,this.bias.read()));const[h,f,p,m]=gi(d,4,d.rank-1);u=this.recurrentActivation.apply(h),l=this.recurrentActivation.apply(f),c=Ce(X(l,i),X(u,this.activation.apply(p))),A=this.recurrentActivation.apply(m);const g=X(A,this.activation.apply(c));return[g,g,c]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:cc(this.activation),recurrentActivation:cc(this.recurrentActivation),useBias:this.useBias,kernelInitializer:On(this.kernelInitializer),recurrentInitializer:On(this.recurrentInitializer),biasInitializer:On(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:an(this.kernelRegularizer),recurrentRegularizer:an(this.recurrentRegularizer),biasRegularizer:an(this.biasRegularizer),activityRegularizer:an(this.activityRegularizer),kernelConstraint:mr(this.kernelConstraint),recurrentConstraint:mr(this.recurrentConstraint),biasConstraint:mr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign({},e,n)}}V2.className="LSTMCell";we(V2);class cG extends Uc{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new V2(e),super(e)}call(e,n){return ie(()=>{this.cell.dropoutMask!=null&&(vt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(vt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}cG.className="LSTM";we(cG);class kD extends H2{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?e.push(...n.stateSize):e.push(n.stateSize);return e}call(e,n){return ie(()=>{e=e;let r=e.slice(1);const s=[];for(const a of this.cells.slice().reverse())Array.isArray(a.stateSize)?s.push(r.splice(0,a.stateSize.length)):s.push(r.splice(0,1));s.reverse();const i=[];let o;for(let a=0;a<this.cells.length;++a){const u=this.cells[a];r=s[a],a===0?o=[e[0]].concat(r):o=[o[0]].concat(r),o=u.call(o,n),i.push(o.slice(1))}r=[];for(const a of i.slice().reverse())r.push(...a);return[o[0]].concat(r)})}build(e){GS(e)&&(e=e[0]),e=e;let n;this.cells.forEach((r,s)=>{SA(`RNNCell_${s}`,()=>{r.build(e),Array.isArray(r.stateSize)?n=r.stateSize[0]:n=r.stateSize,e=[e[0],n]})}),this.built=!0}getConfig(){const e=super.getConfig(),n=i=>({className:i.getClassName(),config:i.getConfig()}),s={cells:this.cells.map(n)};return Object.assign({},e,s)}static fromConfig(e,n,r={}){const s=[];for(const i of n.cells)s.push(xu(i,r));return new e({cells:s})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const n of this.cells)e.push(...n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.cells)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.cells)n.push(...r.trainableWeights);return n.concat(e)}return e}getWeights(){const e=[];for(const n of this.cells)e.push(...n.weights);return jS(e)}setWeights(e){const n=[];for(const r of this.cells){const s=r.weights.length,i=e.splice(s);for(let o=0;o<r.weights.length;++o)n.push([r.weights[o],i[o]])}bD(n)}}kD.className="StackedRNNCells";we(kD);function dc(t){const{ones:e,rate:n,training:r=!1,count:s=1,dropoutFunc:i}=t,o=()=>i!=null?i(e(),n):rW(e(),n),a=()=>Py(o,e,r);return!s||s<=1?Vr(a().clone()):Array(s).fill(void 0).map(a).map(l=>Vr(l.clone()))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var gNe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class AG extends Uc{constructor(e){if(e.unroll)throw new gt("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new gt("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new pr({ndim:5})]}call(e,n){return ie(()=>{if(this.cell.dropoutMask!=null&&(vt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(vt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new te("ConvRNN2D cell does not support constants");const r=n==null?null:n.mask,s=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:s,initialState:i})})}computeOutputShape(e){let n=this.computeSingleOutputShape(e);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([e[0],...n.slice(-3)])]),n}getInitialState(e){return ie(()=>{const{stateSize:n}=this.cell,r=e.shape,s=this.computeSingleOutputShape(r),i=[s[0],...s.slice(2)],o=dr(i);return Array.isArray(n)?Array(n.length).fill(o):[o]})}resetStates(e,n=!1){ie(()=>{if(!this.stateful)throw new ba("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape,s=this.computeSingleOutputShape(r),i=[s[0],...s.slice(2)];if(r[0]==null)throw new te("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>dr(i)):this.states_=[dr(i)];else if(e==null)vt(this.states_),this.keptStates!=null&&(vt(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>dr(i)):this.states_[0]=dr(i);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new te(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n?this.keptStates.push(this.states_.slice()):vt(this.states_);for(let a=0;a<this.states_.length;++a){const u=e[a],l=i;if(!Ut(u.shape,l))throw new te(`State ${a} is incompatible with layer ${this.name}: expected shape=${l}, received shape=${u.shape}`);this.states_[a]=u}}this.states_=this.states_.map(a=>Vr(a.clone()))})}computeSingleOutputShape(e){const{dataFormat:n,filters:r,kernelSize:s,padding:i,strides:o,dilationRate:a}=this.cell,u=n==="channelsFirst",l=e[u?3:2],c=e[u?4:3],A=Yo(l,s[0],i,o[0],a[0]),d=Yo(c,s[1],i,o[1],a[1]);return[...e.slice(0,2),...u?[r,A,d]:[A,d,r]]}}AG.className="ConvRNN2D";class FD extends V2{constructor(e){const{filters:n,kernelSize:r,strides:s,padding:i,dataFormat:o,dilationRate:a}=e;super(Object.assign({},e,{units:n})),this.filters=n,Tr(this.filters,"filters"),this.kernelSize=Gh(r,2,"kernelSize"),this.kernelSize.forEach(u=>Tr(u,"kernelSize")),this.strides=Gh(s||1,2,"strides"),this.strides.forEach(u=>Tr(u,"strides")),this.padding=i||"valid",Wi(this.padding),this.dataFormat=o||"channelsLast",Jn(this.dataFormat),this.dilationRate=Gh(a||1,2,"dilationRate"),this.dilationRate.forEach(u=>Tr(u,"dilationRate"))}build(e){var n;e=Zt(e);const r=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[r]==null)throw new te(`The channel dimension of the input should be defined. Found ${e[r]}`);const s=e[r],i=4,o=this.kernelSize.concat([s,this.filters*i]);this.kernel=this.addWeight("kernel",o,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const a=this.kernelSize.concat([this.filters,this.filters*i]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",a,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let u;if(this.unitForgetBias){const l=this.biasInitializer,c=this.filters;u=new(n=class extends No{apply(d,h){const f=l.apply([c]),p=di([c]),m=l.apply([c*2]);return fD([f,p,m])}},n.className="CustomInit",n)}else u=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*i],null,u,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,n){return ie(()=>{if(e.length!==3)throw new te(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const r=n.training||!1,s=e[0],i=e[1],o=e[2],a=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=dc({ones:()=>Mi(s),rate:this.dropout,training:r,count:a,dropoutFunc:this.dropoutFunc}));const u=this.dropoutMask,l=(se,ae,Ae)=>!ae||!ae[Ae]?se:X(ae[Ae],se);let c=l(s,u,0),A=l(s,u,1),d=l(s,u,2),h=l(s,u,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=dc({ones:()=>Mi(i),rate:this.recurrentDropout,training:r,count:a,dropoutFunc:this.dropoutFunc}));const f=this.recurrentDropoutMask;let p=l(i,f,0),m=l(i,f,1),g=l(i,f,2),y=l(i,f,3);const C=3,[b,B,I,w]=gi(this.kernel.read(),a,C),[$,T,_,R]=this.useBias?gi(this.bias.read(),a):[null,null,null,null];c=this.inputConv(c,b,$,this.padding),A=this.inputConv(A,B,T,this.padding),d=this.inputConv(d,I,_,this.padding),h=this.inputConv(h,w,R,this.padding);const[P,L,z,V]=gi(this.recurrentKernel.read(),a,C);p=this.recurrentConv(p,P),m=this.recurrentConv(m,L),g=this.recurrentConv(g,z),y=this.recurrentConv(y,V);const q=this.recurrentActivation.apply(Ce(c,p)),ne=this.recurrentActivation.apply(Ce(A,m)),H=Ce(X(ne,o),X(q,this.activation.apply(Ce(d,g)))),J=X(this.recurrentActivation.apply(Ce(h,y)),this.activation.apply(H));return[J,J,H]})}getConfig(){const e=super.getConfig(),n=gNe(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign({},n,r)}inputConv(e,n,r,s){const i=oc(e,n,this.strides,s||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return r?la(i,r,this.dataFormat):i}recurrentConv(e,n){return oc(e,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}FD.className="ConvLSTM2DCell";we(FD);class dG extends AG{constructor(e){const n=new FD(e);super(Object.assign({},e,{cell:n}))}static fromConfig(e,n){return new e(n)}}dG.className="ConvLSTM2D";we(dG);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class _D extends Pt{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;const n=e.shape,r=[];for(let s=0;s<this.noiseShape.length;++s)r.push(this.noiseShape[s]==null?n[s]:this.noiseShape[s]);return r}call(e,n){return ie(()=>{this.invokeCallHook(e,n);const r=mt(e);if(0<this.rate&&this.rate<1){const s=n.training==null?!1:n.training,i=this.getNoiseShape(r);return Py(()=>rW(r,this.rate,i,this.seed),()=>r,s)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(e,n),e}dispose(){return super.dispose()}}_D.className="Dropout";we(_D);class hG extends _D{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const n=e.shape;return[n[0],1,n[2]]}}hG.className="SpatialDropout1D";we(hG);class fG extends Pt{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let n=null;e.batchSize!=null&&(n=e.batchSize),this.batchInputShape=[n,e.inputDim]}this.units=e.units,Tr(this.units,"units"),this.activation=Ac(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=In(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=In(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=yr(e.kernelConstraint),this.biasConstraint=yr(e.biasConstraint),this.kernelRegularizer=$n(e.kernelRegularizer),this.biasRegularizer=$n(e.biasRegularizer),this.activityRegularizer=$n(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=Zt(e);const n=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(e){e=Zt(e);const n=e.slice();return n[n.length-1]=this.units,n}call(e,n){return ie(()=>{this.invokeCallHook(e,n);const r=mt(e),s=qK(this.activation.getClassName());let i;return s!=null?i=Pa(r,this.kernel.read(),s,this.bias?this.bias.read():null):(i=Pa(r,this.kernel.read()),this.bias!=null&&(i=la(i,this.bias.read())),this.activation!=null&&(i=this.activation.apply(i))),i})}getConfig(){const e={units:this.units,activation:cc(this.activation),useBias:this.useBias,kernelInitializer:On(this.kernelInitializer),biasInitializer:On(this.biasInitializer),kernelRegularizer:an(this.kernelRegularizer),biasRegularizer:an(this.biasRegularizer),activityRegularizer:an(this.activityRegularizer),kernelConstraint:mr(this.kernelConstraint),biasConstraint:mr(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}fG.className="Dense";we(fG);class pG extends Pt{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=Zt(e);for(const n of e.slice(1))if(n==null)throw new te(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],Xl(e,1)]}call(e,n){return ie(()=>{this.invokeCallHook(e,n);let r=mt(e);if(this.dataFormat==="channelsFirst"&&r.rank>1){const s=[0];for(let i=2;i<r.rank;++i)s.push(i);s.push(1),r=Nt(r,s)}return YSe(r)})}getConfig(){const e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(e,n),e}}pG.className="Flatten";we(pG);class gG extends Pt{constructor(e){super(e),this.supportsMasking=!0,this.activation=Ac(e.activation)}call(e,n){return ie(()=>{this.invokeCallHook(e,n);const r=mt(e);return this.activation.apply(r)})}getConfig(){const e={activation:cc(this.activation)},n=super.getConfig();return Object.assign(e,n),e}}gG.className="Activation";we(gG);class mG extends Pt{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,n){return ie(()=>(e=mt(e),XSe(e,this.n)))}getConfig(){const e={n:this.n},n=super.getConfig();return Object.assign(e,n),e}}mG.className="RepeatVector";we(mG);class yG extends Pt{constructor(e){super(e),this.targetShape=e.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,n){const r="Total size of new array must be unchanged.",s=n.slice();let i=1,o=null;for(let u=0;u<s.length;++u){const l=s[u];if(this.isUnknown(l))if(o===null)o=u;else throw new te("Can only specifiy one unknown dimension.");else i*=l}const a=Xl(e);if(o!==null){if(i===0||a%i!==0)throw new te(r);s[o]=a/i}else if(a!==i)throw new te(r);return s}computeOutputShape(e){let n=!1;for(let r=0;r<e.length;++r)if(this.isUnknown(e[r])){n=!0;break}return n?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,n){return ie(()=>{this.invokeCallHook(e,n);const r=mt(e),s=r.shape,i=s.slice(0,1).concat(this.fixUnknownDimension(s.slice(1),this.targetShape));return Y(r,i)})}getConfig(){const e={targetShape:this.targetShape},n=super.getConfig();return Object.assign(e,n),e}}yG.className="Reshape";we(yG);class vG extends Pt{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const n=ia(1,e.dims.length+1);if(!Ut(e.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new pr({ndim:this.dims.length+1})]}computeOutputShape(e){e=Zt(e);const n=e.slice();return this.dims.forEach((r,s)=>{n[s+1]=e[r]}),n}call(e,n){return Nt(mt(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},n=super.getConfig();return Object.assign(e,n),e}}vG.className="Permute";we(vG);class wG extends Pt{constructor(e){super(e==null?{}:e),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,e),n}computeMask(e,n){const r=mt(e),s=-1;return gC(wf(r,this.maskValue),s)}call(e,n){return ie(()=>{this.invokeCallHook(e,n);const r=mt(e),s=-1,i=!0,o=gC(wf(r,this.maskValue),s,i);return X(r,_e(o,r.dtype))})}}wG.className="Masking";we(wG);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class CG extends Pt{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let n=null;e.batchSize!=null&&(n=e.batchSize),e.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(fn(e.inputLength))}this.inputDim=e.inputDim,Tr(this.inputDim,"inputDim"),this.outputDim=e.outputDim,Tr(this.outputDim,"outputDim"),this.embeddingsInitializer=In(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=$n(e.embeddingsRegularizer),this.activityRegularizer=$n(e.activityRegularizer),this.embeddingsConstraint=yr(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,n){return ie(()=>this.maskZero?(e=mt(e),wf(e,Ot(e))):null)}computeOutputShape(e){if(e=Zt(e),this.inputLength==null)return[...e,this.outputDim];const n=fn(this.inputLength);if(n.length!==e.length-1)throw new te(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let r=0;for(let s=0;s<n.length;++s){const i=n[s],o=e[s+1];if(i!=null&&o!=null&&i!==o)throw new te(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);i==null&&(n[r]=o),r++}}return[e[0],...n,this.outputDim]}call(e,n){return ie(()=>{this.invokeCallHook(e,n);let r=mt(e);r.dtype!=="int32"&&(r=Oy(r,"int32"));const s=nW(this.embeddings.read(),Y(r,[r.size]));return Y(s,Zt(this.computeOutputShape(r.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:On(this.embeddingsInitializer),embeddingsRegularizer:an(this.embeddingsRegularizer),activityRegularizer:an(this.activityRegularizer),embeddingsConstraint:mr(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(e,n),e}}CG.className="Embedding";we(CG);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Bd extends Pt{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new gt}computeElementwiseOpOutputShape(e,n){if(e==null||n==null)return null;if(e.length<n.length)return this.computeElementwiseOpOutputShape(n,e);if(n.length===0)return e;const r=e.slice(0,e.length-n.length);for(let s=0;s<n.length;++s){const i=e[e.length-n.length+s],o=n[s];if(i==null||o==null||i<0||o<0)r.push(null);else if(i===1)r.push(o);else if(o===1)r.push(i);else{if(i!==o)throw new te("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(n));r.push(i)}}return r}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Zt(e)]),e=e,e.length<2)throw new te(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let n=[];for(const i of e)i!=null&&i[0]!==null&&n.push(i[0]);if(n=jl(n),n.length>1)throw new te(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let r=e[0]==null?null:e[0].slice(1);for(let i=1;i<e.length;++i){const o=e[i]==null?null:e[i].slice(1);r=this.computeElementwiseOpOutputShape(r,o)}const s=e.map(i=>i.length);e.indexOf(null)===-1&&jl(s).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,n){return ie(()=>{if(e=e,this.reshapeRequired){const r=[],s=e.map(i=>i.rank);if(s.indexOf(null)===-1){const i=lc(s);for(let o of e){const a=o.rank;for(let u=0;u<i-a;++u)o=Uy(o,1);r.push(o)}return this.mergeFunction(r)}else{let i=!1;for(const u of e){const l=u.rank;if(l==null){const c=u.shape,A=c[0],d=c.slice(1).concat([A]);let h=Y(u,[A].concat(Xl(c.slice(1))));h=Nt(h,[1,0]),h=Y(h,d),r.push(h),i=!0}else if(l>1){const c=ia(1,l).concat([0]);r.push(Nt(u,c)),i=!0}else r.push(u)}let o=this.mergeFunction(r);const a=o.rank;if(i){if(a==null){const u=o.shape,l=u.length,c=u[l-1],A=[c].concat(u.slice(0,u.length-1));o=Y(Nt(Y(o,[-1,c]),[1,0]),A)}else if(a>1){const u=[a-1].concat(ia(0,a-1));o=Nt(o,u)}}return o}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let n;e[0]==null?n=null:n=e[0].slice(1);for(let s=1;s<e.length;++s){const i=e[s]==null?null:e[s].slice(1);n=this.computeElementwiseOpOutputShape(n,i)}let r=[];for(const s of e)s!=null&&s[0]!==null&&r.push(s[0]);return r=jl(r),r.length===1?n=r.concat(n):n=[null].concat(n),n}computeMask(e,n){return ie(()=>{if(n==null)return null;if(!Array.isArray(n))throw new te("`mask` should be an Array");if(!Array.isArray(e))throw new te("`inputs` should be an Array");if(n.length!==e.length)throw new te(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${n.length})`);if(n.every(s=>s==null))return null;n=n.map(s=>s==null?s:Ni(s,0));let r=n[0];for(let s=1;s<n.length-1;++s)r=Va(r,n[s]);return r})}}class bG extends Bd{constructor(e){super(e)}mergeFunction(e){return ie(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=Ce(n,e[r]);return n})}}bG.className="Add";we(bG);class xG extends Bd{constructor(e){super(e)}mergeFunction(e){return ie(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=X(n,e[r]);return n})}}xG.className="Multiply";we(xG);class BG extends Bd{constructor(e){super(e)}mergeFunction(e){return ie(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=Ce(n,e[r]);return X(1/e.length,n)})}}BG.className="Average";we(BG);class IG extends Bd{constructor(e){super(e)}mergeFunction(e){return ie(()=>{let n=e[0];for(let r=1;r<e.length;++r)n=Xu(n,e[r]);return n})}}IG.className="Maximum";we(IG);class EG extends Bd{constructor(e){super(e)}mergeFunction(e){return ie(()=>{let n=e[0];for(let r=1;r<e.length;++r)n=xy(n,e[r]);return n})}}EG.className="Minimum";we(EG);class $G extends Bd{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new te("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let n=!0;for(const s of e)if(s!=null){n=!1;break}if(n)return;const r=[];for(let s=0;s<e.length;++s){const i=e[s].slice();i.splice(this.axis,1);let o=!1;for(const a of r)if(Ut(a,i)){o=!0;break}o||r.push(i)}if(r.length>1)throw new te("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return ie(()=>fD(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new te("A `Concatenate` layer should be called on a list of inputs.");const n=e,r=n[0].slice(),s=this.axis<0?r.length+this.axis:this.axis;for(const i of n.slice(1)){if(r[s]==null||i[s]==null){r[s]=null;break}r[s]+=i[s]}return r}computeMask(e,n){if(n==null)return null;if(!Array.isArray(n))throw new te("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new te("`inputs` should be an array for Concatenate");if(n.length!==e.length)throw new te(`Mismatch in the length of mask (${n.length}) and the legnth of inputs (${e.length})`);return ie(()=>{let r=!0;if(n.forEach(o=>{if(o!=null){r=!1;return}}),r)return null;const s=[];for(let o=0;o<e.length;++o)n[o]==null?s.push(_e(Mi(e[o]),"bool")):n[o].rank<e[o].rank?s.push(Ni(n[o],-1)):s.push(n[o]);const i=sr(s,this.axis);return K_(i,-1,!1)})}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}$G.className="Concatenate";we($G);function Up(t,e){for(;t<0;)t+=e;return t}function mNe(t,e,n){if(t.shape.length>3||e.shape.length>3)throw new gt("batchDot is not implemented for tensors of 4D or higher rank yet");if(O(t.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${t.shape.length}`),O(t.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${e.shape.length}`),typeof n=="number"&&(n=[n,n]),t.dtype==="complex64"||e.dtype==="complex64")throw new gt("batchDot is not implemented for complex64-type Tensors yet.");const r=t.shape.length,s=e.shape.length;n==null&&(n=[r-1,s-2]);const i=n;return ie(()=>{let o;if(r>s){o=r-s;const u=[];for(let l=0;l<o;++l)u.push(1);e=Y(e,e.shape.concat(u))}else if(s>r){o=s-r;const u=[];for(let l=0;l<o;++l)u.push(1);t=Y(t,t.shape.concat(u))}else o=0;let a;if(t.shape.length===2&&e.shape.length===2)i[0]===i[1]?a=Ke(X(t,e),i[0]):a=Ke(X(Nt(t,[1,0]),e),i[1]);else{const u=i[0]!==t.shape.length-1,l=i[1]===e.shape.length-1;a=Bt(t,e,u,l)}if(o>0){let u;r>s?u=r+s-3:u=r-1;const l=[];for(let c=u;c<u+o;++c)l.push(c);a=vd(a,l)}return a.shape.length===1&&(a=Ni(a,1)),a})}class SG extends Bd{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){O(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0],r=e[1];if(n.length>3||r.length>3)throw new gt("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,r);if(n[s[0]]!==r[s[1]])throw new te(`Dimension incompatibility: ${n[s[0]]} !== ${r[s[1]]}`)}mergeFunction(e){if(e.length!==2)throw new te(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let n=e[0],r=e[1],s;return Array.isArray(this.axes)?s=this.axes.map((i,o)=>Up(i,e[o].shape.length)):s=[Up(this.axes,n.shape.length),Up(this.axes,r.shape.length)],this.normalize&&(n=NC(n,s[0]),r=NC(r,s[1])),mNe(n,r,s)}interpretAxes(e,n){let r;return Array.isArray(this.axes)?r=this.axes:r=[Up(this.axes,e.length),Up(this.axes,n.length)],r}computeOutputShape(e){O(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0].slice(),r=e[1].slice();if(n.length>3||r.length>3)throw new gt("Dot layer does not support tensors of 4D or higher rank yet.");const s=this.interpretAxes(n,r);n.splice(s[0],1),r.splice(s[1],1),r.splice(0,1);const i=n.concat(r);return i.length===1&&i.push(1),i}computeMask(e,n){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(e,n),e}}SG.className="Dot";we(SG);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class TG extends Pt{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,e),n}call(e,n){return ie(()=>{this.invokeCallHook(e,n);const r=mt(e);return Py(()=>Ce(O2(r.shape,0,this.stddev),r),()=>r,n.training||!1)})}}TG.className="GaussianNoise";we(TG);class NG extends Pt{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return ie(()=>{this.invokeCallHook(e,n);const r=mt(e);return this.rate>0&&this.rate<1?Py(()=>{const i=Math.sqrt(this.rate/(1-this.rate));return X(r,O2(r.shape,1,i))},()=>r,n.training||!1):r})}}NG.className="GaussianDropout";we(NG);class kG extends Pt{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||mt(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return ie(()=>{if(this.rate<1&&this.rate>0){const r=this._getNoiseShape(e);return Py(()=>{const i=mt(e),o=1.6732632423543772,a=1.0507009873554805,u=-o*a;let l=gd(By(r),this.rate);l=Oy(l,"float32");const c=((1-this.rate)*(1+this.rate*u**2))**-.5,A=-c*u*this.rate,d=Ce(X(i,l),X(Ce(l,-1),u));return Ce(X(d,c),A)},()=>mt(e),n.training||!1)}return e})}}kG.className="AlphaDropout";we(kG);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Fm(t,e,n,r,s,i=.001){let o;if(t.rank===2)o=RV(t,e,n,r,s,i);else if(t.rank===3)o=OV(t,e,n,r,s,i);else if(t.rank===4)o=UV(t,e,n,r,s,i);else throw new gt(`batchNormalization is not implemented for array of rank ${t.rank} yet`);return o}function yNe(t,e,n,r,s=.001){return ie(()=>{const i=d2(t,r),o=i.mean,a=i.variance;return[Fm(t,o,a,n,e,s),o,a]})}function vNe(t,e,n,r,s=.001){return ie(()=>{const i=d2(t,r),o=i.mean,a=i.variance,u=[];for(const f of ia(0,t.rank))r.indexOf(f)!==-1?u.push(1):u.push(t.shape[f]);const l=Y(o,u),c=Y(a,u),A=e==null?null:Y(e,u),d=n==null?null:Y(n,u);return[Fm(t,l,c,d,A,s),o,a]})}function wNe(t,e,n,r,s=.001){return Ut(r.slice().sort(),ia(0,t.rank-1))?yNe(t,e,n,r,s):vNe(t,e,n,r,s)}class FG extends Pt{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=In(e.betaInitializer||"zeros"),this.gammaInitializer=In(e.gammaInitializer||"ones"),this.movingMeanInitializer=In(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=In(e.movingVarianceInitializer||"ones"),this.betaConstraint=yr(e.betaConstraint),this.gammaConstraint=yr(e.gammaConstraint),this.betaRegularizer=$n(e.betaRegularizer),this.gammaRegularizer=$n(e.gammaRegularizer)}build(e){e=Zt(e);const n=this.axis>=0?this.axis:this.axis+e.length,r=e[n];if(r==null)throw new te(`Axis ${n} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new pr({ndim:e.length,axes:{[n]:r}})];const s=[r];this.scale&&(this.gamma=this.addWeight("gamma",s,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",s,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",s,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",s,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,n){return ie(()=>{const r=n.training==null?!1:n.training,s=mt(e),i=s.shape,o=i.length,a=ia(0,o),u=this.axis>=0?this.axis:this.axis+o;a.splice(u,1);const l=JA(1,o);l[u]=i[u];const c=a.slice();c.sort();const A=!Ut(c,ia(0,o).slice(0,o-1)),d=()=>{if(A){const y=Y(this.movingMean.read(),l),C=Y(this.movingVariance.read(),l),b=this.center?Y(this.beta.read(),l):null,B=this.scale?Y(this.gamma.read(),l):null;return Fm(s,y,C,b,B,this.epsilon)}else return Fm(s,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!r)return d();const[h,f,p]=wNe(s,this.gamma.read(),this.beta.read(),a,this.epsilon),m=(y,C,b)=>{ie(()=>{const B=1-b,I=y.read(),w=X(Me(I,C),B);y.write(Me(I,w))})};return(()=>{m(this.movingMean,f,this.momentum),m(this.movingVariance,p,this.momentum)})(),h})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:On(this.betaInitializer),gammaInitializer:On(this.gammaInitializer),movingMeanInitializer:On(this.movingMeanInitializer),movingVarianceInitializer:On(this.movingVarianceInitializer),betaRegularizer:an(this.betaRegularizer),gammaRegularizer:an(this.gammaRegularizer),betaConstraint:mr(this.betaConstraint),gammaConstraint:mr(this.gammaConstraint)},n=super.getConfig();return Object.assign(e,n),e}}FG.className="BatchNormalization";we(FG);class _G extends Pt{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=In(e.betaInitializer||"zeros"),this.gammaInitializer=In(e.gammaInitializer||"ones"),this.betaRegularizer=$n(e.betaRegularizer),this.gammaRegularizer=$n(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=Zt(e);const n=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let i=0;i<this.axis.length;++i)this.axis[i]<0&&(this.axis[i]+=n);for(const i of this.axis)if(i<0||i>=n)throw new Error(`Invalid axis: ${i}`);if(this.axis.length!==jl(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const r=this.axis.map(i=>e[i]),s=!0;this.scale?this.gamma=this.addWeight("gamma",r,"float32",this.gammaInitializer,this.gammaRegularizer,s):this.gamma=null,this.center?this.beta=this.addWeight("beta",r,"float32",this.betaInitializer,this.betaRegularizer,s):this.beta=null,this.built=!0}call(e,n){const r=mt(e),s=r.shape,i=s.length;return ie(()=>{let{mean:a,variance:u}=d2(r,this.axis,!0);const l=JA(1,i);for(const p of this.axis)l[p]=s[p];const c=p=>p!=null&&p.shape.length!==i?Y(p,l):p;let A=this.scale?c(this.gamma.read()):null,d=this.center?c(this.beta.read()):null;const h=[],f=[];for(let p=0;p<i;++p)this.axis.indexOf(p)!==-1?(h.push(s[p]),f.push(1)):(h.push(1),f.push(s[p]));return a=mo(a,h),u=mo(u,h),A!=null&&(A=mo(A,f)),d!=null&&(d=mo(d,f)),Fm(r,a,u,d,A,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:On(this.betaInitializer),gammaInitializer:On(this.gammaInitializer),betaRegularizer:an(this.betaRegularizer),gammaRegularizer:an(this.gammaRegularizer)},n=super.getConfig();return Object.assign(e,n),e}}_G.className="LayerNormalization";we(_G);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function CNe(t,e,n){return ie(()=>{if(t.rank!==4)throw new te(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new te("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=oa()),n!=="channelsLast"&&n!=="channelsFirst")throw new te(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let r;return n==="channelsFirst"?r=[[0,0],[0,0],e[0],e[1]]:r=[[0,0],e[0],e[1],[0,0]],_c(t,r)})}class DG extends Pt{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?oa():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new te(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let n,r;if(typeof e.padding[0]=="number")n=[e.padding[0],e.padding[0]],r=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new te(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(n=e.padding[0],e.padding[1].length!==2)throw new te(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);r=e.padding[1]}this.padding=[n,r]}this.inputSpec=[new pr({ndim:4})]}computeOutputShape(e){e=Zt(e);let n,r;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?n=e[2]+this.padding[0][0]+this.padding[0][1]:n=null,e[3]!=null&&e[3]>=0?r=e[3]+this.padding[1][0]+this.padding[1][1]:r=null,[e[0],e[1],n,r]):(e[1]!=null&&e[1]>=0?n=e[1]+this.padding[0][0]+this.padding[0][1]:n=null,e[2]!=null&&e[2]>=0?r=e[2]+this.padding[1][0]+this.padding[1][1]:r=null,[e[0],n,r,e[3]])}call(e,n){return ie(()=>CNe(mt(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}DG.className="ZeroPadding2D";we(DG);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function z2(t,e,n,r,s,i){return ie(()=>{Jn(s),JK(i),Wi(r),n==null&&(n=[1,1]),r==null&&(r="valid"),s==null&&(s=oa()),i==null&&(i="max"),t=SD(t,s);let o;const a=r==="same"?"same":"valid";return i==="max"?o=A2(t,e,n,a):o=i2(t,e,n,a),s==="channelsFirst"&&(o=Nt(o,[0,3,1,2])),o})}function RG(t,e,n,r,s,i){return ie(()=>{Jn(s),JK(i),Wi(r),n==null&&(n=[1,1,1]),r==null&&(r="valid"),s==null&&(s=oa()),i==null&&(i="max"),t=JW(t,s);let o;const a=r==="same"?"same":"valid";return i==="max"?o=u7(t,e,n,a):o=DV(t,e,n,a),s==="channelsFirst"&&(o=Nt(o,[0,4,1,2,3])),o})}class OG extends Pt{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new te(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);if(Tr(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new te(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);Tr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,Wi(this.padding),this.inputSpec=[new pr({ndim:3})]}computeOutputShape(e){e=Zt(e);const n=Yo(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],n,e[2]]}call(e,n){return ie(()=>{this.invokeCallHook(e,n),e=Uy(mt(e),2);const r=this.poolingFunction(mt(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return vd(r,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(e,n),e}}class UG extends OG{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Jn(i),Wi(s),z2(e,n,r,s,i,"max")}}UG.className="MaxPooling1D";we(UG);class LG extends OG{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Jn(i),Wi(s),z2(e,n,r,s,i,"avg")}}LG.className="AveragePooling1D";we(LG);class PG extends Pt{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new te(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];Tr(this.poolSize,"poolSize"),Tr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Jn(this.dataFormat),Wi(this.padding),this.inputSpec=[new pr({ndim:4})]}computeOutputShape(e){e=Zt(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2];return n=Yo(n,this.poolSize[0],this.padding,this.strides[0]),r=Yo(r,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,r]:[e[0],n,r,e[3]]}call(e,n){return ie(()=>(this.invokeCallHook(e,n),this.poolingFunction(mt(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class MG extends PG{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Jn(i),Wi(s),z2(e,n,r,s,i,"max")}}MG.className="MaxPooling2D";we(MG);class QG extends PG{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Jn(i),Wi(s),z2(e,n,r,s,i,"avg")}}QG.className="AveragePooling2D";we(QG);class HG extends Pt{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new te(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];Tr(this.poolSize,"poolSize"),Tr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Jn(this.dataFormat),Wi(this.padding),this.inputSpec=[new pr({ndim:5})]}computeOutputShape(e){e=Zt(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2],s=this.dataFormat==="channelsFirst"?e[4]:e[3];return n=Yo(n,this.poolSize[0],this.padding,this.strides[0]),r=Yo(r,this.poolSize[1],this.padding,this.strides[1]),s=Yo(s,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,r,s]:[e[0],n,r,s,e[4]]}call(e,n){return ie(()=>(this.invokeCallHook(e,n),this.poolingFunction(mt(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class VG extends HG{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Jn(i),Wi(s),RG(e,n,r,s,i,"max")}}VG.className="MaxPooling3D";we(VG);class zG extends HG{constructor(e){super(e)}poolingFunction(e,n,r,s,i){return Jn(i),Wi(s),RG(e,n,r,s,i,"avg")}}zG.className="AveragePooling3D";we(zG);class KG extends Pt{constructor(e){super(e),this.inputSpec=[new pr({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,n){throw new gt}}class WG extends KG{constructor(e){super(e||{})}call(e,n){return ie(()=>{const r=mt(e);return Pn(r,1)})}}WG.className="GlobalAveragePooling1D";we(WG);class GG extends KG{constructor(e){super(e||{})}call(e,n){return ie(()=>{const r=mt(e);return qo(r,1)})}}GG.className="GlobalMaxPooling1D";we(GG);class jG extends Pt{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Jn(this.dataFormat),this.inputSpec=[new pr({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,n){throw new gt}getConfig(){const e={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class XG extends jG{call(e,n){return ie(()=>{const r=mt(e);return this.dataFormat==="channelsLast"?Pn(r,[1,2]):Pn(r,[2,3])})}}XG.className="GlobalAveragePooling2D";we(XG);class qG extends jG{call(e,n){return ie(()=>{const r=mt(e);return this.dataFormat==="channelsLast"?qo(r,[1,2]):qo(r,[2,3])})}}qG.className="GlobalMaxPooling2D";we(qG);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class YG extends Pt{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(e,n),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,n,r={}){const s=n.layer,i=xu(s,r);delete n.layer;const o={layer:i};return Object.assign(o,n),new e(o)}}class JG extends YG{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=Zt(e),e.length<3)throw new te(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=Zt(e);const n=[e[0]].concat(e.slice(2)),r=this.layer.computeOutputShape(n),s=e[1];return[r[0],s].concat(r.slice(1))}call(e,n){return ie(()=>(e=mt(e),aG((o,a)=>[mt(this.layer.call(o,n)),[]],e,[],!1,null,null,!1,!0)[1]))}}JG.className="TimeDistributed";we(JG);function bNe(t){xd(zSe,"BidirectionalMergeMode",t)}const xNe="concat";class ZG extends YG{constructor(e){super(e);const n=e.layer.getConfig(),r={};r.className=e.layer.getClassName(),r.config=n,this.forwardLayer=xu(r),n.goBackwards=n.goBackwards!==!0;const s={};if(s.className=e.layer.getClassName(),s.config=n,this.backwardLayer=xu(s),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?xNe:e.mergeMode,bNe(this.mergeMode),e.weights)throw new gt("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const n=e.length,r=Math.floor(n/2);this.forwardLayer.setWeights(e.slice(0,r)),this.backwardLayer.setWeights(e.slice(r))}computeOutputShape(e){let n=this.forwardLayer.computeOutputShape(e);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let r,s,i;return this.returnState&&(i=n.slice(1)),r=n[0],r=r,this.mergeMode==="concat"?(r[r.length-1]*=2,s=[r]):this.mergeMode==null?s=[r,r.slice()]:s=[r],this.returnState?this.mergeMode==null?s.concat(i).concat(i.slice()):[r].concat(i).concat(i.slice()):Qs(s)}apply(e,n){let r=n==null?null:n.initialState,s=n==null?null:n.constants;n==null&&(n={});const i=oG(e,r,s,this.numConstants);if(e=i.inputs,r=i.initialState,s=i.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(r==null||r.length===0)&&s==null)return super.apply(e,n);const o=[],a=[];if(r!=null){const l=r.length;if(l%2>0)throw new te("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,o.push(...r);const c=r.map(A=>new pr({shape:A.shape}));this.forwardLayer.stateSpec=c.slice(0,l/2),this.backwardLayer.stateSpec=c.slice(l/2),a.push(...c)}if(s!=null)throw new gt("Support for constants in Bidirectional layers is not implemented yet.");const u=o[0]instanceof Ta;for(const l of o)if(l instanceof Ta!==u)throw new te("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(u){const l=[e].concat(o),c=this.inputSpec.concat(a),A=this.inputSpec;this.inputSpec=c;const d=super.apply(l,n);return this.inputSpec=A,d}else return super.apply(e,n)}call(e,n){return ie(()=>{const r=n.initialState;let s,i;if(r==null)s=this.forwardLayer.call(e,n),i=this.backwardLayer.call(e,n);else{const u=r.slice(0,r.length/2),l=r.slice(r.length/2);s=this.forwardLayer.call(e,Object.assign(n,{initialState:u})),i=this.backwardLayer.call(e,Object.assign(n,{initialState:l}))}let o;this.returnState&&(Array.isArray(s)&&(o=s.slice(1).concat(i.slice(1))),s=s[0],i=i[0]),this.returnSequences&&(i=Eo(i,1));let a;return this.mergeMode==="concat"?a=fD([s,i]):this.mergeMode==="sum"?a=Ce(s,i):this.mergeMode==="ave"?a=X(.5,Ce(s,i)):this.mergeMode==="mul"?a=X(s,i):this.mergeMode==null&&(a=[s,i]),this.returnState?this.mergeMode==null?a.concat(o):[a].concat(o):a})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){SA(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),SA(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,n){Array.isArray(n)&&(n=n[0]);let r;if(this.returnSequences?this.mergeMode==null?r=[n,n]:r=n:this.mergeMode==null?r=[null,null]:r=null,this.returnState){const i=this.forwardLayer.states.map(o=>null);return Array.isArray(r)?r.concat(i).concat(i):[r].concat(i).concat(i)}else return r}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(e,n),e}static fromConfig(e,n){const r=xu(n.layer);if(delete n.layer,n.numConstants!=null)throw new gt("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const s=n;return s.layer=r,new e(s)}}ZG.className="Bidirectional";we(ZG);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ej extends Pt{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return ie(()=>(e=mt(e),e.dtype!=="float32"&&(e=Oy(e,"float32")),Ce(X(e,this.scale),this.offset)))}}ej.className="Rescaling";we(ej);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BNe=le();BNe.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var eo;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(eo||(eo={}));var pP;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(pP||(pP={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const INe={};function tj(t){return INe[t]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N(t,e,n,r,s){const i=e.inputParams[t];if(i&&i.inputIndexStart!==void 0){const a=i.inputIndexStart,u=i.inputIndexEnd===0?void 0:i.inputIndexEnd===void 0?a+1:i.inputIndexEnd;if(i.type==="tensor")return bs(e.inputNames[i.inputIndexStart],n,r,s);if(i.type==="tensors")return e.inputNames.slice(a,u).map(d=>bs(d,n,r,s));const l=bs(e.inputNames.slice(a)[0],n,r,s),c=l.dataSync();return i.type==="number"?c[0]:xo(l.shape,c)}const o=e.attrParams[t];return o&&o.value}function bs(t,e,n,r){const[s,i]=ii(t);if(r!=null){const a=r.getHashTableHandleByName(s);if(a!=null)return a}const o=n.currentContextIds.find(a=>!!e[RC(s,a)]);return o!==void 0?e[RC(s,o)][i]:void 0}function ENe(t,e,n){return e[RC(t,n.currentContextId)]}function Ia(t,e){const[n,r,s]=ii(t);return[RC(n,e&&e.currentContextId),r,s]}function RC(t,e){return e?`${t}-${e}`:t}function ii(t){const e=t.split(":");if(e.length===1)return[t,0,void 0];const n=e[0],r=e.length===3?e[1]:void 0,s=Number(e[e.length-1]);return[n,s,r]}function Aw(t,e,n){let r=N("pad",t,e,n);if(r==="explicit"){r=N("explicitPaddings",t,e,n);const s=[[0,0],[0,0],[0,0],[0,0]];for(let i=0;i<4;i++)s[i][0]=r[i*2],s[i][1]=r[i*2+1];return s}return r}function lu(t){return t.kept?t:bu(t)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Ne=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],SNe=Object.freeze(Object.defineProperty({__proto__:null,json:$Ne},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TNe=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],NNe=Object.freeze(Object.defineProperty({__proto__:null,json:TNe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kNe=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],FNe=Object.freeze(Object.defineProperty({__proto__:null,json:kNe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Ne=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],DNe=Object.freeze(Object.defineProperty({__proto__:null,json:_Ne},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RNe=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],ONe=Object.freeze(Object.defineProperty({__proto__:null,json:RNe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UNe=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],LNe=Object.freeze(Object.defineProperty({__proto__:null,json:UNe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PNe=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],MNe=Object.freeze(Object.defineProperty({__proto__:null,json:PNe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QNe=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],HNe=Object.freeze(Object.defineProperty({__proto__:null,json:QNe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VNe=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],zNe=Object.freeze(Object.defineProperty({__proto__:null,json:VNe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KNe=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],WNe=Object.freeze(Object.defineProperty({__proto__:null,json:KNe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GNe=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],jNe=Object.freeze(Object.defineProperty({__proto__:null,json:GNe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XNe=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],qNe=Object.freeze(Object.defineProperty({__proto__:null,json:XNe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YNe=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],JNe=Object.freeze(Object.defineProperty({__proto__:null,json:YNe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZNe=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],eke=Object.freeze(Object.defineProperty({__proto__:null,json:ZNe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tke=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],nke=Object.freeze(Object.defineProperty({__proto__:null,json:tke},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rke=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],ske=Object.freeze(Object.defineProperty({__proto__:null,json:rke},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ike=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],oke=Object.freeze(Object.defineProperty({__proto__:null,json:ike},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ake=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],uke=Object.freeze(Object.defineProperty({__proto__:null,json:ake},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lke=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],cke=Object.freeze(Object.defineProperty({__proto__:null,json:lke},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gP{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[SNe,NNe,FNe,DNe,ONe,LNe,MNe,HNe,zNe,WNe,jNe,qNe,JNe,eke,nke,ske,oke,uke,cke],n=[].concat(...e.map(r=>r.json));this.opMappers=n.reduce((r,s)=>(r[s.tfOpName]=s,r),{})}transformGraph(e,n={}){const r=e.node,s=[],i=[],o=[],a=r.reduce((p,m)=>(p[m.name]=this.mapNode(m),m.op.startsWith("Placeholder")?s.push(p[m.name]):m.op==="Const"?i.push(p[m.name]):(m.input==null||m.input.length===0)&&o.push(p[m.name]),p),{});let u=[];const l=[];let c={},A={};n!=null&&(c=this.mapSignatureEntries(n.inputs),A=this.mapSignatureEntries(n.outputs));const d=Object.keys(a);d.forEach(p=>{const m=a[p];m.inputNames.forEach((g,y)=>{const[C,,b]=Ia(g),B=a[C];if(B.outputs!=null){const I=B.outputs.indexOf(b);if(I!==-1){const w=`${C}:${I}`;m.inputNames[y]=w}}m.inputs.push(B),B.children.push(m)})}),Object.keys(A).length===0?d.forEach(p=>{const m=a[p];m.children.length===0&&l.push(m)}):Object.keys(A).forEach(p=>{const[m]=Ia(p),g=a[m];g!=null&&(g.signatureKey=A[p],l.push(g))}),Object.keys(c).length>0?Object.keys(c).forEach(p=>{const[m]=Ia(p),g=a[m];g&&(g.signatureKey=c[p],u.push(g))}):u=s;let h={};e.library!=null&&e.library.function!=null&&(h=e.library.function.reduce((p,m)=>(p[m.signature.name]=this.mapFunction(m),p),{}));const f={nodes:a,inputs:u,outputs:l,weights:i,placeholders:s,signature:n,functions:h};return o.length>0&&(f.initNodes=o),f}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,r)=>(n[e[r].name]=r,n),{})}mapNode(e){const n=tj(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const r={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(s=>s.startsWith("^")?s.slice(1):s),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(r.inputParams=n.inputs.reduce((s,i)=>(s[i.name]={type:i.type,inputIndexStart:i.start,inputIndexEnd:i.end},s),{})),n.attrs!=null&&(r.attrParams=n.attrs.reduce((s,i)=>{const o=i.type;let a;switch(i.type){case"string":a=tT(e.attr,i.tfName,i.defaultValue),a===void 0&&!!i.tfDeprecatedName&&(a=tT(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"string[]":a=uT(e.attr,i.tfName,i.defaultValue),a===void 0&&!!i.tfDeprecatedName&&(a=uT(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"number":a=rT(e.attr,i.tfName,i.defaultValue||0),a===void 0&&!!i.tfDeprecatedName&&(a=rT(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"number[]":a=aT(e.attr,i.tfName,i.defaultValue),a===void 0&&!!i.tfDeprecatedName&&(a=aT(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"bool":a=nT(e.attr,i.tfName,i.defaultValue),a===void 0&&!!i.tfDeprecatedName&&(a=nT(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"bool[]":a=cT(e.attr,i.tfName,i.defaultValue),a===void 0&&!!i.tfDeprecatedName&&(a=cT(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"shape":a=oT(e.attr,i.tfName,i.defaultValue),a===void 0&&!!i.tfDeprecatedName&&(a=oT(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"shape[]":a=lT(e.attr,i.tfName,i.defaultValue),a===void 0&&!!i.tfDeprecatedName&&(a=lT(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"dtype":a=sT(e.attr,i.tfName,i.defaultValue),a===void 0&&!!i.tfDeprecatedName&&(a=sT(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"dtype[]":a=iT(e.attr,i.tfName,i.defaultValue),a===void 0&&!!i.tfDeprecatedName&&(a=iT(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"func":a=mP(e.attr,i.tfName,i.defaultValue),a===void 0&&!!i.tfDeprecatedName&&(a=mP(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${i.type} for op: ${e.op}`)}return s[i.name]={value:a,type:o},s},{})),r}mapFunction(e){const n=e.nodeDef,r=[],s=[];let i={};n!=null&&(i=n.reduce((A,d)=>(A[d.name]=this.mapNode(d),d.op==="Const"&&s.push(A[d.name]),A),{}));const o=[],a=[];e.signature.inputArg.forEach(A=>{const[d]=Ia(A.name),h={name:d,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:DD(A.type),type:"dtype"}},children:[]};h.signatureKey=A.name,o.push(h),i[d]=h}),Object.keys(i).forEach(A=>{const d=i[A];d.inputNames.forEach((h,f)=>{const[p,,m]=Ia(h),g=i[p];if(g.outputs!=null){const y=g.outputs.indexOf(m);if(y!==-1){const C=`${p}:${y}`;d.inputNames[f]=C}}d.inputs.push(g),g.children.push(d)})});const l=e.ret;e.signature.outputArg.forEach(A=>{const[d,h]=Ia(l[A.name]),f=i[d];f!=null&&(f.defaultOutput=h,a.push(f))});const c=this.mapArgsToSignature(e);return{nodes:i,inputs:o,outputs:a,weights:s,placeholders:r,signature:c}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r),n),{}),outputs:e.signature.outputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r,e.ret),n),{})}}mapArgToTensorInfo(e,n){let r=e.name;return n!=null&&(r=n[r]),{name:r,dtype:e.type}}}function Ake(t){const e=le().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function nj(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):Ake(t);return e?n:n.toLowerCase()}function tT(t,e,n,r=!1){const s=t[e];return s!=null?nj(s.s,r):n}function nT(t,e,n){const r=t[e];return r?r.b:n}function rT(t,e,n){const r=t[e]||{},s=r.i!=null?r.i:r.f!=null?r.f:n;return typeof s=="number"?s:parseInt(s,10)}function DD(t){switch(typeof t=="string"&&(t=eo[t]),t){case eo.DT_FLOAT:case eo.DT_HALF:return"float32";case eo.DT_INT32:case eo.DT_INT64:case eo.DT_INT8:case eo.DT_UINT8:return"int32";case eo.DT_BOOL:return"bool";case eo.DT_DOUBLE:return"float32";case eo.DT_STRING:return"string";default:return null}}function mP(t,e,n){const r=t[e];return r&&r.func?r.func.name:n}function sT(t,e,n){const r=t[e];return r&&r.type?DD(r.type):n}function iT(t,e,n){const r=t[e];return r&&r.list&&r.list.type?r.list.type.map(s=>DD(s)):n}function rj(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function oT(t,e,n){const r=t[e];return r&&r.shape?rj(r.shape):n}function aT(t,e,n){const r=t[e];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(s=>typeof s=="number"?s:parseInt(s,10)):n}function uT(t,e,n,r=!1){const s=t[e];return s&&s.list&&s.list.s?s.list.s.map(i=>nj(i,r)):n}function lT(t,e,n){const r=t[e];return r&&r.list&&r.list.shape?r.list.shape.map(s=>rj(s)):n}function cT(t,e,n){const r=t[e];return r&&r.list&&r.list.b?r.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dke{constructor(e,n,r){this.node=e,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(s=>this.getInput(s)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((s,i)=>(s[i]=this.getAttr(i),s),{}))}getInput(e){return bs(e,this.tensorMap,this.context)}getAttr(e,n){const r=this.node.rawAttrs[e];if(r.tensor!=null)return bs(e,this.tensorMap,this.context);if(r.i!=null||r.f!=null)return rT(this.node.rawAttrs,e,n);if(r.s!=null)return tT(this.node.rawAttrs,e,n);if(r.b!=null)return nT(this.node.rawAttrs,e,n);if(r.shape!=null)return oT(this.node.rawAttrs,e,n);if(r.type!=null)return sT(this.node.rawAttrs,e,n);if(r.list!=null){if(r.list.i!=null||r.list.f!=null)return aT(this.node.rawAttrs,e,n);if(r.list.s!=null)return uT(this.node.rawAttrs,e,n);if(r.list.shape!=null)return lT(this.node.rawAttrs,e,n);if(r.list.b!=null)return cT(this.node.rawAttrs,e,n);if(r.list.type!=null)return iT(this.node.rawAttrs,e,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const us=Object.freeze(Object.defineProperty({__proto__:null,abs:ur,acos:EV,acosh:$V,add:Ce,addN:nAe,all:K_,any:gC,argMax:yf,argMin:SV,asin:TV,asinh:NV,atan:kV,atan2:FV,atanh:_V,avgPool:i2,avgPool3d:DV,basicLSTMCell:BAe,batchToSpaceND:o2,batchNorm:my,batchNorm2d:RV,batchNorm3d:OV,batchNorm4d:UV,bincount:LV,broadcastArgs:_Ae,broadcastTo:Kh,buffer:wt,cast:_e,ceil:PV,clipByValue:vi,clone:bu,complex:sc,concat:sr,concat1d:MV,concat2d:QV,concat3d:HV,concat4d:VV,conv1d:G_,conv2d:oc,conv2dTranspose:X_,conv3d:zV,conv3dTranspose:WV,cos:a2,cosh:q_,cumprod:yC,cumsum:Y_,denseBincount:ZAe,depthToSpace:GV,depthwiseConv2d:yy,diag:rde,dilation2d:jV,div:Je,divNoNan:XV,dot:qV,einsum:Ade,elu:vy,equal:na,erf:YV,euclideanNorm:e7,exp:Li,expandDims:Ni,expm1:t7,eye:Z_,fill:jf,floor:Cy,floorDiv:z_,gather:by,greater:Ki,greaterEqual:gd,imag:r2,isFinite:n7,isInf:r7,isNaN:s7,leakyRelu:u2,less:e3,lessEqual:md,linspace:Ude,localResponseNormalization:i7,log:Pi,log1p:l2,logSigmoid:o7,logSoftmax:t3,logSumExp:n3,logicalAnd:Va,logicalNot:c2,logicalOr:r3,logicalXor:a7,lowerBound:Jde,matMul:Bt,max:qo,maxPool:A2,maxPool3d:u7,maxPoolWithArgmax:nhe,maximum:Xu,mean:Pn,meshgrid:ihe,min:vC,minimum:xy,mirrorPad:l7,mod:c7,moments:d2,mul:X,multiRNNCell:Ahe,multinomial:hhe,neg:En,notEqual:wf,oneHot:U_,ones:di,onesLike:Mi,outerProduct:mhe,pad:_c,pad1d:whe,pad2d:bhe,pad3d:Bhe,pad4d:Ehe,pool:A7,pow:ac,prelu:f2,print:aV,prod:d7,raggedGather:Dhe,raggedTensorToTensor:Ohe,rand:Lhe,randomGamma:Yhe,randomNormal:o3,randomStandardNormal:efe,randomUniform:By,range:bm,real:Cm,reciprocal:w7,relu:qa,relu6:a3,reshape:Y,reverse:Eo,reverse1d:afe,reverse2d:lfe,reverse3d:Afe,reverse4d:hfe,round:u3,rsqrt:l3,scalar:tt,selu:c3,separableConv2d:A3,setdiff1dAsync:vfe,sigmoid:Ua,sign:C7,sin:d3,sinh:h3,slice:Dt,slice1d:g2,slice2d:f3,slice3d:m2,slice4d:xm,softmax:y2,softplus:Xf,spaceToBatchND:h2,fft:v2,ifft:Bm,irfft:p3,rfft:w2,split:gi,sqrt:as,square:on,squaredDifference:g3,squeeze:vd,stack:$o,step:qf,stridedSlice:b7,sub:Me,sum:Ke,tan:x7,tanh:vf,tensor:Oa,tensor1d:zs,tensor2d:Rg,tensor3d:pV,tensor4d:Pfe,tensor5d:Mfe,tensor6d:Qfe,tile:mo,topk:B7,truncatedNormal:m3,unique:I7,unsortedSegmentSum:y3,unstack:ra,upperBound:Gfe,variable:E7,where:Gs,whereAsync:$7,zeros:dr,zerosLike:Ot,op:G,OP_SCOPE_SUFFIX:j8,booleanMaskAsync:qfe,transpose:Nt,norm:wy,movingAverage:Jfe,scatterND:epe,searchSorted:s3,sparseToDense:rpe,gatherND:ipe,dropout:S7,enclosingPowerOfTwo:T7,cosineWindow:w3,inTopKAsync:lpe,image:Eh,linalg:U7,losses:zge,spectral:Hge,fused:mpe,signal:Vge,sparse:Kge,string:Wge},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hke=(t,e,n,r=us)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(N("a",t,e,n),N("b",t,e,n))];case"AddN":return[r.addN(N("tensors",t,e,n))];case"FloorMod":case"Mod":return[r.mod(N("a",t,e,n),N("b",t,e,n))];case"Mul":return[r.mul(N("a",t,e,n),N("b",t,e,n))];case"RealDiv":case"Div":return[r.div(N("a",t,e,n),N("b",t,e,n))];case"DivNoNan":return[r.divNoNan(N("a",t,e,n),N("b",t,e,n))];case"FloorDiv":return[r.floorDiv(N("a",t,e,n),N("b",t,e,n))];case"Sub":return[r.sub(N("a",t,e,n),N("b",t,e,n))];case"Minimum":return[r.minimum(N("a",t,e,n),N("b",t,e,n))];case"Maximum":return[r.maximum(N("a",t,e,n),N("b",t,e,n))];case"Pow":return[r.pow(N("a",t,e,n),N("b",t,e,n))];case"SquaredDifference":return[r.squaredDifference(N("a",t,e,n),N("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fke=(t,e,n,r=us)=>{switch(t.op){case"Abs":case"ComplexAbs":return[r.abs(N("x",t,e,n))];case"Acos":return[r.acos(N("x",t,e,n))];case"Acosh":return[r.acosh(N("x",t,e,n))];case"Asin":return[r.asin(N("x",t,e,n))];case"Asinh":return[r.asinh(N("x",t,e,n))];case"Atan":return[r.atan(N("x",t,e,n))];case"Atan2":return[r.atan2(N("x",t,e,n),N("y",t,e,n))];case"Atanh":return[r.atanh(N("x",t,e,n))];case"Ceil":return[r.ceil(N("x",t,e,n))];case"Complex":return[r.complex(N("real",t,e,n),N("imag",t,e,n))];case"Cos":return[r.cos(N("x",t,e,n))];case"Cosh":return[r.cosh(N("x",t,e,n))];case"Elu":return[r.elu(N("x",t,e,n))];case"Erf":return[r.erf(N("x",t,e,n))];case"Exp":return[r.exp(N("x",t,e,n))];case"Expm1":return[r.expm1(N("x",t,e,n))];case"Floor":return[r.floor(N("x",t,e,n))];case"Log":return[r.log(N("x",t,e,n))];case"Log1p":return[r.log1p(N("x",t,e,n))];case"Imag":return[r.imag(N("x",t,e,n))];case"Neg":return[r.neg(N("x",t,e,n))];case"Reciprocal":return[r.reciprocal(N("x",t,e,n))];case"Real":return[r.real(N("x",t,e,n))];case"Relu":return[r.relu(N("x",t,e,n))];case"Round":return[r.round(N("x",t,e,n))];case"Selu":return[r.selu(N("x",t,e,n))];case"Sigmoid":return[r.sigmoid(N("x",t,e,n))];case"Sin":return[r.sin(N("x",t,e,n))];case"Sign":return[r.sign(N("x",t,e,n))];case"Sinh":return[r.sinh(N("x",t,e,n))];case"Softplus":return[r.softplus(N("x",t,e,n))];case"Sqrt":return[r.sqrt(N("x",t,e,n))];case"Square":return[r.square(N("x",t,e,n))];case"Tanh":return[r.tanh(N("x",t,e,n))];case"Tan":return[r.tan(N("x",t,e,n))];case"ClipByValue":return[r.clipByValue(N("x",t,e,n),N("clipValueMin",t,e,n),N("clipValueMax",t,e,n))];case"Relu6":return[r.relu6(N("x",t,e,n))];case"Rsqrt":return[r.rsqrt(bs(t.inputNames[0],e,n))];case"Prod":return[r.prod(N("x",t,e,n),N("axes",t,e,n))];case"LeakyRelu":return[r.leakyRelu(N("x",t,e,n),N("alpha",t,e,n))];case"Prelu":return[r.prelu(N("x",t,e,n),N("alpha",t,e,n))];case"IsNan":return[r.isNaN(bs(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ro(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){O(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let r=0;r<t.length;r++){const s=t[r],i=e[r];O(s<0||i<0||s===i,()=>n+` Shapes ${t} and ${e} must match`)}}}function yP(t){return!(typeof t=="number"||t.some(e=>e<0))}function Lp(t,e,n){let r=AT(t,n);const s=!yP(r);if(s&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(s&&e.forEach(i=>{r=AT(i.shape,r)}),!yP(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function AT(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const n=[];for(let r=0;r<t.length;++r){const s=t[r],i=e[r];if(s>=0&&i>=0&&s!==i)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[r]=s>=0?s:i}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pke{constructor(e,n,r,s,i,o,a){this.name=e,this.dtype=n,this.maxSize=r,this.elementShape=s,this.identicalElementShapes=i,this.dynamicSize=o,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.idTensor=tt(0),Vr(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const r=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),ro(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),r.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(r.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);r.tensor=n,Vr(n),r.written=!0,this.tensors[e]=r}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((r,s)=>this.write(r,n[s]))}gather(e,n){if(!!n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let s=0;s<this.size();s++)e.push(s)}if(e.length===0)return Oa([],[0].concat(this.elementShape));const r=this.readMany(e);return ro(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),$o(r,0)}concat(e){if(!!e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return Oa([],[0].concat(this.elementShape));const n=[];for(let s=0;s<this.size();s++)n.push(s);const r=this.readMany(n);return ro(this.elementShape,r[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${r[0].shape})`),sr(r,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const r=Math.max(...e);if(!this.dynamicSize&&r>=this.maxSize)throw new Error(`Max index must be < array size (${r}  vs. ${this.maxSize})`);this.writeMany(e,ra(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let r=0;const s=e.map(u=>(r+=u,r));if(r!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const i=r===0?0:n.size/r,o=[];ie(()=>{n=Y(n,[1,r,i]);for(let u=0;u<e.length;++u){const c=[0,u===0?0:s[u-1],0],A=[1,e[u],i];o[u]=Y(Dt(n,c,A),this.elementShape)}return o});const a=[];for(let u=0;u<e.length;u++)a[u]=u;this.writeMany(a,o)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ZA{constructor(e,n,r,s=-1){this.tensors=e,this.elementShape=n,this.elementDtype=r,e!=null&&e.forEach(i=>{if(r!==i.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${i.dtype}`);ro(n,i.shape,"TensorList shape mismatch: "),Vr(i)}),this.idTensor=tt(0),this.maxNumElements=s,Vr(this.idTensor)}get id(){return this.idTensor.id}copy(){return new ZA([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,r=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(r!==-1&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);ro(e,this.elementShape,"TensorList shape mismatch: ");const s=Lp(this.elementShape,this.tensors,e);return ie(()=>{const i=this.tensors.map(o=>Y(o,s));return $o(i,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const r=Lp(this.elementShape,this.tensors,e),s=this.tensors.pop();return s.kept=!1,ro(s.shape,e,"TensorList shape mismatch: "),Y(s,r)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(ro(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Vr(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new ZA([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let r=0;r<Math.min(this.tensors.length,e);++r)n.tensors[r]=this.tensors[r];return n}getItem(e,n,r){if(r!==this.elementDtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);ro(this.tensors[e].shape,n,"TensorList shape mismatch: ");const s=Lp(this.elementShape,this.tensors,n);return Y(this.tensors[e],s)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);ro(this.elementShape,n.shape,"TensorList shape mismatch: "),Vr(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,r){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);ro(this.elementShape,r,"TensorList shape mismatch: "),e=e.slice(0,this.size());const s=Lp(this.elementShape,this.tensors,r);return e.length===0?Oa([],[0].concat(s)):ie(()=>{const i=e.map(o=>Y(this.tensors[o],s));return $o(i,0)})}concat(e,n){if(!!e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);ro(this.elementShape,n,"TensorList shape mismatch: ");const r=Lp(this.elementShape,this.tensors,n);return this.size()===0?Oa([],[0].concat(r)):ie(()=>{const s=this.tensors.map(i=>Y(i,r));return sr(s,0)})}}function gke(t,e,n){const r=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);const s=t.shape.slice(1);ro(s,e,"TensorList shape mismatch: ");const i=ra(t);return new ZA(i,e,r)}function mke(t,e,n,r){return new ZA([],t,e,r)}function yke(t,e,n,r){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const s=Math.max(...e);if(r!=null&&r!==-1&&s>=r)throw new Error(`Max index must be < array size (${s}  vs. ${r})`);const i=new ZA([],n,t.dtype,r),o=ra(t,0);return e.forEach((a,u)=>{i.setItem(a,o[u])}),i}function vke(t,e,n){let r=0;const s=e.map(c=>(r+=c,r));if(r!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${t.shape}`);const i=t.shape.slice(1),o=AT(i,n),a=r===0?0:t.size/r,u=ie(()=>{const c=[];t=Y(t,[1,r,a]);for(let A=0;A<e.length;++A){const h=[0,A===0?0:s[A-1],0],f=[1,e[A],a];c[A]=Y(Dt(t,h,f),o)}return t.dispose(),c}),l=new ZA([],n,t.dtype,e.length);for(let c=0;c<u.length;c++)l.setItem(c,u[c]);return l}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wke=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const r=N("thenBranch",t,e,n),s=N("elseBranch",t,e,n),i=N("cond",t,e,n),o=N("args",t,e,n);return(await i.data())[0]?n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap):n.functionMap[s].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=N("body",t,e,n),s=N("cond",t,e,n),i=N("args",t,e,n),o=await n.functionMap[s].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap),a=i.map(c=>c.id);let u=await o[0].data();o.forEach(c=>{!c.kept&&a.indexOf(c.id)===-1&&c.dispose()});let l=i;for(;u[0];){const c=l;l=await n.functionMap[r].executeFunctionAsync(l,n.tensorArrayMap,n.tensorListMap);const A=l.map(h=>h.id);c.forEach(h=>{!h.kept&&a.indexOf(h.id)===-1&&A.indexOf(h.id)===-1&&h.dispose()});const d=await n.functionMap[s].executeFunctionAsync(l,n.tensorArrayMap,n.tensorListMap);u=await d[0].data(),d.forEach(h=>{!h.kept&&a.indexOf(h.id)===-1&&A.indexOf(h.id)===-1&&h.dispose()})}return l}case"LoopCond":{const r=N("pred",t,e,n);return[lu(r)]}case"Switch":{const r=N("pred",t,e,n);let s=N("data",t,e,n);return s.kept||(s=lu(s)),(await r.data())[0]?[void 0,s]:[s,void 0]}case"Merge":{const r=t.inputNames.find(s=>bs(s,e,n)!==void 0);if(r){const s=bs(r,e,n);return[lu(s)]}return}case"Enter":{const r=N("frameName",t,e,n),s=N("tensor",t,e,n);return n.enterFrame(r),[lu(s)]}case"Exit":{const r=N("tensor",t,e,n);return n.exitFrame(),[lu(r)]}case"NextIteration":{const r=N("tensor",t,e,n);return n.nextIteration(),[lu(r)]}case"TensorArrayV3":{const r=N("size",t,e,n),s=N("dtype",t,e,n),i=N("elementShape",t,e,n),o=N("dynamicSize",t,e,n),a=N("clearAfterRead",t,e,n),u=N("identicalElementShapes",t,e,n),l=N("name",t,e,n),c=new pke(l,s,r,i,u,o,a);return n.addTensorArray(c),[c.idTensor,tt(1)]}case"TensorArrayWriteV3":{const r=N("tensorArrayId",t,e,n),s=N("index",t,e,n),i=N("tensor",t,e,n),o=n.getTensorArray(r.id);return o.write(s,i),[o.idTensor]}case"TensorArrayReadV3":{const r=N("tensorArrayId",t,e,n),s=N("index",t,e,n);return[n.getTensorArray(r.id).read(s)]}case"TensorArrayGatherV3":{const r=N("tensorArrayId",t,e,n),s=N("indices",t,e,n),i=N("dtype",t,e,n);return[n.getTensorArray(r.id).gather(s,i)]}case"TensorArrayScatterV3":{const r=N("tensorArrayId",t,e,n),s=N("indices",t,e,n),i=N("tensor",t,e,n),o=n.getTensorArray(r.id);return o.scatter(s,i),[o.idTensor]}case"TensorArrayConcatV3":{const r=N("tensorArrayId",t,e,n),s=n.getTensorArray(r.id),i=N("dtype",t,e,n);return[s.concat(i)]}case"TensorArraySplitV3":{const r=N("tensorArrayId",t,e,n),s=N("tensor",t,e,n),i=N("lengths",t,e,n),o=n.getTensorArray(r.id);return o.split(i,s),[o.idTensor]}case"TensorArraySizeV3":{const r=N("tensorArrayId",t,e,n),s=n.getTensorArray(r.id);return[tt(s.size(),"int32")]}case"TensorArrayCloseV3":{const r=N("tensorArrayId",t,e,n),s=n.getTensorArray(r.id);return s.clearAndClose(),[s.idTensor]}case"TensorListSetItem":{const r=N("tensorListId",t,e,n),s=N("index",t,e,n),i=N("tensor",t,e,n),o=n.getTensorList(r.id);return o.setItem(s,i),[o.idTensor]}case"TensorListGetItem":{const r=N("tensorListId",t,e,n),s=N("index",t,e,n),i=N("elementShape",t,e,n),o=N("elementDType",t,e,n);return[n.getTensorList(r.id).getItem(s,i,o)]}case"TensorListScatterV2":case"TensorListScatter":{const r=N("indices",t,e,n),s=N("tensor",t,e,n),i=N("elementShape",t,e,n),o=N("numElements",t,e,n),a=yke(s,r,i,o);return n.addTensorList(a),[a.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=N("elementShape",t,e,n),s=N("elementDType",t,e,n);let i;t.op==="TensorListReserve"?i="numElements":i="maxNumElements";const o=N(i,t,e,n),a=t.op==="TensorListReserve"?-1:o,u=mke(r,s,o,a);return n.addTensorList(u),[u.idTensor]}case"TensorListGather":{const r=N("tensorListId",t,e,n),s=N("indices",t,e,n),i=N("elementShape",t,e,n),o=N("elementDType",t,e,n);return[n.getTensorList(r.id).gather(s,o,i)]}case"TensorListStack":{const r=N("tensorListId",t,e,n),s=N("elementShape",t,e,n),i=N("elementDType",t,e,n),o=N("numElements",t,e,n);return[n.getTensorList(r.id).stack(s,i,o)]}case"TensorListFromTensor":{const r=N("tensor",t,e,n),s=N("elementShape",t,e,n),i=N("elementDType",t,e,n),o=gke(r,s,i);return n.addTensorList(o),[o.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=N("tensorListId",t,e,n),s=n.getTensorList(r.id),i=N("dtype",t,e,n),o=N("elementShape",t,e,n);return[s.concat(i,o)]}case"TensorListPushBack":{const r=N("tensorListId",t,e,n),s=N("tensor",t,e,n),i=n.getTensorList(r.id);return i.pushBack(s),[i.idTensor]}case"TensorListPopBack":{const r=N("tensorListId",t,e,n),s=N("elementShape",t,e,n),i=N("elementDType",t,e,n);return[n.getTensorList(r.id).popBack(s,i)]}case"TensorListSplit":{const r=N("tensor",t,e,n),s=N("elementShape",t,e,n),i=N("lengths",t,e,n),o=vke(r,i,s);return n.addTensorList(o),[o.idTensor]}case"TensorListLength":{const r=N("tensorListId",t,e,n),s=n.getTensorList(r.id);return[tt(s.size(),"int32")]}case"TensorListResize":{const r=N("tensorListId",t,e,n),s=N("size",t,e,n),o=n.getTensorList(r.id).resize(s);return n.addTensorList(o),[o.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vP(t,e,n){const[r,s]=N("fusedOps",t,e,n),i=r==="biasadd",o=!i,a=s==="prelu",u=r==="fusedbatchnorm",l=N("numArgs",t,e,n);if(i){if(a&&l!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&i&&l!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(u)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=N("strides",t,e,n),A=Aw(t,e,n),d=N("dataFormat",t,e,n).toUpperCase(),h=N("dilations",t,e,n);let[f,p]=N("args",t,e,n);o&&(p=f,f=void 0);const m=N("leakyreluAlpha",t,e,n);return{stride:c,pad:A,dataFormat:d,dilations:h,biasArg:f,preluArg:p,activationFunc:s,leakyreluAlpha:m}}const Cke=(t,e,n,r=us)=>{switch(t.op){case"Conv1D":{const s=N("stride",t,e,n),i=N("pad",t,e,n),o=N("dataFormat",t,e,n).toUpperCase(),a=N("dilation",t,e,n);return[r.conv1d(N("x",t,e,n),N("filter",t,e,n),s,i,o,a)]}case"Conv2D":{const s=N("strides",t,e,n),i=Aw(t,e,n),o=N("dataFormat",t,e,n).toUpperCase(),a=N("dilations",t,e,n);return[r.conv2d(N("x",t,e,n),N("filter",t,e,n),[s[1],s[2]],i,o,[a[1],a[2]])]}case"_FusedConv2D":{const{stride:s,pad:i,dataFormat:o,dilations:a,biasArg:u,preluArg:l,activationFunc:c,leakyreluAlpha:A}=vP(t,e,n);return[r.fused.conv2d({x:N("x",t,e,n),filter:N("filter",t,e,n),strides:[s[1],s[2]],pad:i,dataFormat:o,dilations:[a[1],a[2]],bias:u,activation:c,preluActivationWeights:l,leakyreluAlpha:A})]}case"FusedDepthwiseConv2dNative":{const{stride:s,pad:i,dataFormat:o,dilations:a,biasArg:u,preluArg:l,activationFunc:c,leakyreluAlpha:A}=vP(t,e,n);return[r.fused.depthwiseConv2d({x:N("x",t,e,n),filter:N("filter",t,e,n),strides:[s[1],s[2]],pad:i,dataFormat:o,dilations:[a[1],a[2]],bias:u,activation:c,preluActivationWeights:l,leakyreluAlpha:A})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const s=N("outputShape",t,e,n),i=N("strides",t,e,n),o=Aw(t,e,n);return[r.conv2dTranspose(N("x",t,e,n),N("filter",t,e,n),s,[i[1],i[2]],o)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const s=N("strides",t,e,n),i=Aw(t,e,n),o=N("dilations",t,e,n),a=N("dataFormat",t,e,n).toUpperCase();return[r.depthwiseConv2d(N("input",t,e,n),N("filter",t,e,n),[s[1],s[2]],i,a,[o[1],o[2]])]}case"Conv3D":{const s=N("strides",t,e,n),i=N("pad",t,e,n),o=N("dataFormat",t,e,n).toUpperCase(),a=N("dilations",t,e,n);return[r.conv3d(N("x",t,e,n),N("filter",t,e,n),[s[1],s[2],s[3]],i,o,[a[1],a[2],a[3]])]}case"AvgPool":{const s=N("strides",t,e,n),i=N("pad",t,e,n),o=N("kernelSize",t,e,n);return[r.avgPool(N("x",t,e,n),[o[1],o[2]],[s[1],s[2]],i)]}case"MaxPool":{const s=N("strides",t,e,n),i=N("pad",t,e,n),o=N("kernelSize",t,e,n);return[r.maxPool(N("x",t,e,n),[o[1],o[2]],[s[1],s[2]],i)]}case"MaxPoolWithArgmax":{const s=N("strides",t,e,n),i=N("pad",t,e,n),o=N("kernelSize",t,e,n),a=N("includeBatchInIndex",t,e,n),{result:u,indexes:l}=r.maxPoolWithArgmax(N("x",t,e,n),[o[1],o[2]],[s[1],s[2]],i,a);return[u,l]}case"AvgPool3D":{const s=N("strides",t,e,n),i=N("pad",t,e,n),o=N("kernelSize",t,e,n);return[r.avgPool3d(N("x",t,e,n),[o[1],o[2],o[3]],[s[1],s[2],s[3]],i)]}case"MaxPool3D":{const s=N("strides",t,e,n),i=N("pad",t,e,n),o=N("kernelSize",t,e,n);return[r.maxPool3d(N("x",t,e,n),[o[1],o[2],o[3]],[s[1],s[2],s[3]],i)]}case"Dilation2D":{const s=N("strides",t,e,n),i=N("pad",t,e,n),o=N("dilations",t,e,n),a=s[1],u=s[2],l=o[1],c=o[2];return[r.dilation2d(N("x",t,e,n),N("filter",t,e,n),[a,u],i,[l,c],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bke=(t,e,n,r=us)=>{switch(t.op){case"Fill":{const s=N("shape",t,e,n),i=N("dtype",t,e,n),o=N("value",t,e,n);return[r.fill(s,o,i)]}case"LinSpace":{const s=N("start",t,e,n),i=N("stop",t,e,n),o=N("num",t,e,n);return[r.linspace(s,i,o)]}case"Multinomial":{const s=N("logits",t,e,n),i=N("numSamples",t,e,n),o=N("seed",t,e,n);return[r.multinomial(s,i,o)]}case"OneHot":{const s=N("indices",t,e,n),i=N("depth",t,e,n),o=N("onValue",t,e,n),a=N("offValue",t,e,n),u=N("dtype",t,e,n);return[r.oneHot(s,i,o,a,u)]}case"Ones":return[r.ones(N("shape",t,e,n),N("dtype",t,e,n))];case"OnesLike":return[r.onesLike(N("x",t,e,n))];case"RandomStandardNormal":return[r.randomStandardNormal(N("shape",t,e,n),N("dtype",t,e,n),N("seed",t,e,n))];case"RandomUniform":return[r.randomUniform(N("shape",t,e,n),N("minval",t,e,n),N("maxval",t,e,n),N("dtype",t,e,n))];case"Range":{const s=N("start",t,e,n),i=N("stop",t,e,n),o=N("step",t,e,n);return[r.range(s,i,o,N("dtype",t,e,n))]}case"TruncatedNormal":{const s=N("shape",t,e,n),i=N("mean",t,e,n),o=N("stdDev",t,e,n),a=N("seed",t,e,n);return[r.truncatedNormal(s,i,o,N("dtype",t,e,n),a)]}case"Zeros":return[r.zeros(N("shape",t,e,n),N("dtype",t,e,n))];case"ZerosLike":return[r.zerosLike(N("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lE(t,e,n){const r=N("boxes",t,e,n),s=N("scores",t,e,n),i=N("maxOutputSize",t,e,n),o=N("iouThreshold",t,e,n),a=N("scoreThreshold",t,e,n),u=N("softNmsSigma",t,e,n);return{boxes:r,scores:s,maxOutputSize:i,iouThreshold:o,scoreThreshold:a,softNmsSigma:u}}const xke=async(t,e,n,r,s=us)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:i,scores:o,maxOutputSize:a,iouThreshold:u,scoreThreshold:l,softNmsSigma:c}=lE(t,e,n),A=await s.image.nonMaxSuppressionWithScoreAsync(i,o,a,u,l,c);return[A.selectedIndices,A.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:i,scores:o,maxOutputSize:a,iouThreshold:u,scoreThreshold:l}=lE(t,e,n),c=N("padToMaxOutputSize",t,e,n),A=await s.image.nonMaxSuppressionPaddedAsync(i,o,a,u,l,c);return[A.selectedIndices,A.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:i,scores:o,maxOutputSize:a,iouThreshold:u,scoreThreshold:l}=lE(t,e,n);return[await s.image.nonMaxSuppressionAsync(i,o,a,u,l)]}case"Where":{const i=s.cast(N("condition",t,e,n),"bool"),o=[await s.whereAsync(i)];return i.dispose(),o}case"ListDiff":return s.setdiff1dAsync(N("x",t,e,n),N("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bke=(t,e,n,r=us)=>{switch(t.op){case"LowerBound":{const s=N("sortedSequence",t,e,n),i=N("values",t,e,n);return[r.lowerBound(s,i)]}case"TopKV2":{const s=N("x",t,e,n),i=N("k",t,e,n),o=N("sorted",t,e,n),a=r.topk(s,i,o);return[a.values,a.indices]}case"UpperBound":{const s=N("sortedSequence",t,e,n),i=N("values",t,e,n);return[r.upperBound(s,i)]}case"Unique":{const s=N("x",t,e,n),i=r.unique(s);return[i.values,i.indices]}case"UniqueV2":{const s=N("x",t,e,n),i=N("axis",t,e,n),o=r.unique(s,i);return[o.values,o.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ike=(t,e,n,r=us)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const s=N("default",t,e,n);return[bs(t.name,e,n)||s];case"Placeholder":return[bs(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const c=N("x",t,e,n);return[lu(c)]}case"IdentityN":return N("x",t,e,n).map(c=>lu(c));case"Snapshot":const i=N("x",t,e,n);return[lu(i)];case"Shape":return[r.tensor1d(N("x",t,e,n).shape,"int32")];case"ShapeN":return N("x",t,e,n).map(c=>r.tensor1d(c.shape));case"Size":return[r.scalar(N("x",t,e,n).size,"int32")];case"Rank":return[r.scalar(N("x",t,e,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const o=N("x",t,e,n),a=N("data",t,e,n),u=N("message",t,e,n),l=N("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(u);for(let c=0;c<a.length;c++)console.log(Array.prototype.slice.call(a[c].dataSync()).slice(0,l));return[o];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Eke{constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=tt(0),this.tensorMap=new Map,Vr(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return tt(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return this.tensorMap.forEach(s=>s.dispose()),this.tensorMap.clear(),ie(()=>{const s=ra(n),i=r.length,o=s.length;O(i===o,()=>`The number of elements doesn't match, keys has ${i} elements, the values has ${o} elements.`);for(let a=0;a<i;a++){const u=r[a],l=s[a];Vr(l),this.tensorMap.set(u,l)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return ie(()=>{const s=[];for(let i=0;i<r.length;i++){const o=r[i],a=this.findWithDefault(o,n);s.push(a)}return $o(s)})}findWithDefault(e,n){const r=this.tensorMap.get(e);return r!=null?r:n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $ke=async(t,e,n,r)=>{switch(t.op){case"HashTable":case"HashTableV2":{const s=N("keyDType",t,e,n),i=N("valueDType",t,e,n),o=new Eke(s,i);return r.addHashTable(t.name,o),[o.handle]}case"LookupTableImport":case"LookupTableImportV2":{const s=N("tableHandle",t,e,n,r),i=N("keys",t,e,n),o=N("values",t,e,n);return[await r.getHashTableById(s.id).import(i,o)]}case"LookupTableFind":case"LookupTableFindV2":{const s=N("tableHandle",t,e,n,r),i=N("keys",t,e,n),o=N("defaultValue",t,e,n);return[await r.getHashTableById(s.id).find(i,o)]}case"LookupTableSize":case"LookupTableSizeV2":{const s=N("tableHandle",t,e,n,r);return[r.getHashTableById(s.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ske=(t,e,n,r=us)=>{switch(t.op){case"ResizeBilinear":{const s=N("images",t,e,n),i=N("size",t,e,n),o=N("alignCorners",t,e,n),a=N("halfPixelCenters",t,e,n);return[r.image.resizeBilinear(s,[i[0],i[1]],o,a)]}case"ResizeNearestNeighbor":{const s=N("images",t,e,n),i=N("size",t,e,n),o=N("alignCorners",t,e,n),a=N("halfPixelCenters",t,e,n);return[r.image.resizeNearestNeighbor(s,[i[0],i[1]],o,a)]}case"CropAndResize":{const s=N("image",t,e,n),i=N("boxes",t,e,n),o=N("boxInd",t,e,n),a=N("cropSize",t,e,n),u=N("method",t,e,n),l=N("extrapolationValue",t,e,n);return[r.image.cropAndResize(s,i,o,a,u,l)]}case"ImageProjectiveTransformV3":{const s=N("images",t,e,n),i=N("transforms",t,e,n),o=N("outputShape",t,e,n),a=N("fillValue",t,e,n),u=N("interpolation",t,e,n),l=N("fillMode",t,e,n);return[r.image.transform(s,i,u.toLowerCase(),l.toLowerCase(),a,o)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tke=(t,e,n,r=us)=>{switch(t.op){case"Equal":return[r.equal(N("a",t,e,n),N("b",t,e,n))];case"NotEqual":return[r.notEqual(N("a",t,e,n),N("b",t,e,n))];case"Greater":return[r.greater(N("a",t,e,n),N("b",t,e,n))];case"GreaterEqual":return[r.greaterEqual(N("a",t,e,n),N("b",t,e,n))];case"Less":return[r.less(N("a",t,e,n),N("b",t,e,n))];case"LessEqual":return[r.lessEqual(N("a",t,e,n),N("b",t,e,n))];case"LogicalAnd":return[r.logicalAnd(N("a",t,e,n),N("b",t,e,n))];case"LogicalNot":return[r.logicalNot(N("a",t,e,n))];case"LogicalOr":return[r.logicalOr(N("a",t,e,n),N("b",t,e,n))];case"Select":case"SelectV2":return[r.where(N("condition",t,e,n),N("a",t,e,n),N("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nke=(t,e,n,r=us)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(N("a",t,e,n),N("b",t,e,n),N("transposeA",t,e,n),N("transposeB",t,e,n))];case"Einsum":return[r.einsum(N("equation",t,e,n),...N("tensors",t,e,n))];case"Transpose":return[r.transpose(N("x",t,e,n),N("perm",t,e,n))];case"_FusedMatMul":const[s,i]=N("fusedOps",t,e,n),o=s==="biasadd",a=i==="prelu",u=N("numArgs",t,e,n),l=N("leakyreluAlpha",t,e,n);if(o){if(a&&u!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&u!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,A]=N("args",t,e,n);return[r.fused.matMul({a:N("a",t,e,n),b:N("b",t,e,n),transposeA:N("transposeA",t,e,n),transposeB:N("transposeB",t,e,n),bias:c,activation:i,preluActivationWeights:A,leakyreluAlpha:l})];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kke=(t,e,n,r=us)=>{switch(t.op){case"EuclideanNorm":return[r.euclideanNorm(N("x",t,e,n),N("axis",t,e,n),N("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[r.batchNorm(N("x",t,e,n),N("mean",t,e,n),N("variance",t,e,n),N("offset",t,e,n),N("scale",t,e,n),N("epsilon",t,e,n))];case"FusedBatchNormV3":return[r.batchNorm(N("x",t,e,n),N("mean",t,e,n),N("variance",t,e,n),N("offset",t,e,n),N("scale",t,e,n),N("epsilon",t,e,n))];case"LRN":return[r.localResponseNormalization(N("x",t,e,n),N("radius",t,e,n),N("bias",t,e,n),N("alpha",t,e,n),N("beta",t,e,n))];case"Softmax":return[r.softmax(N("x",t,e,n))];case"LogSoftmax":return[r.logSoftmax(N("x",t,e,n))];case"SparseToDense":return[r.sparseToDense(N("sparseIndices",t,e,n),N("outputShape",t,e,n),N("sparseValues",t,e,n),N("defaultValue",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fke=(t,e,n,r=us)=>{switch(t.op){case"Max":{const a=N("axis",t,e,n),u=N("keepDims",t,e,n);return[r.max(N("x",t,e,n),a,u)]}case"Mean":{const a=N("axis",t,e,n),u=N("keepDims",t,e,n);return[r.mean(N("x",t,e,n),a,u)]}case"Min":{const a=N("axis",t,e,n),u=N("keepDims",t,e,n);return[r.min(N("x",t,e,n),a,u)]}case"Sum":{const a=N("axis",t,e,n),u=N("keepDims",t,e,n);return[r.sum(N("x",t,e,n),a,u)]}case"All":{const a=N("axis",t,e,n),u=N("keepDims",t,e,n);return[r.all(N("x",t,e,n),a,u)]}case"Any":{const a=N("axis",t,e,n),u=N("keepDims",t,e,n);return[r.any(N("x",t,e,n),a,u)]}case"ArgMax":{const a=N("axis",t,e,n);return[r.argMax(N("x",t,e,n),a)]}case"ArgMin":{const a=N("axis",t,e,n);return[r.argMin(N("x",t,e,n),a)]}case"Prod":{const a=N("axis",t,e,n),u=N("keepDims",t,e,n);return[r.prod(N("x",t,e,n),a,u)]}case"Cumprod":{const a=N("axis",t,e,n),u=N("exclusive",t,e,n),l=N("reverse",t,e,n);return[r.cumprod(N("x",t,e,n),a,u,l)]}case"Cumsum":{const a=N("axis",t,e,n),u=N("exclusive",t,e,n),l=N("reverse",t,e,n);return[r.cumsum(N("x",t,e,n),a,u,l)]}case"Bincount":const s=N("x",t,e,n),i=N("weights",t,e,n),o=N("size",t,e,n);return[r.bincount(s,i,o)];case"DenseBincount":{const a=N("x",t,e,n),u=N("weights",t,e,n),l=N("size",t,e,n),c=N("binaryOutput",t,e,n);return[r.denseBincount(a,u,l,c)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _ke=(t,e,n,r=us)=>{switch(t.op){case"ConcatV2":case"Concat":{const s=N("n",t,e,n),i=N("axis",t,e,n);let o=N("tensors",t,e,n);return o=o.slice(0,s),[r.concat(o,i)]}case"Gather":{const s=N("x",t,e,n),i=N("indices",t,e,n);return[r.gather(s,r.cast(i,"int32"),0)]}case"GatherV2":{const s=N("axis",t,e,n),i=N("batchDims",t,e,n),o=N("x",t,e,n),a=N("indices",t,e,n);return[r.gather(o,r.cast(a,"int32"),s,i)]}case"Reverse":{const s=N("dims",t,e,n),i=[];for(let a=0;a<s.length;a++)s[a]&&i.push(a);const o=N("x",t,e,n);return[r.reverse(o,i)]}case"ReverseV2":{const s=N("axis",t,e,n),i=N("x",t,e,n);return[r.reverse(i,s)]}case"Slice":{const s=N("begin",t,e,n),i=N("size",t,e,n);return[r.slice(N("x",t,e,n),s,i)]}case"StridedSlice":{const s=N("begin",t,e,n),i=N("end",t,e,n),o=N("strides",t,e,n),a=N("beginMask",t,e,n),u=N("endMask",t,e,n),l=N("ellipsisMask",t,e,n),c=N("newAxisMask",t,e,n),A=N("shrinkAxisMask",t,e,n),d=N("x",t,e,n);return[r.stridedSlice(d,s,i,o,a,u,l,c,A)]}case"Pack":return ie(()=>{const s=N("axis",t,e,n),i=N("tensors",t,e,n),o=i[0].shape,a=r.squeeze(i[0]).shape,u=i.map(l=>{const c=Ut(l.shape,o);if(!c&&!Ut(r.squeeze(l).shape,a))throw new Error("the input tensors shape does not match");return c?l:r.reshape(l,o)});return[r.stack(u,s)]});case"Unpack":{const s=N("axis",t,e,n),i=N("tensor",t,e,n);return r.unstack(i,s)}case"Tile":{const s=N("reps",t,e,n);return[r.tile(N("x",t,e,n),s)]}case"Split":case"SplitV":{const s=N("axis",t,e,n),i=N("numOrSizeSplits",t,e,n),o=N("x",t,e,n);return r.split(o,i,s)}case"ScatterNd":{const s=N("indices",t,e,n),i=N("values",t,e,n),o=N("shape",t,e,n);return[r.scatterND(s,i,o)]}case"GatherNd":{const s=N("x",t,e,n),i=N("indices",t,e,n);return[r.gatherND(s,i)]}case"SparseToDense":{const s=N("sparseIndices",t,e,n),i=N("outputShape",t,e,n),o=N("sparseValues",t,e,n),a=N("defaultValue",t,e,n);return[r.sparseToDense(s,o,i,o.dtype===a.dtype?a:r.cast(a,o.dtype))]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dke=(t,e,n,r=us)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:s,outputValues:i,emptyRowIndicator:o,reverseIndexMap:a}=r.sparse.sparseFillEmptyRows(N("indices",t,e,n),N("values",t,e,n),N("denseShape",t,e,n),N("defaultValue",t,e,n));return[s,i,o,a]}case"SparseReshape":{const{outputIndices:s,outputShape:i}=r.sparse.sparseReshape(N("inputIndices",t,e,n),N("inputShape",t,e,n),N("newShape",t,e,n));return[s,i]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(N("data",t,e,n),N("indices",t,e,n),N("segmentIds",t,e,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(N("data",t,e,n),N("indices",t,e,n),N("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rke=(t,e,n,r=us)=>{switch(t.op){case"FFT":return[r.fft(N("x",t,e,n))];case"IFFT":return[r.ifft(N("x",t,e,n))];case"RFFT":return[r.rfft(N("x",t,e,n))];case"IRFFT":return[r.irfft(N("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oke=(t,e,n,r=us)=>{switch(t.op){case"StringNGrams":{const{nGrams:s,nGramsSplits:i}=r.string.stringNGrams(N("data",t,e,n),N("dataSplits",t,e,n),N("separator",t,e,n),N("nGramWidths",t,e,n),N("leftPad",t,e,n),N("rightPad",t,e,n),N("padWidth",t,e,n),N("preserveShortSequences",t,e,n));return[s,i]}case"StringSplit":{const{indices:s,values:i,shape:o}=r.string.stringSplit(N("input",t,e,n),N("delimiter",t,e,n),N("skipEmpty",t,e,n));return[s,i,o]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(N("input",t,e,n),N("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uke=(t,e,n,r=us)=>{switch(t.op){case"Cast":return[r.cast(N("x",t,e,n),N("dtype",t,e,n))];case"ExpandDims":{const s=N("axis",t,e,n);return[r.expandDims(N("x",t,e,n),s)]}case"Squeeze":{const s=N("axis",t,e,n);return[r.squeeze(N("x",t,e,n),s)]}case"Reshape":return[r.reshape(N("x",t,e,n),N("shape",t,e,n))];case"MirrorPad":return[r.mirrorPad(N("x",t,e,n),N("padding",t,e,n),N("mode",t,e,n))];case"PadV2":case"Pad":return[r.pad(N("x",t,e,n),N("padding",t,e,n),N("constantValue",t,e,n))];case"SpaceToBatchND":{const s=N("blockShape",t,e,n),i=N("paddings",t,e,n);return[r.spaceToBatchND(N("x",t,e,n),s,i)]}case"BatchToSpaceND":{const s=N("blockShape",t,e,n),i=N("crops",t,e,n);return[r.batchToSpaceND(N("x",t,e,n),s,i)]}case"DepthToSpace":{const s=N("blockSize",t,e,n),i=N("dataFormat",t,e,n).toUpperCase();return[r.depthToSpace(N("x",t,e,n),s,i)]}case"BroadcastTo":return[r.broadcastTo(N("x",t,e,n),N("shape",t,e,n))];case"BroadcastArgs":return[r.broadcastArgs(N("s0",t,e,n),N("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wP(t,e,n,r,s=ie){const i=((o,a,u)=>{switch(o.category){case"arithmetic":return s(()=>hke(o,a,u));case"basic_math":return s(()=>fke(o,a,u));case"control":return wke(o,a,u);case"convolution":return s(()=>Cke(o,a,u));case"creation":return s(()=>bke(o,a,u));case"dynamic":return xke(o,a,u);case"evaluation":return s(()=>Bke(o,a,u));case"image":return s(()=>Ske(o,a,u));case"graph":return s(()=>Ike(o,a,u));case"logical":return s(()=>Tke(o,a,u));case"matrices":return s(()=>Nke(o,a,u));case"normalization":return s(()=>kke(o,a,u));case"reduction":return s(()=>Fke(o,a,u));case"slice_join":return s(()=>_ke(o,a,u));case"sparse":return s(()=>Dke(o,a,u));case"spectral":return s(()=>Rke(o,a,u));case"string":return s(()=>Oke(o,a,u));case"transformation":return s(()=>Uke(o,a,u));case"hash_table":return $ke(o,a,u,r);case"custom":const l=tj(o.op);if(l&&l.customExecutor)return l.customExecutor(new dke(o,a,u));throw TypeError(`Custom op ${o.op} is not registered.`);default:throw TypeError(`Unknown op '${o.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return ff(i)?i.then(o=>[].concat(o)):[].concat(i)}class CP{constructor(e={},n={},r={},s={}){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=s,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const r=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(r))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bP(t,e,n,r){const s=new Set,i=[];let o=null,a=null;const u=new Set,l=Object.keys(t).map(d=>ii(d)[0]);let c=[];r!=null&&(c=r.map(d=>ii(d.name)[0]));const A=[...e];for(;A.length>0;){const d=A.pop();if((sj(d)||Hke(d)||Vke(d))&&o==null&&(o=d,a=o.children.map(h=>h.name).filter(h=>s.has(h))),s.add(d.name),n[d.name]==null&&l.indexOf(d.name)===-1&&c.indexOf(d.name)===-1){if(d.inputs.length===0){i.push(d.name);continue}d.inputs.forEach(h=>{u.has(h.name)||(u.add(h.name),A.push(h))})}}return{inputs:t,outputs:e,usedNodes:s,missingInputs:i,dynamicNode:o,syncInputs:a}}function Lke(t,e,n){const{usedNodes:r,inputs:s}=n,i=[],o=Object.keys(s).map(c=>ii(c)[0]).map(c=>t.nodes[c]),a=t.initNodes;o.forEach(c=>{r.has(c.name)&&i.push(c)}),t.weights.forEach(c=>{r.has(c.name)&&i.push(c)}),a!=null&&a.forEach(c=>{r.has(c.name)&&i.push(c)});const u=new Set,l=[];for(;i.length>0;){const c=i.pop();u.add(c.name),e[c.name]||l.push(c),c.children.forEach(A=>{!u.has(A.name)&&r.has(A.name)&&A.inputs.every(d=>u.has(d.name))&&i.push(A)})}return l}const Pke=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],Mke=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],Qke=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function sj(t){return Pke.indexOf(t.op)>=0}function Hke(t){return Mke.indexOf(t.op)>=0}function Vke(t){return Qke.indexOf(t.op)>=0}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OC{constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(r=>{this._functionExecutorMap[r]=new OC(e.functions[r],this)})}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(r=>e[r].map(s=>s.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}getCompilationKey(e,n){const r=e.map(i=>i.name).sort(),s=n.map(i=>i.name).sort();return r.join(this.SEPERATOR)+"--"+s.join(this.SEPERATOR)}compile(e,n){const r=bP(e,n,this.weightMap,this._initNodes),{missingInputs:s,dynamicNode:i,syncInputs:o}=r;if(i!=null)throw new Error(`This execution contains the node '${i.name}', which has the dynamic op '${i.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${o}]`);if(s.length>0){const a=n.map(l=>l.name),u=Object.keys(e);throw new Error(`Cannot compute the outputs [${a}] from the provided inputs [${u}]. Missing the following inputs: [${s}]`)}return Lke(this.graph,this.weightMap,r)}execute(e,n){e=this.mapInputs(e);const r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const s=r.map(A=>this.graph.nodes[ii(A)[0]]),i=n.map(A=>ii(A)[0]);let o=i.map(A=>this.graph.nodes[A]);this.resetIntermediateTensors(),o.length===0&&(o=this._outputs);const a=this.getCompilationKey(s,o);let u=this.compiledMap.get(a);u==null&&(u=this.compile(e,o),this.compiledMap.set(a,u));const l={},c={};return ie(()=>{const A=new CP(this.weightMap,l,c,this.functionExecutorMap),d=Object.assign({},this.weightMap);Object.keys(e).forEach(p=>{const[m,g]=ii(p),y=[];y[g]=e[p],d[m]=y});const h=this.getFrozenTensorIds(d),f={};for(let p=0;p<u.length;p++){const m=u[p];if(!d[m.name]){const g=wP(m,d,A,this._resourceManager);if(ff(g))throw new Error(`The execution of the op '${m.op}' returned a promise. Please use model.executeAsync() instead.`);d[m.name]=g,this.checkTensorForDisposal(m.name,m,d,A,h,i,f)}}return this.parent==null&&A.dispose(h),n.map(p=>bs(p,d,A))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(r=>e[r]).map(r=>r.map(s=>s.id)));return new Set(n)}checkTensorForDisposal(e,n,r,s,i,o,a){n.category==="control"||o.indexOf(e)!==-1||(r[e].forEach(u=>{u!=null&&(a[u.id]=(a[u.id]||0)+n.children.length)}),n.inputs.forEach(u=>{if(u.category!=="control"){const l=ENe(u.name,r,s);l!=null&&l.forEach(c=>{if(c&&!c.kept&&!i.has(c.id)){const A=a[c.id];if(A===1){if(!this.keepTensorForDebug)c.dispose();else{const[d,h]=Ia(n.name,s);this.intermediateTensors[d]?this.intermediateTensors[d][h]=c:(this.intermediateTensors[d]=[],this.intermediateTensors[d][h]=c)}delete a[c.id]}else A!=null&&a[c.id]--}})}}))}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){!this.intermediateTensors||(Object.keys(this.intermediateTensors).forEach(e=>this.intermediateTensors[e].forEach(n=>n.dispose())),this.disposeTensorsMap())}disposeTensorsMap(){!this.tensorsMap||Object.keys(this.tensorsMap).forEach(e=>{this.tensorsMap[e].forEach(r=>{r&&!r.kept&&!r.isDisposed&&!this.keepIds.has(r.id)&&r.dispose()})})}getIntermediateTensors(){return this.tensorsMap}resetIntermediateTensors(){for(const e in this.intermediateTensors)this.intermediateTensors[e].forEach(n=>n.dispose()),delete this.intermediateTensors[e]}async _executeAsync(e,n,r=!1,s={},i={}){r||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepTensorForDebug=le().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(c){console.warn(c.message)}this.resetIntermediateTensors();const o=new CP(this.weightMap,s,i,this.functionExecutorMap);this.tensorsMap=await this.executeWithControlFlow(e,o,n,r);const a=n.map(c=>bs(c,this.tensorsMap,o)),u=a.map(c=>c.id),l=Object.keys(e).map(c=>e[c].id);return this.keepIds=new Set([...u,...l,...this.weightIds]),this.keepTensorForDebug||this.disposeTensorsMap(),this.parent==null&&o.dispose(this.keepIds),a}async executeFunctionAsync(e,n,r){const s=e.reduce((i,o,a)=>(i[this.inputs[a].name]=o,i),{});return this._executeAsync(s,this.outputNodes,!0,n,r)}async executeWithControlFlow(e,n,r,s){const i=Object.keys(e),o=i.map(C=>this.graph.nodes[ii(C)[0]]),a=r.map(C=>ii(C)[0]);let u=a.map(C=>this.graph.nodes[C]);u.length===0&&(u=this._outputs);const{usedNodes:l,missingInputs:c,dynamicNode:A,syncInputs:d}=bP(e,u,this.weightMap,this._initNodes),h=[...o,...this.graph.weights,...this._initNodes||[]].map(C=>({node:C,contexts:n.currentContext})),f=Object.assign({},this.weightMap);Object.keys(e).forEach(C=>{const[b,B]=ii(C),I=[];I[B]=e[C],f[b]=I});const p={},m=this.getFrozenTensorIds(f),g={};for(;h.length>0;){const C=this.processStack(o,h,n,f,g,m,a,p,l);await Promise.all(C)}A==null&&!s&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const y=u.filter(C=>!sj(C)&&!bs(C.name,f,n)).map(C=>C.name);if(y.length>0){let C="";throw A!=null&&(C=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${d}]`),new Error(`Cannot compute the outputs [${y}] from the provided inputs [${i}]. Consider providing the following inputs: [${c}]. ${C}`)}return f}processStack(e,n,r,s,i,o,a,u,l){const c=[];for(;n.length>0;){const A=n.pop();r.currentContext=A.contexts;let d="";if(A.node.op==="Enter"&&N("isConstant",A.node,s,r)&&([d]=Ia(A.node.name,r)),s[A.node.name]==null){const h=wP(A.node,s,r,this._resourceManager);d||([d]=Ia(A.node.name,r));const f=r.currentContext;ff(h)?c.push(h.then(p=>(s[d]=p,r.currentContext=f,this.checkTensorForDisposal(d,A.node,s,r,o,a,u),this.processChildNodes(A.node,n,r,s,i,l),p))):(s[d]=h,this.checkTensorForDisposal(d,A.node,s,r,o,a,u),this.processChildNodes(A.node,n,r,s,i,l))}else this.processChildNodes(A.node,n,r,s,i,l)}return c}processChildNodes(e,n,r,s,i,o){e.children.forEach(a=>{const[u]=Ia(a.name,r);i[u]||!o.has(a.name)||(a.op==="Merge"?a.inputNames.some(l=>!!bs(l,s,r))&&(i[u]=!0,n.push({contexts:r.currentContext,node:a})):a.inputNames.every(l=>!!bs(l,s,r))&&(i[u]=!0,n.push({contexts:r.currentContext,node:a})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const r=e[n],[s]=ii(n),i=this.graph.nodes[s];if(i.attrParams.shape&&i.attrParams.shape.value){const o=i.attrParams.shape.value,a=o.length===r.shape.length&&r.shape.every((u,l)=>o[l]===-1||o[l]===u);O(a,()=>`The shape of dict['${i.name}'] provided in model.execute(dict) must be [${o}], but was [${r.shape}]`)}i.attrParams.dtype&&i.attrParams.dtype.value&&O(r.dtype===i.attrParams.dtype.value,()=>`The dtype of dict['${i.name}'] provided in model.execute(dict) must be ${i.attrParams.dtype.value}, but was ${r.dtype}`)})}mapInputs(e){const n={};for(const r in e)if(this._signature!=null&&this._signature.inputs!=null&&this._signature.inputs[r]!=null){const s=this._signature.inputs[r];n[s.name]=e[r]}else n[r]=e[r];return n}checkInputs(e){const n=Object.keys(e).filter(r=>{const[s]=ii(r);return this.graph.nodes[s]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>this._signature!=null&&this._signature.outputs!=null&&this._signature.outputs[n]!=null?this._signature.outputs[n].name:n,{})}checkOutputs(e){e.forEach(n=>{const[r]=ii(n);if(!this.graph.nodes[r])throw new Error(`The output '${n}' is not found in the graph`)})}}class zke{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kke="?tfjs-format=file",Wke="model.json";class Gke{constructor(e,n={},r=hV){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=r,n==null&&(this.loadOptions={}),this.resourceManager=new zke}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return ff(e)?e.then(n=>this.loadSync(n)):this.loadSync(e)}loadSync(e){this.artifacts=e;const n=this.artifacts.modelTopology;let r=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const i=this.artifacts.userDefinedMetadata;i.signature!=null&&(r=i.signature),i.structuredOutputKeys!=null&&(this.structuredOutputKeys=i.structuredOutputKeys)}this.signature=r,this.version=`${n.versions.producer}.${n.versions.minConsumer}`;const s=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new OC(gP.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(s),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const i=gP.Instance.transformGraph(e.modelInitializer);this.initializer=new OC(i),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}async save(e,n){if(typeof e=="string"){const r=this.io.getSaveHandlers(e);if(r.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${e}'`);e=r[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,n){const r=this.execute(e,this.outputNodes);if(this.structuredOutputKeys){const s=r instanceof Cn?[r]:r,i={};return s.forEach((o,a)=>i[this.structuredOutputKeys[a]]=o),i}return r}normalizeInputs(e){if(!(e instanceof Cn)&&!Array.isArray(e))return e;if(e=Array.isArray(e)?e:[e],e.length!==this.inputNodes.length)throw new Error(`Input tensor count mismatch,the graph model has ${this.inputNodes.length} placeholders, while there are ${e.length} input tensors.`);return this.inputNodes.reduce((n,r,s)=>(n[r]=e[s],n),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,n){e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=this.executor.execute(e,n);return r.length>1?r:r[0]}async executeAsync(e,n){e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=await this.executor.executeAsync(e,n);return r.length>1?r:r[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,r)=>(n[r]=[e[r]],n),{})}dispose(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}async function jke(t,e={},n=hV){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=Xke(t));const r=new Gke(t,e,n);return await r.load(),r}function Xke(t){return t.endsWith("/")||(t=t+"/"),`${t}${Wke}${Kke}`}/** @license See the LICENSE file. *//**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var xP;(function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"})(xP||(xP={}));/** @license See the LICENSE file. *//**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qke=v3;class K2 extends IF{constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new I8(this,Ca())}nextDataId(){return K2.nextDataId++}write(e,n,r){this.firstUse&&(this.firstUse=!1,le().get("IS_NODE")&&ki(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const s={id:this.nextDataId()};return this.data.set(s,{values:e,dtype:r,refCount:1}),s}makeTensorInfo(e,n,r){let s;if(n==="string"&&r!=null&&r.length>0&&m0(r[0])){const i=r.map(o=>Gl(o));s=this.write(i,e,n)}else s=this.write(r,e,n);return{dataId:s,shape:e,dtype:n}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const n=this.data.get(e);n.refCount++}decRef(e){if(this.data.has(e)){const n=this.data.get(e);n.refCount--}}move(e,n,r,s,i){this.data.set(e,{values:n,dtype:s,refCount:i})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:r}=this.data.get(e);if(n==="complex64"){const s=this.readSync(r.real.dataId),i=this.readSync(r.imag.dataId);return Ru(s,i)}return this.data.get(e).values}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(s=>rc(s));return wt(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return wt(e.shape,e.dtype,n)}makeOutput(e,n,r){return Ca().makeTensorFromTensorInfo(this.makeTensorInfo(n,r,e),this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(e);r!=null&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=Ms();return e(),{kernelMs:Ms()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){Ve([e],"where");const n=this.readSync(e.dataId);return qke(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}K2.nextDataId=0;/** @license See the LICENSE file. *//**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */fV("cpu",()=>new K2,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ij=en(F0,t=>t>=0?t:Math.exp(t)-1),Yke={kernelName:F0,backendName:"cpu",kernelFunc:ij};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oj(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{alpha:i}=r;Ve([s],"leakyRelu");const o=de(s.shape),a=n.data.get(s.dataId).values,u=_r("float32",o);for(let l=0;l<a.length;l++)u[l]=a[l]<0?i*a[l]:a[l];return n.makeTensorInfo(s.shape,"float32",u)}const Jke={kernelName:Cx,backendName:"cpu",kernelFunc:oj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zke=ir((t,e)=>t<0?e*t:t);function aj(t){const{inputs:e,backend:n}=t,{x:r,alpha:s}=e;Ve([r,s],"prelu");const i=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,[a,u]=Zke(r.shape,s.shape,i,o,"float32");return n.makeTensorInfo(u,"float32",a)}const eFe={kernelName:Mx,backendName:"cpu",kernelFunc:aj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uj=en(Y0,t=>Math.max(0,t)),tFe={kernelName:Y0,backendName:"cpu",kernelFunc:uj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lj=en(J0,t=>Math.min(Math.max(0,t),6)),nFe={kernelName:J0,backendName:"cpu",kernelFunc:lj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UC(t,e,n,r,s){if(n==="linear")return za({inputs:{x:e},backend:t});if(n==="relu")return uj({inputs:{x:e},backend:t});if(n==="elu")return ij({inputs:{x:e},backend:t});if(n==="relu6")return lj({inputs:{x:e},backend:t});if(n==="prelu")return aj({inputs:{x:e,alpha:r},backend:t});if(n==="leakyrelu")return oj({inputs:{x:e},backend:t,attrs:{alpha:s}});if(n==="sigmoid")return qz({inputs:{x:e},backend:t});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function An(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{shape:i}=r,o=de(s.shape),a=E8(i,o),u=de(a);O(o===u,()=>`The new shape (${a}) has ${u} elements and the old shape (${s.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`),n.incRef(s.dataId);const l=n.data.get(s.dataId);if(l.complexTensorInfos!=null){const c=l.complexTensorInfos.real,A=l.complexTensorInfos.imag;c.shape=a,A.shape=a}return{dataId:s.dataId,shape:a,dtype:s.dtype}}const rFe={kernelName:Hx,backendName:"cpu",kernelFunc:An};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cj(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i}=e,{transposeA:o,transposeB:a}=r;Ve([s,i],"matMul");const u=s.shape.length,l=i.shape.length,c=o?s.shape[u-2]:s.shape[u-1],A=a?i.shape[l-1]:i.shape[l-2],d=o?s.shape[u-1]:s.shape[u-2],h=a?i.shape[l-2]:i.shape[l-1],f=s.shape.slice(0,-2),p=i.shape.slice(0,-2),m=de(f),g=de(p),C=ft(s.shape.slice(0,-2),i.shape.slice(0,-2)).concat([d,h]);O(c===A,()=>`Error in matMul: inner shapes (${c}) and (${A}) of Tensors with shapes ${s.shape} and ${i.shape} and transposeA=${o} and transposeB=${a} must match.`);const b=o?[m,c,d]:[m,d,c],B=a?[g,h,A]:[g,A,h],I=An({inputs:{x:s},backend:n,attrs:{shape:b}}),w=An({inputs:{x:i},backend:n,attrs:{shape:B}}),$=o?I.shape[1]:I.shape[2],T=o?I.shape[2]:I.shape[1],_=a?w.shape[1]:w.shape[2],R=Math.max(m,g),P=n.data.get(I.dataId).values,L=n.data.get(w.dataId).values,z=et(I.shape),V=et(w.shape),[q,ne,H]=o?[z[0],1,z[1]]:[z[0],z[1],1],[J,se,ae]=a?[1,V[1],V[0]]:[V[1],1,V[0]],Ae=T*_,pe=wt([R,T,_],I.dtype),ye=pe.values,ve=n.blockSize;for(let Ee=0;Ee<R;Ee++)for(let ke=0;ke<T;ke+=ve)for(let je=0;je<_;je+=ve)for(let We=0;We<$;We+=ve){const Xe=Math.min(ke+ve,T),lt=Math.min(je+ve,_),yt=Math.min(We+ve,$);for(let It=ke;It<Xe;It++)for(let $t=je;$t<lt;$t++){let ot=0;for(let Et=We;Et<yt;Et++){const Ht=Math.min(Ee,m-1)*q,Vt=Math.min(Ee,g-1)*ae,Bi=P[Ht+It*ne+Et*H],zn=L[Et*J+$t*se+Vt];ot+=Bi*zn}ye[Ee*Ae+(It*_+$t)]+=ot}}return n.disposeIntermediateTensorInfo(I),n.disposeIntermediateTensorInfo(w),n.makeTensorInfo(C,pe.dtype,pe.values)}const sFe={kernelName:ox,backendName:"cpu",kernelFunc:cj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iFe(t){const{inputs:e,backend:n,attrs:r}=t,{a:s,b:i,bias:o,preluActivationWeights:a}=e,{transposeA:u,transposeB:l,activation:c,leakyreluAlpha:A}=r;let d,h,f;const p=[];d=cj({inputs:{a:s,b:i},attrs:{transposeA:u,transposeB:l},backend:n}),o&&(h=xf({inputs:{a:d,b:o},backend:n}),p.push(d),d=h),c&&(f=UC(n,d,c,a,A),p.push(d),d=f);for(const g of p)n.disposeIntermediateTensorInfo(g);return d}const oFe={kernelName:uC,backendName:"cpu",kernelFunc:iFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aFe=en(v0,t=>Math.acos(t)),uFe={kernelName:v0,backendName:"cpu",kernelFunc:aFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lFe=en(w0,t=>Math.acosh(t)),cFe={kernelName:w0,backendName:"cpu",kernelFunc:lFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AFe(t){const{inputs:e,backend:n}=t,r=e;Ve(e,"addN");const s=r.map(a=>n.data.get(a.dataId).values),i=wt(r[0].shape,r[0].dtype),o=i.values;for(let a=0;a<r.length;a++){const u=s[a];for(let l=0;l<o.length;l++)o[l]+=u[l]}return n.makeTensorInfo(i.shape,i.dtype,i.values)}const dFe={kernelName:tx,backendName:"cpu",kernelFunc:AFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hFe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;Ve(s,"all");const a=xt(i,s.shape);let u=a;const l=Un(u,s.shape.length);let c=s;l!=null&&(c=js({inputs:{x:s},backend:n,attrs:{perm:l}}),u=Yn(u.length,s.shape.length)),jr("all",u,c.shape.length);const[A,d]=Or(c.shape,u),h=de(d),f=os(de(A),c.dtype),p=n.data.get(c.dataId).values;for(let g=0;g<f.length;++g){const y=g*h;let C=p[y];for(let b=0;b<h;++b){const B=p[y+b];C=C&&B}f[g]=C}l!=null&&n.disposeIntermediateTensorInfo(c);const m=n.makeTensorInfo(A,c.dtype,f);if(o){const g=Gn(A,a),y=An({inputs:{x:m},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(m),y}return m}const fFe={kernelName:TF,backendName:"cpu",kernelFunc:hFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pFe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;Ve(s,"any");const a=xt(i,s.shape);let u=a;const l=Un(u,s.shape.length);let c=s;l!=null&&(c=js({inputs:{x:s},backend:n,attrs:{perm:l}}),u=Yn(u.length,s.shape.length)),jr("any",u,c.shape.length);const[A,d]=Or(c.shape,u),h=de(d),f=os(de(A),c.dtype),p=n.data.get(c.dataId).values;for(let g=0;g<f.length;++g){const y=g*h;let C=p[y];for(let b=0;b<h;++b){const B=p[y+b];C=C||B}f[g]=C}l!=null&&n.disposeIntermediateTensorInfo(c);const m=n.makeTensorInfo(A,c.dtype,f);if(o){const g=Gn(A,a),y=An({inputs:{x:m},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(m),y}return m}const gFe={kernelName:NF,backendName:"cpu",kernelFunc:pFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mFe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;Ve(s,"argMax");let o=xt(i,s.shape);const a=Un(o,s.shape.length);let u=s;const l=[];a!=null&&(u=js({inputs:{x:s},backend:n,attrs:{perm:a}}),l.push(u),o=Yn(o.length,u.shape.length)),o=[o[0]],jr("argMax",o,u.shape.length);const[c,A]=Or(u.shape,o),d=de(c),h=os(d,"int32"),f=de(A),p=n.data.get(u.dataId).values;for(let m=0;m<h.length;++m){const g=m*f;let y=p[g],C=0;for(let b=0;b<f;++b){const B=p[g+b];B>y&&(y=B,C=b)}h[m]=C}return l.forEach(m=>n.disposeIntermediateTensorInfo(m)),n.makeTensorInfo(c,"int32",h)}const yFe={kernelName:nx,backendName:"cpu",kernelFunc:mFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vFe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i}=r;Ve(s,"argMin");let o=xt(i,s.shape);const a=Un(o,s.shape.length);let u=s;const l=[];a!=null&&(u=js({inputs:{x:s},backend:n,attrs:{perm:a}}),l.push(u),o=Yn(o.length,u.shape.length)),o=[o[0]],jr("argMin",o,u.shape.length);const[c,A]=Or(u.shape,o),d=de(c),h=os(d,"int32"),f=de(A),p=n.data.get(u.dataId).values;for(let m=0;m<h.length;++m){const g=m*f;let y=p[g],C=0;for(let b=0;b<f;++b){const B=p[g+b];B<y&&(y=B,C=b)}h[m]=C}return l.forEach(m=>n.disposeIntermediateTensorInfo(m)),n.makeTensorInfo(c,"int32",h)}const wFe={kernelName:rx,backendName:"cpu",kernelFunc:vFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CFe=en(C0,t=>Math.asin(t)),bFe={kernelName:C0,backendName:"cpu",kernelFunc:CFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xFe=en(b0,t=>Math.asinh(t)),BFe={kernelName:b0,backendName:"cpu",kernelFunc:xFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IFe=en(x0,t=>Math.atan(t)),EFe={kernelName:x0,backendName:"cpu",kernelFunc:IFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Fe=ir((t,e)=>Math.atan2(t,e)),SFe=Ur(I0,$Fe),TFe={kernelName:I0,backendName:"cpu",kernelFunc:SFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NFe=en(B0,t=>Math.atanh(t)),kFe={kernelName:B0,backendName:"cpu",kernelFunc:NFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RD(t,e,n,r,s,i){const o=s.strideHeight,a=s.strideWidth,u=s.dilationHeight,l=s.dilationWidth,c=s.effectiveFilterHeight,A=s.effectiveFilterWidth,d=s.padInfo.top,h=s.padInfo.left,f=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,p=wt(s.outShape,n),m=p.values,g=s.outShape[1]*s.outShape[2]*s.outShape[3],y=s.outShape[2]*s.outShape[3],C=s.outShape[3];for(let b=0;b<s.batchSize;++b){const B=b*g,I=b*r[0];for(let w=0;w<s.inChannels;++w)for(let $=0;$<s.outHeight;++$){const T=$*o-d,_=Math.max(0,T),R=Math.min(s.inHeight,c+T),P=B+$*y;for(let L=0;L<s.outWidth;++L){const z=L*a-h,V=Math.max(0,z),q=Math.min(s.inWidth,A+z);let ne=f,H=0,J=0;for(let ae=_;ae<R;ae+=u){const Ae=I+ae*r[1];for(let pe=V;pe<q;pe+=l){const ye=Ae+pe*r[2],ve=t[ye+w];i==="max"&&ve>ne?ne=ve:i==="avg"&&(H+=ve,J++)}if(isNaN(ne))break}const se=P+L*C+w;m[se]=i==="avg"?H/J:ne}}}return p}function Aj(t,e,n,r,s=!1,i=!1){const o=wt(r.outShape,"int32"),a=r.strideHeight,u=r.strideWidth,l=r.dilationHeight,c=r.dilationWidth,A=r.effectiveFilterHeight,d=r.effectiveFilterWidth,h=r.padInfo.top,f=r.padInfo.left,p=wt(e,n,t);for(let m=0;m<r.batchSize;++m)for(let g=0;g<r.inChannels;++g)for(let y=0;y<r.outHeight;++y){const C=y*a-h;let b=C;for(;b<0;)b+=l;const B=Math.min(r.inHeight,A+C);for(let I=0;I<r.outWidth;++I){const w=I*u-f;let $=w;for(;$<0;)$+=c;const T=Math.min(r.inWidth,d+w);let _=Number.NEGATIVE_INFINITY,R=-1;for(let P=b;P<B;P+=l){const L=P-C;for(let z=$;z<T;z+=c){const V=z-w,q=p.get(m,P,z,g);q>_&&(_=q,s?R=i?((m*r.inHeight+P)*r.inWidth+z)*r.inChannels+g:(P*r.inWidth+z)*r.inChannels+g:R=L*d+V)}}o.set(R,m,y,I,g)}}return o}function dj(t,e,n,r,s,i){const o=s.strideDepth,a=s.strideHeight,u=s.strideWidth,l=s.dilationDepth,c=s.dilationHeight,A=s.dilationWidth,d=s.effectiveFilterDepth,h=s.effectiveFilterHeight,f=s.effectiveFilterWidth,p=s.padInfo.front,m=s.padInfo.top,g=s.padInfo.left,y=i==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,C=wt(s.outShape,n),b=C.values,B=s.outShape[1]*s.outShape[2]*s.outShape[3]*s.outShape[4],I=s.outShape[2]*s.outShape[3]*s.outShape[4],w=s.outShape[3]*s.outShape[4],$=s.outShape[4];for(let T=0;T<s.batchSize;++T){const _=T*B,R=T*r[0];for(let P=0;P<s.inChannels;++P)for(let L=0;L<s.outDepth;++L){const z=L*o-p;let V=z;for(;V<0;)V+=l;const q=Math.min(s.inDepth,d+z),ne=_+L*I;for(let H=0;H<s.outHeight;++H){const J=H*a-m;let se=J;for(;se<0;)se+=c;const ae=Math.min(s.inHeight,h+J),Ae=ne+H*w;for(let pe=0;pe<s.outWidth;++pe){const ye=pe*u-g;let ve=ye;for(;ve<0;)ve+=A;const Ee=Math.min(s.inWidth,f+ye),ke=Ae+pe*$;let je=y,We=0,Xe=0;for(let yt=V;yt<q;yt+=l){const It=R+yt*r[1];for(let $t=se;$t<ae;$t+=c){const ot=It+$t*r[2];for(let Et=ve;Et<Ee;Et+=A){const Ht=ot+Et*r[3],Vt=t[Ht+P];if(i==="max"&&Vt>je?je=Vt:i==="avg"&&(We+=Vt,Xe++),isNaN(je))break}if(isNaN(je))break}if(isNaN(je))break}const lt=ke+P;b[lt]=i==="avg"?We/Xe:je}}}}return C}function FFe(t,e){const n=wt(e.outShape,"int32"),r=e.strideDepth,s=e.strideHeight,i=e.strideWidth,o=e.dilationDepth,a=e.dilationHeight,u=e.dilationWidth,l=e.effectiveFilterDepth,c=e.effectiveFilterHeight,A=e.effectiveFilterWidth,d=e.padInfo.front,h=e.padInfo.top,f=e.padInfo.left;for(let p=0;p<e.batchSize;++p)for(let m=0;m<e.inChannels;++m)for(let g=0;g<e.outDepth;++g){const y=g*r-d;let C=y;for(;C<0;)C+=o;const b=Math.min(e.inDepth,l+y);for(let B=0;B<e.outHeight;++B){const I=B*s-h;let w=I;for(;w<0;)w+=a;const $=Math.min(e.inHeight,c+I);for(let T=0;T<e.outWidth;++T){const _=T*i-f;let R=_;for(;R<0;)R+=u;const P=Math.min(e.inWidth,A+_);let L=Number.NEGATIVE_INFINITY,z=-1;for(let V=C;V<b;V+=o){const q=V-y;for(let ne=w;ne<$;ne+=a){const H=ne-I;for(let J=R;J<P;J+=u){const se=J-_,ae=t.get(p,V,ne,J,m);ae>=L&&(L=ae,z=q*c*A+H*c+se)}}}n.set(z,p,g,B,T,m)}}}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Fe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;Ve(s,"avgPool");const{filterSize:i,strides:o,pad:a,dimRoundingMode:u}=r,l=1;O(Gr(o,l),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${l}'`);const c=So(s.shape,i,o,l,a,u);let A;if(c.filterWidth===1&&c.filterHeight===1&&Ut(c.inShape,c.outShape))A=za({inputs:{x:s},backend:n});else{const d=n.data.get(s.dataId).values,h=et(s.shape),f=RD(d,s.shape,s.dtype,h,c,"avg");A=n.makeTensorInfo(c.outShape,s.dtype,f.values)}return A}const DFe={kernelName:sx,backendName:"cpu",kernelFunc:_Fe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RFe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:o,pad:a,dimRoundingMode:u,dataFormat:l}=r;Ve(s,"avgPool3d");const c=Gu(s.shape,i,o,1,a,u,l),A=n.data.get(s.dataId).values,d=dj(A,s.shape,s.dtype,et(s.shape),c,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}const OFe={kernelName:ix,backendName:"cpu",kernelFunc:RFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UFe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,{filterSize:o,strides:a,pad:u,dimRoundingMode:l}=r;Ve([s,i],"avgPool3DGrad");const c=Gu(i.shape,o,a,1,u,l),A=c.strideDepth,d=c.strideHeight,h=c.strideWidth,f=c.filterDepth,p=c.filterHeight,m=c.filterWidth,g=c.dilationDepth,y=c.dilationHeight,C=c.dilationWidth,b=c.effectiveFilterDepth,B=c.effectiveFilterHeight,I=c.effectiveFilterWidth,w=b-1-c.padInfo.front,$=I-1-c.padInfo.left,T=B-1-c.padInfo.top,_=wt(i.shape,"float32"),R=1/(f*p*m),P=n.bufferSync(s);for(let L=0;L<c.batchSize;++L)for(let z=0;z<c.inChannels;++z)for(let V=0;V<c.inDepth;++V)for(let q=0;q<c.inHeight;++q)for(let ne=0;ne<c.inWidth;++ne){const H=V-w,J=q-T,se=ne-$;let ae=0;for(let Ae=0;Ae<b;Ae+=g){const pe=(H+Ae)/A;if(!(pe<0||pe>=c.outDepth||Math.floor(pe)!==pe))for(let ye=0;ye<B;ye+=y){const ve=(J+ye)/d;if(!(ve<0||ve>=c.outHeight||Math.floor(ve)!==ve))for(let Ee=0;Ee<I;Ee+=C){const ke=(se+Ee)/h;if(ke<0||ke>=c.outWidth||Math.floor(ke)!==ke)continue;const je=P.get(L,pe,ve,ke,z);ae+=je}}}_.set(ae*R,L,V,q,ne,z)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}const LFe={kernelName:FF,backendName:"cpu",kernelFunc:UFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PFe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,o=i;Ve([s,i],"avgPoolGrad");const{filterSize:a,strides:u,pad:l}=r,c=So(o.shape,a,u,1,l),A=c.strideHeight,d=c.strideWidth,h=c.filterHeight,f=c.filterWidth,p=c.dilationHeight,m=c.dilationWidth,g=c.effectiveFilterHeight,y=c.effectiveFilterWidth,C=y-1-c.padInfo.left,b=g-1-c.padInfo.top,B=wt(o.shape,"float32"),I=1/(h*f),w=n.data.get(s.dataId).values,$=wt(s.shape,"float32",w);for(let T=0;T<c.batchSize;++T)for(let _=0;_<c.inChannels;++_)for(let R=0;R<c.inHeight;++R)for(let P=0;P<c.inWidth;++P){const L=R-b,z=P-C;let V=0;for(let q=0;q<g;q+=p){const ne=(L+q)/A;if(!(ne<0||ne>=c.outHeight||Math.floor(ne)!==ne))for(let H=0;H<y;H+=m){const J=(z+H)/d;if(J<0||J>=c.outWidth||Math.floor(J)!==J)continue;const se=$.get(T,ne,J,_);V+=se}}B.set(V*I,T,R,P,_)}return n.makeTensorInfo(B.shape,B.dtype,B.values)}const MFe={kernelName:kF,backendName:"cpu",kernelFunc:PFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QFe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,scale:i,offset:o,mean:a,variance:u}=e;O(a.shape.length===u.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),O(o==null||a.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),O(i==null||a.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),Ve([s,a,u,i,o],"batchNorm");let{varianceEpsilon:l}=r;l==null&&(l=.001);const c=n.data.get(s.dataId).values,A=n.data.get(a.dataId).values,d=n.data.get(u.dataId).values,h=i?n.data.get(i.dataId).values:new Float32Array([1]),f=o?n.data.get(o.dataId).values:new Float32Array([0]),p=new Float32Array(c.length),m=f.length,g=h.length,y=d.length,C=A.length;let b=0,B=0,I=0,w=0;for(let $=0;$<c.length;++$)p[$]=f[b++]+(c[$]-A[B++])*h[I++]/Math.sqrt(d[w++]+l),b>=m&&(b=0),B>=C&&(B=0),I>=g&&(I=0),w>=y&&(w=0);return n.makeTensorInfo(s.shape,s.dtype,p)}const HFe={kernelName:yx,backendName:"cpu",kernelFunc:QFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VFe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,crops:o}=r;Ve([s],"batchToSpaceND");const a=i.reduce((g,y)=>g*y),u=Iy(s.shape,i,a),l=Ey(u.length,i.length),c=$y(s.shape,i,a),A=R3(o,i.length),d=O3(c,o,i.length),h=An({inputs:{x:s},backend:n,attrs:{shape:u}}),f=js({inputs:{x:h},backend:n,attrs:{perm:l}}),p=An({inputs:{x:f},backend:n,attrs:{shape:c}}),m=YA({inputs:{x:p},backend:n,attrs:{begin:A,size:d}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),m}const zFe={kernelName:ax,backendName:"cpu",kernelFunc:VFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KFe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:o}=r,a=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,l=nD(a,u,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,l)}const WFe={kernelName:_F,backendName:"cpu",kernelFunc:KFe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GFe(t){const{inputs:e,backend:n}=t,{s0:r,s1:s}=e,i=n.data.get(r.dataId).values,o=n.data.get(s.dataId).values,a=ft(Array.from(i),Array.from(o));return n.makeTensorInfo([a.length],"int32",Int32Array.from(a))}const jFe={kernelName:DF,backendName:"cpu",kernelFunc:GFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XFe=en(S0,(t,e)=>{const n=e;return t>n.clipValueMax?n.clipValueMax:t<n.clipValueMin?n.clipValueMin:t}),qFe={kernelName:S0,backendName:"cpu",kernelFunc:XFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YFe=t=>{const{x:e}=t.inputs,n=t.backend,r=new Float32Array(de(e.shape)),s=n.data.get(e.dataId),i=s.complexTensorInfos.real,o=s.complexTensorInfos.imag,a=n.data.get(i.dataId).values,u=n.data.get(o.dataId).values;for(let l=0;l<a.length;l++){const c=a[l],A=u[l];r[l]=Math.hypot(c,A)}return n.makeOutput(r,e.shape,"float32")},JFe={kernelName:ux,backendName:"cpu",kernelFunc:YFe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ef(t){const{inputs:e,backend:n}=t,{input:r}=e,s=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(s.dataId).values;return n.makeTensorInfo(s.shape,s.dtype,i)}const ZFe={kernelName:ZF,backendName:"cpu",kernelFunc:Ef};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $f(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r,i=xt(s,e[0].shape)[0],o=e.map(p=>p.shape);F3(o,i);let a=La(e.map(p=>p.shape),i);if(de(a)===0)return n.makeTensorInfo(a,e[0].dtype,[]);const u=e.filter(p=>de(p.shape)>0);if(u.length===1)return za({inputs:{x:u[0]},backend:n});if(u[0].dtype==="complex64"){const p=u.map(b=>qA({inputs:{input:b},backend:n})),m=u.map(b=>Ef({inputs:{input:b},backend:n})),g=$f({inputs:p,backend:n,attrs:{axis:i}}),y=$f({inputs:m,backend:n,attrs:{axis:i}}),C=li({inputs:{real:g,imag:y},backend:n});return p.forEach(b=>n.disposeIntermediateTensorInfo(b)),m.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y),C}const l=u.map(p=>{const g=[-1,de(p.shape.slice(i))];return An({inputs:{x:p},backend:n,attrs:{shape:g}})}),c=l.map(p=>({vals:n.data.get(p.dataId).values,shape:p.shape}));a=La(l.map(p=>p.shape),1);const A=l[0].shape[0]===1,d=Iz(c,a,e[0].dtype,A),h=La(u.map(p=>p.shape),i),f=n.makeTensorInfo(h,e[0].dtype,d);return l.forEach(p=>n.disposeIntermediateTensorInfo(p)),f}const e_e={kernelName:lx,backendName:"cpu",kernelFunc:$f};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hj(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dataFormat:u,dilations:l,dimRoundingMode:c}=r;Ve([s,i],"conv2d");const A=ju(u),d=Rr(s.shape,i.shape,o,l,a,c,!1,A),h=d.filterHeight,f=d.filterWidth,p=d.dilationHeight,m=d.dilationWidth,g=d.padInfo.left,y=d.padInfo.top,C=d.dataFormat==="channelsLast",b=new Nr(d.outShape,s.dtype),B=et(s.shape),I=et(i.shape),w=B[0],$=C?B[1]:B[2],T=C?B[2]:1,_=C?1:B[1],R=b.strides[0],P=C?b.strides[1]:b.strides[2],L=C?b.strides[2]:1,z=C?1:b.strides[1],V=n.data.get(s.dataId).values,q=n.data.get(i.dataId).values,ne=b.values;for(let H=0;H<d.batchSize;++H){const J=H*w,se=H*R;for(let ae=0;ae<d.outHeight;++ae){const Ae=se+ae*P,pe=ae*d.strideHeight-y;for(let ye=0;ye<h;++ye){const ve=pe+ye*p;if(ve<0||ve>=d.inHeight)continue;const Ee=ye*I[0],ke=J+ve*$;for(let je=0;je<d.outWidth;++je){const We=Ae+je*L,Xe=je*d.strideWidth-g;for(let lt=0;lt<f;++lt){const yt=Xe+lt*m;if(yt<0||yt>=d.inWidth)continue;const It=Ee+lt*I[1],$t=ke+yt*T;let ot=It;for(let Et=0;Et<d.inChannels;++Et){const Ht=V[$t+Et*_];for(let Vt=0;Vt<d.outChannels;++Vt)ne[We+Vt*z]+=Ht*q[ot+Vt];ot+=d.outChannels}}}}}}return n.makeTensorInfo(b.shape,b.dtype,ne)}const t_e={kernelName:cx,backendName:"cpu",kernelFunc:hj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,pad:a,dataFormat:u,dimRoundingMode:l,filterShape:c}=r;Ve([s,i],"conv2dBackpropFilter");const A=ju(u),d=Rr(s.shape,c,o,1,a,l,!1,A),{strideHeight:h,strideWidth:f,filterHeight:p,filterWidth:m}=d,g=d.dataFormat==="channelsLast",y=new Nr(d.filterShape,"float32"),C=d.padInfo.left,b=d.padInfo.top,B=n.data.get(s.dataId).values,I=n.data.get(i.dataId).values,w=new Nr(s.shape,s.dtype,B),$=new Nr(i.shape,i.dtype,I);for(let T=0;T<p;++T){const _=Math.max(0,Math.ceil((b-T)/h)),R=Math.min(d.outHeight,(d.inHeight+b-T)/h);for(let P=0;P<m;++P){const L=Math.max(0,Math.ceil((C-P)/f)),z=Math.min(d.outWidth,(d.inWidth+C-P)/f);for(let V=0;V<d.inChannels;++V)for(let q=0;q<d.outChannels;++q){let ne=0;for(let H=0;H<d.batchSize;++H)for(let J=_;J<R;++J){const se=T+J*h-b;for(let ae=L;ae<z;++ae){const Ae=P+ae*f-C;g?ne+=w.get(H,se,Ae,V)*$.get(H,J,ae,q):ne+=w.get(H,V,se,Ae)*$.get(H,q,J,ae)}}y.set(ne,T,P,V,q)}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const r_e={kernelName:OF,backendName:"cpu",kernelFunc:n_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s_e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{inputShape:o,strides:a,pad:u,dataFormat:l,dimRoundingMode:c}=r;Ve([s,i],"conv2dBackpropInput");const A=et(i.shape),d=et(s.shape);let h=ju(l);const f=Rr(o,i.shape,a,1,u,c,!1,h),p=new Nr(f.inShape,"float32"),m=p.values,g=n.data.get(s.dataId).values,y=n.data.get(i.dataId).values,[C,b,B]=A,{batchSize:I,filterHeight:w,filterWidth:$,inChannels:T,inHeight:_,inWidth:R,outChannels:P,outHeight:L,outWidth:z,strideHeight:V,strideWidth:q}=f;h=f.dataFormat;const ne=w-1-f.padInfo.top,H=$-1-f.padInfo.left,J=h==="channelsLast",se=p.strides[0],ae=J?p.strides[1]:p.strides[2],Ae=J?p.strides[2]:1,pe=J?1:p.strides[1],ye=d[0],ve=J?d[1]:d[2],Ee=J?d[2]:1,ke=J?1:d[1];for(let je=0;je<I;++je)for(let We=0;We<T;++We)for(let Xe=0;Xe<_;++Xe){const lt=Xe-ne,yt=Math.max(0,Math.ceil(lt/V)),It=Math.min(L,(w+lt)/V);for(let $t=0;$t<R;++$t){const ot=$t-H,Et=Math.max(0,Math.ceil(ot/q)),Ht=Math.min(z,($+ot)/q);let Vt=0;for(let zn=yt;zn<It;++zn){const Gi=zn*V-lt;for(let dn=Et;dn<Ht;++dn){const ls=dn*q-ot,Cr=ye*je+ve*zn+Ee*dn,xe=C*(w-1-Gi)+b*($-1-ls)+B*We;for(let Yt=0;Yt<P;++Yt){const Ii=g[Cr+ke*Yt],Aa=y[xe+Yt];Vt+=Ii*Aa}}}const Bi=se*je+ae*Xe+Ae*$t+pe*We;m[Bi]=Vt}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}const i_e={kernelName:Ax,backendName:"cpu",kernelFunc:s_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dilations:u}=r;Ve([s,i],"conv3d");const l=kc(s.shape,i.shape,o,u,a),{filterDepth:c,filterHeight:A,filterWidth:d,dilationDepth:h,dilationHeight:f,dilationWidth:p,padInfo:m}=l,g=m.front,y=m.left,C=m.top,b=new Nr(l.outShape,s.dtype),B=n.data.get(s.dataId).values,I=n.data.get(i.dataId).values,w=b.values,$=et(s.shape),T=et(i.shape);for(let _=0;_<l.batchSize;++_){const R=_*$[0],P=_*b.strides[0];for(let L=0;L<l.outDepth;++L){const z=P+L*b.strides[1],V=L*l.strideDepth-g;for(let q=0;q<c;++q){const ne=V+q*h;if(ne<0||ne>=l.inDepth)continue;const H=q*T[0],J=R+ne*$[1];for(let se=0;se<l.outHeight;++se){const ae=z+se*b.strides[2],Ae=se*l.strideHeight-C;for(let pe=0;pe<A;++pe){const ye=Ae+pe*f;if(ye<0||ye>=l.inHeight)continue;const ve=H+pe*T[1],Ee=J+ye*$[2];for(let ke=0;ke<l.outWidth;++ke){const je=ae+ke*l.outChannels,We=ke*l.strideWidth-y;for(let Xe=0;Xe<d;++Xe){const lt=We+Xe*p;if(lt<0||lt>=l.inWidth)continue;const yt=ve+Xe*T[2],It=Ee+lt*l.inChannels;let $t=yt;for(let ot=0;ot<l.inChannels;++ot){const Et=B[It+ot];for(let Ht=0;Ht<l.outChannels;++Ht)w[je+Ht]+=Et*I[$t+Ht];$t+=l.outChannels}}}}}}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}const a_e={kernelName:dx,backendName:"cpu",kernelFunc:o_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,pad:a,filterShape:u}=r;Ve([s,i],"conv3dBackpropFilterV2");const l=et(s.shape),c=et(i.shape),A=kc(s.shape,u,o,1,a),d=A.strideDepth,h=A.strideHeight,f=A.strideWidth,p=A.filterDepth,m=A.filterHeight,g=A.filterWidth,y=new Nr(A.filterShape,"float32"),C=y.values,[b,B,I,w]=y.strides,$=n.data.get(i.dataId).values,[T,_,R,P]=c,L=n.data.get(s.dataId).values,[z,V,q,ne]=l,H=A.padInfo.front,J=A.padInfo.left,se=A.padInfo.top;for(let ae=0;ae<p;++ae){const Ae=Math.max(0,Math.ceil((H-ae)/d)),pe=Math.min(A.outDepth,(A.inDepth+H-ae)/d),ye=ae*b;for(let ve=0;ve<m;++ve){const Ee=Math.max(0,Math.ceil((se-ve)/h)),ke=Math.min(A.outHeight,(A.inHeight+se-ve)/h),je=ve*B+ye;for(let We=0;We<g;++We){const Xe=Math.max(0,Math.ceil((J-We)/f)),lt=Math.min(A.outWidth,(A.inWidth+J-We)/f),yt=We*I+je;for(let It=0;It<A.inChannels;++It){const $t=It*w+yt;for(let ot=0;ot<A.outChannels;++ot){let Et=0;for(let Ht=0;Ht<A.batchSize;++Ht){const Vt=Ht*z,Bi=Ht*T;for(let zn=Ae;zn<pe;++zn){const dn=(ae+zn*d-H)*V+Vt,ls=zn*_+Bi;for(let Cr=Ee;Cr<ke;++Cr){const Yt=(ve+Cr*h-se)*q+dn,Ii=Cr*R+ls;for(let Aa=Xe;Aa<lt;++Aa){const Td=(We+Aa*f-J)*ne+Yt,Nd=Aa*P+Ii;Et+=L[Td+It]*$[Nd+ot]}}}}C[$t+ot]=Et}}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const l_e={kernelName:UF,backendName:"cpu",kernelFunc:u_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c_e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{pad:o,strides:a,inputShape:u}=r;Ve([s],"conv3dBackpropInputV2");const l=et(s.shape),c=et(i.shape),A=kc(u,i.shape,a,1,o),d=new Nr(A.inShape,"float32"),h=d.values,[f,p,m,g]=d.strides,y=n.data.get(s.dataId).values,[C,b,B,I]=l,w=n.data.get(i.dataId).values,[$,T,_,R]=c,{batchSize:P,filterDepth:L,filterHeight:z,filterWidth:V,inChannels:q,inDepth:ne,inHeight:H,inWidth:J,outChannels:se,outDepth:ae,outHeight:Ae,outWidth:pe,strideDepth:ye,strideHeight:ve,strideWidth:Ee}=A,ke=L-1-A.padInfo.front,je=z-1-A.padInfo.top,We=V-1-A.padInfo.left;for(let Xe=0;Xe<P;++Xe)for(let lt=0;lt<q;++lt)for(let yt=0;yt<ne;++yt){const It=yt-ke,$t=Math.max(0,Math.ceil(It/ye)),ot=Math.min(ae,(L+It)/ye);for(let Et=0;Et<H;++Et){const Ht=Et-je,Vt=Math.max(0,Math.ceil(Ht/ve)),Bi=Math.min(Ae,(z+Ht)/ve);for(let zn=0;zn<J;++zn){const Gi=zn-We,dn=Math.max(0,Math.ceil(Gi/Ee)),ls=Math.min(pe,(V+Gi)/Ee);let Cr=0;for(let xe=$t;xe<ot;++xe){const Yt=xe*ye-It;for(let Ii=Vt;Ii<Bi;++Ii){const Aa=Ii*ve-Ht;for(let Qc=dn;Qc<ls;++Qc){const Td=Qc*Ee-Gi,Nd=C*Xe+b*xe+B*Ii+I*Qc,Hc=$*(L-1-Yt)+T*(z-1-Aa)+_*(V-1-Td)+R*lt;for(let ei=0;ei<se;++ei){const eu=y[Nd+ei],Zu=w[Hc+ei];Cr+=eu*Zu}}}}h[f*Xe+p*yt+m*Et+g*zn+lt]=Cr}}}return n.makeTensorInfo(d.shape,d.dtype,d.values)}const A_e={kernelName:LF,backendName:"cpu",kernelFunc:c_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d_e=en(T0,t=>Math.cos(t)),h_e={kernelName:T0,backendName:"cpu",kernelFunc:d_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f_e=en(N0,t=>Math.cosh(t)),p_e={kernelName:N0,backendName:"cpu",kernelFunc:f_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g_e(t){const{inputs:e,backend:n,attrs:r}=t,{image:s,boxes:i,boxInd:o}=e,{cropSize:a,method:u,extrapolationValue:l}=r,[c,A,d,h]=s.shape,f=i.shape[0],[p,m]=a,g=wt([f,p,m,h],"float32"),y=n.data.get(i.dataId).values,C=n.data.get(o.dataId).values,b=n.data.get(s.dataId).values,B=et(s.shape),I=et(g.shape);for(let w=0;w<f;w++){const $=w*4,T=y[$],_=y[$+1],R=y[$+2],P=y[$+3],L=C[w];if(L>=c)continue;const z=p>1?(R-T)*(A-1)/(p-1):0,V=m>1?(P-_)*(d-1)/(m-1):0;for(let q=0;q<p;q++){const ne=p>1?T*(A-1)+q*z:.5*(T+R)*(A-1);if(ne<0||ne>A-1){for(let H=0;H<m;H++)for(let J=0;J<h;J++){const se=J+H*I[2]+q*I[1]+w*I[0];g.values[se]=l}continue}if(u==="bilinear"){const H=Math.floor(ne),J=Math.ceil(ne),se=ne-H;for(let ae=0;ae<m;ae++){const Ae=m>1?_*(d-1)+ae*V:.5*(_+P)*(d-1);if(Ae<0||Ae>d-1){for(let Ee=0;Ee<h;Ee++){const ke=Ee+ae*I[2]+q*I[1]+w*I[0];g.values[ke]=l}continue}const pe=Math.floor(Ae),ye=Math.ceil(Ae),ve=Ae-pe;for(let Ee=0;Ee<h;Ee++){let ke=Ee+pe*B[2]+H*B[1]+L*B[0];const je=b[ke];ke=Ee+ye*B[2]+H*B[1]+L*B[0];const We=b[ke];ke=Ee+pe*B[2]+J*B[1]+L*B[0];const Xe=b[ke];ke=Ee+ye*B[2]+J*B[1]+L*B[0];const lt=b[ke],yt=je+(We-je)*ve,It=Xe+(lt-Xe)*ve;ke=Ee+ae*I[2]+q*I[1]+w*I[0],g.values[ke]=yt+(It-yt)*se}}}else for(let H=0;H<m;++H){const J=m>1?_*(d-1)+H*V:.5*(_+P)*(d-1);if(J<0||J>d-1){for(let Ae=0;Ae<h;Ae++){const pe=Ae+H*I[2]+q*I[1]+w*I[0];g.values[pe]=l}continue}const se=Math.round(J),ae=Math.round(ne);for(let Ae=0;Ae<h;Ae++){const pe=Ae+se*B[2]+ae*B[1]+L*B[0],ye=Ae+H*I[2]+q*I[1]+w*I[0];g.values[ye]=b[pe]}}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}const m_e={kernelName:MF,backendName:"cpu",kernelFunc:g_e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:o,reverse:a}=r;Ve(s,"cumprod");const u=Un([i],s.shape.length);let l=s;u!=null&&(l=js({inputs:{x:s},backend:n,attrs:{perm:u}}));const c=Yn(1,s.shape.length)[0];if(c!==l.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${l.shape.length-1} but got axis=${c}`);const A=mi(l.dtype,"int32"),d=$F(de(l.shape),A),h=n.data.get(l.dataId).values,f=l.shape[l.shape.length-1],p=a?(g,y)=>g+f-y-1:(g,y)=>g+y;for(let g=0;g<h.length;g+=f)for(let y=0;y<f;y++){const C=p(g,y);if(y===0)d[C]=o?1:h[C];else{const b=p(g,y-1);d[C]=o?h[b]*d[b]:h[C]*d[b]}}const m=n.makeTensorInfo(l.shape,A,d);if(u!=null){const g=Fc(u),y=js({inputs:{x:m},backend:n,attrs:{perm:g}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(l),y}return m}const v_e={kernelName:PF,backendName:"cpu",kernelFunc:y_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,exclusive:o,reverse:a}=r;Ve(s,"cumsum");const u=Un([i],s.shape.length);let l=s;u!=null&&(l=js({inputs:{x:s},backend:n,attrs:{perm:u}}));const c=Yn(1,s.shape.length)[0];if(c!==l.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${l.shape.length-1} but got axis=${c}`);const A=mi(l.dtype,"int32"),d=os(de(l.shape),A),h=n.data.get(l.dataId).values,f=l.shape[l.shape.length-1],p=a?(g,y)=>g+f-y-1:(g,y)=>g+y;for(let g=0;g<h.length;g+=f)for(let y=0;y<f;y++){const C=p(g,y);if(y===0)d[C]=o?0:h[C];else{const b=p(g,y-1);d[C]=o?h[b]+d[b]:h[C]+d[b]}}const m=n.makeTensorInfo(l.shape,A,d);if(u!=null){const g=Fc(u),y=js({inputs:{x:m},backend:n,attrs:{perm:g}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(l),y}return m}const C_e={kernelName:hx,backendName:"cpu",kernelFunc:w_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,weights:i}=e,{size:o,binaryOutput:a}=r;if(s.shape.length===1){const u=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,c=nD(u,l,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}else if(s.shape.length===2){const u=n.bufferSync(s),l=n.bufferSync(i),c=xz(u,l,o,a);return n.makeTensorInfo(c.shape,i.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${s.shape.length}.`)}const x_e={kernelName:QF,backendName:"cpu",kernelFunc:b_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockSize:i,dataFormat:o}=r;O(o==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${o}`);const a=s.shape[0],u=s.shape[1],l=s.shape[2],c=s.shape[3],A=u*i,d=l*i,h=c/(i*i),f=n.data.get(s.dataId).values,p=new Float32Array(a*A*d*h);let m=0;for(let g=0;g<a;++g)for(let y=0;y<A;++y){const C=Math.floor(y/i),b=y%i;for(let B=0;B<d;++B){const I=Math.floor(B/i),w=B%i,$=(b*i+w)*h;for(let T=0;T<h;++T){const R=T+$+c*(I+l*(C+u*g));p[m++]=f[R]}}}return n.makeTensorInfo([a,A,d,h],s.dtype,p)}const I_e={kernelName:HF,backendName:"cpu",kernelFunc:B_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fj(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i}=e,{strides:o,pad:a,dilations:u,dimRoundingMode:l}=r;Ve([s,i],"depthwiseConv2DNative");const c=et(s.shape),A=et(i.shape);let d=u;d==null&&(d=[1,1]),O(Gr(o,d),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${d}'`);const h=Rr(s.shape,i.shape,o,d,a,l,!0),{filterHeight:f,filterWidth:p,dilationHeight:m,dilationWidth:g,padInfo:y}=h,C=y.left,b=y.top,B=h.outChannels/h.inChannels,I=new Nr(h.outShape,s.dtype),w=n.data.get(s.dataId).values,$=n.data.get(i.dataId).values,T=I.values;for(let _=0;_<h.batchSize;++_){const R=_*c[0],P=_*I.strides[0];for(let L=0;L<h.outHeight;++L){const z=P+L*I.strides[1],V=L*h.strideHeight-b;for(let q=0;q<f;++q){const ne=V+q*m;if(ne<0||ne>=h.inHeight)continue;const H=q*A[0],J=R+ne*c[1];for(let se=0;se<h.outWidth;++se){const ae=z+se*I.strides[2],Ae=se*h.strideWidth-C;for(let pe=0;pe<p;++pe){const ye=Ae+pe*g;if(ye<0||ye>=h.inWidth)continue;const ve=H+pe*A[1],Ee=J+ye*h.inChannels;let ke=ae,je=ve;for(let We=0;We<h.inChannels;++We){const Xe=w[Ee+We];for(let lt=0;lt<B;++lt)T[ke+lt]+=Xe*$[je+lt];ke+=B,je+=B}}}}}}return n.makeTensorInfo(I.shape,I.dtype,I.values)}const E_e={kernelName:fx,backendName:"cpu",kernelFunc:fj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $_e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,dy:i}=e,{strides:o,dilations:a,pad:u,dimRoundingMode:l,filterShape:c}=r;Ve([s,i],"depthwiseConv2dNativeBackpropFilter");const A=Rr(s.shape,c,o,a,u,l,!0),{strideHeight:d,strideWidth:h,filterHeight:f,filterWidth:p}=A,m=new Nr(A.filterShape,"float32"),g=A.padInfo.left,y=A.padInfo.top,C=A.outChannels/A.inChannels,b=n.data.get(s.dataId).values,B=new Nr(s.shape,s.dtype,b),I=n.data.get(i.dataId).values,w=new Nr(i.shape,i.dtype,I);for(let $=0;$<f;++$){const T=Math.max(0,Math.ceil((y-$)/d)),_=Math.min(A.outHeight,(A.inHeight+y-$)/d);for(let R=0;R<p;++R){const P=Math.max(0,Math.ceil((g-R)/h)),L=Math.min(A.outWidth,(A.inWidth+g-R)/h);for(let z=0;z<A.outChannels;++z){const V=Math.trunc(z/C),q=z%C;let ne=0;for(let H=0;H<A.batchSize;++H)for(let J=T;J<_;++J){const se=$+J*d-y;for(let ae=P;ae<L;++ae){const Ae=R+ae*h-g;ne+=B.get(H,se,Ae,V)*w.get(H,J,ae,z)}}m.set(ne,$,R,V,q)}}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}const S_e={kernelName:VF,backendName:"cpu",kernelFunc:$_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T_e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,filter:i}=e,{strides:o,dilations:a,pad:u,dimRoundingMode:l,inputShape:c}=r;Ve([s,i],"depthwiseConv2DNativeBackpropInput");const A=et(s.shape),d=et(i.shape),h=Rr(c,i.shape,o,a,u,l,!0),f=new Nr(h.inShape,"float32"),p=f.values,[m,g,y]=f.strides,C=n.data.get(s.dataId).values,[b,B,I]=A,w=n.data.get(i.dataId).values,[$,T,_]=d,{batchSize:R,filterHeight:P,filterWidth:L,inChannels:z,inHeight:V,inWidth:q,outChannels:ne,outHeight:H,outWidth:J,strideHeight:se,strideWidth:ae}=h,Ae=P-1-h.padInfo.top,pe=L-1-h.padInfo.left,ye=ne/z;for(let ve=0;ve<R;++ve)for(let Ee=0;Ee<z;++Ee)for(let ke=0;ke<V;++ke){const je=ke-Ae,We=Math.max(0,Math.ceil(je/se)),Xe=Math.min(H,(P+je)/se);for(let lt=0;lt<q;++lt){const yt=lt-pe,It=Math.max(0,Math.ceil(yt/ae)),$t=Math.min(J,(L+yt)/ae);let ot=0;for(let Et=We;Et<Xe;++Et){const Ht=Et*se-je;for(let Vt=It;Vt<$t;++Vt){const Bi=Vt*ae-yt,zn=b*ve+B*Et+I*Vt,Gi=$*(P-1-Ht)+T*(L-1-Bi)+_*Ee;for(let dn=0;dn<ye;++dn){const ls=Ee*ye+dn,Cr=C[zn+ls],xe=w[Gi+dn];ot+=Cr*xe}}}p[m*ve+g*ke+y*lt+Ee]=ot}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}const N_e={kernelName:zF,backendName:"cpu",kernelFunc:T_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k_e(t){const{inputs:e,backend:n}=t,{x:r}=e,s=de(r.shape),i=n.data.get(r.dataId).values,o=wt([s,s],r.dtype),a=o.values;for(let l=0;l<i.length;l++)a[l*s+l]=i[l];const u=[...r.shape,...r.shape];return n.makeTensorInfo(u,o.dtype,o.values)}const F_e={kernelName:KF,backendName:"cpu",kernelFunc:k_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const __e={kernelName:px,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s}=t,{strides:i,pad:o,dilations:a}=n,u=e,l=u.data.get(r.dataId).values,c=r.shape.length,A=u.data.get(s.dataId).values,d=s.shape.length,{batchSize:h,inHeight:f,inWidth:p,inChannels:m,outHeight:g,outWidth:y,padInfo:C,strideHeight:b,strideWidth:B,filterHeight:I,filterWidth:w,dilationHeight:$,dilationWidth:T,outShape:_}=gy(r.shape,s.shape,i,o,"NHWC",a),R=de(_),P=_.length,L=Sr(r.dtype,R);for(let V=0;V<h;++V)for(let q=0;q<g;++q){const ne=q*b-C.top;for(let H=0;H<y;++H){const J=H*B-C.left;for(let se=0;se<m;++se){let ae=Number.MIN_SAFE_INTEGER;for(let pe=0;pe<I;++pe){const ye=ne+pe*$;if(ye>=0&&ye<f)for(let ve=0;ve<w;++ve){const Ee=J+ve*T;if(Ee>=0&&Ee<p){const ke=Ra([V,ye,Ee,se],c,et(r.shape)),je=Ra([pe,ve,se],d,et(s.shape)),We=l[ke]+A[je];We>ae&&(ae=We)}}}const Ae=Ra([V,q,H,se],P,et(_));L[Ae]=ae}}}return{dataId:u.write(pd(L,r.dtype),_,r.dtype),shape:_,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D_e={kernelName:yS,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s,dy:i}=t,{strides:o,pad:a,dilations:u}=n,l=e,c=xo(r.shape,l.data.get(r.dataId).values),A=xo(s.shape,l.data.get(s.dataId).values),{batchSize:d,inHeight:h,inWidth:f,inChannels:p,outHeight:m,outWidth:g,padInfo:y,strideHeight:C,strideWidth:b,filterHeight:B,filterWidth:I,dilationHeight:w,dilationWidth:$,outShape:T}=gy(r.shape,s.shape,o,a,"NHWC",u);O(i.rank===T.length,()=>`Error in ${yS}, dy must have the same rank as output ${T.length}, but got ${i.rank}`);const _=xo(T,l.data.get(i.dataId).values),R=T8(s.shape,s.dtype);for(let L=0;L<d;++L)for(let z=0;z<m;++z){const V=z*C-y.top;for(let q=0;q<g;++q){const ne=q*b-y.left;for(let H=0;H<p;++H){let J=Number.MIN_SAFE_INTEGER,se=0,ae=0;for(let Ae=0;Ae<B;++Ae){const pe=V+Ae*w;if(pe>=0&&pe<h)for(let ye=0;ye<I;++ye){const ve=ne+ye*$;if(ve>=0&&ve<f){const Ee=c[L][pe][ve][H]+A[Ae][ye][H];Ee>J&&(J=Ee,se=Ae,ae=ye)}}}R[se][ae][H]+=_[L][z][q][H]}}}return{dataId:l.write(pd(R,r.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R_e={kernelName:mS,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:s,dy:i}=t,{strides:o,pad:a,dilations:u}=n,l=e,c=xo(r.shape,l.data.get(r.dataId).values),A=xo(s.shape,l.data.get(s.dataId).values),{batchSize:d,inHeight:h,inWidth:f,inChannels:p,outHeight:m,outWidth:g,padInfo:y,strideHeight:C,strideWidth:b,filterHeight:B,filterWidth:I,dilationHeight:w,dilationWidth:$,outShape:T}=gy(r.shape,s.shape,o,a,"NHWC",u);O(i.rank===T.length,()=>`Error in ${mS}, dy must have the same rank as output ${T.length}, but got ${i.rank}`);const _=xo(T,l.data.get(i.dataId).values),R=T8(r.shape,r.dtype);for(let L=0;L<d;++L)for(let z=0;z<m;++z){const V=z*C-y.top;for(let q=0;q<g;++q){const ne=q*b-y.left;for(let H=0;H<p;++H){let J=Number.MIN_SAFE_INTEGER,se=V<0?0:V,ae=ne<0?0:ne;for(let Ae=0;Ae<B;++Ae){const pe=V+Ae*w;if(pe>=0&&pe<h)for(let ye=0;ye<I;++ye){const ve=ne+ye*$;if(ve>=0&&ve<f){const Ee=c[L][pe][ve][H]+A[Ae][ye][H];Ee>J&&(J=Ee,se=pe,ae=ve)}}}R[L][se][ae][H]+=_[L][z][q][H]}}}return{dataId:l.write(pd(R,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zy(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;Ve(s,"sum");let a;s.dtype==="bool"?a=uc({inputs:{x:s},backend:n,attrs:{dtype:"int32"}}):a=za({inputs:{x:s},backend:n});const u=a.shape.length,l=xt(i,a.shape),c=Un(l,u);let A=l,d=a;c!=null&&(d=js({inputs:{x:a},backend:n,attrs:{perm:c}}),A=Yn(A.length,u)),jr("sum",A,d.shape.length);const[h,f]=Or(d.shape,A),p=mi(d.dtype,"int32");let m=CC(n,h,p);const g=de(f),y=n.data.get(m.dataId).values,C=n.data.get(d.dataId).values;for(let b=0;b<y.length;++b){const B=b*g;let I=0;for(let w=0;w<g;++w)I+=C[B+w];y[b]=I}if(o){const b=Gn(m.shape,l),B=m;m=An({inputs:{x:m},backend:n,attrs:{shape:b}}),n.disposeIntermediateTensorInfo(B)}return n.disposeIntermediateTensorInfo(a),c!=null&&n.disposeIntermediateTensorInfo(d),m}const O_e={kernelName:jx,backendName:"cpu",kernelFunc:zy};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U_e(t){const{inputs:e,backend:n,attrs:r}=t,{equation:s}=r,i=e,{allDims:o,summedDims:a,idDims:u}=z3(s,i.length);W3(o.length,u,i);const{path:l,steps:c}=G3(a,u),A=c.length;let d=null,h=o.length;const f=[];for(let p=0;p<A;++p){for(const m of c[p]){const{permutationIndices:g,expandDims:y}=K3(h,u[m]);let C;j3(g)?C=i[m]:(C=js({inputs:{x:i[m]},backend:n,attrs:{perm:g}}),f.push(C));const b=C.shape.slice();for(let B=0;B<y.length;++B)b.splice(y[B],0,1);Ut(C.shape,b)||(C=An({inputs:{x:C},backend:n,attrs:{shape:b}}),f.push(C)),d===null?d=C:(d=N2({inputs:{a:C,b:d},backend:n}),f.push(d))}p<A-1&&(l[p]>=0&&(d=zy({inputs:{x:d},backend:n,attrs:{axis:l[p]-(o.length-h),keepDims:!1}}),f.push(d)),h--)}for(const p of f)p!==d&&n.disposeIntermediateTensorInfo(p);return d}const L_e={kernelName:WF,backendName:"cpu",kernelFunc:U_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P_e(t){const{inputs:e,backend:n}=t,{dy:r,y:s}=e;Ve([r,s],"eluGrad");const i=new Float32Array(de(s.shape)),o=n.data.get(s.dataId).values,a=n.data.get(r.dataId).values;for(let u=0;u<o.length;++u){const l=o[u];l>=1?i[u]=a[u]:i[u]=a[u]*(l+1)}return n.makeTensorInfo(s.shape,"float32",i)}const M_e={kernelName:GF,backendName:"cpu",kernelFunc:P_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q_e=U3,H_e=L3,V_e=P3,z_e=M3,K_e=Q3,W_e=H3,G_e=en(_0,t=>{const e=Math.sign(t),n=Math.abs(t),r=1/(1+Q_e*n);return e*(1-((((W_e*r+K_e)*r+z_e)*r+V_e)*r+H_e)*r*Math.exp(-n*n))}),j_e={kernelName:_0,backendName:"cpu",kernelFunc:G_e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LC(t){const{inputs:e,backend:n,attrs:r}=t,{input:s}=e,{dim:i}=r,o=s.shape.length,a=s.shape.slice();let u=i;return i<0&&(O(-(o+1)<=i,()=>`Axis must be in the interval [${-(o+1)}, ${o}]`),u=o+i+1),a.splice(u,0,1),An({inputs:{x:s},backend:n,attrs:{shape:a}})}const X_e={kernelName:mx,backendName:"cpu",kernelFunc:LC};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q_e=ir((t,e)=>t/e),OD=Ur(k0,q_e),dT={kernelName:k0,backendName:"cpu",kernelFunc:OD};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pj(t,e,n){const r=t.shape,s=r[0],i=r[1],o=n.data.get(t.dataId),a=o.complexTensorInfos.real,u=o.complexTensorInfos.imag,l=[s,i],c=de(l),A=_r("float32",c),d=_r("float32",c);for(let m=0;m<s;m++){const g=YA({inputs:{x:a},backend:n,attrs:{begin:[m,0],size:[1,i]}}),y=YA({inputs:{x:u},backend:n,attrs:{begin:[m,0],size:[1,i]}}),C=li({inputs:{real:g,imag:y},backend:n}),{real:b,imag:B}=Y_e(C,e,n),I=Ru(b,B);for(let w=0;w<i;w++){const $=V3(I,w);A[m*i+w]=$.real,d[m*i+w]=$.imag}n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(C)}const h=n.makeTensorInfo(l,"float32",A),f=n.makeTensorInfo(l,"float32",d),p=li({inputs:{real:h,imag:f},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),p}function Y_e(t,e,n){const r=de(t.shape),s=n.data.get(t.dataId),i=n.data.get(s.complexTensorInfos.real.dataId).values,o=n.data.get(s.complexTensorInfos.imag.dataId).values;if(J_e(r)){const a=hT(i,o,r,e,n),u=[t.shape[0],t.shape[1]];if(e){const l=n.makeTensorInfo(u,"float32",a.real),c=n.makeTensorInfo(u,"float32",a.imag),A=n.makeTensorInfo([],"float32",Sc(r,"float32")),d=za({inputs:{x:A},backend:n}),h=dT.kernelFunc({inputs:{a:l,b:A},backend:n}),f=dT.kernelFunc({inputs:{a:c,b:d},backend:n}),p=n.data.get(h.dataId).values,m=n.data.get(f.dataId).values;return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(A),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),{real:p,imag:m}}return a}else{const a=Ru(i,o),u=Z_e(a,r,e);return V7(u)}}function J_e(t){return(t&t-1)===0}function hT(t,e,n,r,s){if(n===1)return{real:t,imag:e};const i=Ru(t,e),o=n/2,a=z7(i),u=a.real,l=a.imag,c=[u.length],A=s.makeTensorInfo(c,"float32",u),d=s.makeTensorInfo(c,"float32",l),h=li({inputs:{real:A,imag:d},backend:s}),f=K7(i),p=f.real,m=f.imag,g=[p.length],y=s.makeTensorInfo(g,"float32",p),C=s.makeTensorInfo(g,"float32",m),b=li({inputs:{real:y,imag:C},backend:s}),B=hT(u,l,o,r,s),I=B.real,w=B.imag,$=[I.length],T=s.makeTensorInfo($,"float32",I),_=s.makeTensorInfo($,"float32",w),R=li({inputs:{real:T,imag:_},backend:s}),P=hT(p,m,o,r,s),L=P.real,z=P.imag,V=[L.length],q=s.makeTensorInfo(V,"float32",L),ne=s.makeTensorInfo(V,"float32",z),H=li({inputs:{real:q,imag:ne},backend:s}),J=G7(n,r),se=[J.real.length],ae=s.makeTensorInfo(se,"float32",J.real),Ae=s.makeTensorInfo(se,"float32",J.imag),pe=li({inputs:{real:ae,imag:Ae},backend:s}),ye=N2({inputs:{a:pe,b:H},backend:s}),ve=xf({inputs:{a:R,b:ye},backend:s}),Ee=oD({inputs:{a:R,b:ye},backend:s}),ke=qA({inputs:{input:ve},backend:s}),je=qA({inputs:{input:Ee},backend:s}),We=Ef({inputs:{input:ve},backend:s}),Xe=Ef({inputs:{input:Ee},backend:s}),lt=$f({inputs:[ke,je],backend:s,attrs:{axis:0}}),yt=$f({inputs:[We,Xe],backend:s,attrs:{axis:0}}),It=s.data.get(lt.dataId).values,$t=s.data.get(yt.dataId).values;return s.disposeIntermediateTensorInfo(A),s.disposeIntermediateTensorInfo(d),s.disposeIntermediateTensorInfo(h),s.disposeIntermediateTensorInfo(y),s.disposeIntermediateTensorInfo(C),s.disposeIntermediateTensorInfo(b),s.disposeIntermediateTensorInfo(T),s.disposeIntermediateTensorInfo(_),s.disposeIntermediateTensorInfo(R),s.disposeIntermediateTensorInfo(q),s.disposeIntermediateTensorInfo(ne),s.disposeIntermediateTensorInfo(H),s.disposeIntermediateTensorInfo(ae),s.disposeIntermediateTensorInfo(Ae),s.disposeIntermediateTensorInfo(pe),s.disposeIntermediateTensorInfo(ye),s.disposeIntermediateTensorInfo(ve),s.disposeIntermediateTensorInfo(Ee),s.disposeIntermediateTensorInfo(ke),s.disposeIntermediateTensorInfo(We),s.disposeIntermediateTensorInfo(je),s.disposeIntermediateTensorInfo(Xe),s.disposeIntermediateTensorInfo(lt),s.disposeIntermediateTensorInfo(yt),{real:It,imag:$t}}function Z_e(t,e,n){const r=new Float32Array(e*2);for(let s=0;s<e;s++){let i=0,o=0;for(let a=0;a<e;a++){const u=j7(s*a,e,n),l=V3(t,a);i+=l.real*u.real-l.imag*u.imag,o+=l.real*u.imag+l.imag*u.real}n&&(i/=e,o/=e),W7(r,i,o,s)}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e3e(t){const{inputs:e,backend:n}=t,{input:r}=e,s=de(r.shape),i=r.shape[r.shape.length-1],o=s/i,a=An({inputs:{x:r},backend:n,attrs:{shape:[o,i]}}),u=pj(a,!1,n),l=An({inputs:{x:u},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(u),l}const t3e={kernelName:jF,backendName:"cpu",kernelFunc:e3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UD(t){const{backend:e,attrs:n}=t,{shape:r,value:s,dtype:i}=n,o=i||y0(s),a=Sr(o,de(r));return r3e(a,s,o),e.makeTensorInfo(r,o,a)}const n3e={kernelName:XF,backendName:"cpu",kernelFunc:UD};function r3e(t,e,n){t.fill(e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s3e={kernelName:qF,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,s=n,i=_r(r.dtype,de(r.shape)),[o,a,u,l]=r.shape,c=s.data.get(r.dataId).values;for(let d=0;d<o;d++){const h=d*u*a*l;for(let f=0;f<a;f++){const p=f*(u*l);for(let m=0;m<u;m++){const g=m*l;for(let y=0;y<l;y++){const C=Math.round(u-m-1),b=h+p+g+y;let B=c[b];if(C>=0&&C<u){const I=C*l,w=h+p+I+y;B=c[w]}i[b]=B}}}}return{dataId:s.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i3e=ir((t,e)=>Math.floor(t/e)),o3e=Ur(U0,i3e,null,"int32"),a3e={kernelName:U0,backendName:"cpu",kernelFunc:o3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u3e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:o,preluActivationWeights:a}=e,{strides:u,pad:l,dataFormat:c,dilations:A,dimRoundingMode:d,activation:h,leakyreluAlpha:f}=r;let p=hj({inputs:{x:s,filter:i},backend:n,attrs:{strides:u,pad:l,dataFormat:c,dilations:A,dimRoundingMode:d}});if(o){const m=p;if(c==="NCHW"&&o.shape.length===1&&o.shape[0]!==1){const g=An({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});p=xf({inputs:{a:p,b:g},backend:n}),n.disposeIntermediateTensorInfo(g)}else p=xf({inputs:{a:p,b:o},backend:n});n.disposeIntermediateTensorInfo(m)}if(h){const m=p;if(c==="NCHW"&&h==="prelu"&&a.shape.length===1&&a.shape[0]!==1){const g=An({inputs:{x:a},backend:n,attrs:{shape:[a.shape[0],1,1]}});p=UC(n,p,h,g,f),n.disposeIntermediateTensorInfo(g)}else p=UC(n,p,h,a,f);n.disposeIntermediateTensorInfo(m)}return p}const l3e={kernelName:lC,backendName:"cpu",kernelFunc:u3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c3e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,filter:i,bias:o,preluActivationWeights:a}=e,{strides:u,pad:l,dataFormat:c,dilations:A,dimRoundingMode:d,activation:h,leakyreluAlpha:f}=r;let p=fj({inputs:{x:s,filter:i},backend:n,attrs:{strides:u,pad:l,dataFormat:c,dilations:A,dimRoundingMode:d}});if(o){const m=p;p=xf({inputs:{a:p,b:o},backend:n}),n.disposeIntermediateTensorInfo(m)}if(h){const m=p;p=UC(n,p,h,a,f),n.disposeIntermediateTensorInfo(m)}return p}const A3e={kernelName:cC,backendName:"cpu",kernelFunc:c3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d3e(t){const{inputs:e,backend:n}=t,{params:r,indices:s}=e,i=de(r.shape),o=s.shape,a=o[o.length-1],[u,l,c,A]=L_(r,s);if(l===0)return n.makeTensorInfo(u,r.dtype,[]);const d=n.data.get(s.dataId).values,h=n.bufferSync(r),f=Fz(d,h,r.dtype,l,a,c,A,r.shape,i);return n.makeTensorInfo(u,r.dtype,f.values)}const h3e={kernelName:YF,backendName:"cpu",kernelFunc:d3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f3e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,indices:i}=e,{axis:o,batchDims:a}=r;Ve([s,i],"gatherV2");const u=xt(o,s.shape)[0],l=n.data.get(i.dataId).values,c=s.shape[u];for(let b=0;b<l.length;++b){const B=l[b];O(B<=c-1&&B>=0,()=>`GatherV2: the index value ${B} is not in [0, ${c-1}]`)}let A=a;a==null&&(A=0);const d=de(i.shape),h=q3(s,i,u,A),f=An({inputs:{x:s},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),p=An({inputs:{x:i},backend:n,attrs:{shape:[h.batchSize,d/h.batchSize]}}),m=[h.batchSize,h.outerSize,d/h.batchSize,h.sliceSize],g=n.bufferSync(p),y=n.bufferSync(f),C=_z(y,g,m);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.makeTensorInfo(h.outputShape,C.dtype,C.values)}const p3e={kernelName:vx,backendName:"cpu",kernelFunc:f3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g3e(t){const{inputs:e,backend:n}=t,{input:r}=e,s=de(r.shape),i=r.shape[r.shape.length-1],o=s/i,a=An({inputs:{x:r},backend:n,attrs:{shape:[o,i]}}),u=pj(a,!0,n),l=An({inputs:{x:u},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(u),l}const m3e={kernelName:JF,backendName:"cpu",kernelFunc:g3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y3e=en(M0,t=>Number.isFinite(t)?1:0,"bool"),v3e={kernelName:M0,backendName:"cpu",kernelFunc:y3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w3e=en(Q0,t=>Math.abs(t)===1/0?1:0,"bool"),C3e={kernelName:Q0,backendName:"cpu",kernelFunc:w3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b3e=en(H0,t=>Number.isNaN(t)?1:0,"bool"),x3e={kernelName:H0,backendName:"cpu",kernelFunc:b3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B3e(t){const{backend:e,attrs:n}=t,{start:r,stop:s,num:i}=n,o=Lz(r,s,i);return e.makeTensorInfo([o.length],"float32",o)}const I3e={kernelName:e_,backendName:"cpu",kernelFunc:B3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E3e=en(z0,t=>Math.log1p(t)),$3e={kernelName:z0,backendName:"cpu",kernelFunc:E3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S3e=ir((t,e)=>t&&e),T3e=Ur(Bx,S3e,null,"bool"),N3e={kernelName:Bx,backendName:"cpu",kernelFunc:T3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k3e=en(Ix,t=>t?0:1,"bool"),F3e={kernelName:Ix,backendName:"cpu",kernelFunc:k3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _3e=ir((t,e)=>t||e),D3e=Ur(Ex,_3e,null,"bool"),R3e={kernelName:Ex,backendName:"cpu",kernelFunc:D3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O3e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{depthRadius:i,bias:o,alpha:a,beta:u}=r;Ve(s,"LRN");const l=s.shape[3],c=l-1,A=n.data.get(s.dataId).values,d=de(s.shape),h=new Float32Array(d);function f(p){const m=p%l;let g=p-m+Math.max(0,m-i);const y=p-m+Math.min(m+i,c);let C=0;for(;g<=y;g++){const b=A[g];C+=b*b}return C}for(let p=0;p<d;p++){const m=f(p),g=A[p]*Math.pow(o+a*m,-u);h[p]=g}return n.makeTensorInfo(s.shape,s.dtype,h)}const U3e={kernelName:$x,backendName:"cpu",kernelFunc:O3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L3e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,y:i,dy:o}=e,{depthRadius:a,bias:u,alpha:l,beta:c}=r;Ve(o,"LRNGrad");const A=de(o.shape),d=o.shape[3],h=n.data.get(o.dataId).values,f=n.data.get(s.dataId).values,p=n.data.get(i.dataId).values,m=new Float32Array(A),g=A;for(let y=0;y<g;y++){const C=y%d,b=y-C+Math.max(0,C-a),B=y-C+Math.min(d,C+a+1);let I=0;for(let w=b;w<B;w++)I+=Math.pow(f[w],2);I=l*I+u;for(let w=b;w<B;w++){let $=-2*l*c*f[w]*p[y]/I;y===w&&($+=Math.pow(I,-c)),$*=h[y],m[w]+=$}}return n.makeTensorInfo(o.shape,s.dtype,m)}const P3e={kernelName:t_,backendName:"cpu",kernelFunc:L3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gj(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reductionIndices:i,keepDims:o}=r,a=n;let u=s.shape;const l=u.length,c=xt(i,u);let A=c;const d=Un(A,l);let h=a.data.get(s.dataId).values;if(d!=null){const b=new Array(l);for(let B=0;B<b.length;B++)b[B]=u[d[B]];h=sD(h,u,s.dtype,d,b),A=Yn(A.length,l),u=b}Ve(s,"max"),jr("max",A,l);const[f,p]=Or(u,A),m=de(p),g=Mz(h,m,f,s.dtype),y=a.write(g,f,s.dtype);let C=f;return o&&(C=Gn(f,c)),{dataId:y,shape:C,dtype:s.dtype}}const M3e={kernelName:Sx,backendName:"cpu",kernelFunc:gj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q3e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e;Ve(s,"maxPool");const{filterSize:i,strides:o,pad:a,dimRoundingMode:u}=r,l=1;O(Gr(o,l),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${l}'`);const c=So(s.shape,i,o,l,a,u);let A;if(c.filterWidth===1&&c.filterHeight===1&&Ut(c.inShape,c.outShape))A=za({inputs:{x:s},backend:n});else{const d=n.data.get(s.dataId).values,h=et(s.shape),f=RD(d,s.shape,s.dtype,h,c,"max");A=n.makeTensorInfo(c.outShape,s.dtype,f.values)}return A}const H3e={kernelName:Tx,backendName:"cpu",kernelFunc:Q3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V3e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{filterSize:i,strides:o,pad:a,dimRoundingMode:u,dataFormat:l}=r;Ve(s,"maxPool3d");const c=Gu(s.shape,i,o,1,a,u,l),A=n.data.get(s.dataId).values,d=dj(A,s.shape,s.dtype,et(s.shape),c,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}const z3e={kernelName:Nx,backendName:"cpu",kernelFunc:V3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K3e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i}=e,{filterSize:o,strides:a,pad:u,dimRoundingMode:l}=r;Ve([s,i],"maxPool3DGrad");const c=Gu(i.shape,o,a,1,u,l),A=n.bufferSync(i),d=FFe(A,c),h=c.strideDepth,f=c.strideHeight,p=c.strideWidth,m=c.dilationDepth,g=c.dilationHeight,y=c.dilationWidth,C=c.effectiveFilterDepth,b=c.effectiveFilterHeight,B=c.effectiveFilterWidth,I=C-1-c.padInfo.front,w=B-1-c.padInfo.left,$=b-1-c.padInfo.top,T=wt(i.shape,"float32"),_=n.bufferSync(s);for(let R=0;R<c.batchSize;++R)for(let P=0;P<c.inChannels;++P)for(let L=0;L<c.inDepth;++L)for(let z=0;z<c.inHeight;++z)for(let V=0;V<c.inWidth;++V){const q=L-I,ne=z-$,H=V-w;let J=0;for(let se=0;se<C;se+=m){const ae=(q+se)/h;if(!(ae<0||ae>=c.outDepth||Math.floor(ae)!==ae))for(let Ae=0;Ae<b;Ae+=g){const pe=(ne+Ae)/f;if(!(pe<0||pe>=c.outHeight||Math.floor(pe)!==pe))for(let ye=0;ye<B;ye+=y){const ve=(H+ye)/p;if(ve<0||ve>=c.outWidth||Math.floor(ve)!==ve)continue;const Ee=C*b*B-1-d.get(R,ae,pe,ve,P),ke=se*b*B+Ae*B+ye,je=Ee===ke?1:0;if(je===0)continue;const We=_.get(R,ae,pe,ve,P);J+=We*je}}}T.set(J,R,L,z,V,P)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}const W3e={kernelName:r_,backendName:"cpu",kernelFunc:K3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G3e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:s,input:i,output:o}=e,a=i;Ve([i,o],"maxPoolGrad");const{filterSize:u,strides:l,pad:c,dimRoundingMode:A}=r,d=So(a.shape,u,l,1,c,A),h=n.data.get(a.dataId).values,f=wt(d.outShape,a.dtype,Aj(h,a.shape,a.dtype,d).values),p=d.strideHeight,m=d.strideWidth,g=d.dilationHeight,y=d.dilationWidth,C=d.effectiveFilterHeight,b=d.effectiveFilterWidth,B=b-1-d.padInfo.left,I=C-1-d.padInfo.top,w=wt(a.shape,"float32"),$=n.data.get(s.dataId).values,T=wt(s.shape,"float32",$);for(let _=0;_<d.batchSize;++_)for(let R=0;R<d.inChannels;++R)for(let P=0;P<d.inHeight;++P)for(let L=0;L<d.inWidth;++L){const z=P-I,V=L-B;let q=0;for(let ne=0;ne<C;ne+=g){const H=(z+ne)/p;if(!(H<0||H>=d.outHeight||Math.floor(H)!==H))for(let J=0;J<b;J+=y){const se=(V+J)/m;if(se<0||se>=d.outWidth||Math.floor(se)!==se)continue;const ae=C*b-1-f.get(_,H,se,R),Ae=ne*b+J,pe=ae===Ae?1:0;if(pe===0)continue;const ye=T.get(_,H,se,R);q+=ye*pe}}w.set(q,_,P,L,R)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}const j3e={kernelName:n_,backendName:"cpu",kernelFunc:G3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X3e(t,e,n,r,s){const i=et(e),o=RD(t,e,n,i,s,"max"),a=Aj(t,e,n,s,!0,r);return[o.values,a.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q3e={kernelName:s_,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:s,strides:i,pad:o,includeBatchInIndex:a}=e,u=n;Ve(r,"MaxPoolWithArgmax");const l=u.data.get(r.dataId).values,c=So(r.shape,s,i,[1,1],o),[A,d]=X3e(l,r.shape,r.dtype,a,c),h=u.write(A,c.outShape,r.dtype),f=u.write(d,c.outShape,r.dtype);return[{dataId:h,shape:c.outShape,dtype:r.dtype},{dataId:f,shape:c.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y3e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r,a=xt(i,s.shape),l=Or(s.shape,a)[1],c=de(l),A=[],d=n.makeTensorInfo([],"float32",new Float32Array([c]));A.push(d);const h=uc({inputs:{x:s},backend:n,attrs:{dtype:"float32"}});A.push(h);const f=OD({inputs:{a:h,b:d},backend:n});A.push(f);const p=zy({inputs:{x:f},backend:n,attrs:{axis:i,keepDims:o}});return A.forEach(m=>n.disposeIntermediateTensorInfo(m)),p}const J3e={kernelName:kx,backendName:"cpu",kernelFunc:Y3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z3e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{axis:i,keepDims:o}=r;Ve(s,"min");const a=xt(i,s.shape);let u=a;const l=Un(u,s.shape.length);let c=s;l!=null&&(c=js({inputs:{x:s},backend:n,attrs:{perm:l}}),u=Yn(u.length,s.shape.length)),jr("min",u,c.shape.length);const[A,d]=Or(c.shape,u),h=de(d),f=os(de(A),c.dtype),p=n.data.get(c.dataId).values;for(let g=0;g<f.length;++g){const y=g*h;let C=p[y];for(let b=0;b<h;++b){const B=p[y+b];(Number.isNaN(B)||B<C)&&(C=B)}f[g]=C}l!=null&&n.disposeIntermediateTensorInfo(c);const m=n.makeTensorInfo(A,c.dtype,f);if(o){const g=Gn(A,a),y=An({inputs:{x:m},backend:n,attrs:{shape:g}});return n.disposeIntermediateTensorInfo(m),y}return m}const eDe={kernelName:Fx,backendName:"cpu",kernelFunc:Z3e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,mode:o}=r;Ve(s,"mirrorPad");const a=i.map((C,b)=>C[0]+s.shape[b]+C[1]),u=i.map(C=>C[0]),l=i.map((C,b)=>C[0]+s.shape[b]),c=o==="reflect"?0:1,A=n.data.get(s.dataId).values,d=s.shape.length,h=et(s.shape),f=de(a),p=a.length,m=et(a),g=_r(s.dtype,f);for(let C=0;C<f;C++){let b=Kf(C,p,m);for(let I=0;I<p;I++)b[I]<u[I]?b[I]=u[I]*2-b[I]-c:b[I]>=l[I]&&(b[I]=(l[I]-1)*2-b[I]+c);b=b.map((I,w)=>I-u[w]);const B=Ra(b,d,h);g[C]=A[B]}return{dataId:n.write(g,a,s.dtype),shape:a,dtype:s.dtype}}const nDe={kernelName:_x,backendName:"cpu",kernelFunc:tDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rDe=ir((t,e)=>{const n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e}),sDe=Ur(G0,rDe),iDe={kernelName:G0,backendName:"cpu",kernelFunc:sDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mj(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{dim:i}=r,o=s.shape.length;let a=i;if(a===-1&&(a=o-1),a!==o-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${o} and dim was ${a}`);const u=xt([a],s.shape),l=gj({inputs:{x:s},backend:n,attrs:{reductionIndices:u,keepDims:!1}}),c=Gn(l.shape,u),A=An({inputs:{x:l},backend:n,attrs:{shape:c}}),d=oD({inputs:{a:s,b:A},backend:n}),h=Tz({inputs:{x:d},backend:n}),f=zy({inputs:{x:h},backend:n,attrs:{axis:u,keepDims:!1}}),p=An({inputs:{x:f},backend:n,attrs:{shape:c}}),m=OD({inputs:{a:h,b:p},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(A),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),m}const oDe={kernelName:Yx,backendName:"cpu",kernelFunc:mj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aDe(t){const{inputs:e,backend:n,attrs:r}=t,{logits:s}=e,{numSamples:i,seed:o,normalized:a}=r;Ve(s,"multinomial");const u=a?s:mj({inputs:{logits:s},backend:n,attrs:{dim:-1}}),l=u.shape[0],c=u.shape[1],A=n.data.get(u.dataId).values,d=[l,i],h=os(de(d),"int32");for(let f=0;f<l;++f){const p=f*c,m=new Float32Array(c-1);m[0]=A[p];for(let C=1;C<m.length;++C)m[C]=m[C-1]+A[p+C];const g=p2.alea(o.toString()),y=f*i;for(let C=0;C<i;++C){const b=g();h[y+C]=m.length;for(let B=0;B<m.length;B++)if(b<m[B]){h[y+C]=B;break}}}return a||n.disposeIntermediateTensorInfo(u),n.makeTensorInfo(d,"int32",h)}const uDe={kernelName:i_,backendName:"cpu",kernelFunc:aDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lDe=b3;function cDe(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:u}=r;Ve(s,"NonMaxSuppression");const l=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,{selectedIndices:A}=lDe(l,c,o,a,u);return n.makeTensorInfo([A.length],"int32",new Int32Array(A))}const ADe={kernelName:o_,backendName:"cpu",kernelFunc:cDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dDe=x3;function hDe(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:u,padToMaxOutputSize:l}=r;Ve(s,"NonMaxSuppressionPadded");const c=n.data.get(s.dataId).values,A=n.data.get(i.dataId).values,{selectedIndices:d,validOutputs:h}=dDe(c,A,o,a,u,l);return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}const fDe={kernelName:a_,backendName:"cpu",kernelFunc:hDe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pDe=B3;function gDe(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:s,scores:i}=e,{maxOutputSize:o,iouThreshold:a,scoreThreshold:u,softNmsSigma:l}=r;Ve(s,"NonMaxSuppressionWithScore");const c=n.data.get(s.dataId).values,A=n.data.get(i.dataId).values,d=o,h=a,f=u,p=l,{selectedIndices:m,selectedScores:g}=pDe(c,A,d,h,f,p);return[n.makeTensorInfo([m.length],"int32",new Int32Array(m)),n.makeTensorInfo([g.length],"float32",new Float32Array(g))]}const mDe={kernelName:u_,backendName:"cpu",kernelFunc:gDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yDe(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s}=e,{dtype:i,depth:o,onValue:a,offValue:u}=r;Ve(s,"oneHot");const l=de(s.shape),c=new Float32Array(l*o);c.fill(u);const A=n.data.get(s.dataId).values;for(let d=0;d<l;++d)A[d]>=0&&A[d]<o&&(c[d*o+A[d]]=a);return n.makeTensorInfo([...s.shape,o],i,c)}const vDe={kernelName:Ux,backendName:"cpu",kernelFunc:yDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PC(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(r.dtype==="complex64"){const s=qA({inputs:{input:r},backend:n}),i=PC({inputs:{x:s},backend:n}),o=Ef({inputs:{input:r},backend:n}),a=PC({inputs:{x:o},backend:n}),u=li({inputs:{real:i,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),u}else return UD({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const wDe={kernelName:e2,backendName:"cpu",kernelFunc:PC};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yj(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(r.dtype==="complex64"){const s=qA({inputs:{input:r},backend:n}),i=yj({inputs:{x:s},backend:n}),o=Ef({inputs:{input:r},backend:n}),a=PC({inputs:{x:o},backend:n}),u=li({inputs:{real:i,imag:a},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),u}else return UD({backend:n,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}const CDe={kernelName:Ox,backendName:"cpu",kernelFunc:yj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vj(t){const{inputs:e,backend:n,attrs:r}=t,{axis:s}=r;if(e.length===1)return LC({inputs:{input:e[0]},backend:n,attrs:{dim:s}});const i=e[0].shape,o=e[0].dtype;e.forEach(c=>{bi(i,c.shape,"All tensors passed to stack must have matching shapes"),O(o===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const a=[],u=e.map(c=>{const A=LC({inputs:{input:c},backend:n,attrs:{dim:s}});return a.push(A),A}),l=$f({inputs:u,backend:n,attrs:{axis:s}});return a.forEach(c=>n.disposeIntermediateTensorInfo(c)),l}const bDe={kernelName:Lx,backendName:"cpu",kernelFunc:vj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{paddings:i,constantValue:o}=r;Ve(s,"pad");const a=i.map((y,C)=>y[0]+s.shape[C]+y[1]),u=i.map(y=>y[0]),l=n.data.get(s.dataId).values,c=de(s.shape),A=s.shape.length,d=et(s.shape),h=de(a),f=a.length,p=et(a),m=_r(s.dtype,h);o!==0&&m.fill(o);for(let y=0;y<c;y++){const b=Kf(y,A,d).map((I,w)=>I+u[w]),B=Ra(b,f,p);m[B]=l[y]}return{dataId:n.write(m,a,s.dtype),shape:a,dtype:s.dtype}}const wj={kernelName:Px,backendName:"cpu",kernelFunc:xDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BDe=ir((t,e)=>Math.pow(t,e)),IDe=Ur(X0,BDe),EDe={kernelName:X0,backendName:"cpu",kernelFunc:IDe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $De(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:s,paramsDenseValues:i,indices:o}=e,a=s.map(m=>n.data.get(m.dataId).values),u=s.map(m=>m.shape),l=n.data.get(i.dataId).values,c=n.data.get(o.dataId).values,[A,d,h]=Wz(a,u,l,i.shape,i.dtype,c,o.shape),f=A.map(m=>n.makeTensorInfo([m.length],"int32",m)),p=n.makeTensorInfo(h,i.dtype,d);return f.concat([p])}const SDe={kernelName:l_,backendName:"cpu",kernelFunc:$De};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TDe(t){const{inputs:e,backend:n,attrs:r}=t,{shape:s,values:i,defaultValue:o,rowPartitionTensors:a}=e,{rowPartitionTypes:u}=r,l=n.data.get(s.dataId).values,c=n.data.get(i.dataId).values,A=n.data.get(o.dataId).values,d=a.map(m=>n.data.get(m.dataId).values),h=a.map(m=>m.shape),[f,p]=Gz(l,s.shape,c,i.shape,i.dtype,A,o.shape,d,h,u);return n.makeTensorInfo(f,i.dtype,p)}const NDe={kernelName:c_,backendName:"cpu",kernelFunc:TDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kDe(t){const{backend:e,attrs:n}=t,{start:r,stop:s,dtype:i,step:o}=n,a=jz(r,s,o,i);return e.makeTensorInfo([a.length],i,a)}const FDe={kernelName:A_,backendName:"cpu",kernelFunc:kDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _De=en(q0,t=>1/t),DDe={kernelName:q0,backendName:"cpu",kernelFunc:_De};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RDe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:o,size:a}=r;Ve(s,"resizeBilinear");const u=et(s.shape),[l,c]=a,[A,d,h,f]=s.shape,p=n.data.get(s.dataId).values,m=new Float32Array(de([A,l,c,f])),g=[i&&l>1?d-1:d,i&&c>1?h-1:h],y=[i&&l>1?l-1:l,i&&c>1?c-1:c];let C=0;const b=g[0]/y[0],B=g[1]/y[1];for(let I=0;I<A;I++)for(let w=0;w<l;w++){let $;o?$=b*(w+.5)-.5:$=b*w;const T=Math.max(0,Math.floor($)),_=$-T,R=Math.min(d-1,Math.ceil($)),P=I*u[0]+T*u[1],L=I*u[0]+R*u[1];for(let z=0;z<c;z++){let V;o?V=B*(z+.5)-.5:V=B*z;const q=Math.max(0,Math.floor(V)),ne=V-q,H=Math.min(h-1,Math.ceil(V)),J=P+q*u[2],se=L+q*u[2],ae=P+H*u[2],Ae=L+H*u[2];for(let pe=0;pe<f;pe++){const ye=p[J+pe],ve=p[se+pe],Ee=p[ae+pe],ke=p[Ae+pe],je=ye+(Ee-ye)*ne,We=ve+(ke-ve)*ne,Xe=je+(We-je)*_;m[C++]=Xe}}}return n.makeTensorInfo([A,l,c,f],"float32",m)}const ODe={kernelName:zx,backendName:"cpu",kernelFunc:RDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UDe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:o}=r;Ve([i,s],"resizeBilinearGrad");const a=et(s.shape),[u,l,c,A]=s.shape,[,d,h]=i.shape,f=new Float32Array(u*l*c*A),p=[o&&d>1?l-1:l,o&&h>1?c-1:c],m=[o&&d>1?d-1:d,o&&h>1?h-1:h],g=p[0]/m[0],y=p[1]/m[1],C=n.data.get(i.dataId).values;let b=0;for(let B=0;B<u;B++){const I=B*a[0];for(let w=0;w<d;w++){const $=w*g,T=Math.floor($),_=Math.min(Math.ceil($),l-1),R=I+T*a[1],P=I+_*a[1],L=$-T,z=1-L;for(let V=0;V<h;V++){const q=V*y,ne=Math.floor(q),H=Math.min(Math.ceil(q),c-1),J=q-ne,se=1-J,ae=R+ne*a[2],Ae=R+H*a[2],pe=P+ne*a[2],ye=P+H*a[2],ve=z*se,Ee=z*J,ke=L*se,je=L*J;for(let We=0;We<A;We++){const Xe=C[b++];f[ae+We]+=Xe*ve,f[Ae+We]+=Xe*Ee,f[pe+We]+=Xe*ke,f[ye+We]+=Xe*je}}}}return n.makeTensorInfo([u,c,l,A],"float32",f)}const LDe={kernelName:f_,backendName:"cpu",kernelFunc:UDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PDe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s}=e,{alignCorners:i,halfPixelCenters:o,size:a}=r;Ve(s,"resizeNearestNeighbor");const u=et(s.shape),[l,c]=a,[A,d,h,f]=s.shape,p=n.data.get(s.dataId).values,m=new Float32Array(A*l*c*f),g=[i&&l>1?d-1:d,i&&c>1?h-1:h],y=[i&&l>1?l-1:l,i&&c>1?c-1:c],C=g[0]/y[0],b=g[1]/y[1];let B=0;for(let I=0;I<A;I++){const w=I*u[0];for(let $=0;$<l;$++){const T=o?C*($+.5):C*$;let _=Math.min(d-1,i?Math.round(T):Math.floor(T));o&&(_=Math.max(0,_));const R=w+_*u[1];for(let P=0;P<c;P++){const L=o?b*(P+.5):b*P;let z=Math.min(h-1,i?Math.round(L):Math.floor(L));o&&(z=Math.max(0,z));const V=R+z*u[2];for(let q=0;q<f;q++){const ne=p[V+q];m[B++]=ne}}}}return n.makeTensorInfo([A,l,c,f],s.dtype,m)}const MDe={kernelName:Vx,backendName:"cpu",kernelFunc:PDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QDe(t){const{inputs:e,backend:n,attrs:r}=t,{images:s,dy:i}=e,{alignCorners:o}=r;Ve([i,s],"resizeNearestNeighborGrad");const a=et(s.shape),u=et(i.shape),[l,c,A,d]=s.shape,[,h,f]=i.shape,p=new Float32Array(l*c*A*d),m=n.data.get(i.dataId).values,g=[o&&h>1?c-1:c,o&&f>1?A-1:A],y=[o&&h>1?h-1:h,o&&f>1?f-1:f],C=g[0]/y[0],b=g[1]/y[1],B=1/C,I=1/b,w=Math.ceil(B)*2+2,$=Math.ceil(I)*2+2;for(let T=0;T<l;T++){const _=T*a[0];for(let R=0;R<c;R++){const P=_+R*a[1],L=Math.floor(R*B),z=Math.floor(L-w/2);for(let V=0;V<A;V++){const q=P+V*a[2],ne=Math.floor(V*I),H=Math.floor(ne-$/2);for(let J=0;J<d;J++){let se=0;for(let ae=0;ae<w;ae++){const Ae=ae+z;if(Ae<0||Ae>=h)continue;const pe=_+Ae*u[1],ye=Ae*C,ve=Math.min(c-1,o?Math.round(ye):Math.floor(ye));if(R===ve)for(let Ee=0;Ee<$;Ee++){const ke=Ee+H;if(ke<0||ke>=f)continue;const je=pe+ke*u[2],We=ke*b,Xe=Math.min(A-1,o?Math.round(We):Math.floor(We));V===Xe&&(se+=m[je+J])}}p[q+J]=se}}}}return n.makeTensorInfo(s.shape,s.dtype,p)}const HDe={kernelName:h_,backendName:"cpu",kernelFunc:QDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{dims:i}=r;Ve(s,"reverse");const o=s.shape.length,a=xt(i,s.shape);if(o===0)return za({inputs:{x:s},backend:n});const u=new Nr(s.shape,s.dtype),l=n.bufferSync(s);for(let c=0;c<u.size;c++){const A=u.indexToLoc(c),d=A.slice();a.forEach(h=>d[h]=s.shape[h]-1-d[h]),u.set(l.get(...d),...A)}return n.makeTensorInfo(u.shape,u.dtype,u.values)}const zDe={kernelName:Kx,backendName:"cpu",kernelFunc:VDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KDe={kernelName:N_,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:s,fillValue:i,center:o}=e,a=n,u=_r(r.dtype,de(r.shape)),[l,c,A,d]=r.shape,[h,f]=D3(o,c,A),p=255,m=Math.sin(s),g=Math.cos(s),y=a.data.get(r.dataId).values;for(let b=0;b<l;b++){const B=b*A*c*d;for(let I=0;I<c;I++){const w=I*(A*d);for(let $=0;$<A;$++){const T=$*d;for(let _=0;_<d;_++){const R=[l,I,$,_],P=R[2],L=R[1];let z=(P-h)*g-(L-f)*m,V=(P-h)*m+(L-f)*g;z=Math.round(z+h),V=Math.round(V+f);let q=i;if(typeof i!="number"&&(_===3?q=p:q=i[_]),z>=0&&z<A&&V>=0&&V<c){const H=V*(A*d),J=z*d,se=B+H+J+_;q=y[se]}const ne=B+w+T+_;u[ne]=q}}}}return{dataId:a.write(u,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WDe=en(Z0,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),GDe={kernelName:Z0,backendName:"cpu",kernelFunc:WDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jDe(t){const{inputs:e,backend:n,attrs:r}=t,{indices:s,updates:i}=e,{shape:o}=r,{sliceRank:a,numUpdates:u,sliceSize:l,strides:c,outputSize:A}=py(i,s,o),d=!0,h=n.bufferSync(s),f=n.bufferSync(i),p=$h(h,f,o,A,l,u,a,c,0,d);return n.makeTensorInfo(o,p.dtype,p.values)}const XDe={kernelName:p_,backendName:"cpu",kernelFunc:jDe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qDe(t,e){let n=0,r=t.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),t[s]<e?n=s+1:r=s;return r}function YDe(t,e){let n=0,r=t.length,s=0;for(;n<r;)s=Math.floor((n+r)/2),t[s]<=e?n=s+1:r=s;return r}function JDe(t,e,n,r,s,i){const o=Sr("int32",n*s);for(let a=0;a<n;++a){const u=t.slice(a*r,(a+1)*r),l=a*s;for(let c=0;c<s;++c)o[l+c]=i==="left"?qDe(u,e[c+l]):YDe(u,e[c+l])}return o}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZDe(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:s,values:i}=e,{side:o}=r,a=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,l=JDe(a,u,s.shape[0],s.shape[1],i.shape[1],o);return n.makeTensorInfo(i.shape,"int32",l)}const e4e={kernelName:g_,backendName:"cpu",kernelFunc:ZDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t4e(t){const{inputs:e,backend:n}=t,{condition:r,t:s,e:i}=e;Ve([r,s,i],"select");const o=r.shape.length,a=n.data.get(r.dataId).values,u=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,c=mi(s.dtype,i.dtype),A=os(de(s.shape),c);let d=0;const h=o===0||o>1||s.shape.length===1?1:de(s.shape.slice(1));for(let f=0;f<a.length;f++)for(let p=0;p<h;p++)a[f]===1?A[d++]=u[f]:A[d++]=l[f];return n.makeTensorInfo(s.shape,c,A)}const n4e={kernelName:Wx,backendName:"cpu",kernelFunc:t4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r4e=$2,s4e=S2,i4e=en(ty,t=>t>=0?s4e*t:r4e*(Math.exp(t)-1)),o4e={kernelName:ty,backendName:"cpu",kernelFunc:i4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a4e=en(sy,t=>t<0?-1:t>0?1:0),u4e={kernelName:sy,backendName:"cpu",kernelFunc:a4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l4e=en(ny,t=>Math.sin(t)),c4e={kernelName:ny,backendName:"cpu",kernelFunc:l4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A4e=en(ry,t=>Math.sinh(t)),d4e={kernelName:ry,backendName:"cpu",kernelFunc:A4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h4e=11920928955078125e-23,BP=Math.log(h4e)+2,f4e=en(oy,t=>{const e=t>-BP,n=t<BP,r=Math.exp(t);let s;return n?s=r:e?s=t:s=Math.log(1+r),s}),p4e={kernelName:oy,backendName:"cpu",kernelFunc:f4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g4e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{blockShape:i,paddings:o}=r;Ve([s],"spaceToBatchND");const a=de(i),u=[[0,0]];u.push(...o);for(let I=1+i.length;I<s.shape.length;++I)u.push([0,0]);const l=wj.kernelFunc({inputs:{x:s},backend:n,attrs:{paddings:u,constantValue:0}}),c=Iy(l.shape,i,a,!1),A=Ey(c.length,i.length,!1),d=$y(l.shape,i,a,!1),p=An({inputs:{x:l},backend:n,attrs:{shape:c}}),y=js({inputs:{x:p},backend:n,attrs:{perm:A}}),B=An({inputs:{x:y},backend:n,attrs:{shape:d}});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(y),B}const m4e={kernelName:Xx,backendName:"cpu",kernelFunc:g4e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y4e(t){const{inputs:e,backend:n}=t,{indices:r,values:s,denseShape:i,defaultValue:o}=e;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${s.shape}`);if(o.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${o.shape}`);const a=n.data.get(r.dataId).values,u=n.data.get(s.dataId).values,l=n.data.get(i.dataId).values,c=n.data.get(o.dataId).values[0],[A,d,h,f,p]=Jz(a,r.shape,r.dtype,u,s.dtype,l,c);return[n.makeTensorInfo(d,r.dtype,A),n.makeTensorInfo([d[0]],s.dtype,h),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map(m=>Number(m)))),n.makeTensorInfo([p.length],r.dtype,new Int32Array(p))]}const v4e={kernelName:m_,backendName:"cpu",kernelFunc:y4e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w4e(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:s,newShape:i}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(s.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${s.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const o=Array.from(n.data.get(s.dataId).values),a=n.data.get(r.dataId).values,u=Array.from(n.data.get(i.dataId).values),[l,c,A]=Zz(a,r.shape,r.dtype,o,u);return[n.makeTensorInfo(c,r.dtype,l),n.makeTensorInfo([A.length],i.dtype,new Int32Array(A))]}const C4e={kernelName:y_,backendName:"cpu",kernelFunc:w4e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b4e(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${i.shape}`);if(s.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,[l,c]=iD(o,r.shape,r.dtype,a,u,!0);return n.makeTensorInfo(c,r.dtype,l)}const x4e={kernelName:v_,backendName:"cpu",kernelFunc:b4e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B4e(t){const{inputs:e,backend:n}=t,{data:r,indices:s,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(s.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${s.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${i.shape}`);if(s.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,a=n.data.get(s.dataId).values,u=n.data.get(i.dataId).values,[l,c]=iD(o,r.shape,r.dtype,a,u);return n.makeTensorInfo(c,r.dtype,l)}const I4e={kernelName:w_,backendName:"cpu",kernelFunc:B4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E4e(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:s,sparseValues:i,defaultValue:o}=e,{outputShape:a}=r,{sliceRank:u,numUpdates:l,sliceSize:c,strides:A,outputSize:d}=py(i,s,a),h=!1,f=n.bufferSync(s);let p;switch(i.dtype){case"bool":{const m=n.bufferSync(i),g=Boolean(n.data.get(o.dataId).values[0]);p=$h(f,m,a,d,c,l,u,A,g,h);break}case"float32":{const m=n.bufferSync(i),g=n.data.get(o.dataId).values[0];p=$h(f,m,a,d,c,l,u,A,g,h);break}case"int32":{const m=n.bufferSync(i),g=n.data.get(o.dataId).values[0];p=$h(f,m,a,d,c,l,u,A,g,h);break}case"string":{const m=n.bufferSync(i),g=rc(n.data.get(o.dataId).values[0]);p=$h(f,m,a,d,c,l,u,A,g,h);break}default:throw new Error(`Unsupported type ${i.dtype}`)}return n.makeTensorInfo(a,p.dtype,p.values)}const $4e={kernelName:C_,backendName:"cpu",kernelFunc:E4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S4e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{numOrSizeSplits:i,axis:o}=r,a=xt(o,s.shape)[0],u=X3(s,i,a),l=new Array(s.shape.length).fill(0),c=s.shape.slice();return u.map(A=>{const d=[...c];d[a]=A;const h=YA({inputs:{x:s},backend:n,attrs:{begin:l,size:d}});return l[a]+=A,h})}const T4e={kernelName:qx,backendName:"cpu",kernelFunc:S4e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N4e={kernelName:b_,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,r=e;Ve(n,"square");const s=r.data.get(n.dataId).values,i=new Float32Array(s.length);for(let a=0;a<s.length;++a){const u=s[a];i[a]=u*u}return{dataId:r.write(i,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k4e=en(hy,(t,e)=>{const n=e;return isNaN(t)?NaN:t>0?1:n.alpha}),F4e={kernelName:hy,backendName:"cpu",kernelFunc:k4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _4e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{begin:i,end:o,strides:a,beginMask:u,endMask:l,ellipsisMask:c,newAxisMask:A,shrinkAxisMask:d}=r;Ve(s,"stridedSlice");const{finalShapeSparse:h,finalShape:f,isIdentity:p,sliceDim0:m,isSimpleSlice:g,begin:y,end:C,strides:b}=V_(s.shape,i,o,a,u,l,c,A,d);let B;if(p)B=An({inputs:{x:s},backend:n,attrs:{shape:f}});else if(m||g){O(s.shape.length>=1,()=>`Input must have rank at least 1, got: ${s.shape.length}`);const I=M_(y,C,b),w=YA({inputs:{x:s},backend:n,attrs:{begin:y,size:I}});B=An({inputs:{x:w},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(w)}else{const I=n.bufferSync(s),w=tK(h,I,b,y);B=n.makeTensorInfo(f,w.dtype,w.values)}return B}const D4e={kernelName:x_,backendName:"cpu",kernelFunc:_4e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R4e(t){const{inputs:e,backend:n,attrs:r}=t,{separator:s,nGramWidths:i,leftPad:o,rightPad:a,padWidth:u,preserveShortSequences:l}=r,{data:c,dataSplits:A}=e,d=n.data.get(c.dataId).values,h=n.data.get(A.dataId).values,[f,p]=nK(d,h,s,i,o,a,u,l);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(A.shape,"int32",p)]}const O4e={kernelName:B_,backendName:"cpu",kernelFunc:R4e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U4e(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:s}=r,{input:i,delimiter:o}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(o.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${o.shape}`);const a=n.data.get(i.dataId).values,u=n.data.get(o.dataId).values[0],[l,c,A]=rK(a,u,s),d=c.length;return[n.makeTensorInfo([d,2],"int32",l),n.makeTensorInfo([d],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(A))]}const L4e={kernelName:I_,backendName:"cpu",kernelFunc:U4e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P4e(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:s}=r,{input:i}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(s<=0)throw new Error("Number of buckets must be at least 1");const o=n.data.get(i.dataId).values,a=sK(o,s);return n.makeTensorInfo(i.shape,"int32",a)}const M4e={kernelName:E_,backendName:"cpu",kernelFunc:P4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q4e=en(cy,t=>Math.tan(t)),H4e={kernelName:cy,backendName:"cpu",kernelFunc:Q4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V4e=en(Ay,t=>Math.tanh(t)),z4e={kernelName:Ay,backendName:"cpu",kernelFunc:V4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K4e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{reps:i}=r;Ve(s,"tile");const o=oK(n.bufferSync(s),i);return n.makeTensorInfo(o.shape,o.dtype,o.values)}const W4e={kernelName:dy,backendName:"cpu",kernelFunc:K4e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G4e(t){const{inputs:e,backend:n,attrs:r}=t,{x:s}=e,{k:i,sorted:o}=r;Ve(s,"topk");const a=n.data.get(s.dataId).values,[u,l]=uK(a,s.shape,s.dtype,i,o);return[n.makeTensorInfo(u.shape,u.dtype,u.values),n.makeTensorInfo(l.shape,l.dtype,l.values)]}const j4e={kernelName:$_,backendName:"cpu",kernelFunc:G4e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X4e(t){const{inputs:e,attrs:n,backend:r}=t,{image:s,transforms:i}=e,{interpolation:o,fillMode:a,fillValue:u,outputShape:l}=n,[c,A,d,h]=s.shape,[f,p]=l!=null?l:[A,d],m=[c,f,p,h],g=et(s.shape),y=g[0],C=g[1],b=g[2],B=et(m),I=B[0],w=B[1],$=B[2],T=_r(s.dtype,de(m));T.fill(u);const _=r.data.get(s.dataId).values,R=r.data.get(i.dataId).values;for(let L=0;L<c;++L){const z=i.shape[0]===1?R:R.subarray(L*8,L*8+8);for(let V=0;V<f;++V)for(let q=0;q<p;++q)for(let ne=0;ne<h;++ne){let H;const J=z[6]*q+z[7]*V+1;if(J===0)continue;const se=(z[0]*q+z[1]*V+z[2])/J,ae=(z[3]*q+z[4]*V+z[5])/J,Ae=IP(se,d,a),pe=IP(ae,A,a);switch(o){case"nearest":H=tRe(_,A,d,y,C,b,L,pe,Ae,ne,u);break;case"bilinear":H=nRe(_,A,d,y,C,b,L,pe,Ae,ne,u);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${o}`)}const ye=L*I+V*w+q*$+ne;T[ye]=H}return r.makeTensorInfo(m,s.dtype,T)}return{dataId:r.write(T,m,s.dtype),shape:s.shape,dtype:s.dtype}}const q4e={kernelName:S_,backendName:"cpu",kernelFunc:X4e};function IP(t,e,n){switch(n){case"reflect":return Y4e(t,e);case"wrap":return J4e(t,e);case"nearest":return eRe(t,e);case"constant":default:return Z4e(t)}}function Y4e(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=2*e;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-e?n+r:-n-1}else if(n>e-1)if(e<=1)n=0;else{const r=2*e;n-=r*Math.trunc(n/r),n>=e&&(n=r-n-1)}return KA(0,n,e-1)}function J4e(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=e-1;n+=e*(Math.trunc(-n/r)+1)}else if(n>e-1)if(e<=1)n=0;else{const r=e-1;n-=e*Math.trunc(n/r)}return KA(0,n,e-1)}function Z4e(t,e){return t}function eRe(t,e){return KA(0,t,e-1)}function lg(t,e,n,r,s,i,o,a,u,l,c){const A=o*r+a*s+u*i+l;return 0<=a&&a<e&&0<=u&&u<n?t[A]:c}function tRe(t,e,n,r,s,i,o,a,u,l,c){const A=Math.round(a),d=Math.round(u);return lg(t,e,n,r,s,i,o,A,d,l,c)}function nRe(t,e,n,r,s,i,o,a,u,l,c){const A=Math.floor(a),d=Math.floor(u),h=A+1,f=d+1,p=(f-u)*lg(t,e,n,r,s,i,o,A,d,l,c)+(u-d)*lg(t,e,n,r,s,i,o,A,f,l,c),m=(f-u)*lg(t,e,n,r,s,i,o,h,d,l,c)+(u-d)*lg(t,e,n,r,s,i,o,h,f,l,c);return(h-a)*p+(a-A)*m}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rRe(t){const{inputs:e,attrs:n,backend:r}=t,{axis:s}=n,{x:i}=e;Ve(i,"unique");const o=r.data.get(i.dataId).values,{outputValues:a,outputShape:u,indices:l}=lK(o,s,i.shape,i.dtype);return[r.makeTensorInfo(u,i.dtype,a),r.makeTensorInfo([l.length],"int32",l)]}const sRe={kernelName:T_,backendName:"cpu",kernelFunc:rRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iRe(t){const{inputs:e,backend:n,attrs:r}=t,{value:s}=e;let{axis:i}=r;i<0&&(i+=s.shape.length);const o=s.shape.length,a=s.shape[i],u=new Array(o-1);let l=0;for(let h=0;h<o;h++)h!==i&&(u[l++]=s.shape[h]);const c=new Array(o).fill(0),A=s.shape.slice();A[i]=1;const d=new Array(a);for(let h=0;h<d.length;h++){c[i]=h;const f=YA({inputs:{x:s},backend:n,attrs:{begin:c,size:A}});d[h]=An({inputs:{x:f},backend:n,attrs:{shape:u}}),n.disposeIntermediateTensorInfo(f)}return d}const oRe={kernelName:Jx,backendName:"cpu",kernelFunc:iRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aRe(t){const{inputs:e,backend:n,attrs:r}=t,{x:s,segmentIds:i}=e,{numSegments:o}=r;Ve(s,"unsortedSegmentSum");const a=s.shape.length,u=i.shape.length,l=[],c=[],A=a-u;let d=i;for(let f=0;f<A;++f){const p=LC({inputs:{input:d},backend:n,attrs:{dim:f+1}});d=p,c.push(p)}for(let f=0;f<o;++f){const p=Sc(f,"int32"),m=n.makeTensorInfo([],"int32",p),g=$z({inputs:{a:m,b:d},backend:n}),y=uc({inputs:{x:g},backend:n,attrs:{dtype:"float32"}}),C=N2({inputs:{a:y,b:s},backend:n}),b=zy({inputs:{x:C},backend:n,attrs:{axis:0,keepDims:!1}});l.push(b),c.push(m),c.push(g),c.push(y),c.push(C),c.push(b)}const h=vj({inputs:l,backend:n,attrs:{axis:0}});return c.forEach(f=>n.disposeIntermediateTensorInfo(f)),h}const uRe={kernelName:Zx,backendName:"cpu",kernelFunc:aRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lRe=[oFe,V0e,uFe,cFe,X0e,dFe,fFe,gFe,yFe,wFe,bFe,BFe,EFe,TFe,kFe,DFe,OFe,LFe,MFe,sFe,HFe,zFe,WFe,jFe,G0e,Y0e,qFe,z0e,JFe,e_e,t_e,r_e,i_e,a_e,l_e,A_e,h_e,p_e,m_e,v_e,C_e,x_e,I_e,E_e,S_e,N_e,F_e,__e,D_e,R_e,L_e,Yke,M_e,J0e,j_e,Z0e,X_e,tye,t3e,n3e,s3e,rye,a3e,l3e,A3e,h3e,p3e,iye,aye,K0e,m3e,ZFe,v3e,C3e,x3e,Jke,lye,Aye,I3e,hye,$3e,N3e,F3e,R3e,U3e,P3e,M3e,pye,H3e,z3e,W3e,j3e,q3e,J3e,eDe,mye,nDe,iDe,uDe,vye,Cye,ADe,fDe,mDe,xye,vDe,CDe,bDe,wj,EDe,eFe,Eye,SDe,NDe,FDe,W0e,dT,DDe,tFe,nFe,rFe,ODe,LDe,MDe,HDe,zDe,KDe,GDe,Dye,XDe,e4e,n4e,o4e,Oye,u4e,c4e,d4e,Uye,oDe,p4e,m4e,v4e,C4e,x4e,I4e,$4e,T4e,Mye,N4e,Hye,F4e,D4e,O4e,L4e,M4e,Wye,O_e,H4e,z4e,W4e,j4e,q4e,Bye,sRe,oRe,uRe,wDe];for(const t of lRe)_8(t);/** @license See the LICENSE file. *//**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 *//*!
 * Cropper.js v1.6.1
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-09-17T03:44:19.860Z
 */function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Cj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){dRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fT(t){return fT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fT(t)}function cRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xj(r.key),r)}}function ARe(t,e,n){return e&&$P(t.prototype,e),n&&$P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dRe(t,e,n){return e=xj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bj(t){return hRe(t)||fRe(t)||pRe(t)||gRe()}function hRe(t){if(Array.isArray(t))return pT(t)}function fRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pRe(t,e){if(!!t){if(typeof t=="string")return pT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pT(t,e)}}function pT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mRe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xj(t){var e=mRe(t,"string");return typeof e=="symbol"?e:String(e)}var W2=typeof window<"u"&&typeof window.document<"u",Ka=W2?window:{},LD=W2&&Ka.document.documentElement?"ontouchstart"in Ka.document.documentElement:!1,PD=W2?"PointerEvent"in Ka:!1,Nn="cropper",MD="all",Bj="crop",Ij="move",Ej="zoom",Yc="e",Jc="w",Vd="s",il="n",Pp="ne",Mp="nw",Qp="se",Hp="sw",gT="".concat(Nn,"-crop"),SP="".concat(Nn,"-disabled"),oi="".concat(Nn,"-hidden"),TP="".concat(Nn,"-hide"),yRe="".concat(Nn,"-invisible"),MC="".concat(Nn,"-modal"),mT="".concat(Nn,"-move"),_m="".concat(Nn,"Action"),e1="".concat(Nn,"Preview"),QD="crop",$j="move",Sj="none",yT="crop",vT="cropend",wT="cropmove",CT="cropstart",NP="dblclick",vRe=LD?"touchstart":"mousedown",wRe=LD?"touchmove":"mousemove",CRe=LD?"touchend touchcancel":"mouseup",kP=PD?"pointerdown":vRe,FP=PD?"pointermove":wRe,_P=PD?"pointerup pointercancel":CRe,DP="ready",RP="resize",OP="wheel",bT="zoom",UP="image/jpeg",bRe=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,xRe=/^data:/,BRe=/^data:image\/jpeg;base64,/,IRe=/^img|canvas$/i,Tj=200,Nj=100,LP={viewMode:0,dragMode:QD,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Tj,minContainerHeight:Nj,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ERe='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',$Re=Number.isNaN||Ka.isNaN;function _t(t){return typeof t=="number"&&!$Re(t)}var PP=function(e){return e>0&&e<1/0};function cE(t){return typeof t>"u"}function ed(t){return fT(t)==="object"&&t!==null}var SRe=Object.prototype.hasOwnProperty;function Sh(t){if(!ed(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&SRe.call(n,"isPrototypeOf")}catch{return!1}}function si(t){return typeof t=="function"}var TRe=Array.prototype.slice;function kj(t){return Array.from?Array.from(t):TRe.call(t)}function hr(t,e){return t&&si(e)&&(Array.isArray(t)||_t(t.length)?kj(t).forEach(function(n,r){e.call(t,n,r,t)}):ed(t)&&Object.keys(t).forEach(function(n){e.call(t,t[n],n,t)})),t}var _n=Object.assign||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return ed(e)&&r.length>0&&r.forEach(function(i){ed(i)&&Object.keys(i).forEach(function(o){e[o]=i[o]})}),e},NRe=/\.\d*(?:0|9){12}\d*$/;function jh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return NRe.test(t)?Math.round(t*e)/e:t}var kRe=/^width|height|left|top|marginLeft|marginTop$/;function $l(t,e){var n=t.style;hr(e,function(r,s){kRe.test(s)&&_t(r)&&(r="".concat(r,"px")),n[s]=r})}function FRe(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function Pr(t,e){if(!!e){if(_t(t.length)){hr(t,function(r){Pr(r,e)});return}if(t.classList){t.classList.add(e);return}var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function Ma(t,e){if(!!e){if(_t(t.length)){hr(t,function(n){Ma(n,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Th(t,e,n){if(!!e){if(_t(t.length)){hr(t,function(r){Th(r,e,n)});return}n?Pr(t,e):Ma(t,e)}}var _Re=/([a-z\d])([A-Z])/g;function HD(t){return t.replace(_Re,"$1-$2").toLowerCase()}function xT(t,e){return ed(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(HD(e)))}function Dm(t,e,n){ed(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(HD(e)),n)}function DRe(t,e){if(ed(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(HD(e)))}var Fj=/\s\s*/,_j=function(){var t=!1;if(W2){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(i){e=i}});Ka.addEventListener("test",n,r),Ka.removeEventListener("test",n,r)}return t}();function Do(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(Fj).forEach(function(i){if(!_j){var o=t.listeners;o&&o[i]&&o[i][n]&&(s=o[i][n],delete o[i][n],Object.keys(o[i]).length===0&&delete o[i],Object.keys(o).length===0&&delete t.listeners)}t.removeEventListener(i,s,r)})}function Zi(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=n;e.trim().split(Fj).forEach(function(i){if(r.once&&!_j){var o=t.listeners,a=o===void 0?{}:o;s=function(){delete a[i][n],t.removeEventListener(i,s,r);for(var l=arguments.length,c=new Array(l),A=0;A<l;A++)c[A]=arguments[A];n.apply(t,c)},a[i]||(a[i]={}),a[i][n]&&t.removeEventListener(i,a[i][n],r),a[i][n]=s,t.listeners=a}t.addEventListener(i,s,r)})}function Xh(t,e,n){var r;return si(Event)&&si(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,n)),t.dispatchEvent(r)}function Dj(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var AE=Ka.location,RRe=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function MP(t){var e=t.match(RRe);return e!==null&&(e[1]!==AE.protocol||e[2]!==AE.hostname||e[3]!==AE.port)}function QP(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function Ug(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,s=t.translateX,i=t.translateY,o=[];_t(s)&&s!==0&&o.push("translateX(".concat(s,"px)")),_t(i)&&i!==0&&o.push("translateY(".concat(i,"px)")),_t(e)&&e!==0&&o.push("rotate(".concat(e,"deg)")),_t(n)&&n!==1&&o.push("scaleX(".concat(n,")")),_t(r)&&r!==1&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function ORe(t){var e=Cj({},t),n=0;return hr(t,function(r,s){delete e[s],hr(e,function(i){var o=Math.abs(r.startX-i.startX),a=Math.abs(r.startY-i.startY),u=Math.abs(r.endX-i.endX),l=Math.abs(r.endY-i.endY),c=Math.sqrt(o*o+a*a),A=Math.sqrt(u*u+l*l),d=(A-c)/c;Math.abs(d)>Math.abs(n)&&(n=d)})}),n}function t1(t,e){var n=t.pageX,r=t.pageY,s={endX:n,endY:r};return e?s:Cj({startX:n,startY:r},s)}function URe(t){var e=0,n=0,r=0;return hr(t,function(s){var i=s.startX,o=s.startY;e+=i,n+=o,r+=1}),e/=r,n/=r,{pageX:e,pageY:n}}function Sl(t){var e=t.aspectRatio,n=t.height,r=t.width,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",i=PP(r),o=PP(n);if(i&&o){var a=n*e;s==="contain"&&a>r||s==="cover"&&a<r?n=r/e:r=n*e}else i?n=r/e:o&&(r=n*e);return{width:r,height:n}}function LRe(t){var e=t.width,n=t.height,r=t.degree;if(r=Math.abs(r)%180,r===90)return{width:n,height:e};var s=r%90*Math.PI/180,i=Math.sin(s),o=Math.cos(s),a=e*o+n*i,u=e*i+n*o;return r>90?{width:u,height:a}:{width:a,height:u}}function PRe(t,e,n,r){var s=e.aspectRatio,i=e.naturalWidth,o=e.naturalHeight,a=e.rotate,u=a===void 0?0:a,l=e.scaleX,c=l===void 0?1:l,A=e.scaleY,d=A===void 0?1:A,h=n.aspectRatio,f=n.naturalWidth,p=n.naturalHeight,m=r.fillColor,g=m===void 0?"transparent":m,y=r.imageSmoothingEnabled,C=y===void 0?!0:y,b=r.imageSmoothingQuality,B=b===void 0?"low":b,I=r.maxWidth,w=I===void 0?1/0:I,$=r.maxHeight,T=$===void 0?1/0:$,_=r.minWidth,R=_===void 0?0:_,P=r.minHeight,L=P===void 0?0:P,z=document.createElement("canvas"),V=z.getContext("2d"),q=Sl({aspectRatio:h,width:w,height:T}),ne=Sl({aspectRatio:h,width:R,height:L},"cover"),H=Math.min(q.width,Math.max(ne.width,f)),J=Math.min(q.height,Math.max(ne.height,p)),se=Sl({aspectRatio:s,width:w,height:T}),ae=Sl({aspectRatio:s,width:R,height:L},"cover"),Ae=Math.min(se.width,Math.max(ae.width,i)),pe=Math.min(se.height,Math.max(ae.height,o)),ye=[-Ae/2,-pe/2,Ae,pe];return z.width=jh(H),z.height=jh(J),V.fillStyle=g,V.fillRect(0,0,H,J),V.save(),V.translate(H/2,J/2),V.rotate(u*Math.PI/180),V.scale(c,d),V.imageSmoothingEnabled=C,V.imageSmoothingQuality=B,V.drawImage.apply(V,[t].concat(bj(ye.map(function(ve){return Math.floor(jh(ve))})))),V.restore(),z}var Rj=String.fromCharCode;function MRe(t,e,n){var r="";n+=e;for(var s=e;s<n;s+=1)r+=Rj(t.getUint8(s));return r}var QRe=/^data:.*,/;function HRe(t){var e=t.replace(QRe,""),n=atob(e),r=new ArrayBuffer(n.length),s=new Uint8Array(r);return hr(s,function(i,o){s[o]=n.charCodeAt(o)}),r}function VRe(t,e){for(var n=[],r=8192,s=new Uint8Array(t);s.length>0;)n.push(Rj.apply(null,kj(s.subarray(0,r)))),s=s.subarray(r);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}function zRe(t){var e=new DataView(t),n;try{var r,s,i;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,a=2;a+1<o;){if(e.getUint8(a)===255&&e.getUint8(a+1)===225){s=a;break}a+=1}if(s){var u=s+4,l=s+10;if(MRe(e,u,4)==="Exif"){var c=e.getUint16(l);if(r=c===18761,(r||c===19789)&&e.getUint16(l+2,r)===42){var A=e.getUint32(l+4,r);A>=8&&(i=l+A)}}}if(i){var d=e.getUint16(i,r),h,f;for(f=0;f<d;f+=1)if(h=i+f*12+2,e.getUint16(h,r)===274){h+=8,n=e.getUint16(h,r),e.setUint16(h,1,r);break}}}catch{n=1}return n}function KRe(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var WRe={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,n=this.options,r=this.container,s=this.cropper,i=Number(n.minContainerWidth),o=Number(n.minContainerHeight);Pr(s,oi),Ma(e,oi);var a={width:Math.max(r.offsetWidth,i>=0?i:Tj),height:Math.max(r.offsetHeight,o>=0?o:Nj)};this.containerData=a,$l(s,{width:a.width,height:a.height}),Pr(e,oi),Ma(s,oi)},initCanvas:function(){var e=this.containerData,n=this.imageData,r=this.options.viewMode,s=Math.abs(n.rotate)%180===90,i=s?n.naturalHeight:n.naturalWidth,o=s?n.naturalWidth:n.naturalHeight,a=i/o,u=e.width,l=e.height;e.height*a>e.width?r===3?u=e.height*a:l=e.width/a:r===3?l=e.width/a:u=e.height*a;var c={aspectRatio:a,naturalWidth:i,naturalHeight:o,width:u,height:l};this.canvasData=c,this.limited=r===1||r===2,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(e.width-c.width)/2,c.top=(e.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=_n({},c)},limitCanvas:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,o=this.cropBoxData,a=r.viewMode,u=i.aspectRatio,l=this.cropped&&o;if(e){var c=Number(r.minCanvasWidth)||0,A=Number(r.minCanvasHeight)||0;a>1?(c=Math.max(c,s.width),A=Math.max(A,s.height),a===3&&(A*u>c?c=A*u:A=c/u)):a>0&&(c?c=Math.max(c,l?o.width:0):A?A=Math.max(A,l?o.height:0):l&&(c=o.width,A=o.height,A*u>c?c=A*u:A=c/u));var d=Sl({aspectRatio:u,width:c,height:A});c=d.width,A=d.height,i.minWidth=c,i.minHeight=A,i.maxWidth=1/0,i.maxHeight=1/0}if(n)if(a>(l?0:1)){var h=s.width-i.width,f=s.height-i.height;i.minLeft=Math.min(0,h),i.minTop=Math.min(0,f),i.maxLeft=Math.max(0,h),i.maxTop=Math.max(0,f),l&&this.limited&&(i.minLeft=Math.min(o.left,o.left+(o.width-i.width)),i.minTop=Math.min(o.top,o.top+(o.height-i.height)),i.maxLeft=o.left,i.maxTop=o.top,a===2&&(i.width>=s.width&&(i.minLeft=Math.min(0,h),i.maxLeft=Math.max(0,h)),i.height>=s.height&&(i.minTop=Math.min(0,f),i.maxTop=Math.max(0,f))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=s.width,i.maxTop=s.height},renderCanvas:function(e,n){var r=this.canvasData,s=this.imageData;if(n){var i=LRe({width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0}),o=i.width,a=i.height,u=r.width*(o/r.naturalWidth),l=r.height*(a/r.naturalHeight);r.left-=(u-r.width)/2,r.top-=(l-r.height)/2,r.width=u,r.height=l,r.aspectRatio=o/a,r.naturalWidth=o,r.naturalHeight=a,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,$l(this.canvas,_n({width:r.width,height:r.height},Ug({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvasData,r=this.imageData,s=r.naturalWidth*(n.width/n.naturalWidth),i=r.naturalHeight*(n.height/n.naturalHeight);_n(r,{width:s,height:i,left:(n.width-s)/2,top:(n.height-i)/2}),$l(this.image,_n({width:r.width,height:r.height},Ug(_n({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,s=Number(e.autoCropArea)||.8,i={width:n.width,height:n.height};r&&(n.height*r>n.width?i.height=i.width/r:i.width=i.height*r),this.cropBoxData=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*s),i.height=Math.max(i.minHeight,i.height*s),i.left=n.left+(n.width-i.width)/2,i.top=n.top+(n.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBoxData=_n({},i)},limitCropBox:function(e,n){var r=this.options,s=this.containerData,i=this.canvasData,o=this.cropBoxData,a=this.limited,u=r.aspectRatio;if(e){var l=Number(r.minCropBoxWidth)||0,c=Number(r.minCropBoxHeight)||0,A=a?Math.min(s.width,i.width,i.width+i.left,s.width-i.left):s.width,d=a?Math.min(s.height,i.height,i.height+i.top,s.height-i.top):s.height;l=Math.min(l,s.width),c=Math.min(c,s.height),u&&(l&&c?c*u>l?c=l/u:l=c*u:l?c=l/u:c&&(l=c*u),d*u>A?d=A/u:A=d*u),o.minWidth=Math.min(l,A),o.minHeight=Math.min(c,d),o.maxWidth=A,o.maxHeight=d}n&&(a?(o.minLeft=Math.max(0,i.left),o.minTop=Math.max(0,i.top),o.maxLeft=Math.min(s.width,i.left+i.width)-o.width,o.maxTop=Math.min(s.height,i.top+i.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=s.width-o.width,o.maxTop=s.height-o.height))},renderCropBox:function(){var e=this.options,n=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&Dm(this.face,_m,r.width>=n.width&&r.height>=n.height?Ij:MD),$l(this.cropBox,_n({width:r.width,height:r.height},Ug({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Xh(this.element,yT,this.getData())}},GRe={initPreview:function(){var e=this.element,n=this.crossOrigin,r=this.options.preview,s=n?this.crossOriginUrl:this.url,i=e.alt||"The image to preview",o=document.createElement("img");if(n&&(o.crossOrigin=n),o.src=s,o.alt=i,this.viewBox.appendChild(o),this.viewBoxImage=o,!!r){var a=r;typeof r=="string"?a=e.ownerDocument.querySelectorAll(r):r.querySelector&&(a=[r]),this.previews=a,hr(a,function(u){var l=document.createElement("img");Dm(u,e1,{width:u.offsetWidth,height:u.offsetHeight,html:u.innerHTML}),n&&(l.crossOrigin=n),l.src=s,l.alt=i,l.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',u.innerHTML="",u.appendChild(l)})}},resetPreview:function(){hr(this.previews,function(e){var n=xT(e,e1);$l(e,{width:n.width,height:n.height}),e.innerHTML=n.html,DRe(e,e1)})},preview:function(){var e=this.imageData,n=this.canvasData,r=this.cropBoxData,s=r.width,i=r.height,o=e.width,a=e.height,u=r.left-n.left-e.left,l=r.top-n.top-e.top;!this.cropped||this.disabled||($l(this.viewBoxImage,_n({width:o,height:a},Ug(_n({translateX:-u,translateY:-l},e)))),hr(this.previews,function(c){var A=xT(c,e1),d=A.width,h=A.height,f=d,p=h,m=1;s&&(m=d/s,p=i*m),i&&p>h&&(m=h/i,f=s*m,p=h),$l(c,{width:f,height:p}),$l(c.getElementsByTagName("img")[0],_n({width:o*m,height:a*m},Ug(_n({translateX:-u*m,translateY:-l*m},e))))}))}},jRe={bind:function(){var e=this.element,n=this.options,r=this.cropper;si(n.cropstart)&&Zi(e,CT,n.cropstart),si(n.cropmove)&&Zi(e,wT,n.cropmove),si(n.cropend)&&Zi(e,vT,n.cropend),si(n.crop)&&Zi(e,yT,n.crop),si(n.zoom)&&Zi(e,bT,n.zoom),Zi(r,kP,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&Zi(r,OP,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Zi(r,NP,this.onDblclick=this.dblclick.bind(this)),Zi(e.ownerDocument,FP,this.onCropMove=this.cropMove.bind(this)),Zi(e.ownerDocument,_P,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&Zi(window,RP,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,n=this.options,r=this.cropper;si(n.cropstart)&&Do(e,CT,n.cropstart),si(n.cropmove)&&Do(e,wT,n.cropmove),si(n.cropend)&&Do(e,vT,n.cropend),si(n.crop)&&Do(e,yT,n.crop),si(n.zoom)&&Do(e,bT,n.zoom),Do(r,kP,this.onCropStart),n.zoomable&&n.zoomOnWheel&&Do(r,OP,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&Do(r,NP,this.onDblclick),Do(e.ownerDocument,FP,this.onCropMove),Do(e.ownerDocument,_P,this.onCropEnd),n.responsive&&Do(window,RP,this.onResize)}},XRe={resize:function(){if(!this.disabled){var e=this.options,n=this.container,r=this.containerData,s=n.offsetWidth/r.width,i=n.offsetHeight/r.height,o=Math.abs(s-1)>Math.abs(i-1)?s:i;if(o!==1){var a,u;e.restore&&(a=this.getCanvasData(),u=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(hr(a,function(l,c){a[c]=l*o})),this.setCropBoxData(hr(u,function(l,c){u[c]=l*o})))}}},dblclick:function(){this.disabled||this.options.dragMode===Sj||this.setDragMode(FRe(this.dragBox,gT)?$j:QD)},wheel:function(e){var n=this,r=Number(this.options.wheelZoomRatio)||.1,s=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e.deltaY?s=e.deltaY>0?1:-1:e.wheelDelta?s=-e.wheelDelta/120:e.detail&&(s=e.detail>0?1:-1),this.zoom(-s*r,e)))},cropStart:function(e){var n=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(_t(n)&&n!==1||_t(r)&&r!==0||e.ctrlKey))){var s=this.options,i=this.pointers,o;e.changedTouches?hr(e.changedTouches,function(a){i[a.identifier]=t1(a)}):i[e.pointerId||0]=t1(e),Object.keys(i).length>1&&s.zoomable&&s.zoomOnTouch?o=Ej:o=xT(e.target,_m),!!bRe.test(o)&&Xh(this.element,CT,{originalEvent:e,action:o})!==!1&&(e.preventDefault(),this.action=o,this.cropping=!1,o===Bj&&(this.cropping=!0,Pr(this.dragBox,MC)))}},cropMove:function(e){var n=this.action;if(!(this.disabled||!n)){var r=this.pointers;e.preventDefault(),Xh(this.element,wT,{originalEvent:e,action:n})!==!1&&(e.changedTouches?hr(e.changedTouches,function(s){_n(r[s.identifier]||{},t1(s,!0))}):_n(r[e.pointerId||0]||{},t1(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,r=this.pointers;e.changedTouches?hr(e.changedTouches,function(s){delete r[s.identifier]}):delete r[e.pointerId||0],n&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Th(this.dragBox,MC,this.cropped&&this.options.modal)),Xh(this.element,vT,{originalEvent:e,action:n}))}}},qRe={change:function(e){var n=this.options,r=this.canvasData,s=this.containerData,i=this.cropBoxData,o=this.pointers,a=this.action,u=n.aspectRatio,l=i.left,c=i.top,A=i.width,d=i.height,h=l+A,f=c+d,p=0,m=0,g=s.width,y=s.height,C=!0,b;!u&&e.shiftKey&&(u=A&&d?A/d:1),this.limited&&(p=i.minLeft,m=i.minTop,g=p+Math.min(s.width,r.width,r.left+r.width),y=m+Math.min(s.height,r.height,r.top+r.height));var B=o[Object.keys(o)[0]],I={x:B.endX-B.startX,y:B.endY-B.startY},w=function(T){switch(T){case Yc:h+I.x>g&&(I.x=g-h);break;case Jc:l+I.x<p&&(I.x=p-l);break;case il:c+I.y<m&&(I.y=m-c);break;case Vd:f+I.y>y&&(I.y=y-f);break}};switch(a){case MD:l+=I.x,c+=I.y;break;case Yc:if(I.x>=0&&(h>=g||u&&(c<=m||f>=y))){C=!1;break}w(Yc),A+=I.x,A<0&&(a=Jc,A=-A,l-=A),u&&(d=A/u,c+=(i.height-d)/2);break;case il:if(I.y<=0&&(c<=m||u&&(l<=p||h>=g))){C=!1;break}w(il),d-=I.y,c+=I.y,d<0&&(a=Vd,d=-d,c-=d),u&&(A=d*u,l+=(i.width-A)/2);break;case Jc:if(I.x<=0&&(l<=p||u&&(c<=m||f>=y))){C=!1;break}w(Jc),A-=I.x,l+=I.x,A<0&&(a=Yc,A=-A,l-=A),u&&(d=A/u,c+=(i.height-d)/2);break;case Vd:if(I.y>=0&&(f>=y||u&&(l<=p||h>=g))){C=!1;break}w(Vd),d+=I.y,d<0&&(a=il,d=-d,c-=d),u&&(A=d*u,l+=(i.width-A)/2);break;case Pp:if(u){if(I.y<=0&&(c<=m||h>=g)){C=!1;break}w(il),d-=I.y,c+=I.y,A=d*u}else w(il),w(Yc),I.x>=0?h<g?A+=I.x:I.y<=0&&c<=m&&(C=!1):A+=I.x,I.y<=0?c>m&&(d-=I.y,c+=I.y):(d-=I.y,c+=I.y);A<0&&d<0?(a=Hp,d=-d,A=-A,c-=d,l-=A):A<0?(a=Mp,A=-A,l-=A):d<0&&(a=Qp,d=-d,c-=d);break;case Mp:if(u){if(I.y<=0&&(c<=m||l<=p)){C=!1;break}w(il),d-=I.y,c+=I.y,A=d*u,l+=i.width-A}else w(il),w(Jc),I.x<=0?l>p?(A-=I.x,l+=I.x):I.y<=0&&c<=m&&(C=!1):(A-=I.x,l+=I.x),I.y<=0?c>m&&(d-=I.y,c+=I.y):(d-=I.y,c+=I.y);A<0&&d<0?(a=Qp,d=-d,A=-A,c-=d,l-=A):A<0?(a=Pp,A=-A,l-=A):d<0&&(a=Hp,d=-d,c-=d);break;case Hp:if(u){if(I.x<=0&&(l<=p||f>=y)){C=!1;break}w(Jc),A-=I.x,l+=I.x,d=A/u}else w(Vd),w(Jc),I.x<=0?l>p?(A-=I.x,l+=I.x):I.y>=0&&f>=y&&(C=!1):(A-=I.x,l+=I.x),I.y>=0?f<y&&(d+=I.y):d+=I.y;A<0&&d<0?(a=Pp,d=-d,A=-A,c-=d,l-=A):A<0?(a=Qp,A=-A,l-=A):d<0&&(a=Mp,d=-d,c-=d);break;case Qp:if(u){if(I.x>=0&&(h>=g||f>=y)){C=!1;break}w(Yc),A+=I.x,d=A/u}else w(Vd),w(Yc),I.x>=0?h<g?A+=I.x:I.y>=0&&f>=y&&(C=!1):A+=I.x,I.y>=0?f<y&&(d+=I.y):d+=I.y;A<0&&d<0?(a=Mp,d=-d,A=-A,c-=d,l-=A):A<0?(a=Hp,A=-A,l-=A):d<0&&(a=Pp,d=-d,c-=d);break;case Ij:this.move(I.x,I.y),C=!1;break;case Ej:this.zoom(ORe(o),e),C=!1;break;case Bj:if(!I.x||!I.y){C=!1;break}b=Dj(this.cropper),l=B.startX-b.left,c=B.startY-b.top,A=i.minWidth,d=i.minHeight,I.x>0?a=I.y>0?Qp:Pp:I.x<0&&(l-=A,a=I.y>0?Hp:Mp),I.y<0&&(c-=d),this.cropped||(Ma(this.cropBox,oi),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}C&&(i.width=A,i.height=d,i.left=l,i.top=c,this.action=a,this.renderCropBox()),hr(o,function($){$.startX=$.endX,$.startY=$.endY})}},YRe={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Pr(this.dragBox,MC),Ma(this.cropBox,oi),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=_n({},this.initialImageData),this.canvasData=_n({},this.initialCanvasData),this.cropBoxData=_n({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(_n(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Ma(this.dragBox,MC),Pr(this.cropBox,oi)),this},replace:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),n?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,hr(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Ma(this.cropper,SP)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Pr(this.cropper,SP)),this},destroy:function(){var e=this.element;return e[Nn]?(e[Nn]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=r.left,i=r.top;return this.moveTo(cE(e)?e:s+Number(e),cE(n)?n:i+Number(n))},moveTo:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(_t(e)&&(r.left=e,s=!0),_t(n)&&(r.top=n,s=!0),s&&this.renderCanvas(!0)),this},zoom:function(e,n){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,n)},zoomTo:function(e,n,r){var s=this.options,i=this.canvasData,o=i.width,a=i.height,u=i.naturalWidth,l=i.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&s.zoomable){var c=u*e,A=l*e;if(Xh(this.element,bT,{ratio:e,oldRatio:o/u,originalEvent:r})===!1)return this;if(r){var d=this.pointers,h=Dj(this.cropper),f=d&&Object.keys(d).length?URe(d):{pageX:r.pageX,pageY:r.pageY};i.left-=(c-o)*((f.pageX-h.left-i.left)/o),i.top-=(A-a)*((f.pageY-h.top-i.top)/a)}else Sh(n)&&_t(n.x)&&_t(n.y)?(i.left-=(c-o)*((n.x-i.left)/o),i.top-=(A-a)*((n.y-i.top)/a)):(i.left-=(c-o)/2,i.top-=(A-a)/2);i.width=c,i.height=A,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),_t(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var n=this.imageData.scaleY;return this.scale(e,_t(n)?n:1)},scaleY:function(e){var n=this.imageData.scaleX;return this.scale(_t(n)?n:1,e)},scale:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,s=!1;return e=Number(e),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(_t(e)&&(r.scaleX=e,s=!0),_t(n)&&(r.scaleY=n,s=!0),s&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,r=this.imageData,s=this.canvasData,i=this.cropBoxData,o;if(this.ready&&this.cropped){o={x:i.left-s.left,y:i.top-s.top,width:i.width,height:i.height};var a=r.width/r.naturalWidth;if(hr(o,function(c,A){o[A]=c/a}),e){var u=Math.round(o.y+o.height),l=Math.round(o.x+o.width);o.x=Math.round(o.x),o.y=Math.round(o.y),o.width=l-o.x,o.height=u-o.y}}else o={x:0,y:0,width:0,height:0};return n.rotatable&&(o.rotate=r.rotate||0),n.scalable&&(o.scaleX=r.scaleX||1,o.scaleY=r.scaleY||1),o},setData:function(e){var n=this.options,r=this.imageData,s=this.canvasData,i={};if(this.ready&&!this.disabled&&Sh(e)){var o=!1;n.rotatable&&_t(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,o=!0),n.scalable&&(_t(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,o=!0),_t(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var a=r.width/r.naturalWidth;_t(e.x)&&(i.left=e.x*a+s.left),_t(e.y)&&(i.top=e.y*a+s.top),_t(e.width)&&(i.width=e.width*a),_t(e.height)&&(i.height=e.height*a),this.setCropBoxData(i)}return this},getContainerData:function(){return this.ready?_n({},this.containerData):{}},getImageData:function(){return this.sized?_n({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,n={};return this.ready&&hr(["left","top","width","height","naturalWidth","naturalHeight"],function(r){n[r]=e[r]}),n},setCanvasData:function(e){var n=this.canvasData,r=n.aspectRatio;return this.ready&&!this.disabled&&Sh(e)&&(_t(e.left)&&(n.left=e.left),_t(e.top)&&(n.top=e.top),_t(e.width)?(n.width=e.width,n.height=e.width/r):_t(e.height)&&(n.height=e.height,n.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:e.left,top:e.top,width:e.width,height:e.height}),n||{}},setCropBoxData:function(e){var n=this.cropBoxData,r=this.options.aspectRatio,s,i;return this.ready&&this.cropped&&!this.disabled&&Sh(e)&&(_t(e.left)&&(n.left=e.left),_t(e.top)&&(n.top=e.top),_t(e.width)&&e.width!==n.width&&(s=!0,n.width=e.width),_t(e.height)&&e.height!==n.height&&(i=!0,n.height=e.height),r&&(s?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,r=PRe(this.image,this.imageData,n,e);if(!this.cropped)return r;var s=this.getData(e.rounded),i=s.x,o=s.y,a=s.width,u=s.height,l=r.width/Math.floor(n.naturalWidth);l!==1&&(i*=l,o*=l,a*=l,u*=l);var c=a/u,A=Sl({aspectRatio:c,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),d=Sl({aspectRatio:c,width:e.minWidth||0,height:e.minHeight||0},"cover"),h=Sl({aspectRatio:c,width:e.width||(l!==1?r.width:a),height:e.height||(l!==1?r.height:u)}),f=h.width,p=h.height;f=Math.min(A.width,Math.max(d.width,f)),p=Math.min(A.height,Math.max(d.height,p));var m=document.createElement("canvas"),g=m.getContext("2d");m.width=jh(f),m.height=jh(p),g.fillStyle=e.fillColor||"transparent",g.fillRect(0,0,f,p);var y=e.imageSmoothingEnabled,C=y===void 0?!0:y,b=e.imageSmoothingQuality;g.imageSmoothingEnabled=C,b&&(g.imageSmoothingQuality=b);var B=r.width,I=r.height,w=i,$=o,T,_,R,P,L,z;w<=-a||w>B?(w=0,T=0,R=0,L=0):w<=0?(R=-w,w=0,T=Math.min(B,a+w),L=T):w<=B&&(R=0,T=Math.min(a,B-w),L=T),T<=0||$<=-u||$>I?($=0,_=0,P=0,z=0):$<=0?(P=-$,$=0,_=Math.min(I,u+$),z=_):$<=I&&(P=0,_=Math.min(u,I-$),z=_);var V=[w,$,T,_];if(L>0&&z>0){var q=f/a;V.push(R*q,P*q,L*q,z*q)}return g.drawImage.apply(g,[r].concat(bj(V.map(function(ne){return Math.floor(jh(ne))})))),m},setAspectRatio:function(e){var n=this.options;return!this.disabled&&!cE(e)&&(n.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var n=this.options,r=this.dragBox,s=this.face;if(this.ready&&!this.disabled){var i=e===QD,o=n.movable&&e===$j;e=i||o?e:Sj,n.dragMode=e,Dm(r,_m,e),Th(r,gT,i),Th(r,mT,o),n.cropBoxMovable||(Dm(s,_m,e),Th(s,gT,i),Th(s,mT,o))}return this}},JRe=Ka.Cropper,Oj=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(cRe(this,t),!e||!IRe.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=_n({},LP,Sh(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return ARe(t,[{key:"init",value:function(){var n=this.element,r=n.tagName.toLowerCase(),s;if(!n[Nn]){if(n[Nn]=this,r==="img"){if(this.isImg=!0,s=n.getAttribute("src")||"",this.originalUrl=s,!s)return;s=n.src}else r==="canvas"&&window.HTMLCanvasElement&&(s=n.toDataURL());this.load(s)}}},{key:"load",value:function(n){var r=this;if(!!n){this.url=n,this.imageData={};var s=this.element,i=this.options;if(!i.rotatable&&!i.scalable&&(i.checkOrientation=!1),!i.checkOrientation||!window.ArrayBuffer){this.clone();return}if(xRe.test(n)){BRe.test(n)?this.read(HRe(n)):this.clone();return}var o=new XMLHttpRequest,a=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=a,o.onerror=a,o.ontimeout=a,o.onprogress=function(){o.getResponseHeader("content-type")!==UP&&o.abort()},o.onload=function(){r.read(o.response)},o.onloadend=function(){r.reloading=!1,r.xhr=null},i.checkCrossOrigin&&MP(n)&&s.crossOrigin&&(n=QP(n)),o.open("GET",n,!0),o.responseType="arraybuffer",o.withCredentials=s.crossOrigin==="use-credentials",o.send()}}},{key:"read",value:function(n){var r=this.options,s=this.imageData,i=zRe(n),o=0,a=1,u=1;if(i>1){this.url=VRe(n,UP);var l=KRe(i);o=l.rotate,a=l.scaleX,u=l.scaleY}r.rotatable&&(s.rotate=o),r.scalable&&(s.scaleX=a,s.scaleY=u),this.clone()}},{key:"clone",value:function(){var n=this.element,r=this.url,s=n.crossOrigin,i=r;this.options.checkCrossOrigin&&MP(r)&&(s||(s="anonymous"),i=QP(r)),this.crossOrigin=s,this.crossOriginUrl=i;var o=document.createElement("img");s&&(o.crossOrigin=s),o.src=i||r,o.alt=n.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),Pr(o,TP),n.parentNode.insertBefore(o,n.nextSibling)}},{key:"start",value:function(){var n=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var s=Ka.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Ka.navigator.userAgent),i=function(l,c){_n(n.imageData,{naturalWidth:l,naturalHeight:c,aspectRatio:l/c}),n.initialImageData=_n({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(r.naturalWidth&&!s){i(r.naturalWidth,r.naturalHeight);return}var o=document.createElement("img"),a=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){i(o.width,o.height),s||a.removeChild(o)},o.src=r.src,s||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(o))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,r=this.options,s=this.image,i=n.parentNode,o=document.createElement("div");o.innerHTML=ERe;var a=o.querySelector(".".concat(Nn,"-container")),u=a.querySelector(".".concat(Nn,"-canvas")),l=a.querySelector(".".concat(Nn,"-drag-box")),c=a.querySelector(".".concat(Nn,"-crop-box")),A=c.querySelector(".".concat(Nn,"-face"));this.container=i,this.cropper=a,this.canvas=u,this.dragBox=l,this.cropBox=c,this.viewBox=a.querySelector(".".concat(Nn,"-view-box")),this.face=A,u.appendChild(s),Pr(n,oi),i.insertBefore(a,n.nextSibling),Ma(s,TP),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,Pr(c,oi),r.guides||Pr(c.getElementsByClassName("".concat(Nn,"-dashed")),oi),r.center||Pr(c.getElementsByClassName("".concat(Nn,"-center")),oi),r.background&&Pr(a,"".concat(Nn,"-bg")),r.highlight||Pr(A,yRe),r.cropBoxMovable&&(Pr(A,mT),Dm(A,_m,MD)),r.cropBoxResizable||(Pr(c.getElementsByClassName("".concat(Nn,"-line")),oi),Pr(c.getElementsByClassName("".concat(Nn,"-point")),oi)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),si(r.ready)&&Zi(n,DP,r.ready,{once:!0}),Xh(n,DP)}}},{key:"unbuild",value:function(){if(!!this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),Ma(this.element,oi)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=JRe,t}},{key:"setDefaults",value:function(n){_n(LP,Sh(n)&&n)}}]),t}();_n(Oj.prototype,WRe,GRe,jRe,XRe,qRe,YRe);var uA=function(){return uA=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},uA.apply(this,arguments)};function dE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n}var ZRe=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],eOe={opacity:0,maxWidth:"100%"},tOe=gr.forwardRef(function(t,e){var n=dE(t,[]),r=n.dragMode,s=r===void 0?"crop":r,i=n.src,o=n.style,a=n.className,u=n.crossOrigin,l=n.scaleX,c=n.scaleY,A=n.enable,d=n.zoomTo,h=n.rotateTo,f=n.alt,p=f===void 0?"picture":f,m=n.ready,g=n.onInitialized,y=dE(n,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),C={scaleY:c,scaleX:l,enable:A,zoomTo:d,rotateTo:h},b=function(){for(var I=[],w=0;w<arguments.length;w++)I[w]=arguments[w];var $=Z.exports.useRef(null);return gr.useEffect(function(){I.forEach(function(T){T&&(typeof T=="function"?T($.current):T.current=$.current)})},[I]),$}(e,Z.exports.useRef(null));Z.exports.useEffect(function(){var I;((I=b.current)===null||I===void 0?void 0:I.cropper)&&typeof d=="number"&&b.current.cropper.zoomTo(d)},[n.zoomTo]),Z.exports.useEffect(function(){var I;((I=b.current)===null||I===void 0?void 0:I.cropper)&&i!==void 0&&b.current.cropper.reset().clear().replace(i)},[i]),Z.exports.useEffect(function(){if(b.current!==null){var I=new Oj(b.current,uA(uA({dragMode:s},y),{ready:function(w){w.currentTarget!==null&&function($,T){T===void 0&&(T={});var _=T.enable,R=_===void 0||_,P=T.scaleX,L=P===void 0?1:P,z=T.scaleY,V=z===void 0?1:z,q=T.zoomTo,ne=q===void 0?0:q,H=T.rotateTo;R?$.enable():$.disable(),$.scaleX(L),$.scaleY(V),H!==void 0&&$.rotateTo(H),ne>0&&$.zoomTo(ne)}(w.currentTarget.cropper,C),m&&m(w)}}));g&&g(I)}return function(){var w,$;($=(w=b.current)===null||w===void 0?void 0:w.cropper)===null||$===void 0||$.destroy()}},[b]);var B=function(I){return ZRe.reduce(function(w,$){var T=w,_=$;return T[_],dE(T,[typeof _=="symbol"?_:_+""])},I)}(uA(uA({},y),{crossOrigin:u,src:i,alt:p}));return M("div",{style:o,className:a,children:M("img",{...uA({},B,{style:eOe,ref:b})})})});var Uj={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:ja,function(e,n){var r=[],s=Object.getPrototypeOf,i=r.slice,o=r.flat?function(v){return r.flat.call(v)}:function(v){return r.concat.apply([],v)},a=r.push,u=r.indexOf,l={},c=l.toString,A=l.hasOwnProperty,d=A.toString,h=d.call(Object),f={},p=function(x){return typeof x=="function"&&typeof x.nodeType!="number"&&typeof x.item!="function"},m=function(x){return x!=null&&x===x.window},g=e.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function C(v,x,E){E=E||g;var S,k,F=E.createElement("script");if(F.text=v,x)for(S in y)k=x[S]||x.getAttribute&&x.getAttribute(S),k&&F.setAttribute(S,k);E.head.appendChild(F).parentNode.removeChild(F)}function b(v){return v==null?v+"":typeof v=="object"||typeof v=="function"?l[c.call(v)]||"object":typeof v}var B="3.7.1",I=/HTML$/i,w=function(v,x){return new w.fn.init(v,x)};w.fn=w.prototype={jquery:B,constructor:w,length:0,toArray:function(){return i.call(this)},get:function(v){return v==null?i.call(this):v<0?this[v+this.length]:this[v]},pushStack:function(v){var x=w.merge(this.constructor(),v);return x.prevObject=this,x},each:function(v){return w.each(this,v)},map:function(v){return this.pushStack(w.map(this,function(x,E){return v.call(x,E,x)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,function(v,x){return(x+1)%2}))},odd:function(){return this.pushStack(w.grep(this,function(v,x){return x%2}))},eq:function(v){var x=this.length,E=+v+(v<0?x:0);return this.pushStack(E>=0&&E<x?[this[E]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:r.sort,splice:r.splice},w.extend=w.fn.extend=function(){var v,x,E,S,k,F,D=arguments[0]||{},W=1,K=arguments.length,re=!1;for(typeof D=="boolean"&&(re=D,D=arguments[W]||{},W++),typeof D!="object"&&!p(D)&&(D={}),W===K&&(D=this,W--);W<K;W++)if((v=arguments[W])!=null)for(x in v)S=v[x],!(x==="__proto__"||D===S)&&(re&&S&&(w.isPlainObject(S)||(k=Array.isArray(S)))?(E=D[x],k&&!Array.isArray(E)?F=[]:!k&&!w.isPlainObject(E)?F={}:F=E,k=!1,D[x]=w.extend(re,F,S)):S!==void 0&&(D[x]=S));return D},w.extend({expando:"jQuery"+(B+Math.random()).replace(/\D/g,""),isReady:!0,error:function(v){throw new Error(v)},noop:function(){},isPlainObject:function(v){var x,E;return!v||c.call(v)!=="[object Object]"?!1:(x=s(v),x?(E=A.call(x,"constructor")&&x.constructor,typeof E=="function"&&d.call(E)===h):!0)},isEmptyObject:function(v){var x;for(x in v)return!1;return!0},globalEval:function(v,x,E){C(v,{nonce:x&&x.nonce},E)},each:function(v,x){var E,S=0;if($(v))for(E=v.length;S<E&&x.call(v[S],S,v[S])!==!1;S++);else for(S in v)if(x.call(v[S],S,v[S])===!1)break;return v},text:function(v){var x,E="",S=0,k=v.nodeType;if(!k)for(;x=v[S++];)E+=w.text(x);return k===1||k===11?v.textContent:k===9?v.documentElement.textContent:k===3||k===4?v.nodeValue:E},makeArray:function(v,x){var E=x||[];return v!=null&&($(Object(v))?w.merge(E,typeof v=="string"?[v]:v):a.call(E,v)),E},inArray:function(v,x,E){return x==null?-1:u.call(x,v,E)},isXMLDoc:function(v){var x=v&&v.namespaceURI,E=v&&(v.ownerDocument||v).documentElement;return!I.test(x||E&&E.nodeName||"HTML")},merge:function(v,x){for(var E=+x.length,S=0,k=v.length;S<E;S++)v[k++]=x[S];return v.length=k,v},grep:function(v,x,E){for(var S,k=[],F=0,D=v.length,W=!E;F<D;F++)S=!x(v[F],F),S!==W&&k.push(v[F]);return k},map:function(v,x,E){var S,k,F=0,D=[];if($(v))for(S=v.length;F<S;F++)k=x(v[F],F,E),k!=null&&D.push(k);else for(F in v)k=x(v[F],F,E),k!=null&&D.push(k);return o(D)},guid:1,support:f}),typeof Symbol=="function"&&(w.fn[Symbol.iterator]=r[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(v,x){l["[object "+x+"]"]=x.toLowerCase()});function $(v){var x=!!v&&"length"in v&&v.length,E=b(v);return p(v)||m(v)?!1:E==="array"||x===0||typeof x=="number"&&x>0&&x-1 in v}function T(v,x){return v.nodeName&&v.nodeName.toLowerCase()===x.toLowerCase()}var _=r.pop,R=r.sort,P=r.splice,L="[\\x20\\t\\r\\n\\f]",z=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g");w.contains=function(v,x){var E=x&&x.parentNode;return v===E||!!(E&&E.nodeType===1&&(v.contains?v.contains(E):v.compareDocumentPosition&&v.compareDocumentPosition(E)&16))};var V=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function q(v,x){return x?v==="\0"?"\uFFFD":v.slice(0,-1)+"\\"+v.charCodeAt(v.length-1).toString(16)+" ":"\\"+v}w.escapeSelector=function(v){return(v+"").replace(V,q)};var ne=g,H=a;(function(){var v,x,E,S,k,F=H,D,W,K,re,fe,me=w.expando,ue=0,Ie=0,ct=vv(),zt=vv(),bt=vv(),Yr=vv(),br=function(Q,ee){return Q===ee&&(k=!0),0},da="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ha="(?:\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",kt="\\["+L+"*("+ha+")(?:"+L+"*([*^$|!~]?=)"+L+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ha+"))|)"+L+"*\\]",Kc=":("+ha+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+kt+")*)|.*)\\)|)",Wt=new RegExp(L+"+","g"),Kn=new RegExp("^"+L+"*,"+L+"*"),Ip=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),sI=new RegExp(L+"|>"),fa=new RegExp(Kc),Ep=new RegExp("^"+ha+"$"),pa={ID:new RegExp("^#("+ha+")"),CLASS:new RegExp("^\\.("+ha+")"),TAG:new RegExp("^("+ha+"|[*])"),ATTR:new RegExp("^"+kt),PSEUDO:new RegExp("^"+Kc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+da+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},el=/^(?:input|select|textarea|button)$/i,tl=/^h\d$/i,Xi=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,iI=/[+~]/,tu=new RegExp("\\\\[\\da-fA-F]{1,6}"+L+"?|\\\\([^\\r\\n\\f])","g"),nu=function(Q,ee){var oe="0x"+Q.slice(1)-65536;return ee||(oe<0?String.fromCharCode(oe+65536):String.fromCharCode(oe>>10|55296,oe&1023|56320))},cte=function(){nl()},Ate=Cv(function(Q){return Q.disabled===!0&&T(Q,"fieldset")},{dir:"parentNode",next:"legend"});function dte(){try{return D.activeElement}catch{}}try{F.apply(r=i.call(ne.childNodes),ne.childNodes),r[ne.childNodes.length].nodeType}catch{F={apply:function(ee,oe){H.apply(ee,i.call(oe))},call:function(ee){H.apply(ee,i.call(arguments,1))}}}function tn(Q,ee,oe,ce){var ge,Te,Ue,qe,Le,St,at,dt=ee&&ee.ownerDocument,Tt=ee?ee.nodeType:9;if(oe=oe||[],typeof Q!="string"||!Q||Tt!==1&&Tt!==9&&Tt!==11)return oe;if(!ce&&(nl(ee),ee=ee||D,K)){if(Tt!==11&&(Le=Xi.exec(Q)))if(ge=Le[1]){if(Tt===9)if(Ue=ee.getElementById(ge)){if(Ue.id===ge)return F.call(oe,Ue),oe}else return oe;else if(dt&&(Ue=dt.getElementById(ge))&&tn.contains(ee,Ue)&&Ue.id===ge)return F.call(oe,Ue),oe}else{if(Le[2])return F.apply(oe,ee.getElementsByTagName(Q)),oe;if((ge=Le[3])&&ee.getElementsByClassName)return F.apply(oe,ee.getElementsByClassName(ge)),oe}if(!Yr[Q+" "]&&(!re||!re.test(Q))){if(at=Q,dt=ee,Tt===1&&(sI.test(Q)||Ip.test(Q))){for(dt=iI.test(Q)&&oI(ee.parentNode)||ee,(dt!=ee||!f.scope)&&((qe=ee.getAttribute("id"))?qe=w.escapeSelector(qe):ee.setAttribute("id",qe=me)),St=$p(Q),Te=St.length;Te--;)St[Te]=(qe?"#"+qe:":scope")+" "+wv(St[Te]);at=St.join(",")}try{return F.apply(oe,dt.querySelectorAll(at)),oe}catch{Yr(Q,!0)}finally{qe===me&&ee.removeAttribute("id")}}}return ZR(Q.replace(z,"$1"),ee,oe,ce)}function vv(){var Q=[];function ee(oe,ce){return Q.push(oe+" ")>x.cacheLength&&delete ee[Q.shift()],ee[oe+" "]=ce}return ee}function Fo(Q){return Q[me]=!0,Q}function Od(Q){var ee=D.createElement("fieldset");try{return!!Q(ee)}catch{return!1}finally{ee.parentNode&&ee.parentNode.removeChild(ee),ee=null}}function hte(Q){return function(ee){return T(ee,"input")&&ee.type===Q}}function fte(Q){return function(ee){return(T(ee,"input")||T(ee,"button"))&&ee.type===Q}}function YR(Q){return function(ee){return"form"in ee?ee.parentNode&&ee.disabled===!1?"label"in ee?"label"in ee.parentNode?ee.parentNode.disabled===Q:ee.disabled===Q:ee.isDisabled===Q||ee.isDisabled!==!Q&&Ate(ee)===Q:ee.disabled===Q:"label"in ee?ee.disabled===Q:!1}}function Wc(Q){return Fo(function(ee){return ee=+ee,Fo(function(oe,ce){for(var ge,Te=Q([],oe.length,ee),Ue=Te.length;Ue--;)oe[ge=Te[Ue]]&&(oe[ge]=!(ce[ge]=oe[ge]))})})}function oI(Q){return Q&&typeof Q.getElementsByTagName<"u"&&Q}function nl(Q){var ee,oe=Q?Q.ownerDocument||Q:ne;return oe==D||oe.nodeType!==9||!oe.documentElement||(D=oe,W=D.documentElement,K=!w.isXMLDoc(D),fe=W.matches||W.webkitMatchesSelector||W.msMatchesSelector,W.msMatchesSelector&&ne!=D&&(ee=D.defaultView)&&ee.top!==ee&&ee.addEventListener("unload",cte),f.getById=Od(function(ce){return W.appendChild(ce).id=w.expando,!D.getElementsByName||!D.getElementsByName(w.expando).length}),f.disconnectedMatch=Od(function(ce){return fe.call(ce,"*")}),f.scope=Od(function(){return D.querySelectorAll(":scope")}),f.cssHas=Od(function(){try{return D.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),f.getById?(x.filter.ID=function(ce){var ge=ce.replace(tu,nu);return function(Te){return Te.getAttribute("id")===ge}},x.find.ID=function(ce,ge){if(typeof ge.getElementById<"u"&&K){var Te=ge.getElementById(ce);return Te?[Te]:[]}}):(x.filter.ID=function(ce){var ge=ce.replace(tu,nu);return function(Te){var Ue=typeof Te.getAttributeNode<"u"&&Te.getAttributeNode("id");return Ue&&Ue.value===ge}},x.find.ID=function(ce,ge){if(typeof ge.getElementById<"u"&&K){var Te,Ue,qe,Le=ge.getElementById(ce);if(Le){if(Te=Le.getAttributeNode("id"),Te&&Te.value===ce)return[Le];for(qe=ge.getElementsByName(ce),Ue=0;Le=qe[Ue++];)if(Te=Le.getAttributeNode("id"),Te&&Te.value===ce)return[Le]}return[]}}),x.find.TAG=function(ce,ge){return typeof ge.getElementsByTagName<"u"?ge.getElementsByTagName(ce):ge.querySelectorAll(ce)},x.find.CLASS=function(ce,ge){if(typeof ge.getElementsByClassName<"u"&&K)return ge.getElementsByClassName(ce)},re=[],Od(function(ce){var ge;W.appendChild(ce).innerHTML="<a id='"+me+"' href='' disabled='disabled'></a><select id='"+me+"-\r\\' disabled='disabled'><option selected=''></option></select>",ce.querySelectorAll("[selected]").length||re.push("\\["+L+"*(?:value|"+da+")"),ce.querySelectorAll("[id~="+me+"-]").length||re.push("~="),ce.querySelectorAll("a#"+me+"+*").length||re.push(".#.+[+~]"),ce.querySelectorAll(":checked").length||re.push(":checked"),ge=D.createElement("input"),ge.setAttribute("type","hidden"),ce.appendChild(ge).setAttribute("name","D"),W.appendChild(ce).disabled=!0,ce.querySelectorAll(":disabled").length!==2&&re.push(":enabled",":disabled"),ge=D.createElement("input"),ge.setAttribute("name",""),ce.appendChild(ge),ce.querySelectorAll("[name='']").length||re.push("\\["+L+"*name"+L+"*="+L+`*(?:''|"")`)}),f.cssHas||re.push(":has"),re=re.length&&new RegExp(re.join("|")),br=function(ce,ge){if(ce===ge)return k=!0,0;var Te=!ce.compareDocumentPosition-!ge.compareDocumentPosition;return Te||(Te=(ce.ownerDocument||ce)==(ge.ownerDocument||ge)?ce.compareDocumentPosition(ge):1,Te&1||!f.sortDetached&&ge.compareDocumentPosition(ce)===Te?ce===D||ce.ownerDocument==ne&&tn.contains(ne,ce)?-1:ge===D||ge.ownerDocument==ne&&tn.contains(ne,ge)?1:S?u.call(S,ce)-u.call(S,ge):0:Te&4?-1:1)}),D}tn.matches=function(Q,ee){return tn(Q,null,null,ee)},tn.matchesSelector=function(Q,ee){if(nl(Q),K&&!Yr[ee+" "]&&(!re||!re.test(ee)))try{var oe=fe.call(Q,ee);if(oe||f.disconnectedMatch||Q.document&&Q.document.nodeType!==11)return oe}catch{Yr(ee,!0)}return tn(ee,D,null,[Q]).length>0},tn.contains=function(Q,ee){return(Q.ownerDocument||Q)!=D&&nl(Q),w.contains(Q,ee)},tn.attr=function(Q,ee){(Q.ownerDocument||Q)!=D&&nl(Q);var oe=x.attrHandle[ee.toLowerCase()],ce=oe&&A.call(x.attrHandle,ee.toLowerCase())?oe(Q,ee,!K):void 0;return ce!==void 0?ce:Q.getAttribute(ee)},tn.error=function(Q){throw new Error("Syntax error, unrecognized expression: "+Q)},w.uniqueSort=function(Q){var ee,oe=[],ce=0,ge=0;if(k=!f.sortStable,S=!f.sortStable&&i.call(Q,0),R.call(Q,br),k){for(;ee=Q[ge++];)ee===Q[ge]&&(ce=oe.push(ge));for(;ce--;)P.call(Q,oe[ce],1)}return S=null,Q},w.fn.uniqueSort=function(){return this.pushStack(w.uniqueSort(i.apply(this)))},x=w.expr={cacheLength:50,createPseudo:Fo,match:pa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Q){return Q[1]=Q[1].replace(tu,nu),Q[3]=(Q[3]||Q[4]||Q[5]||"").replace(tu,nu),Q[2]==="~="&&(Q[3]=" "+Q[3]+" "),Q.slice(0,4)},CHILD:function(Q){return Q[1]=Q[1].toLowerCase(),Q[1].slice(0,3)==="nth"?(Q[3]||tn.error(Q[0]),Q[4]=+(Q[4]?Q[5]+(Q[6]||1):2*(Q[3]==="even"||Q[3]==="odd")),Q[5]=+(Q[7]+Q[8]||Q[3]==="odd")):Q[3]&&tn.error(Q[0]),Q},PSEUDO:function(Q){var ee,oe=!Q[6]&&Q[2];return pa.CHILD.test(Q[0])?null:(Q[3]?Q[2]=Q[4]||Q[5]||"":oe&&fa.test(oe)&&(ee=$p(oe,!0))&&(ee=oe.indexOf(")",oe.length-ee)-oe.length)&&(Q[0]=Q[0].slice(0,ee),Q[2]=oe.slice(0,ee)),Q.slice(0,3))}},filter:{TAG:function(Q){var ee=Q.replace(tu,nu).toLowerCase();return Q==="*"?function(){return!0}:function(oe){return T(oe,ee)}},CLASS:function(Q){var ee=ct[Q+" "];return ee||(ee=new RegExp("(^|"+L+")"+Q+"("+L+"|$)"))&&ct(Q,function(oe){return ee.test(typeof oe.className=="string"&&oe.className||typeof oe.getAttribute<"u"&&oe.getAttribute("class")||"")})},ATTR:function(Q,ee,oe){return function(ce){var ge=tn.attr(ce,Q);return ge==null?ee==="!=":ee?(ge+="",ee==="="?ge===oe:ee==="!="?ge!==oe:ee==="^="?oe&&ge.indexOf(oe)===0:ee==="*="?oe&&ge.indexOf(oe)>-1:ee==="$="?oe&&ge.slice(-oe.length)===oe:ee==="~="?(" "+ge.replace(Wt," ")+" ").indexOf(oe)>-1:ee==="|="?ge===oe||ge.slice(0,oe.length+1)===oe+"-":!1):!0}},CHILD:function(Q,ee,oe,ce,ge){var Te=Q.slice(0,3)!=="nth",Ue=Q.slice(-4)!=="last",qe=ee==="of-type";return ce===1&&ge===0?function(Le){return!!Le.parentNode}:function(Le,St,at){var dt,Tt,st,hn,ri,cs=Te!==Ue?"nextSibling":"previousSibling",qi=Le.parentNode,ga=qe&&Le.nodeName.toLowerCase(),Ud=!at&&!qe,Os=!1;if(qi){if(Te){for(;cs;){for(st=Le;st=st[cs];)if(qe?T(st,ga):st.nodeType===1)return!1;ri=cs=Q==="only"&&!ri&&"nextSibling"}return!0}if(ri=[Ue?qi.firstChild:qi.lastChild],Ue&&Ud){for(Tt=qi[me]||(qi[me]={}),dt=Tt[Q]||[],hn=dt[0]===ue&&dt[1],Os=hn&&dt[2],st=hn&&qi.childNodes[hn];st=++hn&&st&&st[cs]||(Os=hn=0)||ri.pop();)if(st.nodeType===1&&++Os&&st===Le){Tt[Q]=[ue,hn,Os];break}}else if(Ud&&(Tt=Le[me]||(Le[me]={}),dt=Tt[Q]||[],hn=dt[0]===ue&&dt[1],Os=hn),Os===!1)for(;(st=++hn&&st&&st[cs]||(Os=hn=0)||ri.pop())&&!((qe?T(st,ga):st.nodeType===1)&&++Os&&(Ud&&(Tt=st[me]||(st[me]={}),Tt[Q]=[ue,Os]),st===Le)););return Os-=ge,Os===ce||Os%ce===0&&Os/ce>=0}}},PSEUDO:function(Q,ee){var oe,ce=x.pseudos[Q]||x.setFilters[Q.toLowerCase()]||tn.error("unsupported pseudo: "+Q);return ce[me]?ce(ee):ce.length>1?(oe=[Q,Q,"",ee],x.setFilters.hasOwnProperty(Q.toLowerCase())?Fo(function(ge,Te){for(var Ue,qe=ce(ge,ee),Le=qe.length;Le--;)Ue=u.call(ge,qe[Le]),ge[Ue]=!(Te[Ue]=qe[Le])}):function(ge){return ce(ge,0,oe)}):ce}},pseudos:{not:Fo(function(Q){var ee=[],oe=[],ce=cI(Q.replace(z,"$1"));return ce[me]?Fo(function(ge,Te,Ue,qe){for(var Le,St=ce(ge,null,qe,[]),at=ge.length;at--;)(Le=St[at])&&(ge[at]=!(Te[at]=Le))}):function(ge,Te,Ue){return ee[0]=ge,ce(ee,null,Ue,oe),ee[0]=null,!oe.pop()}}),has:Fo(function(Q){return function(ee){return tn(Q,ee).length>0}}),contains:Fo(function(Q){return Q=Q.replace(tu,nu),function(ee){return(ee.textContent||w.text(ee)).indexOf(Q)>-1}}),lang:Fo(function(Q){return Ep.test(Q||"")||tn.error("unsupported lang: "+Q),Q=Q.replace(tu,nu).toLowerCase(),function(ee){var oe;do if(oe=K?ee.lang:ee.getAttribute("xml:lang")||ee.getAttribute("lang"))return oe=oe.toLowerCase(),oe===Q||oe.indexOf(Q+"-")===0;while((ee=ee.parentNode)&&ee.nodeType===1);return!1}}),target:function(Q){var ee=e.location&&e.location.hash;return ee&&ee.slice(1)===Q.id},root:function(Q){return Q===W},focus:function(Q){return Q===dte()&&D.hasFocus()&&!!(Q.type||Q.href||~Q.tabIndex)},enabled:YR(!1),disabled:YR(!0),checked:function(Q){return T(Q,"input")&&!!Q.checked||T(Q,"option")&&!!Q.selected},selected:function(Q){return Q.parentNode&&Q.parentNode.selectedIndex,Q.selected===!0},empty:function(Q){for(Q=Q.firstChild;Q;Q=Q.nextSibling)if(Q.nodeType<6)return!1;return!0},parent:function(Q){return!x.pseudos.empty(Q)},header:function(Q){return tl.test(Q.nodeName)},input:function(Q){return el.test(Q.nodeName)},button:function(Q){return T(Q,"input")&&Q.type==="button"||T(Q,"button")},text:function(Q){var ee;return T(Q,"input")&&Q.type==="text"&&((ee=Q.getAttribute("type"))==null||ee.toLowerCase()==="text")},first:Wc(function(){return[0]}),last:Wc(function(Q,ee){return[ee-1]}),eq:Wc(function(Q,ee,oe){return[oe<0?oe+ee:oe]}),even:Wc(function(Q,ee){for(var oe=0;oe<ee;oe+=2)Q.push(oe);return Q}),odd:Wc(function(Q,ee){for(var oe=1;oe<ee;oe+=2)Q.push(oe);return Q}),lt:Wc(function(Q,ee,oe){var ce;for(oe<0?ce=oe+ee:oe>ee?ce=ee:ce=oe;--ce>=0;)Q.push(ce);return Q}),gt:Wc(function(Q,ee,oe){for(var ce=oe<0?oe+ee:oe;++ce<ee;)Q.push(ce);return Q})}},x.pseudos.nth=x.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[v]=hte(v);for(v in{submit:!0,reset:!0})x.pseudos[v]=fte(v);function JR(){}JR.prototype=x.filters=x.pseudos,x.setFilters=new JR;function $p(Q,ee){var oe,ce,ge,Te,Ue,qe,Le,St=zt[Q+" "];if(St)return ee?0:St.slice(0);for(Ue=Q,qe=[],Le=x.preFilter;Ue;){(!oe||(ce=Kn.exec(Ue)))&&(ce&&(Ue=Ue.slice(ce[0].length)||Ue),qe.push(ge=[])),oe=!1,(ce=Ip.exec(Ue))&&(oe=ce.shift(),ge.push({value:oe,type:ce[0].replace(z," ")}),Ue=Ue.slice(oe.length));for(Te in x.filter)(ce=pa[Te].exec(Ue))&&(!Le[Te]||(ce=Le[Te](ce)))&&(oe=ce.shift(),ge.push({value:oe,type:Te,matches:ce}),Ue=Ue.slice(oe.length));if(!oe)break}return ee?Ue.length:Ue?tn.error(Q):zt(Q,qe).slice(0)}function wv(Q){for(var ee=0,oe=Q.length,ce="";ee<oe;ee++)ce+=Q[ee].value;return ce}function Cv(Q,ee,oe){var ce=ee.dir,ge=ee.next,Te=ge||ce,Ue=oe&&Te==="parentNode",qe=Ie++;return ee.first?function(Le,St,at){for(;Le=Le[ce];)if(Le.nodeType===1||Ue)return Q(Le,St,at);return!1}:function(Le,St,at){var dt,Tt,st=[ue,qe];if(at){for(;Le=Le[ce];)if((Le.nodeType===1||Ue)&&Q(Le,St,at))return!0}else for(;Le=Le[ce];)if(Le.nodeType===1||Ue)if(Tt=Le[me]||(Le[me]={}),ge&&T(Le,ge))Le=Le[ce]||Le;else{if((dt=Tt[Te])&&dt[0]===ue&&dt[1]===qe)return st[2]=dt[2];if(Tt[Te]=st,st[2]=Q(Le,St,at))return!0}return!1}}function aI(Q){return Q.length>1?function(ee,oe,ce){for(var ge=Q.length;ge--;)if(!Q[ge](ee,oe,ce))return!1;return!0}:Q[0]}function pte(Q,ee,oe){for(var ce=0,ge=ee.length;ce<ge;ce++)tn(Q,ee[ce],oe);return oe}function bv(Q,ee,oe,ce,ge){for(var Te,Ue=[],qe=0,Le=Q.length,St=ee!=null;qe<Le;qe++)(Te=Q[qe])&&(!oe||oe(Te,ce,ge))&&(Ue.push(Te),St&&ee.push(qe));return Ue}function uI(Q,ee,oe,ce,ge,Te){return ce&&!ce[me]&&(ce=uI(ce)),ge&&!ge[me]&&(ge=uI(ge,Te)),Fo(function(Ue,qe,Le,St){var at,dt,Tt,st,hn=[],ri=[],cs=qe.length,qi=Ue||pte(ee||"*",Le.nodeType?[Le]:Le,[]),ga=Q&&(Ue||!ee)?bv(qi,hn,Q,Le,St):qi;if(oe?(st=ge||(Ue?Q:cs||ce)?[]:qe,oe(ga,st,Le,St)):st=ga,ce)for(at=bv(st,ri),ce(at,[],Le,St),dt=at.length;dt--;)(Tt=at[dt])&&(st[ri[dt]]=!(ga[ri[dt]]=Tt));if(Ue){if(ge||Q){if(ge){for(at=[],dt=st.length;dt--;)(Tt=st[dt])&&at.push(ga[dt]=Tt);ge(null,st=[],at,St)}for(dt=st.length;dt--;)(Tt=st[dt])&&(at=ge?u.call(Ue,Tt):hn[dt])>-1&&(Ue[at]=!(qe[at]=Tt))}}else st=bv(st===qe?st.splice(cs,st.length):st),ge?ge(null,qe,st,St):F.apply(qe,st)})}function lI(Q){for(var ee,oe,ce,ge=Q.length,Te=x.relative[Q[0].type],Ue=Te||x.relative[" "],qe=Te?1:0,Le=Cv(function(dt){return dt===ee},Ue,!0),St=Cv(function(dt){return u.call(ee,dt)>-1},Ue,!0),at=[function(dt,Tt,st){var hn=!Te&&(st||Tt!=E)||((ee=Tt).nodeType?Le(dt,Tt,st):St(dt,Tt,st));return ee=null,hn}];qe<ge;qe++)if(oe=x.relative[Q[qe].type])at=[Cv(aI(at),oe)];else{if(oe=x.filter[Q[qe].type].apply(null,Q[qe].matches),oe[me]){for(ce=++qe;ce<ge&&!x.relative[Q[ce].type];ce++);return uI(qe>1&&aI(at),qe>1&&wv(Q.slice(0,qe-1).concat({value:Q[qe-2].type===" "?"*":""})).replace(z,"$1"),oe,qe<ce&&lI(Q.slice(qe,ce)),ce<ge&&lI(Q=Q.slice(ce)),ce<ge&&wv(Q))}at.push(oe)}return aI(at)}function gte(Q,ee){var oe=ee.length>0,ce=Q.length>0,ge=function(Te,Ue,qe,Le,St){var at,dt,Tt,st=0,hn="0",ri=Te&&[],cs=[],qi=E,ga=Te||ce&&x.find.TAG("*",St),Ud=ue+=qi==null?1:Math.random()||.1,Os=ga.length;for(St&&(E=Ue==D||Ue||St);hn!==Os&&(at=ga[hn])!=null;hn++){if(ce&&at){for(dt=0,!Ue&&at.ownerDocument!=D&&(nl(at),qe=!K);Tt=Q[dt++];)if(Tt(at,Ue||D,qe)){F.call(Le,at);break}St&&(ue=Ud)}oe&&((at=!Tt&&at)&&st--,Te&&ri.push(at))}if(st+=hn,oe&&hn!==st){for(dt=0;Tt=ee[dt++];)Tt(ri,cs,Ue,qe);if(Te){if(st>0)for(;hn--;)ri[hn]||cs[hn]||(cs[hn]=_.call(Le));cs=bv(cs)}F.apply(Le,cs),St&&!Te&&cs.length>0&&st+ee.length>1&&w.uniqueSort(Le)}return St&&(ue=Ud,E=qi),ri};return oe?Fo(ge):ge}function cI(Q,ee){var oe,ce=[],ge=[],Te=bt[Q+" "];if(!Te){for(ee||(ee=$p(Q)),oe=ee.length;oe--;)Te=lI(ee[oe]),Te[me]?ce.push(Te):ge.push(Te);Te=bt(Q,gte(ge,ce)),Te.selector=Q}return Te}function ZR(Q,ee,oe,ce){var ge,Te,Ue,qe,Le,St=typeof Q=="function"&&Q,at=!ce&&$p(Q=St.selector||Q);if(oe=oe||[],at.length===1){if(Te=at[0]=at[0].slice(0),Te.length>2&&(Ue=Te[0]).type==="ID"&&ee.nodeType===9&&K&&x.relative[Te[1].type]){if(ee=(x.find.ID(Ue.matches[0].replace(tu,nu),ee)||[])[0],ee)St&&(ee=ee.parentNode);else return oe;Q=Q.slice(Te.shift().value.length)}for(ge=pa.needsContext.test(Q)?0:Te.length;ge--&&(Ue=Te[ge],!x.relative[qe=Ue.type]);)if((Le=x.find[qe])&&(ce=Le(Ue.matches[0].replace(tu,nu),iI.test(Te[0].type)&&oI(ee.parentNode)||ee))){if(Te.splice(ge,1),Q=ce.length&&wv(Te),!Q)return F.apply(oe,ce),oe;break}}return(St||cI(Q,at))(ce,ee,!K,oe,!ee||iI.test(Q)&&oI(ee.parentNode)||ee),oe}f.sortStable=me.split("").sort(br).join("")===me,nl(),f.sortDetached=Od(function(Q){return Q.compareDocumentPosition(D.createElement("fieldset"))&1}),w.find=tn,w.expr[":"]=w.expr.pseudos,w.unique=w.uniqueSort,tn.compile=cI,tn.select=ZR,tn.setDocument=nl,tn.tokenize=$p,tn.escape=w.escapeSelector,tn.getText=w.text,tn.isXML=w.isXMLDoc,tn.selectors=w.expr,tn.support=w.support,tn.uniqueSort=w.uniqueSort})();var J=function(v,x,E){for(var S=[],k=E!==void 0;(v=v[x])&&v.nodeType!==9;)if(v.nodeType===1){if(k&&w(v).is(E))break;S.push(v)}return S},se=function(v,x){for(var E=[];v;v=v.nextSibling)v.nodeType===1&&v!==x&&E.push(v);return E},ae=w.expr.match.needsContext,Ae=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function pe(v,x,E){return p(x)?w.grep(v,function(S,k){return!!x.call(S,k,S)!==E}):x.nodeType?w.grep(v,function(S){return S===x!==E}):typeof x!="string"?w.grep(v,function(S){return u.call(x,S)>-1!==E}):w.filter(x,v,E)}w.filter=function(v,x,E){var S=x[0];return E&&(v=":not("+v+")"),x.length===1&&S.nodeType===1?w.find.matchesSelector(S,v)?[S]:[]:w.find.matches(v,w.grep(x,function(k){return k.nodeType===1}))},w.fn.extend({find:function(v){var x,E,S=this.length,k=this;if(typeof v!="string")return this.pushStack(w(v).filter(function(){for(x=0;x<S;x++)if(w.contains(k[x],this))return!0}));for(E=this.pushStack([]),x=0;x<S;x++)w.find(v,k[x],E);return S>1?w.uniqueSort(E):E},filter:function(v){return this.pushStack(pe(this,v||[],!1))},not:function(v){return this.pushStack(pe(this,v||[],!0))},is:function(v){return!!pe(this,typeof v=="string"&&ae.test(v)?w(v):v||[],!1).length}});var ye,ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ee=w.fn.init=function(v,x,E){var S,k;if(!v)return this;if(E=E||ye,typeof v=="string")if(v[0]==="<"&&v[v.length-1]===">"&&v.length>=3?S=[null,v,null]:S=ve.exec(v),S&&(S[1]||!x))if(S[1]){if(x=x instanceof w?x[0]:x,w.merge(this,w.parseHTML(S[1],x&&x.nodeType?x.ownerDocument||x:g,!0)),Ae.test(S[1])&&w.isPlainObject(x))for(S in x)p(this[S])?this[S](x[S]):this.attr(S,x[S]);return this}else return k=g.getElementById(S[2]),k&&(this[0]=k,this.length=1),this;else return!x||x.jquery?(x||E).find(v):this.constructor(x).find(v);else{if(v.nodeType)return this[0]=v,this.length=1,this;if(p(v))return E.ready!==void 0?E.ready(v):v(w)}return w.makeArray(v,this)};Ee.prototype=w.fn,ye=w(g);var ke=/^(?:parents|prev(?:Until|All))/,je={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(v){var x=w(v,this),E=x.length;return this.filter(function(){for(var S=0;S<E;S++)if(w.contains(this,x[S]))return!0})},closest:function(v,x){var E,S=0,k=this.length,F=[],D=typeof v!="string"&&w(v);if(!ae.test(v)){for(;S<k;S++)for(E=this[S];E&&E!==x;E=E.parentNode)if(E.nodeType<11&&(D?D.index(E)>-1:E.nodeType===1&&w.find.matchesSelector(E,v))){F.push(E);break}}return this.pushStack(F.length>1?w.uniqueSort(F):F)},index:function(v){return v?typeof v=="string"?u.call(w(v),this[0]):u.call(this,v.jquery?v[0]:v):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(v,x){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(v,x))))},addBack:function(v){return this.add(v==null?this.prevObject:this.prevObject.filter(v))}});function We(v,x){for(;(v=v[x])&&v.nodeType!==1;);return v}w.each({parent:function(v){var x=v.parentNode;return x&&x.nodeType!==11?x:null},parents:function(v){return J(v,"parentNode")},parentsUntil:function(v,x,E){return J(v,"parentNode",E)},next:function(v){return We(v,"nextSibling")},prev:function(v){return We(v,"previousSibling")},nextAll:function(v){return J(v,"nextSibling")},prevAll:function(v){return J(v,"previousSibling")},nextUntil:function(v,x,E){return J(v,"nextSibling",E)},prevUntil:function(v,x,E){return J(v,"previousSibling",E)},siblings:function(v){return se((v.parentNode||{}).firstChild,v)},children:function(v){return se(v.firstChild)},contents:function(v){return v.contentDocument!=null&&s(v.contentDocument)?v.contentDocument:(T(v,"template")&&(v=v.content||v),w.merge([],v.childNodes))}},function(v,x){w.fn[v]=function(E,S){var k=w.map(this,x,E);return v.slice(-5)!=="Until"&&(S=E),S&&typeof S=="string"&&(k=w.filter(S,k)),this.length>1&&(je[v]||w.uniqueSort(k),ke.test(v)&&k.reverse()),this.pushStack(k)}});var Xe=/[^\x20\t\r\n\f]+/g;function lt(v){var x={};return w.each(v.match(Xe)||[],function(E,S){x[S]=!0}),x}w.Callbacks=function(v){v=typeof v=="string"?lt(v):w.extend({},v);var x,E,S,k,F=[],D=[],W=-1,K=function(){for(k=k||v.once,S=x=!0;D.length;W=-1)for(E=D.shift();++W<F.length;)F[W].apply(E[0],E[1])===!1&&v.stopOnFalse&&(W=F.length,E=!1);v.memory||(E=!1),x=!1,k&&(E?F=[]:F="")},re={add:function(){return F&&(E&&!x&&(W=F.length-1,D.push(E)),function fe(me){w.each(me,function(ue,Ie){p(Ie)?(!v.unique||!re.has(Ie))&&F.push(Ie):Ie&&Ie.length&&b(Ie)!=="string"&&fe(Ie)})}(arguments),E&&!x&&K()),this},remove:function(){return w.each(arguments,function(fe,me){for(var ue;(ue=w.inArray(me,F,ue))>-1;)F.splice(ue,1),ue<=W&&W--}),this},has:function(fe){return fe?w.inArray(fe,F)>-1:F.length>0},empty:function(){return F&&(F=[]),this},disable:function(){return k=D=[],F=E="",this},disabled:function(){return!F},lock:function(){return k=D=[],!E&&!x&&(F=E=""),this},locked:function(){return!!k},fireWith:function(fe,me){return k||(me=me||[],me=[fe,me.slice?me.slice():me],D.push(me),x||K()),this},fire:function(){return re.fireWith(this,arguments),this},fired:function(){return!!S}};return re};function yt(v){return v}function It(v){throw v}function $t(v,x,E,S){var k;try{v&&p(k=v.promise)?k.call(v).done(x).fail(E):v&&p(k=v.then)?k.call(v,x,E):x.apply(void 0,[v].slice(S))}catch(F){E.apply(void 0,[F])}}w.extend({Deferred:function(v){var x=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],E="pending",S={state:function(){return E},always:function(){return k.done(arguments).fail(arguments),this},catch:function(F){return S.then(null,F)},pipe:function(){var F=arguments;return w.Deferred(function(D){w.each(x,function(W,K){var re=p(F[K[4]])&&F[K[4]];k[K[1]](function(){var fe=re&&re.apply(this,arguments);fe&&p(fe.promise)?fe.promise().progress(D.notify).done(D.resolve).fail(D.reject):D[K[0]+"With"](this,re?[fe]:arguments)})}),F=null}).promise()},then:function(F,D,W){var K=0;function re(fe,me,ue,Ie){return function(){var ct=this,zt=arguments,bt=function(){var br,da;if(!(fe<K)){if(br=ue.apply(ct,zt),br===me.promise())throw new TypeError("Thenable self-resolution");da=br&&(typeof br=="object"||typeof br=="function")&&br.then,p(da)?Ie?da.call(br,re(K,me,yt,Ie),re(K,me,It,Ie)):(K++,da.call(br,re(K,me,yt,Ie),re(K,me,It,Ie),re(K,me,yt,me.notifyWith))):(ue!==yt&&(ct=void 0,zt=[br]),(Ie||me.resolveWith)(ct,zt))}},Yr=Ie?bt:function(){try{bt()}catch(br){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(br,Yr.error),fe+1>=K&&(ue!==It&&(ct=void 0,zt=[br]),me.rejectWith(ct,zt))}};fe?Yr():(w.Deferred.getErrorHook?Yr.error=w.Deferred.getErrorHook():w.Deferred.getStackHook&&(Yr.error=w.Deferred.getStackHook()),e.setTimeout(Yr))}}return w.Deferred(function(fe){x[0][3].add(re(0,fe,p(W)?W:yt,fe.notifyWith)),x[1][3].add(re(0,fe,p(F)?F:yt)),x[2][3].add(re(0,fe,p(D)?D:It))}).promise()},promise:function(F){return F!=null?w.extend(F,S):S}},k={};return w.each(x,function(F,D){var W=D[2],K=D[5];S[D[1]]=W.add,K&&W.add(function(){E=K},x[3-F][2].disable,x[3-F][3].disable,x[0][2].lock,x[0][3].lock),W.add(D[3].fire),k[D[0]]=function(){return k[D[0]+"With"](this===k?void 0:this,arguments),this},k[D[0]+"With"]=W.fireWith}),S.promise(k),v&&v.call(k,k),k},when:function(v){var x=arguments.length,E=x,S=Array(E),k=i.call(arguments),F=w.Deferred(),D=function(W){return function(K){S[W]=this,k[W]=arguments.length>1?i.call(arguments):K,--x||F.resolveWith(S,k)}};if(x<=1&&($t(v,F.done(D(E)).resolve,F.reject,!x),F.state()==="pending"||p(k[E]&&k[E].then)))return F.then();for(;E--;)$t(k[E],D(E),F.reject);return F.promise()}});var ot=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(v,x){e.console&&e.console.warn&&v&&ot.test(v.name)&&e.console.warn("jQuery.Deferred exception: "+v.message,v.stack,x)},w.readyException=function(v){e.setTimeout(function(){throw v})};var Et=w.Deferred();w.fn.ready=function(v){return Et.then(v).catch(function(x){w.readyException(x)}),this},w.extend({isReady:!1,readyWait:1,ready:function(v){(v===!0?--w.readyWait:w.isReady)||(w.isReady=!0,!(v!==!0&&--w.readyWait>0)&&Et.resolveWith(g,[w]))}}),w.ready.then=Et.then;function Ht(){g.removeEventListener("DOMContentLoaded",Ht),e.removeEventListener("load",Ht),w.ready()}g.readyState==="complete"||g.readyState!=="loading"&&!g.documentElement.doScroll?e.setTimeout(w.ready):(g.addEventListener("DOMContentLoaded",Ht),e.addEventListener("load",Ht));var Vt=function(v,x,E,S,k,F,D){var W=0,K=v.length,re=E==null;if(b(E)==="object"){k=!0;for(W in E)Vt(v,x,W,E[W],!0,F,D)}else if(S!==void 0&&(k=!0,p(S)||(D=!0),re&&(D?(x.call(v,S),x=null):(re=x,x=function(fe,me,ue){return re.call(w(fe),ue)})),x))for(;W<K;W++)x(v[W],E,D?S:S.call(v[W],W,x(v[W],E)));return k?v:re?x.call(v):K?x(v[0],E):F},Bi=/^-ms-/,zn=/-([a-z])/g;function Gi(v,x){return x.toUpperCase()}function dn(v){return v.replace(Bi,"ms-").replace(zn,Gi)}var ls=function(v){return v.nodeType===1||v.nodeType===9||!+v.nodeType};function Cr(){this.expando=w.expando+Cr.uid++}Cr.uid=1,Cr.prototype={cache:function(v){var x=v[this.expando];return x||(x={},ls(v)&&(v.nodeType?v[this.expando]=x:Object.defineProperty(v,this.expando,{value:x,configurable:!0}))),x},set:function(v,x,E){var S,k=this.cache(v);if(typeof x=="string")k[dn(x)]=E;else for(S in x)k[dn(S)]=x[S];return k},get:function(v,x){return x===void 0?this.cache(v):v[this.expando]&&v[this.expando][dn(x)]},access:function(v,x,E){return x===void 0||x&&typeof x=="string"&&E===void 0?this.get(v,x):(this.set(v,x,E),E!==void 0?E:x)},remove:function(v,x){var E,S=v[this.expando];if(S!==void 0){if(x!==void 0)for(Array.isArray(x)?x=x.map(dn):(x=dn(x),x=x in S?[x]:x.match(Xe)||[]),E=x.length;E--;)delete S[x[E]];(x===void 0||w.isEmptyObject(S))&&(v.nodeType?v[this.expando]=void 0:delete v[this.expando])}},hasData:function(v){var x=v[this.expando];return x!==void 0&&!w.isEmptyObject(x)}};var xe=new Cr,Yt=new Cr,Ii=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Aa=/[A-Z]/g;function Qc(v){return v==="true"?!0:v==="false"?!1:v==="null"?null:v===+v+""?+v:Ii.test(v)?JSON.parse(v):v}function Td(v,x,E){var S;if(E===void 0&&v.nodeType===1)if(S="data-"+x.replace(Aa,"-$&").toLowerCase(),E=v.getAttribute(S),typeof E=="string"){try{E=Qc(E)}catch{}Yt.set(v,x,E)}else E=void 0;return E}w.extend({hasData:function(v){return Yt.hasData(v)||xe.hasData(v)},data:function(v,x,E){return Yt.access(v,x,E)},removeData:function(v,x){Yt.remove(v,x)},_data:function(v,x,E){return xe.access(v,x,E)},_removeData:function(v,x){xe.remove(v,x)}}),w.fn.extend({data:function(v,x){var E,S,k,F=this[0],D=F&&F.attributes;if(v===void 0){if(this.length&&(k=Yt.get(F),F.nodeType===1&&!xe.get(F,"hasDataAttrs"))){for(E=D.length;E--;)D[E]&&(S=D[E].name,S.indexOf("data-")===0&&(S=dn(S.slice(5)),Td(F,S,k[S])));xe.set(F,"hasDataAttrs",!0)}return k}return typeof v=="object"?this.each(function(){Yt.set(this,v)}):Vt(this,function(W){var K;if(F&&W===void 0)return K=Yt.get(F,v),K!==void 0||(K=Td(F,v),K!==void 0)?K:void 0;this.each(function(){Yt.set(this,v,W)})},null,x,arguments.length>1,null,!0)},removeData:function(v){return this.each(function(){Yt.remove(this,v)})}}),w.extend({queue:function(v,x,E){var S;if(v)return x=(x||"fx")+"queue",S=xe.get(v,x),E&&(!S||Array.isArray(E)?S=xe.access(v,x,w.makeArray(E)):S.push(E)),S||[]},dequeue:function(v,x){x=x||"fx";var E=w.queue(v,x),S=E.length,k=E.shift(),F=w._queueHooks(v,x),D=function(){w.dequeue(v,x)};k==="inprogress"&&(k=E.shift(),S--),k&&(x==="fx"&&E.unshift("inprogress"),delete F.stop,k.call(v,D,F)),!S&&F&&F.empty.fire()},_queueHooks:function(v,x){var E=x+"queueHooks";return xe.get(v,E)||xe.access(v,E,{empty:w.Callbacks("once memory").add(function(){xe.remove(v,[x+"queue",E])})})}}),w.fn.extend({queue:function(v,x){var E=2;return typeof v!="string"&&(x=v,v="fx",E--),arguments.length<E?w.queue(this[0],v):x===void 0?this:this.each(function(){var S=w.queue(this,v,x);w._queueHooks(this,v),v==="fx"&&S[0]!=="inprogress"&&w.dequeue(this,v)})},dequeue:function(v){return this.each(function(){w.dequeue(this,v)})},clearQueue:function(v){return this.queue(v||"fx",[])},promise:function(v,x){var E,S=1,k=w.Deferred(),F=this,D=this.length,W=function(){--S||k.resolveWith(F,[F])};for(typeof v!="string"&&(x=v,v=void 0),v=v||"fx";D--;)E=xe.get(F[D],v+"queueHooks"),E&&E.empty&&(S++,E.empty.add(W));return W(),k.promise(x)}});var Nd=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Hc=new RegExp("^(?:([+-])=|)("+Nd+")([a-z%]*)$","i"),ei=["Top","Right","Bottom","Left"],eu=g.documentElement,Zu=function(v){return w.contains(v.ownerDocument,v)},See={composed:!0};eu.getRootNode&&(Zu=function(v){return w.contains(v.ownerDocument,v)||v.getRootNode(See)===v.ownerDocument});var fv=function(v,x){return v=x||v,v.style.display==="none"||v.style.display===""&&Zu(v)&&w.css(v,"display")==="none"};function bR(v,x,E,S){var k,F,D=20,W=S?function(){return S.cur()}:function(){return w.css(v,x,"")},K=W(),re=E&&E[3]||(w.cssNumber[x]?"":"px"),fe=v.nodeType&&(w.cssNumber[x]||re!=="px"&&+K)&&Hc.exec(w.css(v,x));if(fe&&fe[3]!==re){for(K=K/2,re=re||fe[3],fe=+K||1;D--;)w.style(v,x,fe+re),(1-F)*(1-(F=W()/K||.5))<=0&&(D=0),fe=fe/F;fe=fe*2,w.style(v,x,fe+re),E=E||[]}return E&&(fe=+fe||+K||0,k=E[1]?fe+(E[1]+1)*E[2]:+E[2],S&&(S.unit=re,S.start=fe,S.end=k)),k}var xR={};function Tee(v){var x,E=v.ownerDocument,S=v.nodeName,k=xR[S];return k||(x=E.body.appendChild(E.createElement(S)),k=w.css(x,"display"),x.parentNode.removeChild(x),k==="none"&&(k="block"),xR[S]=k,k)}function kd(v,x){for(var E,S,k=[],F=0,D=v.length;F<D;F++)S=v[F],S.style&&(E=S.style.display,x?(E==="none"&&(k[F]=xe.get(S,"display")||null,k[F]||(S.style.display="")),S.style.display===""&&fv(S)&&(k[F]=Tee(S))):E!=="none"&&(k[F]="none",xe.set(S,"display",E)));for(F=0;F<D;F++)k[F]!=null&&(v[F].style.display=k[F]);return v}w.fn.extend({show:function(){return kd(this,!0)},hide:function(){return kd(this)},toggle:function(v){return typeof v=="boolean"?v?this.show():this.hide():this.each(function(){fv(this)?w(this).show():w(this).hide()})}});var wp=/^(?:checkbox|radio)$/i,BR=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,IR=/^$|^module$|\/(?:java|ecma)script/i;(function(){var v=g.createDocumentFragment(),x=v.appendChild(g.createElement("div")),E=g.createElement("input");E.setAttribute("type","radio"),E.setAttribute("checked","checked"),E.setAttribute("name","t"),x.appendChild(E),f.checkClone=x.cloneNode(!0).cloneNode(!0).lastChild.checked,x.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!x.cloneNode(!0).lastChild.defaultValue,x.innerHTML="<option></option>",f.option=!!x.lastChild})();var ji={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ji.tbody=ji.tfoot=ji.colgroup=ji.caption=ji.thead,ji.th=ji.td,f.option||(ji.optgroup=ji.option=[1,"<select multiple='multiple'>","</select>"]);function ti(v,x){var E;return typeof v.getElementsByTagName<"u"?E=v.getElementsByTagName(x||"*"):typeof v.querySelectorAll<"u"?E=v.querySelectorAll(x||"*"):E=[],x===void 0||x&&T(v,x)?w.merge([v],E):E}function zB(v,x){for(var E=0,S=v.length;E<S;E++)xe.set(v[E],"globalEval",!x||xe.get(x[E],"globalEval"))}var Nee=/<|&#?\w+;/;function ER(v,x,E,S,k){for(var F,D,W,K,re,fe,me=x.createDocumentFragment(),ue=[],Ie=0,ct=v.length;Ie<ct;Ie++)if(F=v[Ie],F||F===0)if(b(F)==="object")w.merge(ue,F.nodeType?[F]:F);else if(!Nee.test(F))ue.push(x.createTextNode(F));else{for(D=D||me.appendChild(x.createElement("div")),W=(BR.exec(F)||["",""])[1].toLowerCase(),K=ji[W]||ji._default,D.innerHTML=K[1]+w.htmlPrefilter(F)+K[2],fe=K[0];fe--;)D=D.lastChild;w.merge(ue,D.childNodes),D=me.firstChild,D.textContent=""}for(me.textContent="",Ie=0;F=ue[Ie++];){if(S&&w.inArray(F,S)>-1){k&&k.push(F);continue}if(re=Zu(F),D=ti(me.appendChild(F),"script"),re&&zB(D),E)for(fe=0;F=D[fe++];)IR.test(F.type||"")&&E.push(F)}return me}var $R=/^([^.]*)(?:\.(.+)|)/;function Fd(){return!0}function _d(){return!1}function KB(v,x,E,S,k,F){var D,W;if(typeof x=="object"){typeof E!="string"&&(S=S||E,E=void 0);for(W in x)KB(v,W,E,S,x[W],F);return v}if(S==null&&k==null?(k=E,S=E=void 0):k==null&&(typeof E=="string"?(k=S,S=void 0):(k=S,S=E,E=void 0)),k===!1)k=_d;else if(!k)return v;return F===1&&(D=k,k=function(K){return w().off(K),D.apply(this,arguments)},k.guid=D.guid||(D.guid=w.guid++)),v.each(function(){w.event.add(this,x,k,S,E)})}w.event={global:{},add:function(v,x,E,S,k){var F,D,W,K,re,fe,me,ue,Ie,ct,zt,bt=xe.get(v);if(!!ls(v))for(E.handler&&(F=E,E=F.handler,k=F.selector),k&&w.find.matchesSelector(eu,k),E.guid||(E.guid=w.guid++),(K=bt.events)||(K=bt.events=Object.create(null)),(D=bt.handle)||(D=bt.handle=function(Yr){return typeof w<"u"&&w.event.triggered!==Yr.type?w.event.dispatch.apply(v,arguments):void 0}),x=(x||"").match(Xe)||[""],re=x.length;re--;)W=$R.exec(x[re])||[],Ie=zt=W[1],ct=(W[2]||"").split(".").sort(),Ie&&(me=w.event.special[Ie]||{},Ie=(k?me.delegateType:me.bindType)||Ie,me=w.event.special[Ie]||{},fe=w.extend({type:Ie,origType:zt,data:S,handler:E,guid:E.guid,selector:k,needsContext:k&&w.expr.match.needsContext.test(k),namespace:ct.join(".")},F),(ue=K[Ie])||(ue=K[Ie]=[],ue.delegateCount=0,(!me.setup||me.setup.call(v,S,ct,D)===!1)&&v.addEventListener&&v.addEventListener(Ie,D)),me.add&&(me.add.call(v,fe),fe.handler.guid||(fe.handler.guid=E.guid)),k?ue.splice(ue.delegateCount++,0,fe):ue.push(fe),w.event.global[Ie]=!0)},remove:function(v,x,E,S,k){var F,D,W,K,re,fe,me,ue,Ie,ct,zt,bt=xe.hasData(v)&&xe.get(v);if(!(!bt||!(K=bt.events))){for(x=(x||"").match(Xe)||[""],re=x.length;re--;){if(W=$R.exec(x[re])||[],Ie=zt=W[1],ct=(W[2]||"").split(".").sort(),!Ie){for(Ie in K)w.event.remove(v,Ie+x[re],E,S,!0);continue}for(me=w.event.special[Ie]||{},Ie=(S?me.delegateType:me.bindType)||Ie,ue=K[Ie]||[],W=W[2]&&new RegExp("(^|\\.)"+ct.join("\\.(?:.*\\.|)")+"(\\.|$)"),D=F=ue.length;F--;)fe=ue[F],(k||zt===fe.origType)&&(!E||E.guid===fe.guid)&&(!W||W.test(fe.namespace))&&(!S||S===fe.selector||S==="**"&&fe.selector)&&(ue.splice(F,1),fe.selector&&ue.delegateCount--,me.remove&&me.remove.call(v,fe));D&&!ue.length&&((!me.teardown||me.teardown.call(v,ct,bt.handle)===!1)&&w.removeEvent(v,Ie,bt.handle),delete K[Ie])}w.isEmptyObject(K)&&xe.remove(v,"handle events")}},dispatch:function(v){var x,E,S,k,F,D,W=new Array(arguments.length),K=w.event.fix(v),re=(xe.get(this,"events")||Object.create(null))[K.type]||[],fe=w.event.special[K.type]||{};for(W[0]=K,x=1;x<arguments.length;x++)W[x]=arguments[x];if(K.delegateTarget=this,!(fe.preDispatch&&fe.preDispatch.call(this,K)===!1)){for(D=w.event.handlers.call(this,K,re),x=0;(k=D[x++])&&!K.isPropagationStopped();)for(K.currentTarget=k.elem,E=0;(F=k.handlers[E++])&&!K.isImmediatePropagationStopped();)(!K.rnamespace||F.namespace===!1||K.rnamespace.test(F.namespace))&&(K.handleObj=F,K.data=F.data,S=((w.event.special[F.origType]||{}).handle||F.handler).apply(k.elem,W),S!==void 0&&(K.result=S)===!1&&(K.preventDefault(),K.stopPropagation()));return fe.postDispatch&&fe.postDispatch.call(this,K),K.result}},handlers:function(v,x){var E,S,k,F,D,W=[],K=x.delegateCount,re=v.target;if(K&&re.nodeType&&!(v.type==="click"&&v.button>=1)){for(;re!==this;re=re.parentNode||this)if(re.nodeType===1&&!(v.type==="click"&&re.disabled===!0)){for(F=[],D={},E=0;E<K;E++)S=x[E],k=S.selector+" ",D[k]===void 0&&(D[k]=S.needsContext?w(k,this).index(re)>-1:w.find(k,this,null,[re]).length),D[k]&&F.push(S);F.length&&W.push({elem:re,handlers:F})}}return re=this,K<x.length&&W.push({elem:re,handlers:x.slice(K)}),W},addProp:function(v,x){Object.defineProperty(w.Event.prototype,v,{enumerable:!0,configurable:!0,get:p(x)?function(){if(this.originalEvent)return x(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[v]},set:function(E){Object.defineProperty(this,v,{enumerable:!0,configurable:!0,writable:!0,value:E})}})},fix:function(v){return v[w.expando]?v:new w.Event(v)},special:{load:{noBubble:!0},click:{setup:function(v){var x=this||v;return wp.test(x.type)&&x.click&&T(x,"input")&&pv(x,"click",!0),!1},trigger:function(v){var x=this||v;return wp.test(x.type)&&x.click&&T(x,"input")&&pv(x,"click"),!0},_default:function(v){var x=v.target;return wp.test(x.type)&&x.click&&T(x,"input")&&xe.get(x,"click")||T(x,"a")}},beforeunload:{postDispatch:function(v){v.result!==void 0&&v.originalEvent&&(v.originalEvent.returnValue=v.result)}}}};function pv(v,x,E){if(!E){xe.get(v,x)===void 0&&w.event.add(v,x,Fd);return}xe.set(v,x,!1),w.event.add(v,x,{namespace:!1,handler:function(S){var k,F=xe.get(this,x);if(S.isTrigger&1&&this[x]){if(F)(w.event.special[x]||{}).delegateType&&S.stopPropagation();else if(F=i.call(arguments),xe.set(this,x,F),this[x](),k=xe.get(this,x),xe.set(this,x,!1),F!==k)return S.stopImmediatePropagation(),S.preventDefault(),k}else F&&(xe.set(this,x,w.event.trigger(F[0],F.slice(1),this)),S.stopPropagation(),S.isImmediatePropagationStopped=Fd)}})}w.removeEvent=function(v,x,E){v.removeEventListener&&v.removeEventListener(x,E)},w.Event=function(v,x){if(!(this instanceof w.Event))return new w.Event(v,x);v&&v.type?(this.originalEvent=v,this.type=v.type,this.isDefaultPrevented=v.defaultPrevented||v.defaultPrevented===void 0&&v.returnValue===!1?Fd:_d,this.target=v.target&&v.target.nodeType===3?v.target.parentNode:v.target,this.currentTarget=v.currentTarget,this.relatedTarget=v.relatedTarget):this.type=v,x&&w.extend(this,x),this.timeStamp=v&&v.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:_d,isPropagationStopped:_d,isImmediatePropagationStopped:_d,isSimulated:!1,preventDefault:function(){var v=this.originalEvent;this.isDefaultPrevented=Fd,v&&!this.isSimulated&&v.preventDefault()},stopPropagation:function(){var v=this.originalEvent;this.isPropagationStopped=Fd,v&&!this.isSimulated&&v.stopPropagation()},stopImmediatePropagation:function(){var v=this.originalEvent;this.isImmediatePropagationStopped=Fd,v&&!this.isSimulated&&v.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(v,x){function E(S){if(g.documentMode){var k=xe.get(this,"handle"),F=w.event.fix(S);F.type=S.type==="focusin"?"focus":"blur",F.isSimulated=!0,k(S),F.target===F.currentTarget&&k(F)}else w.event.simulate(x,S.target,w.event.fix(S))}w.event.special[v]={setup:function(){var S;if(pv(this,v,!0),g.documentMode)S=xe.get(this,x),S||this.addEventListener(x,E),xe.set(this,x,(S||0)+1);else return!1},trigger:function(){return pv(this,v),!0},teardown:function(){var S;if(g.documentMode)S=xe.get(this,x)-1,S?xe.set(this,x,S):(this.removeEventListener(x,E),xe.remove(this,x));else return!1},_default:function(S){return xe.get(S.target,v)},delegateType:x},w.event.special[x]={setup:function(){var S=this.ownerDocument||this.document||this,k=g.documentMode?this:S,F=xe.get(k,x);F||(g.documentMode?this.addEventListener(x,E):S.addEventListener(v,E,!0)),xe.set(k,x,(F||0)+1)},teardown:function(){var S=this.ownerDocument||this.document||this,k=g.documentMode?this:S,F=xe.get(k,x)-1;F?xe.set(k,x,F):(g.documentMode?this.removeEventListener(x,E):S.removeEventListener(v,E,!0),xe.remove(k,x))}}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(v,x){w.event.special[v]={delegateType:x,bindType:x,handle:function(E){var S,k=this,F=E.relatedTarget,D=E.handleObj;return(!F||F!==k&&!w.contains(k,F))&&(E.type=D.origType,S=D.handler.apply(this,arguments),E.type=x),S}}}),w.fn.extend({on:function(v,x,E,S){return KB(this,v,x,E,S)},one:function(v,x,E,S){return KB(this,v,x,E,S,1)},off:function(v,x,E){var S,k;if(v&&v.preventDefault&&v.handleObj)return S=v.handleObj,w(v.delegateTarget).off(S.namespace?S.origType+"."+S.namespace:S.origType,S.selector,S.handler),this;if(typeof v=="object"){for(k in v)this.off(k,x,v[k]);return this}return(x===!1||typeof x=="function")&&(E=x,x=void 0),E===!1&&(E=_d),this.each(function(){w.event.remove(this,v,E,x)})}});var kee=/<script|<style|<link/i,Fee=/checked\s*(?:[^=]|=\s*.checked.)/i,_ee=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function SR(v,x){return T(v,"table")&&T(x.nodeType!==11?x:x.firstChild,"tr")&&w(v).children("tbody")[0]||v}function Dee(v){return v.type=(v.getAttribute("type")!==null)+"/"+v.type,v}function Ree(v){return(v.type||"").slice(0,5)==="true/"?v.type=v.type.slice(5):v.removeAttribute("type"),v}function TR(v,x){var E,S,k,F,D,W,K;if(x.nodeType===1){if(xe.hasData(v)&&(F=xe.get(v),K=F.events,K)){xe.remove(x,"handle events");for(k in K)for(E=0,S=K[k].length;E<S;E++)w.event.add(x,k,K[k][E])}Yt.hasData(v)&&(D=Yt.access(v),W=w.extend({},D),Yt.set(x,W))}}function Oee(v,x){var E=x.nodeName.toLowerCase();E==="input"&&wp.test(v.type)?x.checked=v.checked:(E==="input"||E==="textarea")&&(x.defaultValue=v.defaultValue)}function Dd(v,x,E,S){x=o(x);var k,F,D,W,K,re,fe=0,me=v.length,ue=me-1,Ie=x[0],ct=p(Ie);if(ct||me>1&&typeof Ie=="string"&&!f.checkClone&&Fee.test(Ie))return v.each(function(zt){var bt=v.eq(zt);ct&&(x[0]=Ie.call(this,zt,bt.html())),Dd(bt,x,E,S)});if(me&&(k=ER(x,v[0].ownerDocument,!1,v,S),F=k.firstChild,k.childNodes.length===1&&(k=F),F||S)){for(D=w.map(ti(k,"script"),Dee),W=D.length;fe<me;fe++)K=k,fe!==ue&&(K=w.clone(K,!0,!0),W&&w.merge(D,ti(K,"script"))),E.call(v[fe],K,fe);if(W)for(re=D[D.length-1].ownerDocument,w.map(D,Ree),fe=0;fe<W;fe++)K=D[fe],IR.test(K.type||"")&&!xe.access(K,"globalEval")&&w.contains(re,K)&&(K.src&&(K.type||"").toLowerCase()!=="module"?w._evalUrl&&!K.noModule&&w._evalUrl(K.src,{nonce:K.nonce||K.getAttribute("nonce")},re):C(K.textContent.replace(_ee,""),K,re))}return v}function NR(v,x,E){for(var S,k=x?w.filter(x,v):v,F=0;(S=k[F])!=null;F++)!E&&S.nodeType===1&&w.cleanData(ti(S)),S.parentNode&&(E&&Zu(S)&&zB(ti(S,"script")),S.parentNode.removeChild(S));return v}w.extend({htmlPrefilter:function(v){return v},clone:function(v,x,E){var S,k,F,D,W=v.cloneNode(!0),K=Zu(v);if(!f.noCloneChecked&&(v.nodeType===1||v.nodeType===11)&&!w.isXMLDoc(v))for(D=ti(W),F=ti(v),S=0,k=F.length;S<k;S++)Oee(F[S],D[S]);if(x)if(E)for(F=F||ti(v),D=D||ti(W),S=0,k=F.length;S<k;S++)TR(F[S],D[S]);else TR(v,W);return D=ti(W,"script"),D.length>0&&zB(D,!K&&ti(v,"script")),W},cleanData:function(v){for(var x,E,S,k=w.event.special,F=0;(E=v[F])!==void 0;F++)if(ls(E)){if(x=E[xe.expando]){if(x.events)for(S in x.events)k[S]?w.event.remove(E,S):w.removeEvent(E,S,x.handle);E[xe.expando]=void 0}E[Yt.expando]&&(E[Yt.expando]=void 0)}}}),w.fn.extend({detach:function(v){return NR(this,v,!0)},remove:function(v){return NR(this,v)},text:function(v){return Vt(this,function(x){return x===void 0?w.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=x)})},null,v,arguments.length)},append:function(){return Dd(this,arguments,function(v){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var x=SR(this,v);x.appendChild(v)}})},prepend:function(){return Dd(this,arguments,function(v){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var x=SR(this,v);x.insertBefore(v,x.firstChild)}})},before:function(){return Dd(this,arguments,function(v){this.parentNode&&this.parentNode.insertBefore(v,this)})},after:function(){return Dd(this,arguments,function(v){this.parentNode&&this.parentNode.insertBefore(v,this.nextSibling)})},empty:function(){for(var v,x=0;(v=this[x])!=null;x++)v.nodeType===1&&(w.cleanData(ti(v,!1)),v.textContent="");return this},clone:function(v,x){return v=v==null?!1:v,x=x==null?v:x,this.map(function(){return w.clone(this,v,x)})},html:function(v){return Vt(this,function(x){var E=this[0]||{},S=0,k=this.length;if(x===void 0&&E.nodeType===1)return E.innerHTML;if(typeof x=="string"&&!kee.test(x)&&!ji[(BR.exec(x)||["",""])[1].toLowerCase()]){x=w.htmlPrefilter(x);try{for(;S<k;S++)E=this[S]||{},E.nodeType===1&&(w.cleanData(ti(E,!1)),E.innerHTML=x);E=0}catch{}}E&&this.empty().append(x)},null,v,arguments.length)},replaceWith:function(){var v=[];return Dd(this,arguments,function(x){var E=this.parentNode;w.inArray(this,v)<0&&(w.cleanData(ti(this)),E&&E.replaceChild(x,this))},v)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(v,x){w.fn[v]=function(E){for(var S,k=[],F=w(E),D=F.length-1,W=0;W<=D;W++)S=W===D?this:this.clone(!0),w(F[W])[x](S),a.apply(k,S.get());return this.pushStack(k)}});var WB=new RegExp("^("+Nd+")(?!px)[a-z%]+$","i"),GB=/^--/,gv=function(v){var x=v.ownerDocument.defaultView;return(!x||!x.opener)&&(x=e),x.getComputedStyle(v)},kR=function(v,x,E){var S,k,F={};for(k in x)F[k]=v.style[k],v.style[k]=x[k];S=E.call(v);for(k in x)v.style[k]=F[k];return S},Uee=new RegExp(ei.join("|"),"i");(function(){function v(){if(!!re){K.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",re.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",eu.appendChild(K).appendChild(re);var fe=e.getComputedStyle(re);E=fe.top!=="1%",W=x(fe.marginLeft)===12,re.style.right="60%",F=x(fe.right)===36,S=x(fe.width)===36,re.style.position="absolute",k=x(re.offsetWidth/3)===12,eu.removeChild(K),re=null}}function x(fe){return Math.round(parseFloat(fe))}var E,S,k,F,D,W,K=g.createElement("div"),re=g.createElement("div");!re.style||(re.style.backgroundClip="content-box",re.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle=re.style.backgroundClip==="content-box",w.extend(f,{boxSizingReliable:function(){return v(),S},pixelBoxStyles:function(){return v(),F},pixelPosition:function(){return v(),E},reliableMarginLeft:function(){return v(),W},scrollboxSize:function(){return v(),k},reliableTrDimensions:function(){var fe,me,ue,Ie;return D==null&&(fe=g.createElement("table"),me=g.createElement("tr"),ue=g.createElement("div"),fe.style.cssText="position:absolute;left:-11111px;border-collapse:separate",me.style.cssText="box-sizing:content-box;border:1px solid",me.style.height="1px",ue.style.height="9px",ue.style.display="block",eu.appendChild(fe).appendChild(me).appendChild(ue),Ie=e.getComputedStyle(me),D=parseInt(Ie.height,10)+parseInt(Ie.borderTopWidth,10)+parseInt(Ie.borderBottomWidth,10)===me.offsetHeight,eu.removeChild(fe)),D}}))})();function Cp(v,x,E){var S,k,F,D,W=GB.test(x),K=v.style;return E=E||gv(v),E&&(D=E.getPropertyValue(x)||E[x],W&&D&&(D=D.replace(z,"$1")||void 0),D===""&&!Zu(v)&&(D=w.style(v,x)),!f.pixelBoxStyles()&&WB.test(D)&&Uee.test(x)&&(S=K.width,k=K.minWidth,F=K.maxWidth,K.minWidth=K.maxWidth=K.width=D,D=E.width,K.width=S,K.minWidth=k,K.maxWidth=F)),D!==void 0?D+"":D}function FR(v,x){return{get:function(){if(v()){delete this.get;return}return(this.get=x).apply(this,arguments)}}}var _R=["Webkit","Moz","ms"],DR=g.createElement("div").style,RR={};function Lee(v){for(var x=v[0].toUpperCase()+v.slice(1),E=_R.length;E--;)if(v=_R[E]+x,v in DR)return v}function jB(v){var x=w.cssProps[v]||RR[v];return x||(v in DR?v:RR[v]=Lee(v)||v)}var Pee=/^(none|table(?!-c[ea]).+)/,Mee={position:"absolute",visibility:"hidden",display:"block"},OR={letterSpacing:"0",fontWeight:"400"};function UR(v,x,E){var S=Hc.exec(x);return S?Math.max(0,S[2]-(E||0))+(S[3]||"px"):x}function XB(v,x,E,S,k,F){var D=x==="width"?1:0,W=0,K=0,re=0;if(E===(S?"border":"content"))return 0;for(;D<4;D+=2)E==="margin"&&(re+=w.css(v,E+ei[D],!0,k)),S?(E==="content"&&(K-=w.css(v,"padding"+ei[D],!0,k)),E!=="margin"&&(K-=w.css(v,"border"+ei[D]+"Width",!0,k))):(K+=w.css(v,"padding"+ei[D],!0,k),E!=="padding"?K+=w.css(v,"border"+ei[D]+"Width",!0,k):W+=w.css(v,"border"+ei[D]+"Width",!0,k));return!S&&F>=0&&(K+=Math.max(0,Math.ceil(v["offset"+x[0].toUpperCase()+x.slice(1)]-F-K-W-.5))||0),K+re}function LR(v,x,E){var S=gv(v),k=!f.boxSizingReliable()||E,F=k&&w.css(v,"boxSizing",!1,S)==="border-box",D=F,W=Cp(v,x,S),K="offset"+x[0].toUpperCase()+x.slice(1);if(WB.test(W)){if(!E)return W;W="auto"}return(!f.boxSizingReliable()&&F||!f.reliableTrDimensions()&&T(v,"tr")||W==="auto"||!parseFloat(W)&&w.css(v,"display",!1,S)==="inline")&&v.getClientRects().length&&(F=w.css(v,"boxSizing",!1,S)==="border-box",D=K in v,D&&(W=v[K])),W=parseFloat(W)||0,W+XB(v,x,E||(F?"border":"content"),D,S,W)+"px"}w.extend({cssHooks:{opacity:{get:function(v,x){if(x){var E=Cp(v,"opacity");return E===""?"1":E}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(v,x,E,S){if(!(!v||v.nodeType===3||v.nodeType===8||!v.style)){var k,F,D,W=dn(x),K=GB.test(x),re=v.style;if(K||(x=jB(W)),D=w.cssHooks[x]||w.cssHooks[W],E!==void 0){if(F=typeof E,F==="string"&&(k=Hc.exec(E))&&k[1]&&(E=bR(v,x,k),F="number"),E==null||E!==E)return;F==="number"&&!K&&(E+=k&&k[3]||(w.cssNumber[W]?"":"px")),!f.clearCloneStyle&&E===""&&x.indexOf("background")===0&&(re[x]="inherit"),(!D||!("set"in D)||(E=D.set(v,E,S))!==void 0)&&(K?re.setProperty(x,E):re[x]=E)}else return D&&"get"in D&&(k=D.get(v,!1,S))!==void 0?k:re[x]}},css:function(v,x,E,S){var k,F,D,W=dn(x),K=GB.test(x);return K||(x=jB(W)),D=w.cssHooks[x]||w.cssHooks[W],D&&"get"in D&&(k=D.get(v,!0,E)),k===void 0&&(k=Cp(v,x,S)),k==="normal"&&x in OR&&(k=OR[x]),E===""||E?(F=parseFloat(k),E===!0||isFinite(F)?F||0:k):k}}),w.each(["height","width"],function(v,x){w.cssHooks[x]={get:function(E,S,k){if(S)return Pee.test(w.css(E,"display"))&&(!E.getClientRects().length||!E.getBoundingClientRect().width)?kR(E,Mee,function(){return LR(E,x,k)}):LR(E,x,k)},set:function(E,S,k){var F,D=gv(E),W=!f.scrollboxSize()&&D.position==="absolute",K=W||k,re=K&&w.css(E,"boxSizing",!1,D)==="border-box",fe=k?XB(E,x,k,re,D):0;return re&&W&&(fe-=Math.ceil(E["offset"+x[0].toUpperCase()+x.slice(1)]-parseFloat(D[x])-XB(E,x,"border",!1,D)-.5)),fe&&(F=Hc.exec(S))&&(F[3]||"px")!=="px"&&(E.style[x]=S,S=w.css(E,x)),UR(E,S,fe)}}}),w.cssHooks.marginLeft=FR(f.reliableMarginLeft,function(v,x){if(x)return(parseFloat(Cp(v,"marginLeft"))||v.getBoundingClientRect().left-kR(v,{marginLeft:0},function(){return v.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(v,x){w.cssHooks[v+x]={expand:function(E){for(var S=0,k={},F=typeof E=="string"?E.split(" "):[E];S<4;S++)k[v+ei[S]+x]=F[S]||F[S-2]||F[0];return k}},v!=="margin"&&(w.cssHooks[v+x].set=UR)}),w.fn.extend({css:function(v,x){return Vt(this,function(E,S,k){var F,D,W={},K=0;if(Array.isArray(S)){for(F=gv(E),D=S.length;K<D;K++)W[S[K]]=w.css(E,S[K],!1,F);return W}return k!==void 0?w.style(E,S,k):w.css(E,S)},v,x,arguments.length>1)}});function ni(v,x,E,S,k){return new ni.prototype.init(v,x,E,S,k)}w.Tween=ni,ni.prototype={constructor:ni,init:function(v,x,E,S,k,F){this.elem=v,this.prop=E,this.easing=k||w.easing._default,this.options=x,this.start=this.now=this.cur(),this.end=S,this.unit=F||(w.cssNumber[E]?"":"px")},cur:function(){var v=ni.propHooks[this.prop];return v&&v.get?v.get(this):ni.propHooks._default.get(this)},run:function(v){var x,E=ni.propHooks[this.prop];return this.options.duration?this.pos=x=w.easing[this.easing](v,this.options.duration*v,0,1,this.options.duration):this.pos=x=v,this.now=(this.end-this.start)*x+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),E&&E.set?E.set(this):ni.propHooks._default.set(this),this}},ni.prototype.init.prototype=ni.prototype,ni.propHooks={_default:{get:function(v){var x;return v.elem.nodeType!==1||v.elem[v.prop]!=null&&v.elem.style[v.prop]==null?v.elem[v.prop]:(x=w.css(v.elem,v.prop,""),!x||x==="auto"?0:x)},set:function(v){w.fx.step[v.prop]?w.fx.step[v.prop](v):v.elem.nodeType===1&&(w.cssHooks[v.prop]||v.elem.style[jB(v.prop)]!=null)?w.style(v.elem,v.prop,v.now+v.unit):v.elem[v.prop]=v.now}}},ni.propHooks.scrollTop=ni.propHooks.scrollLeft={set:function(v){v.elem.nodeType&&v.elem.parentNode&&(v.elem[v.prop]=v.now)}},w.easing={linear:function(v){return v},swing:function(v){return .5-Math.cos(v*Math.PI)/2},_default:"swing"},w.fx=ni.prototype.init,w.fx.step={};var Rd,mv,Qee=/^(?:toggle|show|hide)$/,Hee=/queueHooks$/;function qB(){mv&&(g.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(qB):e.setTimeout(qB,w.fx.interval),w.fx.tick())}function PR(){return e.setTimeout(function(){Rd=void 0}),Rd=Date.now()}function yv(v,x){var E,S=0,k={height:v};for(x=x?1:0;S<4;S+=2-x)E=ei[S],k["margin"+E]=k["padding"+E]=v;return x&&(k.opacity=k.width=v),k}function MR(v,x,E){for(var S,k=(ko.tweeners[x]||[]).concat(ko.tweeners["*"]),F=0,D=k.length;F<D;F++)if(S=k[F].call(E,x,v))return S}function Vee(v,x,E){var S,k,F,D,W,K,re,fe,me="width"in x||"height"in x,ue=this,Ie={},ct=v.style,zt=v.nodeType&&fv(v),bt=xe.get(v,"fxshow");E.queue||(D=w._queueHooks(v,"fx"),D.unqueued==null&&(D.unqueued=0,W=D.empty.fire,D.empty.fire=function(){D.unqueued||W()}),D.unqueued++,ue.always(function(){ue.always(function(){D.unqueued--,w.queue(v,"fx").length||D.empty.fire()})}));for(S in x)if(k=x[S],Qee.test(k)){if(delete x[S],F=F||k==="toggle",k===(zt?"hide":"show"))if(k==="show"&&bt&&bt[S]!==void 0)zt=!0;else continue;Ie[S]=bt&&bt[S]||w.style(v,S)}if(K=!w.isEmptyObject(x),!(!K&&w.isEmptyObject(Ie))){me&&v.nodeType===1&&(E.overflow=[ct.overflow,ct.overflowX,ct.overflowY],re=bt&&bt.display,re==null&&(re=xe.get(v,"display")),fe=w.css(v,"display"),fe==="none"&&(re?fe=re:(kd([v],!0),re=v.style.display||re,fe=w.css(v,"display"),kd([v]))),(fe==="inline"||fe==="inline-block"&&re!=null)&&w.css(v,"float")==="none"&&(K||(ue.done(function(){ct.display=re}),re==null&&(fe=ct.display,re=fe==="none"?"":fe)),ct.display="inline-block")),E.overflow&&(ct.overflow="hidden",ue.always(function(){ct.overflow=E.overflow[0],ct.overflowX=E.overflow[1],ct.overflowY=E.overflow[2]})),K=!1;for(S in Ie)K||(bt?"hidden"in bt&&(zt=bt.hidden):bt=xe.access(v,"fxshow",{display:re}),F&&(bt.hidden=!zt),zt&&kd([v],!0),ue.done(function(){zt||kd([v]),xe.remove(v,"fxshow");for(S in Ie)w.style(v,S,Ie[S])})),K=MR(zt?bt[S]:0,S,ue),S in bt||(bt[S]=K.start,zt&&(K.end=K.start,K.start=0))}}function zee(v,x){var E,S,k,F,D;for(E in v)if(S=dn(E),k=x[S],F=v[E],Array.isArray(F)&&(k=F[1],F=v[E]=F[0]),E!==S&&(v[S]=F,delete v[E]),D=w.cssHooks[S],D&&"expand"in D){F=D.expand(F),delete v[S];for(E in F)E in v||(v[E]=F[E],x[E]=k)}else x[S]=k}function ko(v,x,E){var S,k,F=0,D=ko.prefilters.length,W=w.Deferred().always(function(){delete K.elem}),K=function(){if(k)return!1;for(var me=Rd||PR(),ue=Math.max(0,re.startTime+re.duration-me),Ie=ue/re.duration||0,ct=1-Ie,zt=0,bt=re.tweens.length;zt<bt;zt++)re.tweens[zt].run(ct);return W.notifyWith(v,[re,ct,ue]),ct<1&&bt?ue:(bt||W.notifyWith(v,[re,1,0]),W.resolveWith(v,[re]),!1)},re=W.promise({elem:v,props:w.extend({},x),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},E),originalProperties:x,originalOptions:E,startTime:Rd||PR(),duration:E.duration,tweens:[],createTween:function(me,ue){var Ie=w.Tween(v,re.opts,me,ue,re.opts.specialEasing[me]||re.opts.easing);return re.tweens.push(Ie),Ie},stop:function(me){var ue=0,Ie=me?re.tweens.length:0;if(k)return this;for(k=!0;ue<Ie;ue++)re.tweens[ue].run(1);return me?(W.notifyWith(v,[re,1,0]),W.resolveWith(v,[re,me])):W.rejectWith(v,[re,me]),this}}),fe=re.props;for(zee(fe,re.opts.specialEasing);F<D;F++)if(S=ko.prefilters[F].call(re,v,fe,re.opts),S)return p(S.stop)&&(w._queueHooks(re.elem,re.opts.queue).stop=S.stop.bind(S)),S;return w.map(fe,MR,re),p(re.opts.start)&&re.opts.start.call(v,re),re.progress(re.opts.progress).done(re.opts.done,re.opts.complete).fail(re.opts.fail).always(re.opts.always),w.fx.timer(w.extend(K,{elem:v,anim:re,queue:re.opts.queue})),re}w.Animation=w.extend(ko,{tweeners:{"*":[function(v,x){var E=this.createTween(v,x);return bR(E.elem,v,Hc.exec(x),E),E}]},tweener:function(v,x){p(v)?(x=v,v=["*"]):v=v.match(Xe);for(var E,S=0,k=v.length;S<k;S++)E=v[S],ko.tweeners[E]=ko.tweeners[E]||[],ko.tweeners[E].unshift(x)},prefilters:[Vee],prefilter:function(v,x){x?ko.prefilters.unshift(v):ko.prefilters.push(v)}}),w.speed=function(v,x,E){var S=v&&typeof v=="object"?w.extend({},v):{complete:E||!E&&x||p(v)&&v,duration:v,easing:E&&x||x&&!p(x)&&x};return w.fx.off?S.duration=0:typeof S.duration!="number"&&(S.duration in w.fx.speeds?S.duration=w.fx.speeds[S.duration]:S.duration=w.fx.speeds._default),(S.queue==null||S.queue===!0)&&(S.queue="fx"),S.old=S.complete,S.complete=function(){p(S.old)&&S.old.call(this),S.queue&&w.dequeue(this,S.queue)},S},w.fn.extend({fadeTo:function(v,x,E,S){return this.filter(fv).css("opacity",0).show().end().animate({opacity:x},v,E,S)},animate:function(v,x,E,S){var k=w.isEmptyObject(v),F=w.speed(x,E,S),D=function(){var W=ko(this,w.extend({},v),F);(k||xe.get(this,"finish"))&&W.stop(!0)};return D.finish=D,k||F.queue===!1?this.each(D):this.queue(F.queue,D)},stop:function(v,x,E){var S=function(k){var F=k.stop;delete k.stop,F(E)};return typeof v!="string"&&(E=x,x=v,v=void 0),x&&this.queue(v||"fx",[]),this.each(function(){var k=!0,F=v!=null&&v+"queueHooks",D=w.timers,W=xe.get(this);if(F)W[F]&&W[F].stop&&S(W[F]);else for(F in W)W[F]&&W[F].stop&&Hee.test(F)&&S(W[F]);for(F=D.length;F--;)D[F].elem===this&&(v==null||D[F].queue===v)&&(D[F].anim.stop(E),k=!1,D.splice(F,1));(k||!E)&&w.dequeue(this,v)})},finish:function(v){return v!==!1&&(v=v||"fx"),this.each(function(){var x,E=xe.get(this),S=E[v+"queue"],k=E[v+"queueHooks"],F=w.timers,D=S?S.length:0;for(E.finish=!0,w.queue(this,v,[]),k&&k.stop&&k.stop.call(this,!0),x=F.length;x--;)F[x].elem===this&&F[x].queue===v&&(F[x].anim.stop(!0),F.splice(x,1));for(x=0;x<D;x++)S[x]&&S[x].finish&&S[x].finish.call(this);delete E.finish})}}),w.each(["toggle","show","hide"],function(v,x){var E=w.fn[x];w.fn[x]=function(S,k,F){return S==null||typeof S=="boolean"?E.apply(this,arguments):this.animate(yv(x,!0),S,k,F)}}),w.each({slideDown:yv("show"),slideUp:yv("hide"),slideToggle:yv("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(v,x){w.fn[v]=function(E,S,k){return this.animate(x,E,S,k)}}),w.timers=[],w.fx.tick=function(){var v,x=0,E=w.timers;for(Rd=Date.now();x<E.length;x++)v=E[x],!v()&&E[x]===v&&E.splice(x--,1);E.length||w.fx.stop(),Rd=void 0},w.fx.timer=function(v){w.timers.push(v),w.fx.start()},w.fx.interval=13,w.fx.start=function(){mv||(mv=!0,qB())},w.fx.stop=function(){mv=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(v,x){return v=w.fx&&w.fx.speeds[v]||v,x=x||"fx",this.queue(x,function(E,S){var k=e.setTimeout(E,v);S.stop=function(){e.clearTimeout(k)}})},function(){var v=g.createElement("input"),x=g.createElement("select"),E=x.appendChild(g.createElement("option"));v.type="checkbox",f.checkOn=v.value!=="",f.optSelected=E.selected,v=g.createElement("input"),v.value="t",v.type="radio",f.radioValue=v.value==="t"}();var QR,bp=w.expr.attrHandle;w.fn.extend({attr:function(v,x){return Vt(this,w.attr,v,x,arguments.length>1)},removeAttr:function(v){return this.each(function(){w.removeAttr(this,v)})}}),w.extend({attr:function(v,x,E){var S,k,F=v.nodeType;if(!(F===3||F===8||F===2)){if(typeof v.getAttribute>"u")return w.prop(v,x,E);if((F!==1||!w.isXMLDoc(v))&&(k=w.attrHooks[x.toLowerCase()]||(w.expr.match.bool.test(x)?QR:void 0)),E!==void 0){if(E===null){w.removeAttr(v,x);return}return k&&"set"in k&&(S=k.set(v,E,x))!==void 0?S:(v.setAttribute(x,E+""),E)}return k&&"get"in k&&(S=k.get(v,x))!==null?S:(S=w.find.attr(v,x),S==null?void 0:S)}},attrHooks:{type:{set:function(v,x){if(!f.radioValue&&x==="radio"&&T(v,"input")){var E=v.value;return v.setAttribute("type",x),E&&(v.value=E),x}}}},removeAttr:function(v,x){var E,S=0,k=x&&x.match(Xe);if(k&&v.nodeType===1)for(;E=k[S++];)v.removeAttribute(E)}}),QR={set:function(v,x,E){return x===!1?w.removeAttr(v,E):v.setAttribute(E,E),E}},w.each(w.expr.match.bool.source.match(/\w+/g),function(v,x){var E=bp[x]||w.find.attr;bp[x]=function(S,k,F){var D,W,K=k.toLowerCase();return F||(W=bp[K],bp[K]=D,D=E(S,k,F)!=null?K:null,bp[K]=W),D}});var Kee=/^(?:input|select|textarea|button)$/i,Wee=/^(?:a|area)$/i;w.fn.extend({prop:function(v,x){return Vt(this,w.prop,v,x,arguments.length>1)},removeProp:function(v){return this.each(function(){delete this[w.propFix[v]||v]})}}),w.extend({prop:function(v,x,E){var S,k,F=v.nodeType;if(!(F===3||F===8||F===2))return(F!==1||!w.isXMLDoc(v))&&(x=w.propFix[x]||x,k=w.propHooks[x]),E!==void 0?k&&"set"in k&&(S=k.set(v,E,x))!==void 0?S:v[x]=E:k&&"get"in k&&(S=k.get(v,x))!==null?S:v[x]},propHooks:{tabIndex:{get:function(v){var x=w.find.attr(v,"tabindex");return x?parseInt(x,10):Kee.test(v.nodeName)||Wee.test(v.nodeName)&&v.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(w.propHooks.selected={get:function(v){var x=v.parentNode;return x&&x.parentNode&&x.parentNode.selectedIndex,null},set:function(v){var x=v.parentNode;x&&(x.selectedIndex,x.parentNode&&x.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this});function Vc(v){var x=v.match(Xe)||[];return x.join(" ")}function zc(v){return v.getAttribute&&v.getAttribute("class")||""}function YB(v){return Array.isArray(v)?v:typeof v=="string"?v.match(Xe)||[]:[]}w.fn.extend({addClass:function(v){var x,E,S,k,F,D;return p(v)?this.each(function(W){w(this).addClass(v.call(this,W,zc(this)))}):(x=YB(v),x.length?this.each(function(){if(S=zc(this),E=this.nodeType===1&&" "+Vc(S)+" ",E){for(F=0;F<x.length;F++)k=x[F],E.indexOf(" "+k+" ")<0&&(E+=k+" ");D=Vc(E),S!==D&&this.setAttribute("class",D)}}):this)},removeClass:function(v){var x,E,S,k,F,D;return p(v)?this.each(function(W){w(this).removeClass(v.call(this,W,zc(this)))}):arguments.length?(x=YB(v),x.length?this.each(function(){if(S=zc(this),E=this.nodeType===1&&" "+Vc(S)+" ",E){for(F=0;F<x.length;F++)for(k=x[F];E.indexOf(" "+k+" ")>-1;)E=E.replace(" "+k+" "," ");D=Vc(E),S!==D&&this.setAttribute("class",D)}}):this):this.attr("class","")},toggleClass:function(v,x){var E,S,k,F,D=typeof v,W=D==="string"||Array.isArray(v);return p(v)?this.each(function(K){w(this).toggleClass(v.call(this,K,zc(this),x),x)}):typeof x=="boolean"&&W?x?this.addClass(v):this.removeClass(v):(E=YB(v),this.each(function(){if(W)for(F=w(this),k=0;k<E.length;k++)S=E[k],F.hasClass(S)?F.removeClass(S):F.addClass(S);else(v===void 0||D==="boolean")&&(S=zc(this),S&&xe.set(this,"__className__",S),this.setAttribute&&this.setAttribute("class",S||v===!1?"":xe.get(this,"__className__")||""))}))},hasClass:function(v){var x,E,S=0;for(x=" "+v+" ";E=this[S++];)if(E.nodeType===1&&(" "+Vc(zc(E))+" ").indexOf(x)>-1)return!0;return!1}});var Gee=/\r/g;w.fn.extend({val:function(v){var x,E,S,k=this[0];return arguments.length?(S=p(v),this.each(function(F){var D;this.nodeType===1&&(S?D=v.call(this,F,w(this).val()):D=v,D==null?D="":typeof D=="number"?D+="":Array.isArray(D)&&(D=w.map(D,function(W){return W==null?"":W+""})),x=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()],(!x||!("set"in x)||x.set(this,D,"value")===void 0)&&(this.value=D))})):k?(x=w.valHooks[k.type]||w.valHooks[k.nodeName.toLowerCase()],x&&"get"in x&&(E=x.get(k,"value"))!==void 0?E:(E=k.value,typeof E=="string"?E.replace(Gee,""):E==null?"":E)):void 0}}),w.extend({valHooks:{option:{get:function(v){var x=w.find.attr(v,"value");return x!=null?x:Vc(w.text(v))}},select:{get:function(v){var x,E,S,k=v.options,F=v.selectedIndex,D=v.type==="select-one",W=D?null:[],K=D?F+1:k.length;for(F<0?S=K:S=D?F:0;S<K;S++)if(E=k[S],(E.selected||S===F)&&!E.disabled&&(!E.parentNode.disabled||!T(E.parentNode,"optgroup"))){if(x=w(E).val(),D)return x;W.push(x)}return W},set:function(v,x){for(var E,S,k=v.options,F=w.makeArray(x),D=k.length;D--;)S=k[D],(S.selected=w.inArray(w.valHooks.option.get(S),F)>-1)&&(E=!0);return E||(v.selectedIndex=-1),F}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(v,x){if(Array.isArray(x))return v.checked=w.inArray(w(v).val(),x)>-1}},f.checkOn||(w.valHooks[this].get=function(v){return v.getAttribute("value")===null?"on":v.value})});var xp=e.location,HR={guid:Date.now()},JB=/\?/;w.parseXML=function(v){var x,E;if(!v||typeof v!="string")return null;try{x=new e.DOMParser().parseFromString(v,"text/xml")}catch{}return E=x&&x.getElementsByTagName("parsererror")[0],(!x||E)&&w.error("Invalid XML: "+(E?w.map(E.childNodes,function(S){return S.textContent}).join(`
`):v)),x};var VR=/^(?:focusinfocus|focusoutblur)$/,zR=function(v){v.stopPropagation()};w.extend(w.event,{trigger:function(v,x,E,S){var k,F,D,W,K,re,fe,me,ue=[E||g],Ie=A.call(v,"type")?v.type:v,ct=A.call(v,"namespace")?v.namespace.split("."):[];if(F=me=D=E=E||g,!(E.nodeType===3||E.nodeType===8)&&!VR.test(Ie+w.event.triggered)&&(Ie.indexOf(".")>-1&&(ct=Ie.split("."),Ie=ct.shift(),ct.sort()),K=Ie.indexOf(":")<0&&"on"+Ie,v=v[w.expando]?v:new w.Event(Ie,typeof v=="object"&&v),v.isTrigger=S?2:3,v.namespace=ct.join("."),v.rnamespace=v.namespace?new RegExp("(^|\\.)"+ct.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,v.result=void 0,v.target||(v.target=E),x=x==null?[v]:w.makeArray(x,[v]),fe=w.event.special[Ie]||{},!(!S&&fe.trigger&&fe.trigger.apply(E,x)===!1))){if(!S&&!fe.noBubble&&!m(E)){for(W=fe.delegateType||Ie,VR.test(W+Ie)||(F=F.parentNode);F;F=F.parentNode)ue.push(F),D=F;D===(E.ownerDocument||g)&&ue.push(D.defaultView||D.parentWindow||e)}for(k=0;(F=ue[k++])&&!v.isPropagationStopped();)me=F,v.type=k>1?W:fe.bindType||Ie,re=(xe.get(F,"events")||Object.create(null))[v.type]&&xe.get(F,"handle"),re&&re.apply(F,x),re=K&&F[K],re&&re.apply&&ls(F)&&(v.result=re.apply(F,x),v.result===!1&&v.preventDefault());return v.type=Ie,!S&&!v.isDefaultPrevented()&&(!fe._default||fe._default.apply(ue.pop(),x)===!1)&&ls(E)&&K&&p(E[Ie])&&!m(E)&&(D=E[K],D&&(E[K]=null),w.event.triggered=Ie,v.isPropagationStopped()&&me.addEventListener(Ie,zR),E[Ie](),v.isPropagationStopped()&&me.removeEventListener(Ie,zR),w.event.triggered=void 0,D&&(E[K]=D)),v.result}},simulate:function(v,x,E){var S=w.extend(new w.Event,E,{type:v,isSimulated:!0});w.event.trigger(S,null,x)}}),w.fn.extend({trigger:function(v,x){return this.each(function(){w.event.trigger(v,x,this)})},triggerHandler:function(v,x){var E=this[0];if(E)return w.event.trigger(v,x,E,!0)}});var jee=/\[\]$/,KR=/\r?\n/g,Xee=/^(?:submit|button|image|reset|file)$/i,qee=/^(?:input|select|textarea|keygen)/i;function ZB(v,x,E,S){var k;if(Array.isArray(x))w.each(x,function(F,D){E||jee.test(v)?S(v,D):ZB(v+"["+(typeof D=="object"&&D!=null?F:"")+"]",D,E,S)});else if(!E&&b(x)==="object")for(k in x)ZB(v+"["+k+"]",x[k],E,S);else S(v,x)}w.param=function(v,x){var E,S=[],k=function(F,D){var W=p(D)?D():D;S[S.length]=encodeURIComponent(F)+"="+encodeURIComponent(W==null?"":W)};if(v==null)return"";if(Array.isArray(v)||v.jquery&&!w.isPlainObject(v))w.each(v,function(){k(this.name,this.value)});else for(E in v)ZB(E,v[E],x,k);return S.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var v=w.prop(this,"elements");return v?w.makeArray(v):this}).filter(function(){var v=this.type;return this.name&&!w(this).is(":disabled")&&qee.test(this.nodeName)&&!Xee.test(v)&&(this.checked||!wp.test(v))}).map(function(v,x){var E=w(this).val();return E==null?null:Array.isArray(E)?w.map(E,function(S){return{name:x.name,value:S.replace(KR,`\r
`)}}):{name:x.name,value:E.replace(KR,`\r
`)}}).get()}});var Yee=/%20/g,Jee=/#.*$/,Zee=/([?&])_=[^&]*/,ete=/^(.*?):[ \t]*([^\r\n]*)$/mg,tte=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,nte=/^(?:GET|HEAD)$/,rte=/^\/\//,WR={},eI={},GR="*/".concat("*"),tI=g.createElement("a");tI.href=xp.href;function jR(v){return function(x,E){typeof x!="string"&&(E=x,x="*");var S,k=0,F=x.toLowerCase().match(Xe)||[];if(p(E))for(;S=F[k++];)S[0]==="+"?(S=S.slice(1)||"*",(v[S]=v[S]||[]).unshift(E)):(v[S]=v[S]||[]).push(E)}}function XR(v,x,E,S){var k={},F=v===eI;function D(W){var K;return k[W]=!0,w.each(v[W]||[],function(re,fe){var me=fe(x,E,S);if(typeof me=="string"&&!F&&!k[me])return x.dataTypes.unshift(me),D(me),!1;if(F)return!(K=me)}),K}return D(x.dataTypes[0])||!k["*"]&&D("*")}function nI(v,x){var E,S,k=w.ajaxSettings.flatOptions||{};for(E in x)x[E]!==void 0&&((k[E]?v:S||(S={}))[E]=x[E]);return S&&w.extend(!0,v,S),v}function ste(v,x,E){for(var S,k,F,D,W=v.contents,K=v.dataTypes;K[0]==="*";)K.shift(),S===void 0&&(S=v.mimeType||x.getResponseHeader("Content-Type"));if(S){for(k in W)if(W[k]&&W[k].test(S)){K.unshift(k);break}}if(K[0]in E)F=K[0];else{for(k in E){if(!K[0]||v.converters[k+" "+K[0]]){F=k;break}D||(D=k)}F=F||D}if(F)return F!==K[0]&&K.unshift(F),E[F]}function ite(v,x,E,S){var k,F,D,W,K,re={},fe=v.dataTypes.slice();if(fe[1])for(D in v.converters)re[D.toLowerCase()]=v.converters[D];for(F=fe.shift();F;)if(v.responseFields[F]&&(E[v.responseFields[F]]=x),!K&&S&&v.dataFilter&&(x=v.dataFilter(x,v.dataType)),K=F,F=fe.shift(),F){if(F==="*")F=K;else if(K!=="*"&&K!==F){if(D=re[K+" "+F]||re["* "+F],!D){for(k in re)if(W=k.split(" "),W[1]===F&&(D=re[K+" "+W[0]]||re["* "+W[0]],D)){D===!0?D=re[k]:re[k]!==!0&&(F=W[0],fe.unshift(W[1]));break}}if(D!==!0)if(D&&v.throws)x=D(x);else try{x=D(x)}catch(me){return{state:"parsererror",error:D?me:"No conversion from "+K+" to "+F}}}}return{state:"success",data:x}}w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xp.href,type:"GET",isLocal:tte.test(xp.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":GR,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(v,x){return x?nI(nI(v,w.ajaxSettings),x):nI(w.ajaxSettings,v)},ajaxPrefilter:jR(WR),ajaxTransport:jR(eI),ajax:function(v,x){typeof v=="object"&&(x=v,v=void 0),x=x||{};var E,S,k,F,D,W,K,re,fe,me,ue=w.ajaxSetup({},x),Ie=ue.context||ue,ct=ue.context&&(Ie.nodeType||Ie.jquery)?w(Ie):w.event,zt=w.Deferred(),bt=w.Callbacks("once memory"),Yr=ue.statusCode||{},br={},da={},ha="canceled",kt={readyState:0,getResponseHeader:function(Wt){var Kn;if(K){if(!F)for(F={};Kn=ete.exec(k);)F[Kn[1].toLowerCase()+" "]=(F[Kn[1].toLowerCase()+" "]||[]).concat(Kn[2]);Kn=F[Wt.toLowerCase()+" "]}return Kn==null?null:Kn.join(", ")},getAllResponseHeaders:function(){return K?k:null},setRequestHeader:function(Wt,Kn){return K==null&&(Wt=da[Wt.toLowerCase()]=da[Wt.toLowerCase()]||Wt,br[Wt]=Kn),this},overrideMimeType:function(Wt){return K==null&&(ue.mimeType=Wt),this},statusCode:function(Wt){var Kn;if(Wt)if(K)kt.always(Wt[kt.status]);else for(Kn in Wt)Yr[Kn]=[Yr[Kn],Wt[Kn]];return this},abort:function(Wt){var Kn=Wt||ha;return E&&E.abort(Kn),Kc(0,Kn),this}};if(zt.promise(kt),ue.url=((v||ue.url||xp.href)+"").replace(rte,xp.protocol+"//"),ue.type=x.method||x.type||ue.method||ue.type,ue.dataTypes=(ue.dataType||"*").toLowerCase().match(Xe)||[""],ue.crossDomain==null){W=g.createElement("a");try{W.href=ue.url,W.href=W.href,ue.crossDomain=tI.protocol+"//"+tI.host!=W.protocol+"//"+W.host}catch{ue.crossDomain=!0}}if(ue.data&&ue.processData&&typeof ue.data!="string"&&(ue.data=w.param(ue.data,ue.traditional)),XR(WR,ue,x,kt),K)return kt;re=w.event&&ue.global,re&&w.active++===0&&w.event.trigger("ajaxStart"),ue.type=ue.type.toUpperCase(),ue.hasContent=!nte.test(ue.type),S=ue.url.replace(Jee,""),ue.hasContent?ue.data&&ue.processData&&(ue.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(ue.data=ue.data.replace(Yee,"+")):(me=ue.url.slice(S.length),ue.data&&(ue.processData||typeof ue.data=="string")&&(S+=(JB.test(S)?"&":"?")+ue.data,delete ue.data),ue.cache===!1&&(S=S.replace(Zee,"$1"),me=(JB.test(S)?"&":"?")+"_="+HR.guid+++me),ue.url=S+me),ue.ifModified&&(w.lastModified[S]&&kt.setRequestHeader("If-Modified-Since",w.lastModified[S]),w.etag[S]&&kt.setRequestHeader("If-None-Match",w.etag[S])),(ue.data&&ue.hasContent&&ue.contentType!==!1||x.contentType)&&kt.setRequestHeader("Content-Type",ue.contentType),kt.setRequestHeader("Accept",ue.dataTypes[0]&&ue.accepts[ue.dataTypes[0]]?ue.accepts[ue.dataTypes[0]]+(ue.dataTypes[0]!=="*"?", "+GR+"; q=0.01":""):ue.accepts["*"]);for(fe in ue.headers)kt.setRequestHeader(fe,ue.headers[fe]);if(ue.beforeSend&&(ue.beforeSend.call(Ie,kt,ue)===!1||K))return kt.abort();if(ha="abort",bt.add(ue.complete),kt.done(ue.success),kt.fail(ue.error),E=XR(eI,ue,x,kt),!E)Kc(-1,"No Transport");else{if(kt.readyState=1,re&&ct.trigger("ajaxSend",[kt,ue]),K)return kt;ue.async&&ue.timeout>0&&(D=e.setTimeout(function(){kt.abort("timeout")},ue.timeout));try{K=!1,E.send(br,Kc)}catch(Wt){if(K)throw Wt;Kc(-1,Wt)}}function Kc(Wt,Kn,Ip,sI){var fa,Ep,pa,el,tl,Xi=Kn;K||(K=!0,D&&e.clearTimeout(D),E=void 0,k=sI||"",kt.readyState=Wt>0?4:0,fa=Wt>=200&&Wt<300||Wt===304,Ip&&(el=ste(ue,kt,Ip)),!fa&&w.inArray("script",ue.dataTypes)>-1&&w.inArray("json",ue.dataTypes)<0&&(ue.converters["text script"]=function(){}),el=ite(ue,el,kt,fa),fa?(ue.ifModified&&(tl=kt.getResponseHeader("Last-Modified"),tl&&(w.lastModified[S]=tl),tl=kt.getResponseHeader("etag"),tl&&(w.etag[S]=tl)),Wt===204||ue.type==="HEAD"?Xi="nocontent":Wt===304?Xi="notmodified":(Xi=el.state,Ep=el.data,pa=el.error,fa=!pa)):(pa=Xi,(Wt||!Xi)&&(Xi="error",Wt<0&&(Wt=0))),kt.status=Wt,kt.statusText=(Kn||Xi)+"",fa?zt.resolveWith(Ie,[Ep,Xi,kt]):zt.rejectWith(Ie,[kt,Xi,pa]),kt.statusCode(Yr),Yr=void 0,re&&ct.trigger(fa?"ajaxSuccess":"ajaxError",[kt,ue,fa?Ep:pa]),bt.fireWith(Ie,[kt,Xi]),re&&(ct.trigger("ajaxComplete",[kt,ue]),--w.active||w.event.trigger("ajaxStop")))}return kt},getJSON:function(v,x,E){return w.get(v,x,E,"json")},getScript:function(v,x){return w.get(v,void 0,x,"script")}}),w.each(["get","post"],function(v,x){w[x]=function(E,S,k,F){return p(S)&&(F=F||k,k=S,S=void 0),w.ajax(w.extend({url:E,type:x,dataType:F,data:S,success:k},w.isPlainObject(E)&&E))}}),w.ajaxPrefilter(function(v){var x;for(x in v.headers)x.toLowerCase()==="content-type"&&(v.contentType=v.headers[x]||"")}),w._evalUrl=function(v,x,E){return w.ajax({url:v,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(S){w.globalEval(S,x,E)}})},w.fn.extend({wrapAll:function(v){var x;return this[0]&&(p(v)&&(v=v.call(this[0])),x=w(v,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&x.insertBefore(this[0]),x.map(function(){for(var E=this;E.firstElementChild;)E=E.firstElementChild;return E}).append(this)),this},wrapInner:function(v){return p(v)?this.each(function(x){w(this).wrapInner(v.call(this,x))}):this.each(function(){var x=w(this),E=x.contents();E.length?E.wrapAll(v):x.append(v)})},wrap:function(v){var x=p(v);return this.each(function(E){w(this).wrapAll(x?v.call(this,E):v)})},unwrap:function(v){return this.parent(v).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(v){return!w.expr.pseudos.visible(v)},w.expr.pseudos.visible=function(v){return!!(v.offsetWidth||v.offsetHeight||v.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var ote={0:200,1223:204},Bp=w.ajaxSettings.xhr();f.cors=!!Bp&&"withCredentials"in Bp,f.ajax=Bp=!!Bp,w.ajaxTransport(function(v){var x,E;if(f.cors||Bp&&!v.crossDomain)return{send:function(S,k){var F,D=v.xhr();if(D.open(v.type,v.url,v.async,v.username,v.password),v.xhrFields)for(F in v.xhrFields)D[F]=v.xhrFields[F];v.mimeType&&D.overrideMimeType&&D.overrideMimeType(v.mimeType),!v.crossDomain&&!S["X-Requested-With"]&&(S["X-Requested-With"]="XMLHttpRequest");for(F in S)D.setRequestHeader(F,S[F]);x=function(W){return function(){x&&(x=E=D.onload=D.onerror=D.onabort=D.ontimeout=D.onreadystatechange=null,W==="abort"?D.abort():W==="error"?typeof D.status!="number"?k(0,"error"):k(D.status,D.statusText):k(ote[D.status]||D.status,D.statusText,(D.responseType||"text")!=="text"||typeof D.responseText!="string"?{binary:D.response}:{text:D.responseText},D.getAllResponseHeaders()))}},D.onload=x(),E=D.onerror=D.ontimeout=x("error"),D.onabort!==void 0?D.onabort=E:D.onreadystatechange=function(){D.readyState===4&&e.setTimeout(function(){x&&E()})},x=x("abort");try{D.send(v.hasContent&&v.data||null)}catch(W){if(x)throw W}},abort:function(){x&&x()}}}),w.ajaxPrefilter(function(v){v.crossDomain&&(v.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(v){return w.globalEval(v),v}}}),w.ajaxPrefilter("script",function(v){v.cache===void 0&&(v.cache=!1),v.crossDomain&&(v.type="GET")}),w.ajaxTransport("script",function(v){if(v.crossDomain||v.scriptAttrs){var x,E;return{send:function(S,k){x=w("<script>").attr(v.scriptAttrs||{}).prop({charset:v.scriptCharset,src:v.url}).on("load error",E=function(F){x.remove(),E=null,F&&k(F.type==="error"?404:200,F.type)}),g.head.appendChild(x[0])},abort:function(){E&&E()}}}});var qR=[],rI=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var v=qR.pop()||w.expando+"_"+HR.guid++;return this[v]=!0,v}}),w.ajaxPrefilter("json jsonp",function(v,x,E){var S,k,F,D=v.jsonp!==!1&&(rI.test(v.url)?"url":typeof v.data=="string"&&(v.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&rI.test(v.data)&&"data");if(D||v.dataTypes[0]==="jsonp")return S=v.jsonpCallback=p(v.jsonpCallback)?v.jsonpCallback():v.jsonpCallback,D?v[D]=v[D].replace(rI,"$1"+S):v.jsonp!==!1&&(v.url+=(JB.test(v.url)?"&":"?")+v.jsonp+"="+S),v.converters["script json"]=function(){return F||w.error(S+" was not called"),F[0]},v.dataTypes[0]="json",k=e[S],e[S]=function(){F=arguments},E.always(function(){k===void 0?w(e).removeProp(S):e[S]=k,v[S]&&(v.jsonpCallback=x.jsonpCallback,qR.push(S)),F&&p(k)&&k(F[0]),F=k=void 0}),"script"}),f.createHTMLDocument=function(){var v=g.implementation.createHTMLDocument("").body;return v.innerHTML="<form></form><form></form>",v.childNodes.length===2}(),w.parseHTML=function(v,x,E){if(typeof v!="string")return[];typeof x=="boolean"&&(E=x,x=!1);var S,k,F;return x||(f.createHTMLDocument?(x=g.implementation.createHTMLDocument(""),S=x.createElement("base"),S.href=g.location.href,x.head.appendChild(S)):x=g),k=Ae.exec(v),F=!E&&[],k?[x.createElement(k[1])]:(k=ER([v],x,F),F&&F.length&&w(F).remove(),w.merge([],k.childNodes))},w.fn.load=function(v,x,E){var S,k,F,D=this,W=v.indexOf(" ");return W>-1&&(S=Vc(v.slice(W)),v=v.slice(0,W)),p(x)?(E=x,x=void 0):x&&typeof x=="object"&&(k="POST"),D.length>0&&w.ajax({url:v,type:k||"GET",dataType:"html",data:x}).done(function(K){F=arguments,D.html(S?w("<div>").append(w.parseHTML(K)).find(S):K)}).always(E&&function(K,re){D.each(function(){E.apply(this,F||[K.responseText,re,K])})}),this},w.expr.pseudos.animated=function(v){return w.grep(w.timers,function(x){return v===x.elem}).length},w.offset={setOffset:function(v,x,E){var S,k,F,D,W,K,re,fe=w.css(v,"position"),me=w(v),ue={};fe==="static"&&(v.style.position="relative"),W=me.offset(),F=w.css(v,"top"),K=w.css(v,"left"),re=(fe==="absolute"||fe==="fixed")&&(F+K).indexOf("auto")>-1,re?(S=me.position(),D=S.top,k=S.left):(D=parseFloat(F)||0,k=parseFloat(K)||0),p(x)&&(x=x.call(v,E,w.extend({},W))),x.top!=null&&(ue.top=x.top-W.top+D),x.left!=null&&(ue.left=x.left-W.left+k),"using"in x?x.using.call(v,ue):me.css(ue)}},w.fn.extend({offset:function(v){if(arguments.length)return v===void 0?this:this.each(function(k){w.offset.setOffset(this,v,k)});var x,E,S=this[0];if(!!S)return S.getClientRects().length?(x=S.getBoundingClientRect(),E=S.ownerDocument.defaultView,{top:x.top+E.pageYOffset,left:x.left+E.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var v,x,E,S=this[0],k={top:0,left:0};if(w.css(S,"position")==="fixed")x=S.getBoundingClientRect();else{for(x=this.offset(),E=S.ownerDocument,v=S.offsetParent||E.documentElement;v&&(v===E.body||v===E.documentElement)&&w.css(v,"position")==="static";)v=v.parentNode;v&&v!==S&&v.nodeType===1&&(k=w(v).offset(),k.top+=w.css(v,"borderTopWidth",!0),k.left+=w.css(v,"borderLeftWidth",!0))}return{top:x.top-k.top-w.css(S,"marginTop",!0),left:x.left-k.left-w.css(S,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var v=this.offsetParent;v&&w.css(v,"position")==="static";)v=v.offsetParent;return v||eu})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(v,x){var E=x==="pageYOffset";w.fn[v]=function(S){return Vt(this,function(k,F,D){var W;if(m(k)?W=k:k.nodeType===9&&(W=k.defaultView),D===void 0)return W?W[x]:k[F];W?W.scrollTo(E?W.pageXOffset:D,E?D:W.pageYOffset):k[F]=D},v,S,arguments.length)}}),w.each(["top","left"],function(v,x){w.cssHooks[x]=FR(f.pixelPosition,function(E,S){if(S)return S=Cp(E,x),WB.test(S)?w(E).position()[x]+"px":S})}),w.each({Height:"height",Width:"width"},function(v,x){w.each({padding:"inner"+v,content:x,"":"outer"+v},function(E,S){w.fn[S]=function(k,F){var D=arguments.length&&(E||typeof k!="boolean"),W=E||(k===!0||F===!0?"margin":"border");return Vt(this,function(K,re,fe){var me;return m(K)?S.indexOf("outer")===0?K["inner"+v]:K.document.documentElement["client"+v]:K.nodeType===9?(me=K.documentElement,Math.max(K.body["scroll"+v],me["scroll"+v],K.body["offset"+v],me["offset"+v],me["client"+v])):fe===void 0?w.css(K,re,W):w.style(K,re,fe,W)},x,D?k:void 0,D)}})}),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(v,x){w.fn[x]=function(E){return this.on(x,E)}}),w.fn.extend({bind:function(v,x,E){return this.on(v,null,x,E)},unbind:function(v,x){return this.off(v,null,x)},delegate:function(v,x,E,S){return this.on(x,v,E,S)},undelegate:function(v,x,E){return arguments.length===1?this.off(v,"**"):this.off(x,v||"**",E)},hover:function(v,x){return this.on("mouseenter",v).on("mouseleave",x||v)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(v,x){w.fn[x]=function(E,S){return arguments.length>0?this.on(x,null,E,S):this.trigger(x)}});var ate=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;w.proxy=function(v,x){var E,S,k;if(typeof x=="string"&&(E=v[x],x=v,v=E),!!p(v))return S=i.call(arguments,2),k=function(){return v.apply(x||this,S.concat(i.call(arguments)))},k.guid=v.guid=v.guid||w.guid++,k},w.holdReady=function(v){v?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=T,w.isFunction=p,w.isWindow=m,w.camelCase=dn,w.type=b,w.now=Date.now,w.isNumeric=function(v){var x=w.type(v);return(x==="number"||x==="string")&&!isNaN(v-parseFloat(v))},w.trim=function(v){return v==null?"":(v+"").replace(ate,"$1")};var ute=e.jQuery,lte=e.$;return w.noConflict=function(v){return e.$===w&&(e.$=lte),v&&e.jQuery===w&&(e.jQuery=ute),w},typeof n>"u"&&(e.jQuery=e.$=w),w})})(Uj);const oo=Uj.exports;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mt=function(){return Mt=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mt.apply(this,arguments)};function BT(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var bn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vr=Object.keys,Is=Array.isArray;typeof Promise<"u"&&!bn.Promise&&(bn.Promise=Promise);function Xs(t,e){return typeof e!="object"||vr(e).forEach(function(n){t[n]=e[n]}),t}var Rm=Object.getPrototypeOf,nOe={}.hasOwnProperty;function Qi(t,e){return nOe.call(t,e)}function Sf(t,e){typeof e=="function"&&(e=e(Rm(t))),(typeof Reflect>"u"?vr:Reflect.ownKeys)(e).forEach(function(n){Ou(t,n,e[n])})}var Lj=Object.defineProperty;function Ou(t,e,n,r){Lj(t,e,Xs(n&&Qi(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function ap(t){return{from:function(e){return t.prototype=Object.create(e.prototype),Ou(t.prototype,"constructor",t),{extend:Sf.bind(null,t.prototype)}}}}var rOe=Object.getOwnPropertyDescriptor;function VD(t,e){var n=rOe(t,e),r;return n||(r=Rm(t))&&VD(r,e)}var sOe=[].slice;function G2(t,e,n){return sOe.call(t,e,n)}function Pj(t,e){return e(t)}function cg(t){if(!t)throw new Error("Assertion Failed")}function Mj(t){bn.setImmediate?setImmediate(t):setTimeout(t,0)}function Qj(t,e){return t.reduce(function(n,r,s){var i=e(r,s);return i&&(n[i[0]]=i[1]),n},{})}function iOe(t,e,n){try{t.apply(null,n)}catch(r){e&&e(r)}}function Bu(t,e){if(Qi(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,s=e.length;r<s;++r){var i=Bu(t,e[r]);n.push(i)}return n}var o=e.indexOf(".");if(o!==-1){var a=t[e.substr(0,o)];return a===void 0?void 0:Bu(a,e.substr(o+1))}}function Jo(t,e,n){if(!(!t||e===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){cg(typeof n!="string"&&"length"in n);for(var r=0,s=e.length;r<s;++r)Jo(t,e[r],n[r])}else{var i=e.indexOf(".");if(i!==-1){var o=e.substr(0,i),a=e.substr(i+1);if(a==="")n===void 0?Is(t)&&!isNaN(parseInt(o))?t.splice(o,1):delete t[o]:t[o]=n;else{var u=t[o];(!u||!Qi(t,o))&&(u=t[o]={}),Jo(u,a,n)}}else n===void 0?Is(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function oOe(t,e){typeof e=="string"?Jo(t,e,void 0):"length"in e&&[].map.call(e,function(n){Jo(t,n,void 0)})}function Hj(t){var e={};for(var n in t)Qi(t,n)&&(e[n]=t[n]);return e}var aOe=[].concat;function Vj(t){return aOe.apply([],t)}var zj="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Vj([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return bn[t]}),uOe=zj.map(function(t){return bn[t]});Qj(zj,function(t){return[t,!0]});var dl=null;function Ky(t){dl=typeof WeakMap<"u"&&new WeakMap;var e=IT(t);return dl=null,e}function IT(t){if(!t||typeof t!="object")return t;var e=dl&&dl.get(t);if(e)return e;if(Is(t)){e=[],dl&&dl.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(IT(t[n]))}else if(uOe.indexOf(t.constructor)>=0)e=t;else{var s=Rm(t);e=s===Object.prototype?{}:Object.create(s),dl&&dl.set(t,e);for(var i in t)Qi(t,i)&&(e[i]=IT(t[i]))}return e}var lOe={}.toString;function ET(t){return lOe.call(t).slice(8,-1)}var $T=typeof Symbol<"u"?Symbol.iterator:"@@iterator",cOe=typeof $T=="symbol"?function(t){var e;return t!=null&&(e=t[$T])&&e.apply(t)}:function(){return null},ah={};function hu(t){var e,n,r,s;if(arguments.length===1){if(Is(t))return t.slice();if(this===ah&&typeof t=="string")return[t];if(s=cOe(t)){for(n=[];r=s.next(),!r.done;)n.push(r.value);return n}if(t==null)return[t];if(e=t.length,typeof e=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var zD=typeof Symbol<"u"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ya=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Kj(t,e){Ya=t,Wj=e}var Wj=function(){return!0},AOe=!new Error("").stack;function Id(){if(AOe)try{throw Id.arguments,new Error}catch(t){return t}return new Error}function ST(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(Wj).map(function(r){return`
`+r}).join("")):""}var dOe=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Gj=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],KD=dOe.concat(Gj),hOe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function up(t,e){this._e=Id(),this.name=t,this.message=e}ap(up).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+ST(this._e,2))}},toString:function(){return this.name+": "+this.message}});function jj(t,e){return t+". Errors: "+Object.keys(e).map(function(n){return e[n].toString()}).filter(function(n,r,s){return s.indexOf(n)===r}).join(`
`)}function QC(t,e,n,r){this._e=Id(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=jj(t,e)}ap(QC).from(up);function Lg(t,e){this._e=Id(),this.name="BulkError",this.failures=Object.keys(e).map(function(n){return e[n]}),this.failuresByPos=e,this.message=jj(t,e)}ap(Lg).from(up);var WD=KD.reduce(function(t,e){return t[e]=e+"Error",t},{}),fOe=up,ut=KD.reduce(function(t,e){var n=e+"Error";function r(s,i){this._e=Id(),this.name=n,s?typeof s=="string"?(this.message=""+s+(i?`
 `+i:""),this.inner=i||null):typeof s=="object"&&(this.message=s.name+" "+s.message,this.inner=s):(this.message=hOe[e]||n,this.inner=null)}return ap(r).from(fOe),t[e]=r,t},{});ut.Syntax=SyntaxError;ut.Type=TypeError;ut.Range=RangeError;var HP=Gj.reduce(function(t,e){return t[e+"Error"]=ut[e],t},{});function pOe(t,e){if(!t||t instanceof up||t instanceof TypeError||t instanceof SyntaxError||!t.name||!HP[t.name])return t;var n=new HP[t.name](e||t.message,t);return"stack"in t&&Ou(n,"stack",{get:function(){return this.inner.stack}}),n}var j2=KD.reduce(function(t,e){return["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=ut[e]),t},{});j2.ModifyError=QC;j2.DexieError=up;j2.BulkError=Lg;function ln(){}function Wy(t){return t}function gOe(t,e){return t==null||t===Wy?e:function(n){return e(t(n))}}function td(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function mOe(t,e){return t===ln?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?td(r,this.onsuccess):r),s&&(this.onerror=this.onerror?td(s,this.onerror):s),i!==void 0?i:n}}function yOe(t,e){return t===ln?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?td(n,this.onsuccess):n),r&&(this.onerror=this.onerror?td(r,this.onerror):r)}}function vOe(t,e){return t===ln?e:function(n){var r=t.apply(this,arguments);Xs(n,r);var s=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?td(s,this.onsuccess):s),i&&(this.onerror=this.onerror?td(i,this.onerror):i),r===void 0?o===void 0?void 0:o:Xs(r,o)}}function wOe(t,e){return t===ln?e:function(){return e.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function GD(t,e){return t===ln?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return n.then(function(){return e.apply(r,i)})}return e.apply(this,arguments)}}var Om={},COe=100,bOe=20,Xj=100,jD=typeof Promise>"u"?[]:function(){var t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,Rm(t),t];var e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,Rm(e),t]}(),TT=jD[0],HC=jD[1],NT=jD[2],qj=HC&&HC.then,dw=TT&&TT.constructor,XD=!!NT,kT=!1,xOe=NT?function(){NT.then(n1)}:bn.setImmediate?setImmediate.bind(null,n1):bn.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){n1(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(n1,0)},Um=function(t,e){Ag.push([t,e]),VC&&(xOe(),VC=!1)},FT=!0,VC=!0,NA=[],hw=[],_T=null,DT=Wy,qh={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:KP,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(t){try{KP(t[0],t[1])}catch{}})}},nt=qh,Ag=[],kA=0,fw=[];function He(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=ln,this._lib=!1;var e=this._PSD=nt;if(Ya&&(this._stackHolder=Id(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==Om)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&OT(this,this._value);return}this._state=null,this._value=null,++e.ref,Jj(this,t)}var RT={get:function(){var t=nt,e=zC;function n(r,s){var i=this,o=!t.global&&(t!==nt||e!==zC),a=o&&!Uu(),u=new He(function(l,c){qD(i,new Yj(WC(r,t,o,a),WC(s,t,o,a),l,c,t))});return Ya&&tX(u,this),u}return n.prototype=Om,n},set:function(t){Ou(this,"then",t&&t.prototype===Om?RT:{get:function(){return t},set:RT.set})}};Sf(He.prototype,{then:RT,_then:function(t,e){qD(this,new Yj(null,null,t,e,nt))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,function(r){return r instanceof e?n(r):pw(r)}):this.then(null,function(r){return r&&r.name===e?n(r):pw(r)})},finally:function(t){return this.then(function(e){return t(),e},function(e){return t(),pw(e)})},stack:{get:function(){if(this._stack)return this._stack;try{kT=!0;var t=eX(this,[],bOe),e=t.join(`
From previous: `);return this._state!==null&&(this._stack=e),e}finally{kT=!1}}},timeout:function(t,e){var n=this;return t<1/0?new He(function(r,s){var i=setTimeout(function(){return s(new ut.Timeout(e))},t);n.then(r,s).finally(clearTimeout.bind(null,i))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&Ou(He.prototype,Symbol.toStringTag,"Dexie.Promise");qh.env=nX();function Yj(t,e,n,r,s){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=s}Sf(He,{all:function(){var t=hu.apply(null,arguments).map(KC);return new He(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach(function(s,i){return He.resolve(s).then(function(o){t[i]=o,--r||e(t)},n)})})},resolve:function(t){if(t instanceof He)return t;if(t&&typeof t.then=="function")return new He(function(n,r){t.then(n,r)});var e=new He(Om,!0,t);return tX(e,_T),e},reject:pw,race:function(){var t=hu.apply(null,arguments).map(KC);return new He(function(e,n){t.map(function(r){return He.resolve(r).then(e,n)})})},PSD:{get:function(){return nt},set:function(t){return nt=t}},totalEchoes:{get:function(){return zC}},newPSD:hc,usePSD:cp,scheduler:{get:function(){return Um},set:function(t){Um=t}},rejectionMapper:{get:function(){return DT},set:function(t){DT=t}},follow:function(t,e){return new He(function(n,r){return hc(function(s,i){var o=nt;o.unhandleds=[],o.onunhandled=i,o.finalize=td(function(){var a=this;IOe(function(){a.unhandleds.length===0?s():i(a.unhandleds[0])})},o.finalize),t()},e,n,r)})}});dw&&(dw.allSettled&&Ou(He,"allSettled",function(){var t=hu.apply(null,arguments).map(KC);return new He(function(e){t.length===0&&e([]);var n=t.length,r=new Array(n);t.forEach(function(s,i){return He.resolve(s).then(function(o){return r[i]={status:"fulfilled",value:o}},function(o){return r[i]={status:"rejected",reason:o}}).then(function(){return--n||e(r)})})})}),dw.any&&typeof AggregateError<"u"&&Ou(He,"any",function(){var t=hu.apply(null,arguments).map(KC);return new He(function(e,n){t.length===0&&n(new AggregateError([]));var r=t.length,s=new Array(r);t.forEach(function(i,o){return He.resolve(i).then(function(a){return e(a)},function(a){s[o]=a,--r||n(new AggregateError(s))})})})}));function Jj(t,e){try{e(function(n){if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Gy();n&&typeof n.then=="function"?Jj(t,function(s,i){n instanceof He?n._then(s,i):n.then(s,i)}):(t._state=!0,t._value=n,Zj(t)),r&&jy()}},OT.bind(null,t))}catch(n){OT(t,n)}}function OT(t,e){if(hw.push(e),t._state===null){var n=t._lib&&Gy();e=DT(e),t._state=!1,t._value=e,Ya&&e!==null&&typeof e=="object"&&!e._promise&&iOe(function(){var r=VD(e,"stack");e._promise=t,Ou(e,"stack",{get:function(){return kT?r&&(r.get?r.get.apply(e):r.value):t.stack}})}),EOe(t),Zj(t),n&&jy()}}function Zj(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)qD(t,e[n]);var s=t._PSD;--s.ref||s.finalize(),kA===0&&(++kA,Um(function(){--kA===0&&YD()},[]))}function qD(t,e){if(t._state===null){t._listeners.push(e);return}var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++kA,Um(BOe,[n,t,e])}function BOe(t,e,n){try{_T=e;var r,s=e._value;e._state?r=t(s):(hw.length&&(hw=[]),r=t(s),hw.indexOf(s)===-1&&$Oe(e)),n.resolve(r)}catch(i){n.reject(i)}finally{_T=null,--kA===0&&YD(),--n.psd.ref||n.psd.finalize()}}function eX(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var s=t._value,i,o;s!=null?(i=s.name||"Error",o=s.message||s,r=ST(s,0)):(i=s,o=""),e.push(i+(o?": "+o:"")+r)}return Ya&&(r=ST(t._stackHolder,2),r&&e.indexOf(r)===-1&&e.push(r),t._prev&&eX(t._prev,e,n)),e}function tX(t,e){var n=e?e._numPrev+1:0;n<COe&&(t._prev=e,t._numPrev=n)}function n1(){Gy()&&jy()}function Gy(){var t=FT;return FT=!1,VC=!1,t}function jy(){var t,e,n;do for(;Ag.length>0;)for(t=Ag,Ag=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(Ag.length>0);FT=!0,VC=!0}function YD(){var t=NA;NA=[],t.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var e=fw.slice(0),n=e.length;n;)e[--n]()}function IOe(t){function e(){t(),fw.splice(fw.indexOf(e),1)}fw.push(e),++kA,Um(function(){--kA===0&&YD()},[])}function EOe(t){NA.some(function(e){return e._value===t._value})||NA.push(t)}function $Oe(t){for(var e=NA.length;e;)if(NA[--e]._value===t._value){NA.splice(e,1);return}}function pw(t){return new He(Om,!1,t)}function Fn(t,e){var n=nt;return function(){var r=Gy(),s=nt;try{return fc(n,!0),t.apply(this,arguments)}catch(i){e&&e(i)}finally{fc(s,!1),r&&jy()}}}var xs={awaits:0,echoes:0,id:0},SOe=0,gw=[],hE=0,zC=0,TOe=0;function hc(t,e,n,r){var s=nt,i=Object.create(s);i.parent=s,i.ref=0,i.global=!1,i.id=++TOe;var o=qh.env;i.env=XD?{Promise:He,PromiseProp:{value:He,configurable:!0,writable:!0},all:He.all,race:He.race,allSettled:He.allSettled,any:He.any,resolve:He.resolve,reject:He.reject,nthen:VP(o.nthen,i),gthen:VP(o.gthen,i)}:{},e&&Xs(i,e),++s.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=cp(i,t,n,r);return i.ref===0&&i.finalize(),a}function lp(){return xs.id||(xs.id=++SOe),++xs.awaits,xs.echoes+=Xj,xs.id}function Uu(){return xs.awaits?(--xs.awaits===0&&(xs.id=0),xs.echoes=xs.awaits*Xj,!0):!1}(""+qj).indexOf("[native code]")===-1&&(lp=Uu=ln);function KC(t){return xs.echoes&&t&&t.constructor===dw?(lp(),t.then(function(e){return Uu(),e},function(e){return Uu(),kr(e)})):t}function NOe(t){++zC,(!xs.echoes||--xs.echoes===0)&&(xs.echoes=xs.id=0),gw.push(nt),fc(t,!0)}function kOe(){var t=gw[gw.length-1];gw.pop(),fc(t,!1)}function fc(t,e){var n=nt;if((e?xs.echoes&&(!hE++||t!==nt):hE&&(!--hE||t!==nt))&&rX(e?NOe.bind(null,t):kOe),t!==nt&&(nt=t,n===qh&&(qh.env=nX()),XD)){var r=qh.env.Promise,s=t.env;HC.then=s.nthen,r.prototype.then=s.gthen,(n.global||t.global)&&(Object.defineProperty(bn,"Promise",s.PromiseProp),r.all=s.all,r.race=s.race,r.resolve=s.resolve,r.reject=s.reject,s.allSettled&&(r.allSettled=s.allSettled),s.any&&(r.any=s.any))}}function nX(){var t=bn.Promise;return XD?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(bn,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:HC.then,gthen:t.prototype.then}:{}}function cp(t,e,n,r,s){var i=nt;try{return fc(t,!0),e(n,r,s)}finally{fc(i,!1)}}function rX(t){qj.call(TT,t)}function WC(t,e,n,r){return typeof t!="function"?t:function(){var s=nt;n&&lp(),fc(e,!0);try{return t.apply(this,arguments)}finally{fc(s,!1),r&&rX(Uu)}}}function VP(t,e){return function(n,r){return t.call(this,WC(n,e),WC(r,e))}}var zP="unhandledrejection";function KP(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,s={promise:e,reason:t};if(bn.document&&document.createEvent?(r=document.createEvent("Event"),r.initEvent(zP,!0,!0),Xs(r,s)):bn.CustomEvent&&(r=new CustomEvent(zP,{detail:s}),Xs(r,s)),r&&bn.dispatchEvent&&(dispatchEvent(r),!bn.PromiseRejectionEvent&&bn.onunhandledrejection))try{bn.onunhandledrejection(r)}catch{}Ya&&r&&!r.defaultPrevented&&console.warn("Unhandled rejection: "+(t.stack||t))}catch{}}var kr=He.reject;function UT(t,e,n,r){if(!t.idbdb||!t._state.openComplete&&!nt.letThrough&&!t._vip){if(t._state.openComplete)return kr(new ut.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return kr(new ut.DatabaseClosed);t.open().catch(ln)}return t._state.dbReadyPromise.then(function(){return UT(t,e,n,r)})}else{var s=t._createTransaction(e,n,t._dbSchema);try{s.create(),t._state.PR1398_maxLoop=3}catch(i){return i.name===WD.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return UT(t,e,n,r)})):kr(i)}return s._promise(e,function(i,o){return hc(function(){return nt.trans=s,r(i,o,s)})}).then(function(i){return s._completion.then(function(){return i})})}}var WP="3.2.4",vA=String.fromCharCode(65535),LT=-1/0,ru="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",sX="String expected.",Pg=[],X2=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),FOe=X2,_Oe=X2,iX=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)},q2="__dbnames",fE="readonly",pE="readwrite";function nd(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}var oX={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function r1(t){return typeof t=="string"&&!/\./.test(t)?function(e){return e[t]===void 0&&t in e&&(e=Ky(e),delete e[t]),e}:function(e){return e}}var DOe=function(){function t(){}return t.prototype._trans=function(e,n,r){var s=this._tx||nt.trans,i=this.name;function o(u,l,c){if(!c.schema[i])throw new ut.NotFound("Table "+i+" not part of transaction");return n(c.idbtrans,c)}var a=Gy();try{return s&&s.db===this.db?s===nt.trans?s._promise(e,o,r):hc(function(){return s._promise(e,o,r)},{trans:s,transless:nt.transless||nt}):UT(this.db,e,[this.name],o)}finally{a&&jy()}},t.prototype.get=function(e,n){var r=this;return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",function(s){return r.core.get({trans:s,key:e}).then(function(i){return r.hook.reading.fire(i)})}).then(n)},t.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(Is(e))return new this.db.WhereClause(this,"["+e.join("+")+"]");var n=vr(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(c){return c.compound&&n.every(function(A){return c.keyPath.indexOf(A)>=0})&&c.keyPath.every(function(A){return n.indexOf(A)>=0})})[0];if(r&&this.db._maxKey!==vA)return this.where(r.name).equals(r.keyPath.map(function(c){return e[c]}));!r&&Ya&&console.warn("The query "+JSON.stringify(e)+" on "+this.name+" would benefit of a "+("compound index ["+n.join("+")+"]"));var s=this.schema.idxByName,i=this.db._deps.indexedDB;function o(c,A){try{return i.cmp(c,A)===0}catch{return!1}}var a=n.reduce(function(c,A){var d=c[0],h=c[1],f=s[A],p=e[A];return[d||f,d||!f?nd(h,f&&f.multi?function(m){var g=Bu(m,A);return Is(g)&&g.some(function(y){return o(p,y)})}:function(m){return o(p,Bu(m,A))}):h]},[null,null]),u=a[0],l=a[1];return u?this.where(u.name).equals(e[u.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")},t.prototype.filter=function(e){return this.toCollection().and(e)},t.prototype.count=function(e){return this.toCollection().count(e)},t.prototype.offset=function(e){return this.toCollection().offset(e)},t.prototype.limit=function(e){return this.toCollection().limit(e)},t.prototype.each=function(e){return this.toCollection().each(e)},t.prototype.toArray=function(e){return this.toCollection().toArray(e)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,Is(e)?"["+e.join("+")+"]":e))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(e){this.schema.mappedClass=e;var n=function(r){if(!r)return r;var s=Object.create(e.prototype);for(var i in r)if(Qi(r,i))try{s[i]=r[i]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e},t.prototype.defineClass=function(){function e(n){Xs(this,n)}return this.mapToClass(e)},t.prototype.add=function(e,n){var r=this,s=this.schema.primKey,i=s.auto,o=s.keyPath,a=e;return o&&i&&(a=r1(o)(e)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"add",keys:n!=null?[n]:null,values:[a]})}).then(function(u){return u.numFailures?He.reject(u.failures[0]):u.lastResult}).then(function(u){if(o)try{Jo(e,o,u)}catch{}return u})},t.prototype.update=function(e,n){if(typeof e=="object"&&!Is(e)){var r=Bu(e,this.schema.primKey.keyPath);if(r===void 0)return kr(new ut.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?vr(n).forEach(function(s){Jo(e,s,n[s])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(e).modify(n)},t.prototype.put=function(e,n){var r=this,s=this.schema.primKey,i=s.auto,o=s.keyPath,a=e;return o&&i&&(a=r1(o)(e)),this._trans("readwrite",function(u){return r.core.mutate({trans:u,type:"put",values:[a],keys:n!=null?[n]:null})}).then(function(u){return u.numFailures?He.reject(u.failures[0]):u.lastResult}).then(function(u){if(o)try{Jo(e,o,u)}catch{}return u})},t.prototype.delete=function(e){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[e]})}).then(function(r){return r.numFailures?He.reject(r.failures[0]):void 0})},t.prototype.clear=function(){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"deleteRange",range:oX})}).then(function(n){return n.numFailures?He.reject(n.failures[0]):void 0})},t.prototype.bulkGet=function(e){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:e,trans:r}).then(function(s){return s.map(function(i){return n.hook.reading.fire(i)})})})},t.prototype.bulkAdd=function(e,n,r){var s=this,i=Array.isArray(n)?n:void 0;r=r||(i?void 0:n);var o=r?r.allKeys:void 0;return this._trans("readwrite",function(a){var u=s.schema.primKey,l=u.auto,c=u.keyPath;if(c&&i)throw new ut.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new ut.InvalidArgument("Arguments objects and keys must have the same length");var A=e.length,d=c&&l?e.map(r1(c)):e;return s.core.mutate({trans:a,type:"add",keys:i,values:d,wantResults:o}).then(function(h){var f=h.numFailures,p=h.results,m=h.lastResult,g=h.failures,y=o?p:m;if(f===0)return y;throw new Lg(s.name+".bulkAdd(): "+f+" of "+A+" operations failed",g)})})},t.prototype.bulkPut=function(e,n,r){var s=this,i=Array.isArray(n)?n:void 0;r=r||(i?void 0:n);var o=r?r.allKeys:void 0;return this._trans("readwrite",function(a){var u=s.schema.primKey,l=u.auto,c=u.keyPath;if(c&&i)throw new ut.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new ut.InvalidArgument("Arguments objects and keys must have the same length");var A=e.length,d=c&&l?e.map(r1(c)):e;return s.core.mutate({trans:a,type:"put",keys:i,values:d,wantResults:o}).then(function(h){var f=h.numFailures,p=h.results,m=h.lastResult,g=h.failures,y=o?p:m;if(f===0)return y;throw new Lg(s.name+".bulkPut(): "+f+" of "+A+" operations failed",g)})})},t.prototype.bulkDelete=function(e){var n=this,r=e.length;return this._trans("readwrite",function(s){return n.core.mutate({trans:s,type:"delete",keys:e})}).then(function(s){var i=s.numFailures,o=s.lastResult,a=s.failures;if(i===0)return o;throw new Lg(n.name+".bulkDelete(): "+i+" of "+r+" operations failed",a)})},t}();function Xy(t){var e={},n=function(a,u){if(u){for(var l=arguments.length,c=new Array(l-1);--l;)c[l-1]=arguments[l];return e[a].subscribe.apply(null,c),t}else if(typeof a=="string")return e[a]};n.addEventType=i;for(var r=1,s=arguments.length;r<s;++r)i(arguments[r]);return n;function i(a,u,l){if(typeof a=="object")return o(a);u||(u=wOe),l||(l=ln);var c={subscribers:[],fire:l,subscribe:function(A){c.subscribers.indexOf(A)===-1&&(c.subscribers.push(A),c.fire=u(c.fire,A))},unsubscribe:function(A){c.subscribers=c.subscribers.filter(function(d){return d!==A}),c.fire=c.subscribers.reduce(u,l)}};return e[a]=n[a]=c,c}function o(a){vr(a).forEach(function(u){var l=a[u];if(Is(l))i(u,a[u][0],a[u][1]);else if(l==="asap")var c=i(u,Wy,function(){for(var d=arguments.length,h=new Array(d);d--;)h[d]=arguments[d];c.subscribers.forEach(function(f){Mj(function(){f.apply(null,h)})})});else throw new ut.InvalidArgument("Invalid event config")})}}function qy(t,e){return ap(e).from({prototype:t}),e}function ROe(t){return qy(DOe.prototype,function(n,r,s){this.db=t,this._tx=s,this.name=n,this.schema=r,this.hook=t._allTables[n]?t._allTables[n].hook:Xy(null,{creating:[mOe,ln],reading:[gOe,Wy],updating:[vOe,ln],deleting:[yOe,ln]})})}function zd(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function gE(t,e){t.filter=nd(t.filter,e)}function mE(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return nd(r(),e())}:e,t.justLimit=n&&!r}function OOe(t,e){t.isMatch=nd(t.isMatch,e)}function mw(t,e){if(t.isPrimKey)return e.primaryKey;var n=e.getIndexByKeyPath(t.index);if(!n)throw new ut.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function GP(t,e,n){var r=mw(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function s1(t,e,n,r){var s=t.replayFilter?nd(t.filter,t.replayFilter()):t.filter;if(t.or){var i={},o=function(a,u,l){if(!s||s(u,l,function(d){return u.stop(d)},function(d){return u.fail(d)})){var c=u.primaryKey,A=""+c;A==="[object ArrayBuffer]"&&(A=""+new Uint8Array(c)),Qi(i,A)||(i[A]=!0,e(a,u,l))}};return Promise.all([t.or._iterate(o,n),jP(GP(t,r,n),t.algorithm,o,!t.keysOnly&&t.valueMapper)])}else return jP(GP(t,r,n),nd(t.algorithm,s),e,!t.keysOnly&&t.valueMapper)}function jP(t,e,n,r){var s=r?function(o,a,u){return n(r(o),a,u)}:n,i=Fn(s);return t.then(function(o){if(o)return o.start(function(){var a=function(){return o.continue()};(!e||e(o,function(u){return a=u},function(u){o.stop(u),a=ln},function(u){o.fail(u),a=ln}))&&i(o.value,o,function(u){return a=u}),a()})})}function Vs(t,e){try{var n=XP(t),r=XP(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return LOe(qP(t),qP(e));case"Array":return UOe(t,e)}}catch{}return NaN}function UOe(t,e){for(var n=t.length,r=e.length,s=n<r?n:r,i=0;i<s;++i){var o=Vs(t[i],e[i]);if(o!==0)return o}return n===r?0:n<r?-1:1}function LOe(t,e){for(var n=t.length,r=e.length,s=n<r?n:r,i=0;i<s;++i)if(t[i]!==e[i])return t[i]<e[i]?-1:1;return n===r?0:n<r?-1:1}function XP(t){var e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";var n=ET(t);return n==="ArrayBuffer"?"binary":n}function qP(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var POe=function(){function t(){}return t.prototype._read=function(e,n){var r=this._ctx;return r.error?r.table._trans(null,kr.bind(null,r.error)):r.table._trans("readonly",e).then(n)},t.prototype._write=function(e){var n=this._ctx;return n.error?n.table._trans(null,kr.bind(null,n.error)):n.table._trans("readwrite",e,"locked")},t.prototype._addAlgorithm=function(e){var n=this._ctx;n.algorithm=nd(n.algorithm,e)},t.prototype._iterate=function(e,n){return s1(this._ctx,e,n,this._ctx.table.core)},t.prototype.clone=function(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&Xs(r,e),n._ctx=r,n},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(e){var n=this._ctx;return this._read(function(r){return s1(n,e,r,n.table.core)})},t.prototype.count=function(e){var n=this;return this._read(function(r){var s=n._ctx,i=s.table.core;if(zd(s,!0))return i.count({trans:r,query:{index:mw(s,i.schema),range:s.range}}).then(function(a){return Math.min(a,s.limit)});var o=0;return s1(s,function(){return++o,!1},r,i).then(function(){return o})}).then(e)},t.prototype.sortBy=function(e,n){var r=e.split(".").reverse(),s=r[0],i=r.length-1;function o(l,c){return c?o(l[r[c]],c-1):l[s]}var a=this._ctx.dir==="next"?1:-1;function u(l,c){var A=o(l,i),d=o(c,i);return A<d?-a:A>d?a:0}return this.toArray(function(l){return l.sort(u)}).then(n)},t.prototype.toArray=function(e){var n=this;return this._read(function(r){var s=n._ctx;if(s.dir==="next"&&zd(s,!0)&&s.limit>0){var i=s.valueMapper,o=mw(s,s.table.core.schema);return s.table.core.query({trans:r,limit:s.limit,values:!0,query:{index:o,range:s.range}}).then(function(u){var l=u.result;return i?l.map(i):l})}else{var a=[];return s1(s,function(u){return a.push(u)},r,s.table.core).then(function(){return a})}},e)},t.prototype.offset=function(e){var n=this._ctx;return e<=0?this:(n.offset+=e,zd(n)?mE(n,function(){var r=e;return function(s,i){return r===0?!0:r===1?(--r,!1):(i(function(){s.advance(r),r=0}),!1)}}):mE(n,function(){var r=e;return function(){return--r<0}}),this)},t.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),mE(this._ctx,function(){var n=e;return function(r,s,i){return--n<=0&&s(i),n>=0}},!0),this},t.prototype.until=function(e,n){return gE(this._ctx,function(r,s,i){return e(r.value)?(s(i),n):!0}),this},t.prototype.first=function(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)},t.prototype.last=function(e){return this.reverse().first(e)},t.prototype.filter=function(e){return gE(this._ctx,function(n){return e(n.value)}),OOe(this._ctx,e),this},t.prototype.and=function(e){return this.filter(e)},t.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){e(s.key,s)})},t.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},t.prototype.eachPrimaryKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){e(s.primaryKey,s)})},t.prototype.keys=function(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,i){r.push(i.key)}).then(function(){return r}).then(e)},t.prototype.primaryKeys=function(e){var n=this._ctx;if(n.dir==="next"&&zd(n,!0)&&n.limit>0)return this._read(function(s){var i=mw(n,n.table.core.schema);return n.table.core.query({trans:s,values:!1,limit:n.limit,query:{index:i,range:n.range}})}).then(function(s){var i=s.result;return i}).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,i){r.push(i.primaryKey)}).then(function(){return r}).then(e)},t.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},t.prototype.firstKey=function(e){return this.limit(1).keys(function(n){return n[0]}).then(e)},t.prototype.lastKey=function(e){return this.reverse().firstKey(e)},t.prototype.distinct=function(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return gE(this._ctx,function(s){var i=s.primaryKey.toString(),o=Qi(r,i);return r[i]=!0,!o}),this},t.prototype.modify=function(e){var n=this,r=this._ctx;return this._write(function(s){var i;if(typeof e=="function")i=e;else{var o=vr(e),a=o.length;i=function(g){for(var y=!1,C=0;C<a;++C){var b=o[C],B=e[b];Bu(g,b)!==B&&(Jo(g,b,B),y=!0)}return y}}var u=r.table.core,l=u.schema.primaryKey,c=l.outbound,A=l.extractKey,d=n.db._options.modifyChunkSize||200,h=[],f=0,p=[],m=function(g,y){var C=y.failures,b=y.numFailures;f+=g-b;for(var B=0,I=vr(C);B<I.length;B++){var w=I[B];h.push(C[w])}};return n.clone().primaryKeys().then(function(g){var y=function(C){var b=Math.min(d,g.length-C);return u.getMany({trans:s,keys:g.slice(C,C+b),cache:"immutable"}).then(function(B){for(var I=[],w=[],$=c?[]:null,T=[],_=0;_<b;++_){var R=B[_],P={value:Ky(R),primKey:g[C+_]};i.call(P,P.value,P)!==!1&&(P.value==null?T.push(g[C+_]):!c&&Vs(A(R),A(P.value))!==0?(T.push(g[C+_]),I.push(P.value)):(w.push(P.value),c&&$.push(g[C+_])))}var L=zd(r)&&r.limit===1/0&&(typeof e!="function"||e===yE)&&{index:r.index,range:r.range};return Promise.resolve(I.length>0&&u.mutate({trans:s,type:"add",values:I}).then(function(z){for(var V in z.failures)T.splice(parseInt(V),1);m(I.length,z)})).then(function(){return(w.length>0||L&&typeof e=="object")&&u.mutate({trans:s,type:"put",keys:$,values:w,criteria:L,changeSpec:typeof e!="function"&&e}).then(function(z){return m(w.length,z)})}).then(function(){return(T.length>0||L&&e===yE)&&u.mutate({trans:s,type:"delete",keys:T,criteria:L}).then(function(z){return m(T.length,z)})}).then(function(){return g.length>C+b&&y(C+d)})})};return y(0).then(function(){if(h.length>0)throw new QC("Error modifying one or more objects",h,f,p);return g.length})})})},t.prototype.delete=function(){var e=this._ctx,n=e.range;return zd(e)&&(e.isPrimKey&&!_Oe||n.type===3)?this._write(function(r){var s=e.table.core.schema.primaryKey,i=n;return e.table.core.count({trans:r,query:{index:s,range:i}}).then(function(o){return e.table.core.mutate({trans:r,type:"deleteRange",range:i}).then(function(a){var u=a.failures;a.lastResult,a.results;var l=a.numFailures;if(l)throw new QC("Could not delete some values",Object.keys(u).map(function(c){return u[c]}),o-l);return o-l})})}):this.modify(yE)},t}(),yE=function(t,e){return e.value=null};function MOe(t){return qy(POe.prototype,function(n,r){this.db=t;var s=oX,i=null;if(r)try{s=r()}catch(l){i=l}var o=n._ctx,a=o.table,u=a.hook.reading.fire;this._ctx={table:a,index:o.index,isPrimKey:!o.index||a.schema.primKey.keyPath&&o.index===a.schema.primKey.name,range:s,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:o.or,valueMapper:u!==Wy?u:null}})}function QOe(t,e){return t<e?-1:t===e?0:1}function HOe(t,e){return t>e?-1:t===e?0:1}function $i(t,e,n){var r=t instanceof uX?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function Kd(t){return new t.Collection(t,function(){return aX("")}).limit(0)}function VOe(t){return t==="next"?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function zOe(t){return t==="next"?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function KOe(t,e,n,r,s,i){for(var o=Math.min(t.length,r.length),a=-1,u=0;u<o;++u){var l=e[u];if(l!==r[u])return s(t[u],n[u])<0?t.substr(0,u)+n[u]+n.substr(u+1):s(t[u],r[u])<0?t.substr(0,u)+r[u]+n.substr(u+1):a>=0?t.substr(0,a)+e[a]+n.substr(a+1):null;s(t[u],l)<0&&(a=u)}return o<r.length&&i==="next"?t+n.substr(t.length):o<t.length&&i==="prev"?t.substr(0,n.length):a<0?null:t.substr(0,a)+r[a]+n.substr(a+1)}function i1(t,e,n,r){var s,i,o,a,u,l,c,A=n.length;if(!n.every(function(p){return typeof p=="string"}))return $i(t,sX);function d(p){s=VOe(p),i=zOe(p),o=p==="next"?QOe:HOe;var m=n.map(function(g){return{lower:i(g),upper:s(g)}}).sort(function(g,y){return o(g.lower,y.lower)});a=m.map(function(g){return g.upper}),u=m.map(function(g){return g.lower}),l=p,c=p==="next"?"":r}d("next");var h=new t.Collection(t,function(){return al(a[0],u[A-1]+r)});h._ondirectionchange=function(p){d(p)};var f=0;return h._addAlgorithm(function(p,m,g){var y=p.key;if(typeof y!="string")return!1;var C=i(y);if(e(C,u,f))return!0;for(var b=null,B=f;B<A;++B){var I=KOe(y,C,a[B],u[B],o,l);I===null&&b===null?f=B+1:(b===null||o(b,I)>0)&&(b=I)}return m(b!==null?function(){p.continue(b+c)}:g),!1}),h}function al(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function aX(t){return{type:1,lower:t,upper:t}}var uX=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(e,n,r,s){r=r!==!1,s=s===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||s)&&!(r&&s)?Kd(this):new this.Collection(this,function(){return al(e,n,!r,!s)})}catch{return $i(this,ru)}},t.prototype.equals=function(e){return e==null?$i(this,ru):new this.Collection(this,function(){return aX(e)})},t.prototype.above=function(e){return e==null?$i(this,ru):new this.Collection(this,function(){return al(e,void 0,!0)})},t.prototype.aboveOrEqual=function(e){return e==null?$i(this,ru):new this.Collection(this,function(){return al(e,void 0,!1)})},t.prototype.below=function(e){return e==null?$i(this,ru):new this.Collection(this,function(){return al(void 0,e,!1,!0)})},t.prototype.belowOrEqual=function(e){return e==null?$i(this,ru):new this.Collection(this,function(){return al(void 0,e)})},t.prototype.startsWith=function(e){return typeof e!="string"?$i(this,sX):this.between(e,e+vA,!0,!0)},t.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):i1(this,function(n,r){return n.indexOf(r[0])===0},[e],vA)},t.prototype.equalsIgnoreCase=function(e){return i1(this,function(n,r){return n===r[0]},[e],"")},t.prototype.anyOfIgnoreCase=function(){var e=hu.apply(ah,arguments);return e.length===0?Kd(this):i1(this,function(n,r){return r.indexOf(n)!==-1},e,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var e=hu.apply(ah,arguments);return e.length===0?Kd(this):i1(this,function(n,r){return r.some(function(s){return n.indexOf(s)===0})},e,vA)},t.prototype.anyOf=function(){var e=this,n=hu.apply(ah,arguments),r=this._cmp;try{n.sort(r)}catch{return $i(this,ru)}if(n.length===0)return Kd(this);var s=new this.Collection(this,function(){return al(n[0],n[n.length-1])});s._ondirectionchange=function(o){r=o==="next"?e._ascending:e._descending,n.sort(r)};var i=0;return s._addAlgorithm(function(o,a,u){for(var l=o.key;r(l,n[i])>0;)if(++i,i===n.length)return a(u),!1;return r(l,n[i])===0?!0:(a(function(){o.continue(n[i])}),!1)}),s},t.prototype.notEqual=function(e){return this.inAnyRange([[LT,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var e=hu.apply(ah,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return $i(this,ru)}var n=e.reduce(function(r,s){return r?r.concat([[r[r.length-1][1],s]]):[[LT,s]]},null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(e,n){var r=this,s=this._cmp,i=this._ascending,o=this._descending,a=this._min,u=this._max;if(e.length===0)return Kd(this);if(!e.every(function(B){return B[0]!==void 0&&B[1]!==void 0&&i(B[0],B[1])<=0}))return $i(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ut.InvalidArgument);var l=!n||n.includeLowers!==!1,c=n&&n.includeUppers===!0;function A(B,I){for(var w=0,$=B.length;w<$;++w){var T=B[w];if(s(I[0],T[1])<0&&s(I[1],T[0])>0){T[0]=a(T[0],I[0]),T[1]=u(T[1],I[1]);break}}return w===$&&B.push(I),B}var d=i;function h(B,I){return d(B[0],I[0])}var f;try{f=e.reduce(A,[]),f.sort(h)}catch{return $i(this,ru)}var p=0,m=c?function(B){return i(B,f[p][1])>0}:function(B){return i(B,f[p][1])>=0},g=l?function(B){return o(B,f[p][0])>0}:function(B){return o(B,f[p][0])>=0};function y(B){return!m(B)&&!g(B)}var C=m,b=new this.Collection(this,function(){return al(f[0][0],f[f.length-1][1],!l,!c)});return b._ondirectionchange=function(B){B==="next"?(C=m,d=i):(C=g,d=o),f.sort(h)},b._addAlgorithm(function(B,I,w){for(var $=B.key;C($);)if(++p,p===f.length)return I(w),!1;return y($)?!0:(r._cmp($,f[p][1])===0||r._cmp($,f[p][0])===0||I(function(){d===i?B.continue(f[p][0]):B.continue(f[p][1])}),!1)}),b},t.prototype.startsWithAnyOf=function(){var e=hu.apply(ah,arguments);return e.every(function(n){return typeof n=="string"})?e.length===0?Kd(this):this.inAnyRange(e.map(function(n){return[n,n+vA]})):$i(this,"startsWithAnyOf() only works with strings")},t}();function WOe(t){return qy(uX.prototype,function(n,r,s){this.db=t,this._ctx={table:n,index:r===":id"?null:r,or:s};var i=t._deps.indexedDB;if(!i)throw new ut.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=function(o,a){return i.cmp(a,o)},this._max=function(o,a){return i.cmp(o,a)>0?o:a},this._min=function(o,a){return i.cmp(o,a)<0?o:a},this._IDBKeyRange=t._deps.IDBKeyRange})}function wa(t){return Fn(function(e){return Lm(e),t(e.target.error),!1})}function Lm(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var Pm="storagemutated",Tl="x-storagemutated-1",pc=Xy(null,Pm),GOe=function(){function t(){}return t.prototype._lock=function(){return cg(!nt.global),++this._reculock,this._reculock===1&&!nt.global&&(nt.lockOwnerFor=this),this},t.prototype._unlock=function(){if(cg(!nt.global),--this._reculock===0)for(nt.global||(nt.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{cp(e[1],e[0])}catch{}}return this},t.prototype._locked=function(){return this._reculock&&nt.lockOwnerFor!==this},t.prototype.create=function(e){var n=this;if(!this.mode)return this;var r=this.db.idbdb,s=this.db._state.dbOpenError;if(cg(!this.idbtrans),!e&&!r)switch(s&&s.name){case"DatabaseClosedError":throw new ut.DatabaseClosed(s);case"MissingAPIError":throw new ut.MissingAPI(s.message,s);default:throw new ut.OpenFailed(s)}if(!this.active)throw new ut.TransactionInactive;return cg(this._completion._state===null),e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),e.onerror=Fn(function(i){Lm(i),n._reject(e.error)}),e.onabort=Fn(function(i){Lm(i),n.active&&n._reject(new ut.Abort(e.error)),n.active=!1,n.on("abort").fire(i)}),e.oncomplete=Fn(function(){n.active=!1,n._resolve(),"mutatedParts"in e&&pc.storagemutated.fire(e.mutatedParts)}),this},t.prototype._promise=function(e,n,r){var s=this;if(e==="readwrite"&&this.mode!=="readwrite")return kr(new ut.ReadOnly("Transaction is readonly"));if(!this.active)return kr(new ut.TransactionInactive);if(this._locked())return new He(function(o,a){s._blockedFuncs.push([function(){s._promise(e,n,r).then(o,a)},nt])});if(r)return hc(function(){var o=new He(function(a,u){s._lock();var l=n(a,u,s);l&&l.then&&l.then(a,u)});return o.finally(function(){return s._unlock()}),o._lib=!0,o});var i=new He(function(o,a){var u=n(o,a,s);u&&u.then&&u.then(o,a)});return i._lib=!0,i},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(e){var n=this._root(),r=He.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var s=n.idbtrans.objectStore(n.storeNames[0]);(function o(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(s.get(-1/0).onsuccess=o)})()}var i=n._waitingFor;return new He(function(o,a){r.then(function(u){return n._waitingQueue.push(Fn(o.bind(null,u)))},function(u){return n._waitingQueue.push(Fn(a.bind(null,u)))}).finally(function(){n._waitingFor===i&&(n._waitingFor=null)})})},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ut.Abort))},t.prototype.table=function(e){var n=this._memoizedTables||(this._memoizedTables={});if(Qi(n,e))return n[e];var r=this.schema[e];if(!r)throw new ut.NotFound("Table "+e+" not part of transaction");var s=new this.db.Table(e,r,this);return s.core=this.db.core.table(e),n[e]=s,s},t}();function jOe(t){return qy(GOe.prototype,function(n,r,s,i,o){var a=this;this.db=t,this.mode=n,this.storeNames=r,this.schema=s,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=Xy(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new He(function(u,l){a._resolve=u,a._reject=l}),this._completion.then(function(){a.active=!1,a.on.complete.fire()},function(u){var l=a.active;return a.active=!1,a.on.error.fire(u),a.parent?a.parent._reject(u):l&&a.idbtrans&&a.idbtrans.abort(),kr(u)})})}function PT(t,e,n,r,s,i,o){return{name:t,keyPath:e,unique:n,multi:r,auto:s,compound:i,src:(n&&!o?"&":"")+(r?"*":"")+(s?"++":"")+lX(e)}}function lX(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function cX(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:Qj(n,function(r){return[r.name,r]})}}function XOe(t){return t.length===1?t[0]:t}var Mm=function(t){try{return t.only([[]]),Mm=function(){return[[]]},[[]]}catch{return Mm=function(){return vA},vA}};function MT(t){return t==null?function(){}:typeof t=="string"?qOe(t):function(e){return Bu(e,t)}}function qOe(t){var e=t.split(".");return e.length===1?function(n){return n[t]}:function(n){return Bu(n,t)}}function YP(t){return[].slice.call(t)}var YOe=0;function Mg(t){return t==null?":id":typeof t=="string"?t:"["+t.join("+")+"]"}function JOe(t,e,n){function r(A,d){var h=YP(A.objectStoreNames);return{schema:{name:A.name,tables:h.map(function(f){return d.objectStore(f)}).map(function(f){var p=f.keyPath,m=f.autoIncrement,g=Is(p),y=p==null,C={},b={name:f.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:y,compound:g,keyPath:p,autoIncrement:m,unique:!0,extractKey:MT(p)},indexes:YP(f.indexNames).map(function(B){return f.index(B)}).map(function(B){var I=B.name,w=B.unique,$=B.multiEntry,T=B.keyPath,_=Is(T),R={name:I,compound:_,keyPath:T,unique:w,multiEntry:$,extractKey:MT(T)};return C[Mg(T)]=R,R}),getIndexByKeyPath:function(B){return C[Mg(B)]}};return C[":id"]=b.primaryKey,p!=null&&(C[Mg(p)]=b.primaryKey),b})},hasGetAll:h.length>0&&"getAll"in d.objectStore(h[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function s(A){if(A.type===3)return null;if(A.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var d=A.lower,h=A.upper,f=A.lowerOpen,p=A.upperOpen,m=d===void 0?h===void 0?null:e.upperBound(h,!!p):h===void 0?e.lowerBound(d,!!f):e.bound(d,h,!!f,!!p);return m}function i(A){var d=A.name;function h(m){var g=m.trans,y=m.type,C=m.keys,b=m.values,B=m.range;return new Promise(function(I,w){I=Fn(I);var $=g.objectStore(d),T=$.keyPath==null,_=y==="put"||y==="add";if(!_&&y!=="delete"&&y!=="deleteRange")throw new Error("Invalid operation type: "+y);var R=(C||b||{length:1}).length;if(C&&b&&C.length!==b.length)throw new Error("Given keys array must have same length as given values array.");if(R===0)return I({numFailures:0,failures:{},results:[],lastResult:void 0});var P,L=[],z=[],V=0,q=function(Ae){++V,Lm(Ae)};if(y==="deleteRange"){if(B.type===4)return I({numFailures:V,failures:z,results:[],lastResult:void 0});B.type===3?L.push(P=$.clear()):L.push(P=$.delete(s(B)))}else{var ne=_?T?[b,C]:[b,null]:[C,null],H=ne[0],J=ne[1];if(_)for(var se=0;se<R;++se)L.push(P=J&&J[se]!==void 0?$[y](H[se],J[se]):$[y](H[se])),P.onerror=q;else for(var se=0;se<R;++se)L.push(P=$[y](H[se])),P.onerror=q}var ae=function(Ae){var pe=Ae.target.result;L.forEach(function(ye,ve){return ye.error!=null&&(z[ve]=ye.error)}),I({numFailures:V,failures:z,results:y==="delete"?C:L.map(function(ye){return ye.result}),lastResult:pe})};P.onerror=function(Ae){q(Ae),ae(Ae)},P.onsuccess=ae})}function f(m){var g=m.trans,y=m.values,C=m.query,b=m.reverse,B=m.unique;return new Promise(function(I,w){I=Fn(I);var $=C.index,T=C.range,_=g.objectStore(d),R=$.isPrimaryKey?_:_.index($.name),P=b?B?"prevunique":"prev":B?"nextunique":"next",L=y||!("openKeyCursor"in R)?R.openCursor(s(T),P):R.openKeyCursor(s(T),P);L.onerror=wa(w),L.onsuccess=Fn(function(z){var V=L.result;if(!V){I(null);return}V.___id=++YOe,V.done=!1;var q=V.continue.bind(V),ne=V.continuePrimaryKey;ne&&(ne=ne.bind(V));var H=V.advance.bind(V),J=function(){throw new Error("Cursor not started")},se=function(){throw new Error("Cursor not stopped")};V.trans=g,V.stop=V.continue=V.continuePrimaryKey=V.advance=J,V.fail=Fn(w),V.next=function(){var ae=this,Ae=1;return this.start(function(){return Ae--?ae.continue():ae.stop()}).then(function(){return ae})},V.start=function(ae){var Ae=new Promise(function(ye,ve){ye=Fn(ye),L.onerror=wa(ve),V.fail=ve,V.stop=function(Ee){V.stop=V.continue=V.continuePrimaryKey=V.advance=se,ye(Ee)}}),pe=function(){if(L.result)try{ae()}catch(ye){V.fail(ye)}else V.done=!0,V.start=function(){throw new Error("Cursor behind last entry")},V.stop()};return L.onsuccess=Fn(function(ye){L.onsuccess=pe,pe()}),V.continue=q,V.continuePrimaryKey=ne,V.advance=H,pe(),Ae},I(V)},w)})}function p(m){return function(g){return new Promise(function(y,C){y=Fn(y);var b=g.trans,B=g.values,I=g.limit,w=g.query,$=I===1/0?void 0:I,T=w.index,_=w.range,R=b.objectStore(d),P=T.isPrimaryKey?R:R.index(T.name),L=s(_);if(I===0)return y({result:[]});if(m){var z=B?P.getAll(L,$):P.getAllKeys(L,$);z.onsuccess=function(H){return y({result:H.target.result})},z.onerror=wa(C)}else{var V=0,q=B||!("openKeyCursor"in P)?P.openCursor(L):P.openKeyCursor(L),ne=[];q.onsuccess=function(H){var J=q.result;if(!J)return y({result:ne});if(ne.push(B?J.value:J.primaryKey),++V===I)return y({result:ne});J.continue()},q.onerror=wa(C)}})}}return{name:d,schema:A,mutate:h,getMany:function(m){var g=m.trans,y=m.keys;return new Promise(function(C,b){C=Fn(C);for(var B=g.objectStore(d),I=y.length,w=new Array(I),$=0,T=0,_,R=function(V){var q=V.target;(w[q._pos]=q.result)!=null,++T===$&&C(w)},P=wa(b),L=0;L<I;++L){var z=y[L];z!=null&&(_=B.get(y[L]),_._pos=L,_.onsuccess=R,_.onerror=P,++$)}$===0&&C(w)})},get:function(m){var g=m.trans,y=m.key;return new Promise(function(C,b){C=Fn(C);var B=g.objectStore(d),I=B.get(y);I.onsuccess=function(w){return C(w.target.result)},I.onerror=wa(b)})},query:p(u),openCursor:f,count:function(m){var g=m.query,y=m.trans,C=g.index,b=g.range;return new Promise(function(B,I){var w=y.objectStore(d),$=C.isPrimaryKey?w:w.index(C.name),T=s(b),_=T?$.count(T):$.count();_.onsuccess=Fn(function(R){return B(R.target.result)}),_.onerror=wa(I)})}}}var o=r(t,n),a=o.schema,u=o.hasGetAll,l=a.tables.map(function(A){return i(A)}),c={};return l.forEach(function(A){return c[A.name]=A}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(A){var d=c[A];if(!d)throw new Error("Table '"+A+"' not found");return c[A]},MIN_KEY:-1/0,MAX_KEY:Mm(e),schema:a}}function ZOe(t,e){return e.reduce(function(n,r){var s=r.create;return Mt(Mt({},n),s(n))},t)}function eUe(t,e,n,r){var s=n.IDBKeyRange;n.indexedDB;var i=ZOe(JOe(e,s,r),t.dbcore);return{dbcore:i}}function JD(t,e){var n=t._novip,r=e.db,s=eUe(n._middlewares,r,n._deps,e);n.core=s.dbcore,n.tables.forEach(function(i){var o=i.name;n.core.schema.tables.some(function(a){return a.name===o})&&(i.core=n.core.table(o),n[o]instanceof n.Table&&(n[o].core=i.core))})}function GC(t,e,n,r){var s=t._novip;n.forEach(function(i){var o=r[i];e.forEach(function(a){var u=VD(a,i);(!u||"value"in u&&u.value===void 0)&&(a===s.Transaction.prototype||a instanceof s.Transaction?Ou(a,i,{get:function(){return this.table(i)},set:function(l){Lj(this,i,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):a[i]=new s.Table(i,o))})})}function QT(t,e){var n=t._novip;e.forEach(function(r){for(var s in r)r[s]instanceof n.Table&&delete r[s]})}function tUe(t,e){return t._cfg.version-e._cfg.version}function nUe(t,e,n,r){var s=t._dbSchema,i=t._createTransaction("readwrite",t._storeNames,s);i.create(n),i._completion.catch(r);var o=i._reject.bind(i),a=nt.transless||nt;hc(function(){nt.trans=i,nt.transless=a,e===0?(vr(s).forEach(function(u){ZD(n,u,s[u].primKey,s[u].indexes)}),JD(t,n),He.follow(function(){return t.on.populate.fire(i)}).catch(o)):rUe(t,e,i,n).catch(o)})}function rUe(t,e,n,r){var s=t._novip,i=[],o=s._versions,a=s._dbSchema=e4(s,s.idbdb,r),u=!1,l=o.filter(function(A){return A._cfg.version>=e});l.forEach(function(A){i.push(function(){var d=a,h=A._cfg.dbschema;VT(s,d,r),VT(s,h,r),a=s._dbSchema=h;var f=AX(d,h);f.add.forEach(function(b){ZD(r,b[0],b[1].primKey,b[1].indexes)}),f.change.forEach(function(b){if(b.recreate)throw new ut.Upgrade("Not yet support for changing primary key");var B=r.objectStore(b.name);b.add.forEach(function(I){return HT(B,I)}),b.change.forEach(function(I){B.deleteIndex(I.name),HT(B,I)}),b.del.forEach(function(I){return B.deleteIndex(I)})});var p=A._cfg.contentUpgrade;if(p&&A._cfg.version>e){JD(s,r),n._memoizedTables={},u=!0;var m=Hj(h);f.del.forEach(function(b){m[b]=d[b]}),QT(s,[s.Transaction.prototype]),GC(s,[s.Transaction.prototype],vr(m),m),n.schema=m;var g=zD(p);g&&lp();var y,C=He.follow(function(){if(y=p(n),y&&g){var b=Uu.bind(null,null);y.then(b,b)}});return y&&typeof y.then=="function"?He.resolve(y):C.then(function(){return y})}}),i.push(function(d){if(!u||!FOe){var h=A._cfg.dbschema;iUe(h,d)}QT(s,[s.Transaction.prototype]),GC(s,[s.Transaction.prototype],s._storeNames,s._dbSchema),n.schema=s._dbSchema})});function c(){return i.length?He.resolve(i.shift()(n.idbtrans)).then(c):He.resolve()}return c().then(function(){sUe(a,r)})}function AX(t,e){var n={del:[],add:[],change:[]},r;for(r in t)e[r]||n.del.push(r);for(r in e){var s=t[r],i=e[r];if(!s)n.add.push([r,i]);else{var o={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||s.primKey.auto!==i.primKey.auto&&!X2)o.recreate=!0,n.change.push(o);else{var a=s.idxByName,u=i.idxByName,l=void 0;for(l in a)u[l]||o.del.push(l);for(l in u){var c=a[l],A=u[l];c?c.src!==A.src&&o.change.push(A):o.add.push(A)}(o.del.length>0||o.add.length>0||o.change.length>0)&&n.change.push(o)}}}return n}function ZD(t,e,n,r){var s=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(i){return HT(s,i)}),s}function sUe(t,e){vr(t).forEach(function(n){e.db.objectStoreNames.contains(n)||ZD(e,n,t[n].primKey,t[n].indexes)})}function iUe(t,e){[].slice.call(e.db.objectStoreNames).forEach(function(n){return t[n]==null&&e.db.deleteObjectStore(n)})}function HT(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function e4(t,e,n){var r={},s=G2(e.objectStoreNames,0);return s.forEach(function(i){for(var o=n.objectStore(i),a=o.keyPath,u=PT(lX(a),a||"",!1,!1,!!o.autoIncrement,a&&typeof a!="string",!0),l=[],c=0;c<o.indexNames.length;++c){var A=o.index(o.indexNames[c]);a=A.keyPath;var d=PT(A.name,a,!!A.unique,!!A.multiEntry,!1,a&&typeof a!="string",!1);l.push(d)}r[i]=cX(i,u,l)}),r}function oUe(t,e,n){var r=t._novip;r.verno=e.version/10;var s=r._dbSchema=e4(r,e,n);r._storeNames=G2(e.objectStoreNames,0),GC(r,[r._allTables],vr(s),s)}function aUe(t,e){var n=e4(t,t.idbdb,e),r=AX(n,t._dbSchema);return!(r.add.length||r.change.some(function(s){return s.add.length||s.change.length}))}function VT(t,e,n){for(var r=t._novip,s=n.db.objectStoreNames,i=0;i<s.length;++i){var o=s[i],a=n.objectStore(o);r._hasGetAll="getAll"in a;for(var u=0;u<a.indexNames.length;++u){var l=a.indexNames[u],c=a.index(l).keyPath,A=typeof c=="string"?c:"["+G2(c).join("+")+"]";if(e[o]){var d=e[o].idxByName[A];d&&(d.name=l,delete e[o].idxByName[A],e[o].idxByName[l]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&bn.WorkerGlobalScope&&bn instanceof bn.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function uUe(t){return t.split(",").map(function(e,n){e=e.trim();var r=e.replace(/([&*]|\+\+)/g,""),s=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return PT(r,s||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),Is(s),n===0)})}var lUe=function(){function t(){}return t.prototype._parseStoresSpec=function(e,n){vr(e).forEach(function(r){if(e[r]!==null){var s=uUe(e[r]),i=s.shift();if(i.multi)throw new ut.Schema("Primary key cannot be multi-valued");s.forEach(function(o){if(o.auto)throw new ut.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new ut.Schema("Index must have a name and cannot be an empty string")}),n[r]=cX(r,i,s)}})},t.prototype.stores=function(e){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?Xs(this._cfg.storesSource,e):e;var r=n._versions,s={},i={};return r.forEach(function(o){Xs(s,o._cfg.storesSource),i=o._cfg.dbschema={},o._parseStoresSpec(s,i)}),n._dbSchema=i,QT(n,[n._allTables,n,n.Transaction.prototype]),GC(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],vr(i),i),n._storeNames=vr(i),this},t.prototype.upgrade=function(e){return this._cfg.contentUpgrade=GD(this._cfg.contentUpgrade||ln,e),this},t}();function cUe(t){return qy(lUe.prototype,function(n){this.db=t,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function t4(t,e){var n=t._dbNamesDB;return n||(n=t._dbNamesDB=new i4(q2,{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function n4(t){return t&&typeof t.databases=="function"}function AUe(t){var e=t.indexedDB,n=t.IDBKeyRange;return n4(e)?Promise.resolve(e.databases()).then(function(r){return r.map(function(s){return s.name}).filter(function(s){return s!==q2})}):t4(e,n).toCollection().primaryKeys()}function dUe(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!n4(n)&&e!==q2&&t4(n,r).put({name:e}).catch(ln)}function hUe(t,e){var n=t.indexedDB,r=t.IDBKeyRange;!n4(n)&&e!==q2&&t4(n,r).delete(e).catch(ln)}function zT(t){return hc(function(){return nt.letThrough=!0,t()})}function fUe(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var e;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};e=setInterval(r,100),r()}).finally(function(){return clearInterval(e)})}function pUe(t){var e=t._state,n=t._deps.indexedDB;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(function(){return e.dbOpenError?kr(e.dbOpenError):t});Ya&&(e.openCanceller._stackHolder=Id()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;var r=e.openCanceller;function s(){if(e.openCanceller!==r)throw new ut.DatabaseClosed("db.open() was cancelled")}var i=e.dbReadyResolve,o=null,a=!1;return He.race([r,(typeof navigator>"u"?He.resolve():fUe()).then(function(){return new He(function(u,l){if(s(),!n)throw new ut.MissingAPI;var c=t.name,A=e.autoSchema?n.open(c):n.open(c,Math.round(t.verno*10));if(!A)throw new ut.MissingAPI;A.onerror=wa(l),A.onblocked=Fn(t._fireOnBlocked),A.onupgradeneeded=Fn(function(d){if(o=A.transaction,e.autoSchema&&!t._options.allowEmptyDB){A.onerror=Lm,o.abort(),A.result.close();var h=n.deleteDatabase(c);h.onsuccess=h.onerror=Fn(function(){l(new ut.NoSuchDatabase("Database "+c+" doesnt exist"))})}else{o.onerror=wa(l);var f=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;a=f<1,t._novip.idbdb=A.result,nUe(t,f/10,o,l)}},l),A.onsuccess=Fn(function(){o=null;var d=t._novip.idbdb=A.result,h=G2(d.objectStoreNames);if(h.length>0)try{var f=d.transaction(XOe(h),"readonly");e.autoSchema?oUe(t,d,f):(VT(t,t._dbSchema,f),aUe(t,f)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),JD(t,f)}catch{}Pg.push(t),d.onversionchange=Fn(function(p){e.vcFired=!0,t.on("versionchange").fire(p)}),d.onclose=Fn(function(p){t.on("close").fire(p)}),a&&dUe(t._deps,c),u()},l)})})]).then(function(){return s(),e.onReadyBeingFired=[],He.resolve(zT(function(){return t.on.ready.fire(t.vip)})).then(function u(){if(e.onReadyBeingFired.length>0){var l=e.onReadyBeingFired.reduce(GD,ln);return e.onReadyBeingFired=[],He.resolve(zT(function(){return l(t.vip)})).then(u)}})}).finally(function(){e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(function(){return t}).catch(function(u){e.dbOpenError=u;try{o&&o.abort()}catch{}return r===e.openCanceller&&t._close(),kr(u)}).finally(function(){e.openComplete=!0,i()})}function KT(t){var e=function(o){return t.next(o)},n=function(o){return t.throw(o)},r=i(e),s=i(n);function i(o){return function(a){var u=o(a),l=u.value;return u.done?l:!l||typeof l.then!="function"?Is(l)?Promise.all(l).then(r,s):r(l):l.then(r,s)}}return i(e)()}function gUe(t,e,n){var r=arguments.length;if(r<2)throw new ut.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];n=s.pop();var i=Vj(s);return[t,i,n]}function dX(t,e,n,r,s){return He.resolve().then(function(){var i=nt.transless||nt,o=t._createTransaction(e,n,t._dbSchema,r),a={trans:o,transless:i};if(r)o.idbtrans=r.idbtrans;else try{o.create(),t._state.PR1398_maxLoop=3}catch(A){return A.name===WD.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return dX(t,e,n,null,s)})):kr(A)}var u=zD(s);u&&lp();var l,c=He.follow(function(){if(l=s.call(o,o),l)if(u){var A=Uu.bind(null,null);l.then(A,A)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=KT(l))},a);return(l&&typeof l.then=="function"?He.resolve(l).then(function(A){return o.active?A:kr(new ut.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):c.then(function(){return l})).then(function(A){return r&&o._resolve(),o._completion.then(function(){return A})}).catch(function(A){return o._reject(A),kr(A)})})}function o1(t,e,n){for(var r=Is(t)?t.slice():[t],s=0;s<n;++s)r.push(e);return r}function mUe(t){return Mt(Mt({},t),{table:function(e){var n=t.table(e),r=n.schema,s={},i=[];function o(p,m,g){var y=Mg(p),C=s[y]=s[y]||[],b=p==null?0:typeof p=="string"?1:p.length,B=m>0,I=Mt(Mt({},g),{isVirtual:B,keyTail:m,keyLength:b,extractKey:MT(p),unique:!B&&g.unique});if(C.push(I),I.isPrimaryKey||i.push(I),b>1){var w=b===2?p[0]:p.slice(0,b-1);o(w,m+1,g)}return C.sort(function($,T){return $.keyTail-T.keyTail}),I}var a=o(r.primaryKey.keyPath,0,r.primaryKey);s[":id"]=[a];for(var u=0,l=r.indexes;u<l.length;u++){var c=l[u];o(c.keyPath,0,c)}function A(p){var m=s[Mg(p)];return m&&m[0]}function d(p,m){return{type:p.type===1?2:p.type,lower:o1(p.lower,p.lowerOpen?t.MAX_KEY:t.MIN_KEY,m),lowerOpen:!0,upper:o1(p.upper,p.upperOpen?t.MIN_KEY:t.MAX_KEY,m),upperOpen:!0}}function h(p){var m=p.query.index;return m.isVirtual?Mt(Mt({},p),{query:{index:m,range:d(p.query.range,m.keyTail)}}):p}var f=Mt(Mt({},n),{schema:Mt(Mt({},r),{primaryKey:a,indexes:i,getIndexByKeyPath:A}),count:function(p){return n.count(h(p))},query:function(p){return n.query(h(p))},openCursor:function(p){var m=p.query.index,g=m.keyTail,y=m.isVirtual,C=m.keyLength;if(!y)return n.openCursor(p);function b(B){function I($){$!=null?B.continue(o1($,p.reverse?t.MAX_KEY:t.MIN_KEY,g)):p.unique?B.continue(B.key.slice(0,C).concat(p.reverse?t.MIN_KEY:t.MAX_KEY,g)):B.continue()}var w=Object.create(B,{continue:{value:I},continuePrimaryKey:{value:function($,T){B.continuePrimaryKey(o1($,t.MAX_KEY,g),T)}},primaryKey:{get:function(){return B.primaryKey}},key:{get:function(){var $=B.key;return C===1?$[0]:$.slice(0,C)}},value:{get:function(){return B.value}}});return w}return n.openCursor(h(p)).then(function(B){return B&&b(B)})}});return f}})}var yUe={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:mUe};function r4(t,e,n,r){return n=n||{},r=r||"",vr(t).forEach(function(s){if(!Qi(e,s))n[r+s]=void 0;else{var i=t[s],o=e[s];if(typeof i=="object"&&typeof o=="object"&&i&&o){var a=ET(i),u=ET(o);a!==u?n[r+s]=e[s]:a==="Object"?r4(i,o,n,r+s+"."):i!==o&&(n[r+s]=e[s])}else i!==o&&(n[r+s]=e[s])}}),vr(e).forEach(function(s){Qi(t,s)||(n[r+s]=e[s])}),n}function vUe(t,e){return e.type==="delete"?e.keys:e.keys||e.values.map(t.extractKey)}var wUe={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return Mt(Mt({},t),{table:function(e){var n=t.table(e),r=n.schema.primaryKey,s=Mt(Mt({},n),{mutate:function(i){var o=nt.trans,a=o.table(e).hook,u=a.deleting,l=a.creating,c=a.updating;switch(i.type){case"add":if(l.fire===ln)break;return o._promise("readwrite",function(){return A(i)},!0);case"put":if(l.fire===ln&&c.fire===ln)break;return o._promise("readwrite",function(){return A(i)},!0);case"delete":if(u.fire===ln)break;return o._promise("readwrite",function(){return A(i)},!0);case"deleteRange":if(u.fire===ln)break;return o._promise("readwrite",function(){return d(i)},!0)}return n.mutate(i);function A(f){var p=nt.trans,m=f.keys||vUe(r,f);if(!m)throw new Error("Keys missing");return f=f.type==="add"||f.type==="put"?Mt(Mt({},f),{keys:m}):Mt({},f),f.type!=="delete"&&(f.values=BT([],f.values,!0)),f.keys&&(f.keys=BT([],f.keys,!0)),CUe(n,f,m).then(function(g){var y=m.map(function(C,b){var B=g[b],I={onerror:null,onsuccess:null};if(f.type==="delete")u.fire.call(I,C,B,p);else if(f.type==="add"||B===void 0){var w=l.fire.call(I,C,f.values[b],p);C==null&&w!=null&&(C=w,f.keys[b]=C,r.outbound||Jo(f.values[b],r.keyPath,C))}else{var $=r4(B,f.values[b]),T=c.fire.call(I,$,C,B,p);if(T){var _=f.values[b];Object.keys(T).forEach(function(R){Qi(_,R)?_[R]=T[R]:Jo(_,R,T[R])})}}return I});return n.mutate(f).then(function(C){for(var b=C.failures,B=C.results,I=C.numFailures,w=C.lastResult,$=0;$<m.length;++$){var T=B?B[$]:m[$],_=y[$];T==null?_.onerror&&_.onerror(b[$]):_.onsuccess&&_.onsuccess(f.type==="put"&&g[$]?f.values[$]:T)}return{failures:b,results:B,numFailures:I,lastResult:w}}).catch(function(C){return y.forEach(function(b){return b.onerror&&b.onerror(C)}),Promise.reject(C)})})}function d(f){return h(f.trans,f.range,1e4)}function h(f,p,m){return n.query({trans:f,values:!1,query:{index:r,range:p},limit:m}).then(function(g){var y=g.result;return A({type:"delete",keys:y,trans:f}).then(function(C){return C.numFailures>0?Promise.reject(C.failures[0]):y.length<m?{failures:[],numFailures:0,lastResult:void 0}:h(f,Mt(Mt({},p),{lower:y[y.length-1],lowerOpen:!0}),m)})})}}});return s}})}};function CUe(t,e,n){return e.type==="add"?Promise.resolve([]):t.getMany({trans:e.trans,keys:n,cache:"immutable"})}function hX(t,e,n){try{if(!e||e.keys.length<t.length)return null;for(var r=[],s=0,i=0;s<e.keys.length&&i<t.length;++s)Vs(e.keys[s],t[i])===0&&(r.push(n?Ky(e.values[s]):e.values[s]),++i);return r.length===t.length?r:null}catch{return null}}var bUe={stack:"dbcore",level:-1,create:function(t){return{table:function(e){var n=t.table(e);return Mt(Mt({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var s=hX(r.keys,r.trans._cache,r.cache==="clone");return s?He.resolve(s):n.getMany(r).then(function(i){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?Ky(i):i},i})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}},vE;function s4(t){return!("from"in t)}var cu=function(t,e){if(this)Xs(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0});else{var n=new cu;return t&&"d"in t&&Xs(n,t),n}};Sf(cu.prototype,(vE={add:function(t){return jC(this,t),this},addKey:function(t){return Qm(this,t,t),this},addKeys:function(t){var e=this;return t.forEach(function(n){return Qm(e,n,n)}),this}},vE[$T]=function(){return WT(this)},vE));function Qm(t,e,n){var r=Vs(e,n);if(!isNaN(r)){if(r>0)throw RangeError();if(s4(t))return Xs(t,{from:e,to:n,d:1});var s=t.l,i=t.r;if(Vs(n,t.from)<0)return s?Qm(s,e,n):t.l={from:e,to:n,d:1,l:null,r:null},JP(t);if(Vs(e,t.to)>0)return i?Qm(i,e,n):t.r={from:e,to:n,d:1,l:null,r:null},JP(t);Vs(e,t.from)<0&&(t.from=e,t.l=null,t.d=i?i.d+1:1),Vs(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);var o=!t.r;s&&!t.l&&jC(t,s),i&&o&&jC(t,i)}}function jC(t,e){function n(r,s){var i=s.from,o=s.to,a=s.l,u=s.r;Qm(r,i,o),a&&n(r,a),u&&n(r,u)}s4(e)||n(t,e)}function xUe(t,e){var n=WT(e),r=n.next();if(r.done)return!1;for(var s=r.value,i=WT(t),o=i.next(s.from),a=o.value;!r.done&&!o.done;){if(Vs(a.from,s.to)<=0&&Vs(a.to,s.from)>=0)return!0;Vs(s.from,a.from)<0?s=(r=n.next(a.from)).value:a=(o=i.next(s.from)).value}return!1}function WT(t){var e=s4(t)?null:{s:0,n:t};return{next:function(n){for(var r=arguments.length>0;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&Vs(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||Vs(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function JP(t){var e,n,r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),s=r>1?"r":r<-1?"l":"";if(s){var i=s==="r"?"l":"r",o=Mt({},t),a=t[s];t.from=a.from,t.to=a.to,t[s]=a[s],o[s]=a[i],t[i]=o,o.d=ZP(o)}t.d=ZP(t)}function ZP(t){var e=t.r,n=t.l;return(e?n?Math.max(e.d,n.d):e.d:n?n.d:0)+1}var BUe={stack:"dbcore",level:0,create:function(t){var e=t.schema.name,n=new cu(t.MIN_KEY,t.MAX_KEY);return Mt(Mt({},t),{table:function(r){var s=t.table(r),i=s.schema,o=i.primaryKey,a=o.extractKey,u=o.outbound,l=Mt(Mt({},s),{mutate:function(d){var h=d.trans,f=h.mutatedParts||(h.mutatedParts={}),p=function(w){var $="idb://"+e+"/"+r+"/"+w;return f[$]||(f[$]=new cu)},m=p(""),g=p(":dels"),y=d.type,C=d.type==="deleteRange"?[d.range]:d.type==="delete"?[d.keys]:d.values.length<50?[[],d.values]:[],b=C[0],B=C[1],I=d.trans._cache;return s.mutate(d).then(function(w){if(Is(b)){y!=="delete"&&(b=w.results),m.addKeys(b);var $=hX(b,I);!$&&y!=="add"&&g.addKeys(b),($||B)&&IUe(p,i,$,B)}else if(b){var T={from:b.lower,to:b.upper};g.add(T),m.add(T)}else m.add(n),g.add(n),i.indexes.forEach(function(_){return p(_.name).add(n)});return w})}}),c=function(d){var h,f,p=d.query,m=p.index,g=p.range;return[m,new cu((h=g.lower)!==null&&h!==void 0?h:t.MIN_KEY,(f=g.upper)!==null&&f!==void 0?f:t.MAX_KEY)]},A={get:function(d){return[o,new cu(d.key)]},getMany:function(d){return[o,new cu().addKeys(d.keys)]},count:c,query:c,openCursor:c};return vr(A).forEach(function(d){l[d]=function(h){var f=nt.subscr;if(f){var p=function(I){var w="idb://"+e+"/"+r+"/"+I;return f[w]||(f[w]=new cu)},m=p(""),g=p(":dels"),y=A[d](h),C=y[0],b=y[1];if(p(C.name||"").add(b),!C.isPrimaryKey)if(d==="count")g.add(n);else{var B=d==="query"&&u&&h.values&&s.query(Mt(Mt({},h),{values:!1}));return s[d].apply(this,arguments).then(function(I){if(d==="query"){if(u&&h.values)return B.then(function(_){var R=_.result;return m.addKeys(R),I});var w=h.values?I.result.map(a):I.result;h.values?m.addKeys(w):g.addKeys(w)}else if(d==="openCursor"){var $=I,T=h.values;return $&&Object.create($,{key:{get:function(){return g.addKey($.primaryKey),$.key}},primaryKey:{get:function(){var _=$.primaryKey;return g.addKey(_),_}},value:{get:function(){return T&&m.addKey($.primaryKey),$.value}}})}return I})}}return s[d].apply(this,arguments)}}),l}})}};function IUe(t,e,n,r){function s(i){var o=t(i.name||"");function a(l){return l!=null?i.extractKey(l):null}var u=function(l){return i.multiEntry&&Is(l)?l.forEach(function(c){return o.addKey(c)}):o.addKey(l)};(n||r).forEach(function(l,c){var A=n&&a(n[c]),d=r&&a(r[c]);Vs(A,d)!==0&&(A!=null&&u(A),d!=null&&u(d))})}e.indexes.forEach(s)}var i4=function(){function t(e,n){var r=this;this._middlewares={},this.verno=0;var s=t.dependencies;this._options=n=Mt({addons:t.addons,autoOpen:!0,indexedDB:s.indexedDB,IDBKeyRange:s.IDBKeyRange},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var i=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ln,dbReadyPromise:null,cancelOpen:ln,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};o.dbReadyPromise=new He(function(a){o.dbReadyResolve=a}),o.openCanceller=new He(function(a,u){o.cancelOpen=u}),this._state=o,this.name=e,this.on=Xy(this,"populate","blocked","versionchange","close",{ready:[GD,ln]}),this.on.ready.subscribe=Pj(this.on.ready.subscribe,function(a){return function(u,l){t.vip(function(){var c=r._state;if(c.openComplete)c.dbOpenError||He.resolve().then(u),l&&a(u);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(u),l&&a(u);else{a(u);var A=r;l||a(function d(){A.on.ready.unsubscribe(u),A.on.ready.unsubscribe(d)})}})}}),this.Collection=MOe(this),this.Table=ROe(this),this.Transaction=jOe(this),this.Version=cUe(this),this.WhereClause=WOe(this),this.on("versionchange",function(a){a.newVersion>0?console.warn("Another connection wants to upgrade database '"+r.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+r.name+"'. Closing db now to resume the delete request."),r.close()}),this.on("blocked",function(a){!a.newVersion||a.newVersion<a.oldVersion?console.warn("Dexie.delete('"+r.name+"') was blocked"):console.warn("Upgrade '"+r.name+"' blocked by other connection holding version "+a.oldVersion/10)}),this._maxKey=Mm(n.IDBKeyRange),this._createTransaction=function(a,u,l,c){return new r.Transaction(a,u,l,r._options.chromeTransactionDurability,c)},this._fireOnBlocked=function(a){r.on("blocked").fire(a),Pg.filter(function(u){return u.name===r.name&&u!==r&&!u._state.vcFired}).map(function(u){return u.on("versionchange").fire(a)})},this.use(yUe),this.use(wUe),this.use(BUe),this.use(bUe),this.vip=Object.create(this,{_vip:{value:!0}}),i.forEach(function(a){return a(r)})}return t.prototype.version=function(e){if(isNaN(e)||e<.1)throw new ut.Type("Given version is not a positive number");if(e=Math.round(e*10)/10,this.idbdb||this._state.isBeingOpened)throw new ut.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var n=this._versions,r=n.filter(function(s){return s._cfg.version===e})[0];return r||(r=new this.Version(e),n.push(r),n.sort(tUe),r.stores({}),this._state.autoSchema=!1,r)},t.prototype._whenReady=function(e){var n=this;return this.idbdb&&(this._state.openComplete||nt.letThrough||this._vip)?e():new He(function(r,s){if(n._state.openComplete)return s(new ut.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._options.autoOpen){s(new ut.DatabaseClosed);return}n.open().catch(ln)}n._state.dbReadyPromise.then(r,s)}).then(e)},t.prototype.use=function(e){var n=e.stack,r=e.create,s=e.level,i=e.name;i&&this.unuse({stack:n,name:i});var o=this._middlewares[n]||(this._middlewares[n]=[]);return o.push({stack:n,create:r,level:s==null?10:s,name:i}),o.sort(function(a,u){return a.level-u.level}),this},t.prototype.unuse=function(e){var n=e.stack,r=e.name,s=e.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(i){return s?i.create!==s:r?i.name!==r:!1})),this},t.prototype.open=function(){return pUe(this)},t.prototype._close=function(){var e=this._state,n=Pg.indexOf(this);if(n>=0&&Pg.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new He(function(r){e.dbReadyResolve=r}),e.openCanceller=new He(function(r,s){e.cancelOpen=s})},t.prototype.close=function(){this._close();var e=this._state;this._options.autoOpen=!1,e.dbOpenError=new ut.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)},t.prototype.delete=function(){var e=this,n=arguments.length>0,r=this._state;return new He(function(s,i){var o=function(){e.close();var a=e._deps.indexedDB.deleteDatabase(e.name);a.onsuccess=Fn(function(){hUe(e._deps,e.name),s()}),a.onerror=wa(i),a.onblocked=e._fireOnBlocked};if(n)throw new ut.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(o):o()})},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return this.idbdb!==null},t.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var e=this;return vr(this._allTables).map(function(n){return e._allTables[n]})},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var e=gUe.apply(this,arguments);return this._transaction.apply(this,e)},t.prototype._transaction=function(e,n,r){var s=this,i=nt.trans;(!i||i.db!==this||e.indexOf("!")!==-1)&&(i=null);var o=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");var a,u;try{if(u=n.map(function(c){var A=c instanceof s.Table?c.name:c;if(typeof A!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return A}),e=="r"||e===fE)a=fE;else if(e=="rw"||e==pE)a=pE;else throw new ut.InvalidArgument("Invalid transaction mode: "+e);if(i){if(i.mode===fE&&a===pE)if(o)i=null;else throw new ut.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i&&u.forEach(function(c){if(i&&i.storeNames.indexOf(c)===-1)if(o)i=null;else throw new ut.SubTransaction("Table "+c+" not included in parent transaction.")}),o&&i&&!i.active&&(i=null)}}catch(c){return i?i._promise(null,function(A,d){d(c)}):kr(c)}var l=dX.bind(null,this,a,u,i,r);return i?i._promise(a,l,"lock"):nt.trans?cp(nt.transless,function(){return s._whenReady(l)}):this._whenReady(l)},t.prototype.table=function(e){if(!Qi(this._allTables,e))throw new ut.InvalidTable("Table "+e+" does not exist");return this._allTables[e]},t}(),EUe=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",$Ue=function(){function t(e){this._subscribe=e}return t.prototype.subscribe=function(e,n,r){return this._subscribe(!e||typeof e=="function"?{next:e,error:n,complete:r}:e)},t.prototype[EUe]=function(){return this},t}();function fX(t,e){return vr(e).forEach(function(n){var r=t[n]||(t[n]=new cu);jC(r,e[n])}),t}function SUe(t){var e=!1,n=void 0,r=new $Ue(function(s){var i=zD(t);function o(m){i&&lp();var g=function(){return hc(t,{subscr:m,trans:null})},y=nt.trans?cp(nt.transless,g):g();return i&&y.then(Uu,Uu),y}var a=!1,u={},l={},c={get closed(){return a},unsubscribe:function(){a=!0,pc.storagemutated.unsubscribe(f)}};s.start&&s.start(c);var A=!1,d=!1;function h(){return vr(l).some(function(m){return u[m]&&xUe(u[m],l[m])})}var f=function(m){fX(u,m),h()&&p()},p=function(){if(!(A||a)){u={};var m={},g=o(m);d||(pc(Pm,f),d=!0),A=!0,Promise.resolve(g).then(function(y){e=!0,n=y,A=!1,!a&&(h()?p():(u={},l=m,s.next&&s.next(y)))},function(y){A=!1,e=!1,s.error&&s.error(y),c.unsubscribe()})}};return p(),c});return r.hasValue=function(){return e},r.getValue=function(){return n},r}var GT;try{GT={indexedDB:bn.indexedDB||bn.mozIndexedDB||bn.webkitIndexedDB||bn.msIndexedDB,IDBKeyRange:bn.IDBKeyRange||bn.webkitIDBKeyRange}}catch{GT={indexedDB:null,IDBKeyRange:null}}var lA=i4;Sf(lA,Mt(Mt({},j2),{delete:function(t){var e=new lA(t,{addons:[]});return e.delete()},exists:function(t){return new lA(t,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){try{return AUe(lA.dependencies).then(t)}catch{return kr(new ut.MissingAPI)}},defineClass:function(){function t(e){Xs(this,e)}return t},ignoreTransaction:function(t){return nt.trans?cp(nt.transless,t):t()},vip:zT,async:function(t){return function(){try{var e=KT(t.apply(this,arguments));return!e||typeof e.then!="function"?He.resolve(e):e}catch(n){return kr(n)}}},spawn:function(t,e,n){try{var r=KT(t.apply(n,e||[]));return!r||typeof r.then!="function"?He.resolve(r):r}catch(s){return kr(s)}},currentTransaction:{get:function(){return nt.trans||null}},waitFor:function(t,e){var n=He.resolve(typeof t=="function"?lA.ignoreTransaction(t):t).timeout(e||6e4);return nt.trans?nt.trans.waitFor(n):n},Promise:He,debug:{get:function(){return Ya},set:function(t){Kj(t,t==="dexie"?function(){return!0}:iX)}},derive:ap,extend:Xs,props:Sf,override:Pj,Events:Xy,on:pc,liveQuery:SUe,extendObservabilitySet:fX,getByKeyPath:Bu,setByKeyPath:Jo,delByKeyPath:oOe,shallowClone:Hj,deepClone:Ky,getObjectDiff:r4,cmp:Vs,asap:Mj,minKey:LT,addons:[],connections:Pg,errnames:WD,dependencies:GT,semVer:WP,version:WP.split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,n*2)})}));lA.maxKey=Mm(lA.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(pc(Pm,function(t){if(!vu){var e;X2?(e=document.createEvent("CustomEvent"),e.initCustomEvent(Tl,!0,!0,t)):e=new CustomEvent(Tl,{detail:t}),vu=!0,dispatchEvent(e),vu=!1}}),addEventListener(Tl,function(t){var e=t.detail;vu||XC(e)}));function XC(t){var e=vu;try{vu=!0,pc.storagemutated.fire(t)}finally{vu=e}}var vu=!1;if(typeof BroadcastChannel<"u"){var a1=new BroadcastChannel(Tl);typeof a1.unref=="function"&&a1.unref(),pc(Pm,function(t){vu||a1.postMessage(t)}),a1.onmessage=function(t){t.data&&XC(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){pc(Pm,function(t){try{vu||(typeof localStorage<"u"&&localStorage.setItem(Tl,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&BT([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(e){return e.postMessage({type:Tl,changedParts:t})}))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",function(t){if(t.key===Tl){var e=JSON.parse(t.newValue);e&&XC(e.changedParts)}});var eM=self.document&&navigator.serviceWorker;eM&&eM.addEventListener("message",TUe)}function TUe(t){var e=t.data;e&&e.type===Tl&&XC(e.changedParts)}He.rejectionMapper=pOe;Kj(Ya,iX);const Y2=()=>{var t=new i4("countshapes");return t.version(1).stores({history:"++id,count,input,mobile,obj_type,output",forms:"++id,lable,input,options,time"}),t};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jT=function(t,e){return jT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},jT(t,e)};function ca(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");jT(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var XT=function(){return XT=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},XT.apply(this,arguments)};function Ls(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{l(r.next(c))}catch(A){o(A)}}function u(c){try{l(r.throw(c))}catch(A){o(A)}}function l(c){c.done?i(c.value):s(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function fs(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function u1(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||e)}var Lu=function(){function t(e,n,r,s){this.left=e,this.top=n,this.width=r,this.height=s}return t.prototype.add=function(e,n,r,s){return new t(this.left+e,this.top+n,this.width+r,this.height+s)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(s){return s.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),J2=function(t,e){return Lu.fromClientRect(t,e.getBoundingClientRect())},NUe=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),s=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new Lu(0,0,r,s)},Z2=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},tr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var o=t[s];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},tM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kUe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var l1=0;l1<tM.length;l1++)kUe[tM.charCodeAt(l1)]=l1;var nM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var c1=0;c1<nM.length;c1++)dg[nM.charCodeAt(c1)]=c1;var FUe=function(t){var e=t.length*.75,n=t.length,r,s=0,i,o,a,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<n;r+=4)i=dg[t.charCodeAt(r)],o=dg[t.charCodeAt(r+1)],a=dg[t.charCodeAt(r+2)],u=dg[t.charCodeAt(r+3)],c[s++]=i<<2|o>>4,c[s++]=(o&15)<<4|a>>2,c[s++]=(a&3)<<6|u&63;return l},_Ue=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},DUe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},FA=5,o4=6+5,wE=2,RUe=o4-FA,pX=65536>>FA,OUe=1<<FA,CE=OUe-1,UUe=1024>>FA,LUe=pX+UUe,PUe=LUe,MUe=32,QUe=PUe+MUe,HUe=65536>>o4,VUe=1<<RUe,zUe=VUe-1,rM=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},KUe=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},WUe=function(t,e){var n=FUe(t),r=Array.isArray(n)?DUe(n):new Uint32Array(n),s=Array.isArray(n)?_Ue(n):new Uint16Array(n),i=24,o=rM(s,i/2,r[4]/2),a=r[5]===2?rM(s,(i+r[4])/2):KUe(r,Math.ceil((i+r[4])/4));return new GUe(r[0],r[1],r[2],r[3],o,a)},GUe=function(){function t(e,n,r,s,i,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>FA],n=(n<<wE)+(e&CE),this.data[n];if(e<=65535)return n=this.index[pX+(e-55296>>FA)],n=(n<<wE)+(e&CE),this.data[n];if(e<this.highStart)return n=QUe-HUe+(e>>o4),n=this.index[n],n+=e>>FA&zUe,n=this.index[n],n=(n<<wE)+(e&CE),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),sM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jUe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var A1=0;A1<sM.length;A1++)jUe[sM.charCodeAt(A1)]=A1;var XUe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",iM=50,qUe=1,gX=2,mX=3,YUe=4,JUe=5,oM=7,yX=8,aM=9,Nl=10,qT=11,uM=12,YT=13,ZUe=14,hg=15,JT=16,d1=17,Vp=18,eLe=19,lM=20,ZT=21,zp=22,bE=23,Wd=24,Si=25,fg=26,pg=27,Gd=28,tLe=29,cA=30,nLe=31,h1=32,f1=33,eN=34,tN=35,nN=36,Hm=37,rN=38,yw=39,vw=40,xE=41,vX=42,rLe=43,sLe=[9001,65288],wX="!",Ft="\xD7",p1="\xF7",sN=WUe(XUe),su=[cA,nN],iN=[qUe,gX,mX,JUe],CX=[Nl,yX],cM=[pg,fg],iLe=iN.concat(CX),AM=[rN,yw,vw,eN,tN],oLe=[hg,YT],aLe=function(t,e){e===void 0&&(e="strict");var n=[],r=[],s=[];return t.forEach(function(i,o){var a=sN.get(i);if(a>iM?(s.push(!0),a-=iM):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(o),n.push(JT);if(a===YUe||a===qT){if(o===0)return r.push(o),n.push(cA);var u=n[o-1];return iLe.indexOf(u)===-1?(r.push(r[o-1]),n.push(u)):(r.push(o),n.push(cA))}if(r.push(o),a===nLe)return n.push(e==="strict"?ZT:Hm);if(a===vX||a===tLe)return n.push(cA);if(a===rLe)return i>=131072&&i<=196605||i>=196608&&i<=262141?n.push(Hm):n.push(cA);n.push(a)}),[r,n,s]},BE=function(t,e,n,r){var s=r[n];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=n;i<=r.length;){i++;var o=r[i];if(o===e)return!0;if(o!==Nl)break}if(s===Nl)for(var i=n;i>0;){i--;var a=r[i];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var u=n;u<=r.length;){u++;var o=r[u];if(o===e)return!0;if(o!==Nl)break}if(a!==Nl)break}return!1},dM=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===Nl)n--;else return r}return 0},uLe=function(t,e,n,r,s){if(n[r]===0)return Ft;var i=r-1;if(Array.isArray(s)&&s[i]===!0)return Ft;var o=i-1,a=i+1,u=e[i],l=o>=0?e[o]:0,c=e[a];if(u===gX&&c===mX)return Ft;if(iN.indexOf(u)!==-1)return wX;if(iN.indexOf(c)!==-1||CX.indexOf(c)!==-1)return Ft;if(dM(i,e)===yX)return p1;if(sN.get(t[i])===qT||(u===h1||u===f1)&&sN.get(t[a])===qT||u===oM||c===oM||u===aM||[Nl,YT,hg].indexOf(u)===-1&&c===aM||[d1,Vp,eLe,Wd,Gd].indexOf(c)!==-1||dM(i,e)===zp||BE(bE,zp,i,e)||BE([d1,Vp],ZT,i,e)||BE(uM,uM,i,e))return Ft;if(u===Nl)return p1;if(u===bE||c===bE)return Ft;if(c===JT||u===JT)return p1;if([YT,hg,ZT].indexOf(c)!==-1||u===ZUe||l===nN&&oLe.indexOf(u)!==-1||u===Gd&&c===nN||c===lM||su.indexOf(c)!==-1&&u===Si||su.indexOf(u)!==-1&&c===Si||u===pg&&[Hm,h1,f1].indexOf(c)!==-1||[Hm,h1,f1].indexOf(u)!==-1&&c===fg||su.indexOf(u)!==-1&&cM.indexOf(c)!==-1||cM.indexOf(u)!==-1&&su.indexOf(c)!==-1||[pg,fg].indexOf(u)!==-1&&(c===Si||[zp,hg].indexOf(c)!==-1&&e[a+1]===Si)||[zp,hg].indexOf(u)!==-1&&c===Si||u===Si&&[Si,Gd,Wd].indexOf(c)!==-1)return Ft;if([Si,Gd,Wd,d1,Vp].indexOf(c)!==-1)for(var A=i;A>=0;){var d=e[A];if(d===Si)return Ft;if([Gd,Wd].indexOf(d)!==-1)A--;else break}if([pg,fg].indexOf(c)!==-1)for(var A=[d1,Vp].indexOf(u)!==-1?o:i;A>=0;){var d=e[A];if(d===Si)return Ft;if([Gd,Wd].indexOf(d)!==-1)A--;else break}if(rN===u&&[rN,yw,eN,tN].indexOf(c)!==-1||[yw,eN].indexOf(u)!==-1&&[yw,vw].indexOf(c)!==-1||[vw,tN].indexOf(u)!==-1&&c===vw||AM.indexOf(u)!==-1&&[lM,fg].indexOf(c)!==-1||AM.indexOf(c)!==-1&&u===pg||su.indexOf(u)!==-1&&su.indexOf(c)!==-1||u===Wd&&su.indexOf(c)!==-1||su.concat(Si).indexOf(u)!==-1&&c===zp&&sLe.indexOf(t[a])===-1||su.concat(Si).indexOf(c)!==-1&&u===Vp)return Ft;if(u===xE&&c===xE){for(var h=n[i],f=1;h>0&&(h--,e[h]===xE);)f++;if(f%2!==0)return Ft}return u===h1&&c===f1?Ft:p1},lLe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=aLe(t,e.lineBreak),r=n[0],s=n[1],i=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(a){return[Si,cA,vX].indexOf(a)!==-1?Hm:a}));var o=e.wordBreak==="keep-all"?i.map(function(a,u){return a&&t[u]>=19968&&t[u]<=40959}):void 0;return[r,s,o]},cLe=function(){function t(e,n,r,s){this.codePoints=e,this.required=n===wX,this.start=r,this.end=s}return t.prototype.slice=function(){return tr.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),ALe=function(t,e){var n=Z2(t),r=lLe(n,e),s=r[0],i=r[1],o=r[2],a=n.length,u=0,l=0;return{next:function(){if(l>=a)return{done:!0,value:null};for(var c=Ft;l<a&&(c=uLe(n,i,s,++l,o))===Ft;);if(c!==Ft||l===a){var A=new cLe(n,c,u,l);return u=l,{value:A,done:!1}}return{done:!0,value:null}}}},dLe=1<<0,hLe=1<<1,Yy=1<<2,hM=1<<3,qC=10,fM=47,Qg=92,fLe=9,pLe=32,g1=34,Kp=61,gLe=35,mLe=36,yLe=37,m1=39,y1=40,Wp=41,vLe=95,ai=45,wLe=33,CLe=60,bLe=62,xLe=64,BLe=91,ILe=93,ELe=61,$Le=123,v1=63,SLe=125,pM=124,TLe=126,NLe=128,gM=65533,IE=42,wA=43,kLe=44,FLe=58,_Le=59,Vm=46,DLe=0,RLe=8,OLe=11,ULe=14,LLe=31,PLe=127,ya=-1,bX=48,xX=97,BX=101,MLe=102,QLe=117,HLe=122,IX=65,EX=69,$X=70,VLe=85,zLe=90,ms=function(t){return t>=bX&&t<=57},KLe=function(t){return t>=55296&&t<=57343},jd=function(t){return ms(t)||t>=IX&&t<=$X||t>=xX&&t<=MLe},WLe=function(t){return t>=xX&&t<=HLe},GLe=function(t){return t>=IX&&t<=zLe},jLe=function(t){return WLe(t)||GLe(t)},XLe=function(t){return t>=NLe},w1=function(t){return t===qC||t===fLe||t===pLe},YC=function(t){return jLe(t)||XLe(t)||t===vLe},mM=function(t){return YC(t)||ms(t)||t===ai},qLe=function(t){return t>=DLe&&t<=RLe||t===OLe||t>=ULe&&t<=LLe||t===PLe},hl=function(t,e){return t!==Qg?!1:e!==qC},C1=function(t,e,n){return t===ai?YC(e)||hl(e,n):YC(t)?!0:!!(t===Qg&&hl(t,e))},EE=function(t,e,n){return t===wA||t===ai?ms(e)?!0:e===Vm&&ms(n):ms(t===Vm?e:t)},YLe=function(t){var e=0,n=1;(t[e]===wA||t[e]===ai)&&(t[e]===ai&&(n=-1),e++);for(var r=[];ms(t[e]);)r.push(t[e++]);var s=r.length?parseInt(tr.apply(void 0,r),10):0;t[e]===Vm&&e++;for(var i=[];ms(t[e]);)i.push(t[e++]);var o=i.length,a=o?parseInt(tr.apply(void 0,i),10):0;(t[e]===EX||t[e]===BX)&&e++;var u=1;(t[e]===wA||t[e]===ai)&&(t[e]===ai&&(u=-1),e++);for(var l=[];ms(t[e]);)l.push(t[e++]);var c=l.length?parseInt(tr.apply(void 0,l),10):0;return n*(s+a*Math.pow(10,-o))*Math.pow(10,u*c)},JLe={type:2},ZLe={type:3},ePe={type:4},tPe={type:13},nPe={type:8},rPe={type:21},sPe={type:9},iPe={type:10},oPe={type:11},aPe={type:12},uPe={type:14},b1={type:23},lPe={type:1},cPe={type:25},APe={type:24},dPe={type:26},hPe={type:27},fPe={type:28},pPe={type:29},gPe={type:31},oN={type:32},SX=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Z2(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==oN;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case g1:return this.consumeStringToken(g1);case gLe:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);if(mM(n)||hl(r,s)){var i=C1(n,r,s)?hLe:dLe,o=this.consumeName();return{type:5,value:o,flags:i}}break;case mLe:if(this.peekCodePoint(0)===Kp)return this.consumeCodePoint(),tPe;break;case m1:return this.consumeStringToken(m1);case y1:return JLe;case Wp:return ZLe;case IE:if(this.peekCodePoint(0)===Kp)return this.consumeCodePoint(),uPe;break;case wA:if(EE(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case kLe:return ePe;case ai:var a=e,u=this.peekCodePoint(0),l=this.peekCodePoint(1);if(EE(a,u,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(C1(a,u,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(u===ai&&l===bLe)return this.consumeCodePoint(),this.consumeCodePoint(),APe;break;case Vm:if(EE(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case fM:if(this.peekCodePoint(0)===IE)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===IE&&(c=this.consumeCodePoint(),c===fM))return this.consumeToken();if(c===ya)return this.consumeToken()}break;case FLe:return dPe;case _Le:return hPe;case CLe:if(this.peekCodePoint(0)===wLe&&this.peekCodePoint(1)===ai&&this.peekCodePoint(2)===ai)return this.consumeCodePoint(),this.consumeCodePoint(),cPe;break;case xLe:var A=this.peekCodePoint(0),d=this.peekCodePoint(1),h=this.peekCodePoint(2);if(C1(A,d,h)){var o=this.consumeName();return{type:7,value:o}}break;case BLe:return fPe;case Qg:if(hl(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ILe:return pPe;case ELe:if(this.peekCodePoint(0)===Kp)return this.consumeCodePoint(),nPe;break;case $Le:return oPe;case SLe:return aPe;case QLe:case VLe:var f=this.peekCodePoint(0),p=this.peekCodePoint(1);return f===wA&&(jd(p)||p===v1)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case pM:if(this.peekCodePoint(0)===Kp)return this.consumeCodePoint(),sPe;if(this.peekCodePoint(0)===pM)return this.consumeCodePoint(),rPe;break;case TLe:if(this.peekCodePoint(0)===Kp)return this.consumeCodePoint(),iPe;break;case ya:return oN}return w1(e)?(this.consumeWhiteSpace(),gPe):ms(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):YC(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:tr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();jd(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===v1&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var s=parseInt(tr.apply(void 0,e.map(function(u){return u===v1?bX:u})),16),i=parseInt(tr.apply(void 0,e.map(function(u){return u===v1?$X:u})),16);return{type:30,start:s,end:i}}var o=parseInt(tr.apply(void 0,e),16);if(this.peekCodePoint(0)===ai&&jd(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var a=[];jd(n)&&a.length<6;)a.push(n),n=this.consumeCodePoint();var i=parseInt(tr.apply(void 0,a),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===y1?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===y1?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ya)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===m1||n===g1){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ya||this.peekCodePoint(0)===Wp)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),b1)}for(;;){var s=this.consumeCodePoint();if(s===ya||s===Wp)return{type:22,value:tr.apply(void 0,e)};if(w1(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ya||this.peekCodePoint(0)===Wp?(this.consumeCodePoint(),{type:22,value:tr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),b1);if(s===g1||s===m1||s===y1||qLe(s))return this.consumeBadUrlRemnants(),b1;if(s===Qg)if(hl(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),b1;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;w1(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Wp||e===ya)return;hl(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var s=Math.min(n,e);r+=tr.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var s=this._value[r];if(s===ya||s===void 0||s===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(s===qC)return this._value.splice(0,r),lPe;if(s===Qg){var i=this._value[r+1];i!==ya&&i!==void 0&&(i===qC?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):hl(s,i)&&(n+=this.consumeStringSlice(r),n+=tr(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=Yy,r=this.peekCodePoint(0);for((r===wA||r===ai)&&e.push(this.consumeCodePoint());ms(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(r===Vm&&ms(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=hM;ms(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===EX||r===BX)&&((s===wA||s===ai)&&ms(i)||ms(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=hM;ms(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[YLe(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(C1(s,i,o)){var a=this.consumeName();return{type:15,number:n,flags:r,unit:a}}return s===yLe?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(jd(e)){for(var n=tr(e);jd(this.peekCodePoint(0))&&n.length<6;)n+=tr(this.consumeCodePoint());w1(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||KLe(r)||r>1114111?gM:r}return e===ya?gM:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(mM(n))e+=tr(n);else if(hl(n,this.peekCodePoint(0)))e+=tr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),TX=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new SX;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||yPe(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?oN:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Jy=function(t){return t.type===15},Ap=function(t){return t.type===17},sn=function(t){return t.type===20},mPe=function(t){return t.type===0},aN=function(t,e){return sn(t)&&t.value===e},NX=function(t){return t.type!==31},Tf=function(t){return t.type!==31&&t.type!==4},Ja=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},yPe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},gc=function(t){return t.type===17||t.type===15},cr=function(t){return t.type===16||gc(t)},kX=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ns={type:17,number:0,flags:Yy},a4={type:16,number:50,flags:Yy},kl={type:16,number:100,flags:Yy},gg=function(t,e,n){var r=t[0],s=t[1];return[pn(r,e),pn(typeof s<"u"?s:r,n)]},pn=function(t,e){if(t.type===16)return t.number/100*e;if(Jy(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},FX="deg",_X="grad",DX="rad",RX="turn",eB={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case FX:return Math.PI*e.number/180;case _X:return Math.PI/200*e.number;case DX:return e.number;case RX:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},OX=function(t){return t.type===15&&(t.unit===FX||t.unit===_X||t.unit===DX||t.unit===RX)},UX=function(t){var e=t.filter(sn).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ns,ns];case"to top":case"bottom":return wo(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ns,kl];case"to right":case"left":return wo(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[kl,kl];case"to bottom":case"top":return wo(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[kl,ns];case"to left":case"right":return wo(270)}return 0},wo=function(t){return Math.PI*t/180},ql={name:"color",parse:function(t,e){if(e.type===18){var n=vPe[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return Fl(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),o=e.value.substring(3,4);return Fl(parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return Fl(parseInt(r,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8);return Fl(parseInt(r,16),parseInt(s,16),parseInt(i,16),parseInt(o,16)/255)}}if(e.type===20){var a=Iu[e.value.toUpperCase()];if(typeof a<"u")return a}return Iu.TRANSPARENT}},Yl=function(t){return(255&t)===0},Lr=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+r+","+n+","+e/255+")":"rgb("+s+","+r+","+n+")"},Fl=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},yM=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},vM=function(t,e){var n=e.filter(Tf);if(n.length===3){var r=n.map(yM),s=r[0],i=r[1],o=r[2];return Fl(s,i,o,1)}if(n.length===4){var a=n.map(yM),s=a[0],i=a[1],o=a[2],u=a[3];return Fl(s,i,o,u)}return 0};function $E(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var wM=function(t,e){var n=e.filter(Tf),r=n[0],s=n[1],i=n[2],o=n[3],a=(r.type===17?wo(r.number):eB.parse(t,r))/(Math.PI*2),u=cr(s)?s.number/100:0,l=cr(i)?i.number/100:0,c=typeof o<"u"&&cr(o)?pn(o,1):1;if(u===0)return Fl(l*255,l*255,l*255,1);var A=l<=.5?l*(u+1):l+u-l*u,d=l*2-A,h=$E(d,A,a+1/3),f=$E(d,A,a),p=$E(d,A,a-1/3);return Fl(h*255,f*255,p*255,c)},vPe={hsl:wM,hsla:wM,rgb:vM,rgba:vM},Hg=function(t,e){return ql.parse(t,TX.create(e).parseComponentValue())},Iu={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},wPe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(sn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},CPe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},tB=function(t,e){var n=ql.parse(t,e[0]),r=e[1];return r&&cr(r)?{color:n,stop:r}:{color:n,stop:null}},CM=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=ns),r.stop===null&&(r.stop=kl);for(var s=[],i=0,o=0;o<t.length;o++){var a=t[o].stop;if(a!==null){var u=pn(a,e);u>i?s.push(u):s.push(i),i=u}else s.push(null)}for(var l=null,o=0;o<s.length;o++){var c=s[o];if(c===null)l===null&&(l=o);else if(l!==null){for(var A=o-l,d=s[l-1],h=(c-d)/(A+1),f=1;f<=A;f++)s[l+f-1]=h*f;l=null}}return t.map(function(p,m){var g=p.color;return{color:g,stop:Math.max(Math.min(1,s[m]/e),0)}})},bPe=function(t,e,n){var r=e/2,s=n/2,i=pn(t[0],e)-r,o=s-pn(t[1],n);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},xPe=function(t,e,n){var r=typeof t=="number"?t:bPe(t,e,n),s=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),i=e/2,o=n/2,a=s/2,u=Math.sin(r-Math.PI/2)*a,l=Math.cos(r-Math.PI/2)*a;return[s,i-l,i+l,o-u,o+u]},Ro=function(t,e){return Math.sqrt(t*t+e*e)},bM=function(t,e,n,r,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(o,a){var u=a[0],l=a[1],c=Ro(n-u,r-l);return(s?c<o.optimumDistance:c>o.optimumDistance)?{optimumCorner:a,optimumDistance:c}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},BPe=function(t,e,n,r,s){var i=0,o=0;switch(t.size){case 0:t.shape===0?i=o=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-r)),o=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(t.shape===0)i=o=Math.min(Ro(e,n),Ro(e,n-s),Ro(e-r,n),Ro(e-r,n-s));else if(t.shape===1){var a=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(e),Math.abs(e-r)),u=bM(r,s,e,n,!0),l=u[0],c=u[1];i=Ro(l-e,(c-n)/a),o=a*i}break;case 1:t.shape===0?i=o=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-r)),o=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(t.shape===0)i=o=Math.max(Ro(e,n),Ro(e,n-s),Ro(e-r,n),Ro(e-r,n-s));else if(t.shape===1){var a=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(e),Math.abs(e-r)),A=bM(r,s,e,n,!1),l=A[0],c=A[1];i=Ro(l-e,(c-n)/a),o=a*i}break}return Array.isArray(t.size)&&(i=pn(t.size[0],r),o=t.size.length===2?pn(t.size[1],s):i),[i,o]},IPe=function(t,e){var n=wo(180),r=[];return Ja(e).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&o.value==="to"){n=UX(s);return}else if(OX(o)){n=eB.parse(t,o);return}}var a=tB(t,s);r.push(a)}),{angle:n,stops:r,type:1}},x1=function(t,e){var n=wo(180),r=[];return Ja(e).forEach(function(s,i){if(i===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=UX(s);return}else if(OX(o)){n=(eB.parse(t,o)+wo(270))%wo(360);return}}var a=tB(t,s);r.push(a)}),{angle:n,stops:r,type:1}},EPe=function(t,e){var n=wo(180),r=[],s=1,i=0,o=3,a=[];return Ja(e).forEach(function(u,l){var c=u[0];if(l===0){if(sn(c)&&c.value==="linear"){s=1;return}else if(sn(c)&&c.value==="radial"){s=2;return}}if(c.type===18){if(c.name==="from"){var A=ql.parse(t,c.values[0]);r.push({stop:ns,color:A})}else if(c.name==="to"){var A=ql.parse(t,c.values[0]);r.push({stop:kl,color:A})}else if(c.name==="color-stop"){var d=c.values.filter(Tf);if(d.length===2){var A=ql.parse(t,d[1]),h=d[0];Ap(h)&&r.push({stop:{type:16,number:h.number*100,flags:h.flags},color:A})}}}}),s===1?{angle:(n+wo(180))%wo(360),stops:r,type:s}:{size:o,shape:i,stops:r,position:a,type:s}},LX="closest-side",PX="farthest-side",MX="closest-corner",QX="farthest-corner",HX="circle",VX="ellipse",zX="cover",KX="contain",$Pe=function(t,e){var n=0,r=3,s=[],i=[];return Ja(e).forEach(function(o,a){var u=!0;if(a===0){var l=!1;u=o.reduce(function(A,d){if(l)if(sn(d))switch(d.value){case"center":return i.push(a4),A;case"top":case"left":return i.push(ns),A;case"right":case"bottom":return i.push(kl),A}else(cr(d)||gc(d))&&i.push(d);else if(sn(d))switch(d.value){case HX:return n=0,!1;case VX:return n=1,!1;case"at":return l=!0,!1;case LX:return r=0,!1;case zX:case PX:return r=1,!1;case KX:case MX:return r=2,!1;case QX:return r=3,!1}else if(gc(d)||cr(d))return Array.isArray(r)||(r=[]),r.push(d),!1;return A},u)}if(u){var c=tB(t,o);s.push(c)}}),{size:r,shape:n,stops:s,position:i,type:2}},B1=function(t,e){var n=0,r=3,s=[],i=[];return Ja(e).forEach(function(o,a){var u=!0;if(a===0?u=o.reduce(function(c,A){if(sn(A))switch(A.value){case"center":return i.push(a4),!1;case"top":case"left":return i.push(ns),!1;case"right":case"bottom":return i.push(kl),!1}else if(cr(A)||gc(A))return i.push(A),!1;return c},u):a===1&&(u=o.reduce(function(c,A){if(sn(A))switch(A.value){case HX:return n=0,!1;case VX:return n=1,!1;case KX:case LX:return r=0,!1;case PX:return r=1,!1;case MX:return r=2,!1;case zX:case QX:return r=3,!1}else if(gc(A)||cr(A))return Array.isArray(r)||(r=[]),r.push(A),!1;return c},u)),u){var l=tB(t,o);s.push(l)}}),{size:r,shape:n,stops:s,position:i,type:2}},SPe=function(t){return t.type===1},TPe=function(t){return t.type===2},u4={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=WX[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function NPe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!WX[t.name])}var WX={"linear-gradient":IPe,"-moz-linear-gradient":x1,"-ms-linear-gradient":x1,"-o-linear-gradient":x1,"-webkit-linear-gradient":x1,"radial-gradient":$Pe,"-moz-radial-gradient":B1,"-ms-radial-gradient":B1,"-o-radial-gradient":B1,"-webkit-radial-gradient":B1,"-webkit-gradient":EPe},kPe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return Tf(r)&&NPe(r)}).map(function(r){return u4.parse(t,r)})}},FPe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(sn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},_Pe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Ja(e).map(function(n){return n.filter(cr)}).map(kX)}},DPe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Ja(e).map(function(n){return n.filter(sn).map(function(r){return r.value}).join(" ")}).map(RPe)}},RPe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Yh;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Yh||(Yh={}));var OPe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Ja(e).map(function(n){return n.filter(UPe)})}},UPe=function(t){return sn(t)||cr(t)},nB=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},LPe=nB("top"),PPe=nB("right"),MPe=nB("bottom"),QPe=nB("left"),rB=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return kX(n.filter(cr))}}},HPe=rB("top-left"),VPe=rB("top-right"),zPe=rB("bottom-right"),KPe=rB("bottom-left"),sB=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},WPe=sB("top"),GPe=sB("right"),jPe=sB("bottom"),XPe=sB("left"),iB=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return Jy(n)?n.number:0}}},qPe=iB("top"),YPe=iB("right"),JPe=iB("bottom"),ZPe=iB("left"),eMe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},tMe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},nMe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(sn).reduce(function(n,r){return n|rMe(r.value)},0)}},rMe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},sMe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},iMe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},JC;(function(t){t.NORMAL="normal",t.STRICT="strict"})(JC||(JC={}));var oMe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return JC.STRICT;case"normal":default:return JC.NORMAL}}},aMe={name:"line-height",initialValue:"normal",prefix:!1,type:4},xM=function(t,e){return sn(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:cr(t)?pn(t,e):e},uMe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:u4.parse(t,e)}},lMe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},uN={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},oB=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},cMe=oB("top"),AMe=oB("right"),dMe=oB("bottom"),hMe=oB("left"),fMe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(sn).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},pMe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},aB=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},gMe=aB("top"),mMe=aB("right"),yMe=aB("bottom"),vMe=aB("left"),wMe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},CMe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},bMe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&aN(e[0],"none")?[]:Ja(e).map(function(n){for(var r={color:Iu.TRANSPARENT,offsetX:ns,offsetY:ns,blur:ns},s=0,i=0;i<n.length;i++){var o=n[i];gc(o)?(s===0?r.offsetX=o:s===1?r.offsetY=o:r.blur=o,s++):r.color=ql.parse(t,o)}return r})}},xMe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},BMe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=$Me[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},IMe=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},EMe=function(t){var e=t.filter(function(u){return u.type===17}).map(function(u){return u.number}),n=e[0],r=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],a=e[13];return e[14],e[15],e.length===16?[n,r,s,i,o,a]:null},$Me={matrix:IMe,matrix3d:EMe},BM={type:16,number:50,flags:Yy},SMe=[BM,BM],TMe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(cr);return n.length!==2?SMe:[n[0],n[1]]}},NMe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Vg;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Vg||(Vg={}));var kMe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Vg.BREAK_ALL;case"keep-all":return Vg.KEEP_ALL;case"normal":default:return Vg.NORMAL}}},FMe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Ap(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},GX={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},_Me={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Ap(e)?e.number:1}},DMe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},RMe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(sn).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},OMe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(s){switch(s.type){case 20:case 0:n.push(s.value);break;case 17:n.push(s.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},UMe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},LMe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Ap(e))return e.number;if(sn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},PMe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(sn).map(function(n){return n.value})}},MMe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ir=function(t,e){return(t&e)!==0},QMe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},HMe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],s=e.filter(NX),i=0;i<s.length;i++){var o=s[i],a=s[i+1];if(o.type===20){var u=a&&Ap(a)?a.number:1;r.push({counter:o.value,increment:u})}}return r}},VMe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(NX),s=0;s<r.length;s++){var i=r[s],o=r[s+1];if(sn(i)&&i.value!=="none"){var a=o&&Ap(o)?o.number:0;n.push({counter:i.value,reset:a})}}return n}},zMe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Jy).map(function(n){return GX.parse(t,n)})}},KMe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],s=e.filter(mPe);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var o=s[i].value,a=s[i+1].value;r.push({open:o,close:a})}return r}},IM=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},WMe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&aN(e[0],"none")?[]:Ja(e).map(function(n){for(var r={color:255,offsetX:ns,offsetY:ns,blur:ns,spread:ns,inset:!1},s=0,i=0;i<n.length;i++){var o=n[i];aN(o,"inset")?r.inset=!0:gc(o)?(s===0?r.offsetX=o:s===1?r.offsetY=o:s===2?r.blur=o:r.spread=o,s++):r.color=ql.parse(t,o)}return r})}},GMe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(sn).forEach(function(s){switch(s.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(s){r.indexOf(s)===-1&&r.push(s)}),r}},jMe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},XMe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Jy(e)?e.number:0}},qMe=function(){function t(e,n){var r,s;this.animationDuration=Pe(e,zMe,n.animationDuration),this.backgroundClip=Pe(e,wPe,n.backgroundClip),this.backgroundColor=Pe(e,CPe,n.backgroundColor),this.backgroundImage=Pe(e,kPe,n.backgroundImage),this.backgroundOrigin=Pe(e,FPe,n.backgroundOrigin),this.backgroundPosition=Pe(e,_Pe,n.backgroundPosition),this.backgroundRepeat=Pe(e,DPe,n.backgroundRepeat),this.backgroundSize=Pe(e,OPe,n.backgroundSize),this.borderTopColor=Pe(e,LPe,n.borderTopColor),this.borderRightColor=Pe(e,PPe,n.borderRightColor),this.borderBottomColor=Pe(e,MPe,n.borderBottomColor),this.borderLeftColor=Pe(e,QPe,n.borderLeftColor),this.borderTopLeftRadius=Pe(e,HPe,n.borderTopLeftRadius),this.borderTopRightRadius=Pe(e,VPe,n.borderTopRightRadius),this.borderBottomRightRadius=Pe(e,zPe,n.borderBottomRightRadius),this.borderBottomLeftRadius=Pe(e,KPe,n.borderBottomLeftRadius),this.borderTopStyle=Pe(e,WPe,n.borderTopStyle),this.borderRightStyle=Pe(e,GPe,n.borderRightStyle),this.borderBottomStyle=Pe(e,jPe,n.borderBottomStyle),this.borderLeftStyle=Pe(e,XPe,n.borderLeftStyle),this.borderTopWidth=Pe(e,qPe,n.borderTopWidth),this.borderRightWidth=Pe(e,YPe,n.borderRightWidth),this.borderBottomWidth=Pe(e,JPe,n.borderBottomWidth),this.borderLeftWidth=Pe(e,ZPe,n.borderLeftWidth),this.boxShadow=Pe(e,WMe,n.boxShadow),this.color=Pe(e,eMe,n.color),this.direction=Pe(e,tMe,n.direction),this.display=Pe(e,nMe,n.display),this.float=Pe(e,sMe,n.cssFloat),this.fontFamily=Pe(e,OMe,n.fontFamily),this.fontSize=Pe(e,UMe,n.fontSize),this.fontStyle=Pe(e,MMe,n.fontStyle),this.fontVariant=Pe(e,PMe,n.fontVariant),this.fontWeight=Pe(e,LMe,n.fontWeight),this.letterSpacing=Pe(e,iMe,n.letterSpacing),this.lineBreak=Pe(e,oMe,n.lineBreak),this.lineHeight=Pe(e,aMe,n.lineHeight),this.listStyleImage=Pe(e,uMe,n.listStyleImage),this.listStylePosition=Pe(e,lMe,n.listStylePosition),this.listStyleType=Pe(e,uN,n.listStyleType),this.marginTop=Pe(e,cMe,n.marginTop),this.marginRight=Pe(e,AMe,n.marginRight),this.marginBottom=Pe(e,dMe,n.marginBottom),this.marginLeft=Pe(e,hMe,n.marginLeft),this.opacity=Pe(e,_Me,n.opacity);var i=Pe(e,fMe,n.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Pe(e,pMe,n.overflowWrap),this.paddingTop=Pe(e,gMe,n.paddingTop),this.paddingRight=Pe(e,mMe,n.paddingRight),this.paddingBottom=Pe(e,yMe,n.paddingBottom),this.paddingLeft=Pe(e,vMe,n.paddingLeft),this.paintOrder=Pe(e,GMe,n.paintOrder),this.position=Pe(e,CMe,n.position),this.textAlign=Pe(e,wMe,n.textAlign),this.textDecorationColor=Pe(e,DMe,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=Pe(e,RMe,(s=n.textDecorationLine)!==null&&s!==void 0?s:n.textDecoration),this.textShadow=Pe(e,bMe,n.textShadow),this.textTransform=Pe(e,xMe,n.textTransform),this.transform=Pe(e,BMe,n.transform),this.transformOrigin=Pe(e,TMe,n.transformOrigin),this.visibility=Pe(e,NMe,n.visibility),this.webkitTextStrokeColor=Pe(e,jMe,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Pe(e,XMe,n.webkitTextStrokeWidth),this.wordBreak=Pe(e,kMe,n.wordBreak),this.zIndex=Pe(e,FMe,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Yl(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Ir(this.display,4)||Ir(this.display,33554432)||Ir(this.display,268435456)||Ir(this.display,536870912)||Ir(this.display,67108864)||Ir(this.display,134217728)},t}(),YMe=function(){function t(e,n){this.content=Pe(e,QMe,n.content),this.quotes=Pe(e,KMe,n.quotes)}return t}(),EM=function(){function t(e,n){this.counterIncrement=Pe(e,HMe,n.counterIncrement),this.counterReset=Pe(e,VMe,n.counterReset)}return t}(),Pe=function(t,e,n){var r=new SX,s=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(s);var i=new TX(r.read());switch(e.type){case 2:var o=i.parseComponentValue();return e.parse(t,sn(o)?o.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return eB.parse(t,i.parseComponentValue());case"color":return ql.parse(t,i.parseComponentValue());case"image":return u4.parse(t,i.parseComponentValue());case"length":var a=i.parseComponentValue();return gc(a)?a:ns;case"length-percentage":var u=i.parseComponentValue();return cr(u)?u:ns;case"time":return GX.parse(t,i.parseComponentValue())}break}},JMe="data-html2canvas-debug",ZMe=function(t){var e=t.getAttribute(JMe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},lN=function(t,e){var n=ZMe(t);return n===1||e===n},Za=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,lN(n,3))debugger;this.styles=new qMe(e,window.getComputedStyle(n,null)),dN(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=J2(this.context,n),lN(n,4)&&(this.flags|=16)}return t}(),eQe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",$M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var I1=0;I1<$M.length;I1++)mg[$M.charCodeAt(I1)]=I1;var tQe=function(t){var e=t.length*.75,n=t.length,r,s=0,i,o,a,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<n;r+=4)i=mg[t.charCodeAt(r)],o=mg[t.charCodeAt(r+1)],a=mg[t.charCodeAt(r+2)],u=mg[t.charCodeAt(r+3)],c[s++]=i<<2|o>>4,c[s++]=(o&15)<<4|a>>2,c[s++]=(a&3)<<6|u&63;return l},nQe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},rQe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},_A=5,l4=6+5,SE=2,sQe=l4-_A,jX=65536>>_A,iQe=1<<_A,TE=iQe-1,oQe=1024>>_A,aQe=jX+oQe,uQe=aQe,lQe=32,cQe=uQe+lQe,AQe=65536>>l4,dQe=1<<sQe,hQe=dQe-1,SM=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},fQe=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},pQe=function(t,e){var n=tQe(t),r=Array.isArray(n)?rQe(n):new Uint32Array(n),s=Array.isArray(n)?nQe(n):new Uint16Array(n),i=24,o=SM(s,i/2,r[4]/2),a=r[5]===2?SM(s,(i+r[4])/2):fQe(r,Math.ceil((i+r[4])/4));return new gQe(r[0],r[1],r[2],r[3],o,a)},gQe=function(){function t(e,n,r,s,i,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=s,this.index=i,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>_A],n=(n<<SE)+(e&TE),this.data[n];if(e<=65535)return n=this.index[jX+(e-55296>>_A)],n=(n<<SE)+(e&TE),this.data[n];if(e<this.highStart)return n=cQe-AQe+(e>>l4),n=this.index[n],n+=e>>_A&hQe,n=this.index[n],n=(n<<SE)+(e&TE),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),TM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mQe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var E1=0;E1<TM.length;E1++)mQe[TM.charCodeAt(E1)]=E1;var yQe=1,NE=2,kE=3,NM=4,kM=5,vQe=7,FM=8,FE=9,_E=10,_M=11,DM=12,RM=13,OM=14,DE=15,wQe=function(t){for(var e=[],n=0,r=t.length;n<r;){var s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var i=t.charCodeAt(n++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e},CQe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],s=-1,i="";++s<n;){var o=t[s];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(s+1===n||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},bQe=pQe(eQe),no="\xD7",RE="\xF7",xQe=function(t){return bQe.get(t)},BQe=function(t,e,n){var r=n-2,s=e[r],i=e[n-1],o=e[n];if(i===NE&&o===kE)return no;if(i===NE||i===kE||i===NM||o===NE||o===kE||o===NM)return RE;if(i===FM&&[FM,FE,_M,DM].indexOf(o)!==-1||(i===_M||i===FE)&&(o===FE||o===_E)||(i===DM||i===_E)&&o===_E||o===RM||o===kM||o===vQe||i===yQe)return no;if(i===RM&&o===OM){for(;s===kM;)s=e[--r];if(s===OM)return no}if(i===DE&&o===DE){for(var a=0;s===DE;)a++,s=e[--r];if(a%2===0)return no}return RE},IQe=function(t){var e=wQe(t),n=e.length,r=0,s=0,i=e.map(xQe);return{next:function(){if(r>=n)return{done:!0,value:null};for(var o=no;r<n&&(o=BQe(e,i,++r))===no;);if(o!==no||r===n){var a=CQe.apply(null,e.slice(s,r));return s=r,{value:a,done:!1}}return{done:!0,value:null}}}},EQe=function(t){for(var e=IQe(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},$Qe=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(r),i===e)return!0}}return!1},SQe=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,s=Z2(r.data).map(function(u){return tr(u)}),i=0,o={},a=s.every(function(u,l){n.setStart(r,i),n.setEnd(r,i+u.length);var c=n.getBoundingClientRect();i+=u.length;var A=c.x>o.x||c.y>o.y;return o=c,l===0?!0:A});return t.body.removeChild(e),a},TQe=function(){return typeof new Image().crossOrigin<"u"},NQe=function(){return typeof new XMLHttpRequest().responseType=="string"},kQe=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},UM=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},FQe=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,i=e.toDataURL();s.src=i;var o=cN(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),LM(o).then(function(a){r.drawImage(a,0,0);var u=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var l=t.createElement("div");return l.style.backgroundImage="url("+i+")",l.style.height=n+"px",UM(u)?LM(cN(n,n,0,0,l)):Promise.reject(!1)}).then(function(a){return r.drawImage(a,0,0),UM(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},cN=function(t,e,n,r,s){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(s),o},LM=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Zr={get SUPPORT_RANGE_BOUNDS(){var t=$Qe(document);return Object.defineProperty(Zr,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Zr.SUPPORT_RANGE_BOUNDS&&SQe(document);return Object.defineProperty(Zr,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=kQe(document);return Object.defineProperty(Zr,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?FQe(document):Promise.resolve(!1);return Object.defineProperty(Zr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=TQe();return Object.defineProperty(Zr,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=NQe();return Object.defineProperty(Zr,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Zr,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Zr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},zg=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),_Qe=function(t,e,n,r){var s=OQe(e,n),i=[],o=0;return s.forEach(function(a){if(n.textDecorationLine.length||a.trim().length>0)if(Zr.SUPPORT_RANGE_BOUNDS){var u=PM(r,o,a.length).getClientRects();if(u.length>1){var l=c4(a),c=0;l.forEach(function(d){i.push(new zg(d,Lu.fromDOMRectList(t,PM(r,c+o,d.length).getClientRects()))),c+=d.length})}else i.push(new zg(a,Lu.fromDOMRectList(t,u)))}else{var A=r.splitText(a.length);i.push(new zg(a,DQe(t,r))),r=A}else Zr.SUPPORT_RANGE_BOUNDS||(r=r.splitText(a.length));o+=a.length}),i},DQe=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(r,e);var i=J2(t,r);return r.firstChild&&s.replaceChild(r.firstChild,r),i}}return Lu.EMPTY},PM=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(t,e),s.setEnd(t,e+n),s},c4=function(t){if(Zr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return EQe(t)},RQe=function(t,e){if(Zr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return LQe(t,e)},OQe=function(t,e){return e.letterSpacing!==0?c4(t):RQe(t,e)},UQe=[32,160,4961,65792,65793,4153,4241],LQe=function(t,e){for(var n=ALe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],s,i=function(){if(s.value){var o=s.value.slice(),a=Z2(o),u="";a.forEach(function(l){UQe.indexOf(l)===-1?u+=tr(l):(u.length&&r.push(u),r.push(tr(l)),u="")}),u.length&&r.push(u)}};!(s=n.next()).done;)i();return r},PQe=function(){function t(e,n,r){this.text=MQe(n.data,r.textTransform),this.textBounds=_Qe(e,this.text,r,n)}return t}(),MQe=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(QQe,HQe);case 2:return t.toUpperCase();default:return t}},QQe=/(^|\s|:|-|\(|\))([a-z])/g,HQe=function(t,e,n){return t.length>0?e+n.toUpperCase():t},XX=function(t){ca(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.src=r.currentSrc||r.src,s.intrinsicWidth=r.naturalWidth,s.intrinsicHeight=r.naturalHeight,s.context.cache.addImage(s.src),s}return e}(Za),qX=function(t){ca(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r,s.intrinsicWidth=r.width,s.intrinsicHeight=r.height,s}return e}(Za),YX=function(t){ca(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=new XMLSerializer,o=J2(n,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),s.intrinsicWidth=r.width.baseVal.value,s.intrinsicHeight=r.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(Za),JX=function(t){ca(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(Za),AN=function(t){ca(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.start=r.start,s.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,s}return e}(Za),VQe=[{type:15,flags:0,unit:"px",number:3}],zQe=[{type:16,flags:0,number:50}],KQe=function(t){return t.width>t.height?new Lu(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Lu(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},WQe=function(t){var e=t.type===GQe?new Array(t.value.length+1).join("\u2022"):t.value;return e.length===0?t.placeholder||"":e},ZC="checkbox",eb="radio",GQe="password",MM=707406591,A4=function(t){ca(e,t);function e(n,r){var s=t.call(this,n,r)||this;switch(s.type=r.type.toLowerCase(),s.checked=r.checked,s.value=WQe(r),(s.type===ZC||s.type===eb)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=KQe(s.bounds)),s.type){case ZC:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=VQe;break;case eb:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=zQe;break}return s}return e}(Za),ZX=function(t){ca(e,t);function e(n,r){var s=t.call(this,n,r)||this,i=r.options[r.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(Za),eq=function(t){ca(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.value=r.value,s}return e}(Za),tq=function(t){ca(e,t);function e(n,r){var s=t.call(this,n,r)||this;s.src=r.src,s.width=parseInt(r.width,10)||0,s.height=parseInt(r.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){s.tree=rq(n,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?Hg(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Iu.TRANSPARENT,o=r.contentWindow.document.body?Hg(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):Iu.TRANSPARENT;s.backgroundColor=Yl(i)?Yl(o)?s.styles.backgroundColor:o:i}}catch{}return s}return e}(Za),jQe=["OL","UL","MENU"],ww=function(t,e,n,r){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,sq(s)&&s.data.trim().length>0)n.textNodes.push(new PQe(t,s,n.styles));else if(Nh(s))if(uq(s)&&s.assignedNodes)s.assignedNodes().forEach(function(a){return ww(t,a,n,r)});else{var o=nq(t,s);o.styles.isVisible()&&(XQe(s,o,r)?o.flags|=4:qQe(o.styles)&&(o.flags|=2),jQe.indexOf(s.tagName)!==-1&&(o.flags|=8),n.elements.push(o),s.slot,s.shadowRoot?ww(t,s.shadowRoot,o,r):!tb(s)&&!iq(s)&&!nb(s)&&ww(t,s,o,r))}},nq=function(t,e){return hN(e)?new XX(t,e):oq(e)?new qX(t,e):iq(e)?new YX(t,e):YQe(e)?new JX(t,e):JQe(e)?new AN(t,e):ZQe(e)?new A4(t,e):nb(e)?new ZX(t,e):tb(e)?new eq(t,e):aq(e)?new tq(t,e):new Za(t,e)},rq=function(t,e){var n=nq(t,e);return n.flags|=4,ww(t,e,n,n),n},XQe=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||d4(t)&&n.styles.isTransparent()},qQe=function(t){return t.isPositioned()||t.isFloating()},sq=function(t){return t.nodeType===Node.TEXT_NODE},Nh=function(t){return t.nodeType===Node.ELEMENT_NODE},dN=function(t){return Nh(t)&&typeof t.style<"u"&&!Cw(t)},Cw=function(t){return typeof t.className=="object"},YQe=function(t){return t.tagName==="LI"},JQe=function(t){return t.tagName==="OL"},ZQe=function(t){return t.tagName==="INPUT"},e6e=function(t){return t.tagName==="HTML"},iq=function(t){return t.tagName==="svg"},d4=function(t){return t.tagName==="BODY"},oq=function(t){return t.tagName==="CANVAS"},QM=function(t){return t.tagName==="VIDEO"},hN=function(t){return t.tagName==="IMG"},aq=function(t){return t.tagName==="IFRAME"},HM=function(t){return t.tagName==="STYLE"},t6e=function(t){return t.tagName==="SCRIPT"},tb=function(t){return t.tagName==="TEXTAREA"},nb=function(t){return t.tagName==="SELECT"},uq=function(t){return t.tagName==="SLOT"},VM=function(t){return t.tagName.indexOf("-")>0},n6e=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,s=e.counterReset,i=!0;r!==null&&r.forEach(function(a){var u=n.counters[a.counter];u&&a.increment!==0&&(i=!1,u.length||u.push(1),u[Math.max(0,u.length-1)]+=a.increment)});var o=[];return i&&s.forEach(function(a){var u=n.counters[a.counter];o.push(a.counter),u||(u=n.counters[a.counter]=[]),u.push(a.reset)}),o},t}(),zM={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},KM={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},r6e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},s6e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},Xd=function(t,e,n,r,s,i){return t<e||t>n?zm(t,s,i.length>0):r.integers.reduce(function(o,a,u){for(;t>=a;)t-=a,o+=r.values[u];return o},"")+i},lq=function(t,e,n,r){var s="";do n||t--,s=r(t)+s,t/=e;while(t*e>=e);return s},er=function(t,e,n,r,s){var i=n-e+1;return(t<0?"-":"")+(lq(Math.abs(t),i,r,function(o){return tr(Math.floor(o%i)+e)})+s)},Zc=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return lq(Math.abs(t),r,!1,function(s){return e[Math.floor(s%r)]})+n},uh=1<<0,ul=1<<1,ll=1<<2,yg=1<<3,iu=function(t,e,n,r,s,i){if(t<-9999||t>9999)return zm(t,4,s.length>0);var o=Math.abs(t),a=s;if(o===0)return e[0]+a;for(var u=0;o>0&&u<=4;u++){var l=o%10;l===0&&Ir(i,uh)&&a!==""?a=e[l]+a:l>1||l===1&&u===0||l===1&&u===1&&Ir(i,ul)||l===1&&u===1&&Ir(i,ll)&&t>100||l===1&&u>1&&Ir(i,yg)?a=e[l]+(u>0?n[u-1]:"")+a:l===1&&u>0&&(a=n[u-1]+a),o=Math.floor(o/10)}return(t<0?r:"")+a},WM="\u5341\u767E\u5343\u842C",GM="\u62FE\u4F70\u4EDF\u842C",jM="\u30DE\u30A4\u30CA\u30B9",OE="\uB9C8\uC774\uB108\uC2A4",zm=function(t,e,n){var r=n?". ":"",s=n?"\u3001":"",i=n?", ":"",o=n?" ":"";switch(e){case 0:return"\u2022"+o;case 1:return"\u25E6"+o;case 2:return"\u25FE"+o;case 5:var a=er(t,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return Zc(t,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",s);case 6:return Xd(t,1,3999,zM,3,r).toLowerCase();case 7:return Xd(t,1,3999,zM,3,r);case 8:return er(t,945,969,!1,r);case 9:return er(t,97,122,!1,r);case 10:return er(t,65,90,!1,r);case 11:return er(t,1632,1641,!0,r);case 12:case 49:return Xd(t,1,9999,KM,3,r);case 35:return Xd(t,1,9999,KM,3,r).toLowerCase();case 13:return er(t,2534,2543,!0,r);case 14:case 30:return er(t,6112,6121,!0,r);case 15:return Zc(t,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",s);case 16:return Zc(t,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",s);case 17:case 48:return iu(t,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",WM,"\u8CA0",s,ul|ll|yg);case 47:return iu(t,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",GM,"\u8CA0",s,uh|ul|ll|yg);case 42:return iu(t,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",WM,"\u8D1F",s,ul|ll|yg);case 41:return iu(t,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",GM,"\u8D1F",s,uh|ul|ll|yg);case 26:return iu(t,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",jM,s,0);case 25:return iu(t,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",jM,s,uh|ul|ll);case 31:return iu(t,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",OE,i,uh|ul|ll);case 33:return iu(t,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",OE,i,0);case 32:return iu(t,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",OE,i,uh|ul|ll);case 18:return er(t,2406,2415,!0,r);case 20:return Xd(t,1,19999,s6e,3,r);case 21:return er(t,2790,2799,!0,r);case 22:return er(t,2662,2671,!0,r);case 22:return Xd(t,1,10999,r6e,3,r);case 23:return Zc(t,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case 24:return Zc(t,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case 27:return er(t,3302,3311,!0,r);case 28:return Zc(t,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",s);case 29:return Zc(t,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",s);case 34:return er(t,3792,3801,!0,r);case 37:return er(t,6160,6169,!0,r);case 38:return er(t,4160,4169,!0,r);case 39:return er(t,2918,2927,!0,r);case 40:return er(t,1776,1785,!0,r);case 43:return er(t,3046,3055,!0,r);case 44:return er(t,3174,3183,!0,r);case 45:return er(t,3664,3673,!0,r);case 46:return er(t,3872,3881,!0,r);case 3:default:return er(t,48,57,!0,r)}},cq="data-html2canvas-ignore",XM=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new n6e,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,s=i6e(e,n);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=s.contentWindow,u=a.document,l=u6e(s).then(function(){return Ls(r,void 0,void 0,function(){var c,A;return fs(this,function(d){switch(d.label){case 0:return this.scrolledElements.forEach(d6e),a&&(a.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==n.top||a.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-n.left,a.scrollY-n.top,0,0))),c=this.options.onclone,A=this.clonedReferenceElement,typeof A>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:d.sent(),d.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,a6e(u)]:[3,4];case 3:d.sent(),d.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(u,A)}).then(function(){return s})]:[2,s]}})})});return u.open(),u.write(c6e(document.doctype)+"<html></html>"),A6e(this.referenceElement.ownerDocument,i,o),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),l},t.prototype.createElementClone=function(e){if(lN(e,2))debugger;if(oq(e))return this.createCanvasClone(e);if(QM(e))return this.createVideoClone(e);if(HM(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return hN(n)&&(hN(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),VM(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return UE(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),s=e.cloneNode(!1);return s.textContent=r,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var a=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(a){var u=a.getContextAttributes();(u==null?void 0:u.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,n,r){(!Nh(n)||!t6e(n)&&!n.hasAttribute(cq)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!Nh(n)||!HM(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(Nh(i)&&uq(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(a){return s.appendChildNode(n,a,r)})}else this.appendChildNode(n,i,r)},t.prototype.cloneNode=function(e,n){if(sq(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&Nh(e)&&(dN(e)||Cw(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=r.getComputedStyle(e),o=r.getComputedStyle(e,":before"),a=r.getComputedStyle(e,":after");this.referenceElement===e&&dN(s)&&(this.clonedReferenceElement=s),d4(s)&&p6e(s);var u=this.counters.parse(new EM(this.context,i)),l=this.resolvePseudoContent(e,s,o,Kg.BEFORE);VM(e)&&(n=!0),QM(e)||this.cloneChildNodes(e,s,n),l&&s.insertBefore(l,s.firstChild);var c=this.resolvePseudoContent(e,s,a,Kg.AFTER);return c&&s.appendChild(c),this.counters.pop(u),(i&&(this.options.copyStyles||Cw(e))&&!aq(e)||n)&&UE(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(tb(e)||nb(e))&&(tb(s)||nb(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,s){var i=this;if(!!r){var o=r.content,a=n.ownerDocument;if(!(!a||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new EM(this.context,r));var u=new YMe(this.context,r),l=a.createElement("html2canvaspseudoelement");UE(r,l),u.content.forEach(function(A){if(A.type===0)l.appendChild(a.createTextNode(A.value));else if(A.type===22){var d=a.createElement("img");d.src=A.value,d.style.opacity="1",l.appendChild(d)}else if(A.type===18){if(A.name==="attr"){var h=A.values.filter(sn);h.length&&l.appendChild(a.createTextNode(e.getAttribute(h[0].value)||""))}else if(A.name==="counter"){var f=A.values.filter(Tf),p=f[0],m=f[1];if(p&&sn(p)){var g=i.counters.getCounterValue(p.value),y=m&&sn(m)?uN.parse(i.context,m.value):3;l.appendChild(a.createTextNode(zm(g,y,!1)))}}else if(A.name==="counters"){var C=A.values.filter(Tf),p=C[0],b=C[1],m=C[2];if(p&&sn(p)){var B=i.counters.getCounterValues(p.value),I=m&&sn(m)?uN.parse(i.context,m.value):3,w=b&&b.type===0?b.value:"",$=B.map(function(R){return zm(R,I,!1)}).join(w);l.appendChild(a.createTextNode($))}}}else if(A.type===20)switch(A.value){case"open-quote":l.appendChild(a.createTextNode(IM(u.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(a.createTextNode(IM(u.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(a.createTextNode(A.value))}}),l.className=fN+" "+pN;var c=s===Kg.BEFORE?" "+fN:" "+pN;return Cw(n)?n.className.baseValue+=c:n.className+=c,l}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Kg;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Kg||(Kg={}));var i6e=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(cq,"true"),t.body.appendChild(n),n},o6e=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},a6e=function(t){return Promise.all([].slice.call(t.images,0).map(o6e))},u6e=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},l6e=["all","d","content"],UE=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);l6e.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},c6e=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},A6e=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},d6e=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},h6e=":before",f6e=":after",fN="___html2canvas___pseudoelement_before",pN="___html2canvas___pseudoelement_after",qM=`{
    content: "" !important;
    display: none !important;
}`,p6e=function(t){g6e(t,"."+fN+h6e+qM+`
         .`+pN+f6e+qM)},g6e=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},Aq=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),m6e=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(PE(e)||C6e(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Ls(this,void 0,void 0,function(){var n,r,s,i,o=this;return fs(this,function(a){switch(a.label){case 0:return n=Aq.isSameOrigin(e),r=!LE(e)&&this._options.useCORS===!0&&Zr.SUPPORT_CORS_IMAGES&&!n,s=!LE(e)&&!n&&!PE(e)&&typeof this._options.proxy=="string"&&Zr.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!LE(e)&&!PE(e)&&!s&&!r?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(u,l){var c=new Image;c.onload=function(){return u(c)},c.onerror=l,(b6e(i)||r)&&(c.crossOrigin="anonymous"),c.src=i,c.complete===!0&&setTimeout(function(){return u(c)},500),o._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,o){var a=Zr.SUPPORT_RESPONSE_TYPE?"blob":"text",u=new XMLHttpRequest;u.onload=function(){if(u.status===200)if(a==="text")i(u.response);else{var A=new FileReader;A.addEventListener("load",function(){return i(A.result)},!1),A.addEventListener("error",function(d){return o(d)},!1),A.readAsDataURL(u.response)}else o("Failed to proxy resource "+s+" with status code "+u.status)},u.onerror=o;var l=r.indexOf("?")>-1?"&":"?";if(u.open("GET",""+r+l+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&u instanceof XMLHttpRequest&&(u.responseType=a),n._options.imageTimeout){var c=n._options.imageTimeout;u.timeout=c,u.ontimeout=function(){return o("Timed out ("+c+"ms) proxying "+s)}}u.send()})},t}(),y6e=/^data:image\/svg\+xml/i,v6e=/^data:image\/.*;base64,/i,w6e=/^data:image\/.*/i,C6e=function(t){return Zr.SUPPORT_SVG_DRAWING||!x6e(t)},LE=function(t){return w6e.test(t)},b6e=function(t){return v6e.test(t)},PE=function(t){return t.substr(0,4)==="blob"},x6e=function(t){return t.substr(-3).toLowerCase()==="svg"||y6e.test(t)},Oe=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),qd=function(t,e,n){return new Oe(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},$1=function(){function t(e,n,r,s){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=s}return t.prototype.subdivide=function(e,n){var r=qd(this.start,this.startControl,e),s=qd(this.startControl,this.endControl,e),i=qd(this.endControl,this.end,e),o=qd(r,s,e),a=qd(s,i,e),u=qd(o,a,e);return n?new t(this.start,r,o,u):new t(u,a,i,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),ao=function(t){return t.type===1},B6e=function(){function t(e){var n=e.styles,r=e.bounds,s=gg(n.borderTopLeftRadius,r.width,r.height),i=s[0],o=s[1],a=gg(n.borderTopRightRadius,r.width,r.height),u=a[0],l=a[1],c=gg(n.borderBottomRightRadius,r.width,r.height),A=c[0],d=c[1],h=gg(n.borderBottomLeftRadius,r.width,r.height),f=h[0],p=h[1],m=[];m.push((i+u)/r.width),m.push((f+A)/r.width),m.push((o+p)/r.height),m.push((l+d)/r.height);var g=Math.max.apply(Math,m);g>1&&(i/=g,o/=g,u/=g,l/=g,A/=g,d/=g,f/=g,p/=g);var y=r.width-u,C=r.height-d,b=r.width-A,B=r.height-p,I=n.borderTopWidth,w=n.borderRightWidth,$=n.borderBottomWidth,T=n.borderLeftWidth,_=pn(n.paddingTop,e.bounds.width),R=pn(n.paddingRight,e.bounds.width),P=pn(n.paddingBottom,e.bounds.width),L=pn(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Tn(r.left+T/3,r.top+I/3,i-T/3,o-I/3,Jt.TOP_LEFT):new Oe(r.left+T/3,r.top+I/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Tn(r.left+y,r.top+I/3,u-w/3,l-I/3,Jt.TOP_RIGHT):new Oe(r.left+r.width-w/3,r.top+I/3),this.bottomRightBorderDoubleOuterBox=A>0||d>0?Tn(r.left+b,r.top+C,A-w/3,d-$/3,Jt.BOTTOM_RIGHT):new Oe(r.left+r.width-w/3,r.top+r.height-$/3),this.bottomLeftBorderDoubleOuterBox=f>0||p>0?Tn(r.left+T/3,r.top+B,f-T/3,p-$/3,Jt.BOTTOM_LEFT):new Oe(r.left+T/3,r.top+r.height-$/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Tn(r.left+T*2/3,r.top+I*2/3,i-T*2/3,o-I*2/3,Jt.TOP_LEFT):new Oe(r.left+T*2/3,r.top+I*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Tn(r.left+y,r.top+I*2/3,u-w*2/3,l-I*2/3,Jt.TOP_RIGHT):new Oe(r.left+r.width-w*2/3,r.top+I*2/3),this.bottomRightBorderDoubleInnerBox=A>0||d>0?Tn(r.left+b,r.top+C,A-w*2/3,d-$*2/3,Jt.BOTTOM_RIGHT):new Oe(r.left+r.width-w*2/3,r.top+r.height-$*2/3),this.bottomLeftBorderDoubleInnerBox=f>0||p>0?Tn(r.left+T*2/3,r.top+B,f-T*2/3,p-$*2/3,Jt.BOTTOM_LEFT):new Oe(r.left+T*2/3,r.top+r.height-$*2/3),this.topLeftBorderStroke=i>0||o>0?Tn(r.left+T/2,r.top+I/2,i-T/2,o-I/2,Jt.TOP_LEFT):new Oe(r.left+T/2,r.top+I/2),this.topRightBorderStroke=i>0||o>0?Tn(r.left+y,r.top+I/2,u-w/2,l-I/2,Jt.TOP_RIGHT):new Oe(r.left+r.width-w/2,r.top+I/2),this.bottomRightBorderStroke=A>0||d>0?Tn(r.left+b,r.top+C,A-w/2,d-$/2,Jt.BOTTOM_RIGHT):new Oe(r.left+r.width-w/2,r.top+r.height-$/2),this.bottomLeftBorderStroke=f>0||p>0?Tn(r.left+T/2,r.top+B,f-T/2,p-$/2,Jt.BOTTOM_LEFT):new Oe(r.left+T/2,r.top+r.height-$/2),this.topLeftBorderBox=i>0||o>0?Tn(r.left,r.top,i,o,Jt.TOP_LEFT):new Oe(r.left,r.top),this.topRightBorderBox=u>0||l>0?Tn(r.left+y,r.top,u,l,Jt.TOP_RIGHT):new Oe(r.left+r.width,r.top),this.bottomRightBorderBox=A>0||d>0?Tn(r.left+b,r.top+C,A,d,Jt.BOTTOM_RIGHT):new Oe(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=f>0||p>0?Tn(r.left,r.top+B,f,p,Jt.BOTTOM_LEFT):new Oe(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||o>0?Tn(r.left+T,r.top+I,Math.max(0,i-T),Math.max(0,o-I),Jt.TOP_LEFT):new Oe(r.left+T,r.top+I),this.topRightPaddingBox=u>0||l>0?Tn(r.left+Math.min(y,r.width-w),r.top+I,y>r.width+w?0:Math.max(0,u-w),Math.max(0,l-I),Jt.TOP_RIGHT):new Oe(r.left+r.width-w,r.top+I),this.bottomRightPaddingBox=A>0||d>0?Tn(r.left+Math.min(b,r.width-T),r.top+Math.min(C,r.height-$),Math.max(0,A-w),Math.max(0,d-$),Jt.BOTTOM_RIGHT):new Oe(r.left+r.width-w,r.top+r.height-$),this.bottomLeftPaddingBox=f>0||p>0?Tn(r.left+T,r.top+Math.min(B,r.height-$),Math.max(0,f-T),Math.max(0,p-$),Jt.BOTTOM_LEFT):new Oe(r.left+T,r.top+r.height-$),this.topLeftContentBox=i>0||o>0?Tn(r.left+T+L,r.top+I+_,Math.max(0,i-(T+L)),Math.max(0,o-(I+_)),Jt.TOP_LEFT):new Oe(r.left+T+L,r.top+I+_),this.topRightContentBox=u>0||l>0?Tn(r.left+Math.min(y,r.width+T+L),r.top+I+_,y>r.width+T+L?0:u-T+L,l-(I+_),Jt.TOP_RIGHT):new Oe(r.left+r.width-(w+R),r.top+I+_),this.bottomRightContentBox=A>0||d>0?Tn(r.left+Math.min(b,r.width-(T+L)),r.top+Math.min(C,r.height+I+_),Math.max(0,A-(w+R)),d-($+P),Jt.BOTTOM_RIGHT):new Oe(r.left+r.width-(w+R),r.top+r.height-($+P)),this.bottomLeftContentBox=f>0||p>0?Tn(r.left+T+L,r.top+B,Math.max(0,f-(T+L)),p-($+P),Jt.BOTTOM_LEFT):new Oe(r.left+T+L,r.top+r.height-($+P))}return t}(),Jt;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Jt||(Jt={}));var Tn=function(t,e,n,r,s){var i=4*((Math.sqrt(2)-1)/3),o=n*i,a=r*i,u=t+n,l=e+r;switch(s){case Jt.TOP_LEFT:return new $1(new Oe(t,l),new Oe(t,l-a),new Oe(u-o,e),new Oe(u,e));case Jt.TOP_RIGHT:return new $1(new Oe(t,e),new Oe(t+o,e),new Oe(u,l-a),new Oe(u,l));case Jt.BOTTOM_RIGHT:return new $1(new Oe(u,e),new Oe(u,e+a),new Oe(t+o,l),new Oe(t,l));case Jt.BOTTOM_LEFT:default:return new $1(new Oe(u,l),new Oe(u-o,l),new Oe(t,e+a),new Oe(t,e))}},rb=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},I6e=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},sb=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},E6e=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),S1=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),$6e=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),S6e=function(t){return t.type===0},dq=function(t){return t.type===1},T6e=function(t){return t.type===2},YM=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},N6e=function(t,e,n,r,s){return t.map(function(i,o){switch(o){case 0:return i.add(e,n);case 1:return i.add(e+r,n);case 2:return i.add(e+r,n+s);case 3:return i.add(e,n+s)}return i})},hq=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),fq=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new B6e(this.container),this.container.styles.opacity<1&&this.effects.push(new $6e(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new E6e(r,s,i))}if(this.container.styles.overflowX!==0){var o=rb(this.curves),a=sb(this.curves);YM(o,a)?this.effects.push(new S1(o,6)):(this.effects.push(new S1(o,2)),this.effects.push(new S1(a,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,s=this.effects.slice(0);r;){var i=r.effects.filter(function(u){return!dq(u)});if(n||r.container.styles.position!==0||!r.parent){if(s.unshift.apply(s,i),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=rb(r.curves),a=sb(r.curves);YM(o,a)||s.unshift(new S1(a,6))}}else s.unshift.apply(s,i);r=r.parent}return s.filter(function(u){return Ir(u.target,e)})},t}(),gN=function(t,e,n,r){t.container.elements.forEach(function(s){var i=Ir(s.flags,4),o=Ir(s.flags,2),a=new fq(s,t);Ir(s.styles.display,2048)&&r.push(a);var u=Ir(s.flags,8)?[]:r;if(i||o){var l=i||s.styles.isPositioned()?n:e,c=new hq(a);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var A=s.styles.zIndex.order;if(A<0){var d=0;l.negativeZIndex.some(function(f,p){return A>f.element.container.styles.zIndex.order?(d=p,!1):d>0}),l.negativeZIndex.splice(d,0,c)}else if(A>0){var h=0;l.positiveZIndex.some(function(f,p){return A>=f.element.container.styles.zIndex.order?(h=p+1,!1):h>0}),l.positiveZIndex.splice(h,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else s.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);gN(a,c,i?c:n,u)}else s.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),gN(a,e,n,u);Ir(s.flags,8)&&pq(s,u)})},pq=function(t,e){for(var n=t instanceof AN?t.start:1,r=t instanceof AN?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof JX&&typeof i.container.value=="number"&&i.container.value!==0&&(n=i.container.value),i.listValue=zm(n,i.container.styles.listStyleType,!0),n+=r?-1:1}},k6e=function(t){var e=new fq(t,null),n=new hq(e),r=[];return gN(e,n,n,r),pq(e.container,r),n},JM=function(t,e){switch(e){case 0:return Co(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Co(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Co(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Co(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},F6e=function(t,e){switch(e){case 0:return Co(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Co(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Co(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Co(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},_6e=function(t,e){switch(e){case 0:return Co(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Co(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Co(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Co(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},D6e=function(t,e){switch(e){case 0:return T1(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return T1(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return T1(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return T1(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},T1=function(t,e){var n=[];return ao(t)?n.push(t.subdivide(.5,!1)):n.push(t),ao(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},Co=function(t,e,n,r){var s=[];return ao(t)?s.push(t.subdivide(.5,!1)):s.push(t),ao(n)?s.push(n.subdivide(.5,!0)):s.push(n),ao(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),ao(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},gq=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},ib=function(t){var e=t.styles,n=t.bounds,r=pn(e.paddingLeft,n.width),s=pn(e.paddingRight,n.width),i=pn(e.paddingTop,n.width),o=pn(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+s),-(e.borderTopWidth+e.borderBottomWidth+i+o))},R6e=function(t,e){return t===0?e.bounds:t===2?ib(e):gq(e)},O6e=function(t,e){return t===0?e.bounds:t===2?ib(e):gq(e)},ME=function(t,e,n){var r=R6e(lh(t.styles.backgroundOrigin,e),t),s=O6e(lh(t.styles.backgroundClip,e),t),i=U6e(lh(t.styles.backgroundSize,e),n,r),o=i[0],a=i[1],u=gg(lh(t.styles.backgroundPosition,e),r.width-o,r.height-a),l=L6e(lh(t.styles.backgroundRepeat,e),u,i,r,s),c=Math.round(r.left+u[0]),A=Math.round(r.top+u[1]);return[l,c,A,o,a]},Yd=function(t){return sn(t)&&t.value===Yh.AUTO},N1=function(t){return typeof t=="number"},U6e=function(t,e,n){var r=e[0],s=e[1],i=e[2],o=t[0],a=t[1];if(!o)return[0,0];if(cr(o)&&a&&cr(a))return[pn(o,n.width),pn(a,n.height)];var u=N1(i);if(sn(o)&&(o.value===Yh.CONTAIN||o.value===Yh.COVER)){if(N1(i)){var l=n.width/n.height;return l<i!=(o.value===Yh.COVER)?[n.width,n.width/i]:[n.height*i,n.height]}return[n.width,n.height]}var c=N1(r),A=N1(s),d=c||A;if(Yd(o)&&(!a||Yd(a))){if(c&&A)return[r,s];if(!u&&!d)return[n.width,n.height];if(d&&u){var h=c?r:s*i,f=A?s:r/i;return[h,f]}var p=c?r:n.width,m=A?s:n.height;return[p,m]}if(u){var g=0,y=0;return cr(o)?g=pn(o,n.width):cr(a)&&(y=pn(a,n.height)),Yd(o)?g=y*i:(!a||Yd(a))&&(y=g/i),[g,y]}var C=null,b=null;if(cr(o)?C=pn(o,n.width):a&&cr(a)&&(b=pn(a,n.height)),C!==null&&(!a||Yd(a))&&(b=c&&A?C/r*s:n.height),b!==null&&Yd(o)&&(C=c&&A?b/s*r:n.width),C!==null&&b!==null)return[C,b];throw new Error("Unable to calculate background-size for element")},lh=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},L6e=function(t,e,n,r,s){var i=e[0],o=e[1],a=n[0],u=n[1];switch(t){case 2:return[new Oe(Math.round(r.left),Math.round(r.top+o)),new Oe(Math.round(r.left+r.width),Math.round(r.top+o)),new Oe(Math.round(r.left+r.width),Math.round(u+r.top+o)),new Oe(Math.round(r.left),Math.round(u+r.top+o))];case 3:return[new Oe(Math.round(r.left+i),Math.round(r.top)),new Oe(Math.round(r.left+i+a),Math.round(r.top)),new Oe(Math.round(r.left+i+a),Math.round(r.height+r.top)),new Oe(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new Oe(Math.round(r.left+i),Math.round(r.top+o)),new Oe(Math.round(r.left+i+a),Math.round(r.top+o)),new Oe(Math.round(r.left+i+a),Math.round(r.top+o+u)),new Oe(Math.round(r.left+i),Math.round(r.top+o+u))];default:return[new Oe(Math.round(s.left),Math.round(s.top)),new Oe(Math.round(s.left+s.width),Math.round(s.top)),new Oe(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Oe(Math.round(s.left),Math.round(s.height+s.top))]}},P6e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ZM="Hidden Text",M6e=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),s.src=P6e,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(ZM)),r.appendChild(i),r.appendChild(s);var a=s.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(ZM)),r.style.lineHeight="normal",s.style.verticalAlign="super";var u=s.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:a,middle:u}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),mq=function(){function t(e,n){this.context=e,this.options=n}return t}(),Q6e=1e4,H6e=function(t){ca(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s._activeEffects=[],s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),r.canvas||(s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px"),s.fontMetrics=new M6e(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),s}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(s){return r.applyEffect(s)})},e.prototype.applyEffect=function(n){this.ctx.save(),T6e(n)&&(this.ctx.globalAlpha=n.opacity),S6e(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),dq(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Ls(this,void 0,void 0,function(){var r;return fs(this,function(s){switch(s.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Ls(this,void 0,void 0,function(){return fs(this,function(r){switch(r.label){case 0:if(Ir(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,s){var i=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+s);else{var o=c4(n.text);o.reduce(function(a,u){return i.ctx.fillText(u,a,n.bounds.top+s),a+i.ctx.measureText(u).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=G6e(n.fontFamily).join(", "),i=Jy(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(n,r){return Ls(this,void 0,void 0,function(){var s,i,o,a,u,l,c,A,d=this;return fs(this,function(h){return s=this.createFontStyle(r),i=s[0],o=s[1],a=s[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",u=this.fontMetrics.getMetrics(o,a),l=u.baseline,c=u.middle,A=r.paintOrder,n.textBounds.forEach(function(f){A.forEach(function(p){switch(p){case 0:d.ctx.fillStyle=Lr(r.color),d.renderTextWithLetterSpacing(f,r.letterSpacing,l);var m=r.textShadow;m.length&&f.text.trim().length&&(m.slice(0).reverse().forEach(function(g){d.ctx.shadowColor=Lr(g.color),d.ctx.shadowOffsetX=g.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=g.offsetY.number*d.options.scale,d.ctx.shadowBlur=g.blur.number,d.renderTextWithLetterSpacing(f,r.letterSpacing,l)}),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),r.textDecorationLine.length&&(d.ctx.fillStyle=Lr(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(g){switch(g){case 1:d.ctx.fillRect(f.bounds.left,Math.round(f.bounds.top+l),f.bounds.width,1);break;case 2:d.ctx.fillRect(f.bounds.left,Math.round(f.bounds.top),f.bounds.width,1);break;case 3:d.ctx.fillRect(f.bounds.left,Math.ceil(f.bounds.top+c),f.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&f.text.trim().length&&(d.ctx.strokeStyle=Lr(r.webkitTextStrokeColor),d.ctx.lineWidth=r.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(f.text,f.bounds.left,f.bounds.top+l)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,s){if(s&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var i=ib(n),o=sb(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,n.intrinsicWidth,n.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Ls(this,void 0,void 0,function(){var r,s,i,o,a,u,y,y,l,c,A,d,b,h,f,B,p,m,g,y,C,b,B;return fs(this,function(I){switch(I.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,s=n.curves,i=r.styles,o=0,a=r.textNodes,I.label=1;case 1:return o<a.length?(u=a[o],[4,this.renderTextNode(u,i)]):[3,4];case 2:I.sent(),I.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof XX))return[3,8];I.label=5;case 5:return I.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return y=I.sent(),this.renderReplacedElement(r,s,y),[3,8];case 7:return I.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof qX&&this.renderReplacedElement(r,s,r.canvas),!(r instanceof YX))return[3,12];I.label=9;case 9:return I.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return y=I.sent(),this.renderReplacedElement(r,s,y),[3,12];case 11:return I.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof tq&&r.tree?(l=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,l.render(r.tree)]):[3,14];case 13:c=I.sent(),r.width&&r.height&&this.ctx.drawImage(c,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),I.label=14;case 14:if(r instanceof A4&&(A=Math.min(r.bounds.width,r.bounds.height),r.type===ZC?r.checked&&(this.ctx.save(),this.path([new Oe(r.bounds.left+A*.39363,r.bounds.top+A*.79),new Oe(r.bounds.left+A*.16,r.bounds.top+A*.5549),new Oe(r.bounds.left+A*.27347,r.bounds.top+A*.44071),new Oe(r.bounds.left+A*.39694,r.bounds.top+A*.5649),new Oe(r.bounds.left+A*.72983,r.bounds.top+A*.23),new Oe(r.bounds.left+A*.84,r.bounds.top+A*.34085),new Oe(r.bounds.left+A*.39363,r.bounds.top+A*.79)]),this.ctx.fillStyle=Lr(MM),this.ctx.fill(),this.ctx.restore()):r.type===eb&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+A/2,r.bounds.top+A/2,A/4,0,Math.PI*2,!0),this.ctx.fillStyle=Lr(MM),this.ctx.fill(),this.ctx.restore())),V6e(r)&&r.value.length){switch(d=this.createFontStyle(i),b=d[0],h=d[1],f=this.fontMetrics.getMetrics(b,h).baseline,this.ctx.font=b,this.ctx.fillStyle=Lr(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=K6e(r.styles.textAlign),B=ib(r),p=0,r.styles.textAlign){case 1:p+=B.width/2;break;case 2:p+=B.width;break}m=B.add(p,0,0,-B.height/2+1),this.ctx.save(),this.path([new Oe(B.left,B.top),new Oe(B.left+B.width,B.top),new Oe(B.left+B.width,B.top+B.height),new Oe(B.left,B.top+B.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new zg(r.value,m),i.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ir(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(g=r.styles.listStyleImage,g.type!==0)return[3,18];y=void 0,C=g.url,I.label=15;case 15:return I.trys.push([15,17,,18]),[4,this.context.cache.match(C)];case 16:return y=I.sent(),this.ctx.drawImage(y,r.bounds.left-(y.width+10),r.bounds.top),[3,18];case 17:return I.sent(),this.context.logger.error("Error loading list-style-image "+C),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(b=this.createFontStyle(i)[0],this.ctx.font=b,this.ctx.fillStyle=Lr(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",B=new Lu(r.bounds.left,r.bounds.top+pn(r.styles.paddingTop,r.bounds.width),r.bounds.width,xM(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new zg(n.listValue,B),i.letterSpacing,xM(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),I.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Ls(this,void 0,void 0,function(){var r,s,g,i,o,g,a,u,g,l,c,g,A,d,g,h,f,g,p,m,g;return fs(this,function(y){switch(y.label){case 0:if(Ir(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:y.sent(),r=0,s=n.negativeZIndex,y.label=2;case 2:return r<s.length?(g=s[r],[4,this.renderStack(g)]):[3,5];case 3:y.sent(),y.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:y.sent(),i=0,o=n.nonInlineLevel,y.label=7;case 7:return i<o.length?(g=o[i],[4,this.renderNode(g)]):[3,10];case 8:y.sent(),y.label=9;case 9:return i++,[3,7];case 10:a=0,u=n.nonPositionedFloats,y.label=11;case 11:return a<u.length?(g=u[a],[4,this.renderStack(g)]):[3,14];case 12:y.sent(),y.label=13;case 13:return a++,[3,11];case 14:l=0,c=n.nonPositionedInlineLevel,y.label=15;case 15:return l<c.length?(g=c[l],[4,this.renderStack(g)]):[3,18];case 16:y.sent(),y.label=17;case 17:return l++,[3,15];case 18:A=0,d=n.inlineLevel,y.label=19;case 19:return A<d.length?(g=d[A],[4,this.renderNode(g)]):[3,22];case 20:y.sent(),y.label=21;case 21:return A++,[3,19];case 22:h=0,f=n.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return h<f.length?(g=f[h],[4,this.renderStack(g)]):[3,26];case 24:y.sent(),y.label=25;case 25:return h++,[3,23];case 26:p=0,m=n.positiveZIndex,y.label=27;case 27:return p<m.length?(g=m[p],[4,this.renderStack(g)]):[3,30];case 28:y.sent(),y.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(s,i){var o=ao(s)?s.start:s;i===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),ao(s)&&r.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(n,r,s,i){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(n,r,s){var i;if(n.width===r&&n.height===s)return n;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,a=o.createElement("canvas");a.width=Math.max(1,r),a.height=Math.max(1,s);var u=a.getContext("2d");return u.drawImage(n,0,0,n.width,n.height,0,0,r,s),a},e.prototype.renderBackgroundImage=function(n){return Ls(this,void 0,void 0,function(){var r,s,i,o,a,u;return fs(this,function(l){switch(l.label){case 0:r=n.styles.backgroundImage.length-1,s=function(c){var A,d,h,_,q,ne,L,z,$,f,_,q,ne,L,z,p,m,g,y,C,b,B,I,w,$,T,_,R,P,L,z,V,q,ne,H,J,se,ae,Ae,pe,ye,ve;return fs(this,function(Ee){switch(Ee.label){case 0:if(c.type!==0)return[3,5];A=void 0,d=c.url,Ee.label=1;case 1:return Ee.trys.push([1,3,,4]),[4,i.context.cache.match(d)];case 2:return A=Ee.sent(),[3,4];case 3:return Ee.sent(),i.context.logger.error("Error loading background-image "+d),[3,4];case 4:return A&&(h=ME(n,r,[A.width,A.height,A.width/A.height]),_=h[0],q=h[1],ne=h[2],L=h[3],z=h[4],$=i.ctx.createPattern(i.resizeImage(A,L,z),"repeat"),i.renderRepeat(_,$,q,ne)),[3,6];case 5:SPe(c)?(f=ME(n,r,[null,null,null]),_=f[0],q=f[1],ne=f[2],L=f[3],z=f[4],p=xPe(c.angle,L,z),m=p[0],g=p[1],y=p[2],C=p[3],b=p[4],B=document.createElement("canvas"),B.width=L,B.height=z,I=B.getContext("2d"),w=I.createLinearGradient(g,C,y,b),CM(c.stops,m).forEach(function(ke){return w.addColorStop(ke.stop,Lr(ke.color))}),I.fillStyle=w,I.fillRect(0,0,L,z),L>0&&z>0&&($=i.ctx.createPattern(B,"repeat"),i.renderRepeat(_,$,q,ne))):TPe(c)&&(T=ME(n,r,[null,null,null]),_=T[0],R=T[1],P=T[2],L=T[3],z=T[4],V=c.position.length===0?[a4]:c.position,q=pn(V[0],L),ne=pn(V[V.length-1],z),H=BPe(c,q,ne,L,z),J=H[0],se=H[1],J>0&&se>0&&(ae=i.ctx.createRadialGradient(R+q,P+ne,0,R+q,P+ne,J),CM(c.stops,J*2).forEach(function(ke){return ae.addColorStop(ke.stop,Lr(ke.color))}),i.path(_),i.ctx.fillStyle=ae,J!==se?(Ae=n.bounds.left+.5*n.bounds.width,pe=n.bounds.top+.5*n.bounds.height,ye=se/J,ve=1/ye,i.ctx.save(),i.ctx.translate(Ae,pe),i.ctx.transform(1,0,0,ye,0,0),i.ctx.translate(-Ae,-pe),i.ctx.fillRect(R,ve*(P-pe)+pe,L,z*ve),i.ctx.restore()):i.ctx.fill())),Ee.label=6;case 6:return r--,[2]}})},i=this,o=0,a=n.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return o<a.length?(u=a[o],[5,s(u)]):[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,s){return Ls(this,void 0,void 0,function(){return fs(this,function(i){return this.path(JM(s,r)),this.ctx.fillStyle=Lr(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,s,i){return Ls(this,void 0,void 0,function(){var o,a;return fs(this,function(u){switch(u.label){case 0:return r<3?[4,this.renderSolidBorder(n,s,i)]:[3,2];case 1:return u.sent(),[2];case 2:return o=F6e(i,s),this.path(o),this.ctx.fillStyle=Lr(n),this.ctx.fill(),a=_6e(i,s),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Ls(this,void 0,void 0,function(){var r,s,i,o,a,u,l,c,A=this;return fs(this,function(d){switch(d.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,s=!Yl(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=z6e(lh(r.backgroundClip,0),n.curves),s||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Yl(r.backgroundColor)||(this.ctx.fillStyle=Lr(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:d.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(h){A.ctx.save();var f=rb(n.curves),p=h.inset?0:Q6e,m=N6e(f,-p+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(A.path(f),A.ctx.clip(),A.mask(m)):(A.mask(f),A.ctx.clip(),A.path(m)),A.ctx.shadowOffsetX=h.offsetX.number+p,A.ctx.shadowOffsetY=h.offsetY.number,A.ctx.shadowColor=Lr(h.color),A.ctx.shadowBlur=h.blur.number,A.ctx.fillStyle=h.inset?Lr(h.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),d.label=2;case 2:a=0,u=0,l=i,d.label=3;case 3:return u<l.length?(c=l[u],c.style!==0&&!Yl(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,a,n.curves,2)]:[3,11]):[3,13];case 4:return d.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,a,n.curves,3)];case 6:return d.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,a,n.curves)];case 8:return d.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,a,n.curves)];case 10:d.sent(),d.label=11;case 11:a++,d.label=12;case 12:return u++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,s,i,o){return Ls(this,void 0,void 0,function(){var a,u,l,c,A,d,h,f,p,m,g,y,C,b,B,I,B,I;return fs(this,function(w){return this.ctx.save(),a=D6e(i,s),u=JM(i,s),o===2&&(this.path(u),this.ctx.clip()),ao(u[0])?(l=u[0].start.x,c=u[0].start.y):(l=u[0].x,c=u[0].y),ao(u[1])?(A=u[1].end.x,d=u[1].end.y):(A=u[1].x,d=u[1].y),s===0||s===2?h=Math.abs(l-A):h=Math.abs(c-d),this.ctx.beginPath(),o===3?this.formatPath(a):this.formatPath(u.slice(0,2)),f=r<3?r*3:r*2,p=r<3?r*2:r,o===3&&(f=r,p=r),m=!0,h<=f*2?m=!1:h<=f*2+p?(g=h/(2*f+p),f*=g,p*=g):(y=Math.floor((h+p)/(f+p)),C=(h-y*f)/(y-1),b=(h-(y+1)*f)/y,p=b<=0||Math.abs(p-C)<Math.abs(p-b)?C:b),m&&(o===3?this.ctx.setLineDash([0,f+p]):this.ctx.setLineDash([f,p])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Lr(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(ao(u[0])&&(B=u[3],I=u[0],this.ctx.beginPath(),this.formatPath([new Oe(B.end.x,B.end.y),new Oe(I.start.x,I.start.y)]),this.ctx.stroke()),ao(u[1])&&(B=u[1],I=u[2],this.ctx.beginPath(),this.formatPath([new Oe(B.end.x,B.end.y),new Oe(I.start.x,I.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Ls(this,void 0,void 0,function(){var r;return fs(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Lr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=k6e(n),[4,this.renderStack(r)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(mq),V6e=function(t){return t instanceof eq||t instanceof ZX?!0:t instanceof A4&&t.type!==eb&&t.type!==ZC},z6e=function(t,e){switch(t){case 0:return rb(e);case 2:return I6e(e);case 1:default:return sb(e)}},K6e=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},W6e=["-apple-system","system-ui"],G6e=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return W6e.indexOf(e)===-1}):t},j6e=function(t){ca(e,t);function e(n,r){var s=t.call(this,n,r)||this;return s.canvas=r.canvas?r.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=r,s.canvas.width=Math.floor(r.width*r.scale),s.canvas.height=Math.floor(r.height*r.scale),s.canvas.style.width=r.width+"px",s.canvas.style.height=r.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-r.x,-r.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),s}return e.prototype.render=function(n){return Ls(this,void 0,void 0,function(){var r,s;return fs(this,function(i){switch(i.label){case 0:return r=cN(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,X6e(r)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Lr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(mq),X6e=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},q6e=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,u1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,u1([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,u1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,u1([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Y6e=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new q6e({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new m6e(this,e)}return t.instanceCount=1,t}(),J6e=function(t,e){return e===void 0&&(e={}),Z6e(t,e)};typeof window<"u"&&Aq.setContext(window);var Z6e=function(t,e){return Ls(void 0,void 0,void 0,function(){var n,r,s,i,o,a,u,l,c,A,d,h,f,p,m,g,y,C,b,B,w,I,w,$,T,_,R,P,L,z,V,q,ne,H,J,se,ae,Ae,pe,ye;return fs(this,function(ve){switch(ve.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return s={allowTaint:($=e.allowTaint)!==null&&$!==void 0?$:!1,imageTimeout:(T=e.imageTimeout)!==null&&T!==void 0?T:15e3,proxy:e.proxy,useCORS:(_=e.useCORS)!==null&&_!==void 0?_:!1},i=XT({logging:(R=e.logging)!==null&&R!==void 0?R:!0,cache:e.cache},s),o={windowWidth:(P=e.windowWidth)!==null&&P!==void 0?P:r.innerWidth,windowHeight:(L=e.windowHeight)!==null&&L!==void 0?L:r.innerHeight,scrollX:(z=e.scrollX)!==null&&z!==void 0?z:r.pageXOffset,scrollY:(V=e.scrollY)!==null&&V!==void 0?V:r.pageYOffset},a=new Lu(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),u=new Y6e(i,a),l=(q=e.foreignObjectRendering)!==null&&q!==void 0?q:!1,c={allowTaint:(ne=e.allowTaint)!==null&&ne!==void 0?ne:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},u.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),A=new XM(u,t,c),d=A.clonedReferenceElement,d?[4,A.toIFrame(n,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=ve.sent(),f=d4(d)||e6e(d)?NUe(d.ownerDocument):J2(u,d),p=f.width,m=f.height,g=f.left,y=f.top,C=eHe(u,d,e.backgroundColor),b={canvas:e.canvas,backgroundColor:C,scale:(J=(H=e.scale)!==null&&H!==void 0?H:r.devicePixelRatio)!==null&&J!==void 0?J:1,x:((se=e.x)!==null&&se!==void 0?se:0)+g,y:((ae=e.y)!==null&&ae!==void 0?ae:0)+y,width:(Ae=e.width)!==null&&Ae!==void 0?Ae:Math.ceil(p),height:(pe=e.height)!==null&&pe!==void 0?pe:Math.ceil(m)},l?(u.logger.debug("Document cloned, using foreign object rendering"),w=new j6e(u,b),[4,w.render(d)]):[3,3];case 2:return B=ve.sent(),[3,5];case 3:return u.logger.debug("Document cloned, element located at "+g+","+y+" with size "+p+"x"+m+" using computed rendering"),u.logger.debug("Starting DOM parsing"),I=rq(u,d),C===I.styles.backgroundColor&&(I.styles.backgroundColor=Iu.TRANSPARENT),u.logger.debug("Starting renderer for element at "+b.x+","+b.y+" with size "+b.width+"x"+b.height),w=new H6e(u,b),[4,w.render(I)];case 4:B=ve.sent(),ve.label=5;case 5:return(!((ye=e.removeContainer)!==null&&ye!==void 0)||ye)&&(XM.destroy(h)||u.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),u.logger.debug("Finished rendering"),[2,B]}})})},eHe=function(t,e,n){var r=e.ownerDocument,s=r.documentElement?Hg(t,getComputedStyle(r.documentElement).backgroundColor):Iu.TRANSPARENT,i=r.body?Hg(t,getComputedStyle(r.body).backgroundColor):Iu.TRANSPARENT,o=typeof n=="string"?Hg(t,n):n===null?Iu.TRANSPARENT:4294967295;return e===r.documentElement?Yl(s)?Yl(i)?o:i:s:o};const tHe=(t,e,n,r,s)=>{const i=t.current.getContext("2d");i.clearRect(0,0,i.canvas.width,i.canvas.height),Y2();const o="18px sans-serif";i.font=o,i.textBaseline="top";let a=0;var u=document.getElementById("out_img");oo("#canvasId").attr("width",u.offsetWidth),oo("#canvasId").attr("height",u.offsetHeight);for(let A=0;A<r.length;++A)if(r[A]>e){let[d,h,f,p]=n.slice(A*4,(A+1)*4);a+=1,d*=t.current.width,f*=t.current.width,h*=t.current.height,p*=t.current.height;const m=f-d,g=p-h;var l=d+m/2,c=h+g/2;i.beginPath(),i.arc(l,c,12,0,Math.PI*2,!0),i.font="bold 10pt Courier",i.fillText(a,l-5,c),i.fill="red",i.lineWidth=2,i.strokeStyle="#"+Math.floor(Math.random()*16777215).toString(16),i.stroke(),oo("#totalCount").html(a)}return a};var yq={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],s=0;s<arguments.length;s++){var i=arguments[s];if(!!i){var o=typeof i;if(o==="string"||o==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(o==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var u in i)e.call(i,u)&&i[u]&&r.push(u)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(yq);const jt=yq.exports,dp=!!(typeof window<"u"&&window.document&&window.document.createElement);var mN=!1,yN=!1;try{var QE={get passive(){return mN=!0},get once(){return yN=mN=!0}};dp&&(window.addEventListener("test",QE,QE),window.removeEventListener("test",QE,!0))}catch{}function vq(t,e,n,r){if(r&&typeof r!="boolean"&&!yN){var s=r.once,i=r.capture,o=n;!yN&&s&&(o=n.__once||function a(u){this.removeEventListener(e,a,i),n.call(this,u)},n.__once=o),t.addEventListener(e,o,mN?r:i)}t.addEventListener(e,n,r)}function uB(t){return t&&t.ownerDocument||document}function vN(t,e,n,r){var s=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}var k1;function eQ(t){if((!k1&&k1!==0||t)&&dp){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),k1=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return k1}function nHe(){return Z.exports.useState(null)}function rHe(t){const e=Z.exports.useRef(t);return Z.exports.useEffect(()=>{e.current=t},[t]),e}function lo(t){const e=rHe(t);return Z.exports.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const tQ=t=>!t||typeof t=="function"?t:e=>{t.current=e};function sHe(t,e){const n=tQ(t),r=tQ(e);return s=>{n&&n(s),r&&r(s)}}function lB(t,e){return Z.exports.useMemo(()=>sHe(t,e),[t,e])}function iHe(t){const e=Z.exports.useRef(t);return e.current=t,e}function wq(t){const e=iHe(t);Z.exports.useEffect(()=>()=>e.current(),[])}function oHe(t){var e=uB(t);return e&&e.defaultView||window}function aHe(t,e){return oHe(t).getComputedStyle(t,e)}var uHe=/([A-Z])/g;function lHe(t){return t.replace(uHe,"-$1").toLowerCase()}var cHe=/^ms-/;function F1(t){return lHe(t).replace(cHe,"-ms-")}var AHe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function dHe(t){return!!(t&&AHe.test(t))}function DA(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(F1(e))||aHe(t).getPropertyValue(F1(e));Object.keys(e).forEach(function(s){var i=e[s];!i&&i!==0?t.style.removeProperty(F1(s)):dHe(s)?r+=s+"("+i+") ":n+=F1(s)+": "+i+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function ob(t,e,n,r){return vq(t,e,n,r),function(){vN(t,e,n,r)}}function hHe(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,r),t.dispatchEvent(s)}}function fHe(t){var e=DA(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function pHe(t,e,n){n===void 0&&(n=5);var r=!1,s=setTimeout(function(){r||hHe(t,"transitionend",!0)},e+n),i=ob(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),i()}}function Cq(t,e,n,r){n==null&&(n=fHe(t)||0);var s=pHe(t,n,r),i=ob(t,"transitionend",e);return function(){s(),i()}}function HE(t){t===void 0&&(t=uB());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function nQ(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function gHe(){const t=Z.exports.useRef(!0),e=Z.exports.useRef(()=>t.current);return Z.exports.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function mHe(t){const e=Z.exports.useRef(null);return Z.exports.useEffect(()=>{e.current=t}),e.current}const yHe="data-rr-ui-";function vHe(t){return`${yHe}${t}`}function wHe(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const rQ=vHe("modal-open");class h4{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return wHe(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(DA(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(rQ,""),DA(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(rQ),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const bq=Z.exports.createContext(dp?window:void 0);bq.Provider;function f4(){return Z.exports.useContext(bq)}const VE=(t,e)=>dp?t==null?(e||uB()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function CHe(t,e){const n=f4(),[r,s]=Z.exports.useState(()=>VE(t,n==null?void 0:n.document));if(!r){const i=VE(t);i&&s(i)}return Z.exports.useEffect(()=>{e&&r&&e(r)},[e,r]),Z.exports.useEffect(()=>{const i=VE(t);i!==r&&s(i)},[t,r]),r}const bHe=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",xHe=typeof document<"u",sQ=xHe||bHe?Z.exports.useLayoutEffect:Z.exports.useEffect;function BHe({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:s}){const i=Z.exports.useRef(null),o=Z.exports.useRef(e),a=lo(n);Z.exports.useEffect(()=>{e?o.current=!0:a(i.current)},[e,a]);const u=lB(i,t.ref),l=Z.exports.cloneElement(t,{ref:u});return e?l:s||!o.current&&r?null:l}function IHe({in:t,onTransition:e}){const n=Z.exports.useRef(null),r=Z.exports.useRef(!0),s=lo(e);return sQ(()=>{if(!n.current)return;let i=!1;return s({in:t,element:n.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[t,s]),sQ(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function EHe({children:t,in:e,onExited:n,onEntered:r,transition:s}){const[i,o]=Z.exports.useState(!e);e&&i&&o(!1);const a=IHe({in:!!e,onTransition:l=>{const c=()=>{l.isStale()||(l.in?r==null||r(l.element,l.initial):(o(!0),n==null||n(l.element)))};Promise.resolve(s(l)).then(c,A=>{throw l.in||o(!0),A})}}),u=lB(a,t.ref);return i&&!e?null:Z.exports.cloneElement(t,{ref:u})}function iQ(t,e,n){return t?M(t,Object.assign({},n)):e?M(EHe,Object.assign({},n,{transition:e})):M(BHe,Object.assign({},n))}function $He(t){return t.code==="Escape"||t.keyCode===27}const SHe=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function THe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}let zE;function NHe(t){return zE||(zE=new h4({ownerDocument:t==null?void 0:t.document})),zE}function kHe(t){const e=f4(),n=t||NHe(e),r=Z.exports.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:Z.exports.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:Z.exports.useCallback(s=>{r.current.backdrop=s},[])})}const xq=Z.exports.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:s,style:i,children:o,backdrop:a=!0,keyboard:u=!0,onBackdropClick:l,onEscapeKeyDown:c,transition:A,runTransition:d,backdropTransition:h,runBackdropTransition:f,autoFocus:p=!0,enforceFocus:m=!0,restoreFocus:g=!0,restoreFocusOptions:y,renderDialog:C,renderBackdrop:b=ot=>M("div",Object.assign({},ot)),manager:B,container:I,onShow:w,onHide:$=()=>{},onExit:T,onExited:_,onExiting:R,onEnter:P,onEntering:L,onEntered:z}=t,V=THe(t,SHe);const q=f4(),ne=CHe(I),H=kHe(B),J=gHe(),se=mHe(n),[ae,Ae]=Z.exports.useState(!n),pe=Z.exports.useRef(null);Z.exports.useImperativeHandle(e,()=>H,[H]),dp&&!se&&n&&(pe.current=HE(q==null?void 0:q.document)),n&&ae&&Ae(!1);const ye=lo(()=>{if(H.add(),Xe.current=ob(document,"keydown",je),We.current=ob(document,"focus",()=>setTimeout(Ee),!0),w&&w(),p){var ot,Et;const Ht=HE((ot=(Et=H.dialog)==null?void 0:Et.ownerDocument)!=null?ot:q==null?void 0:q.document);H.dialog&&Ht&&!nQ(H.dialog,Ht)&&(pe.current=Ht,H.dialog.focus())}}),ve=lo(()=>{if(H.remove(),Xe.current==null||Xe.current(),We.current==null||We.current(),g){var ot;(ot=pe.current)==null||ot.focus==null||ot.focus(y),pe.current=null}});Z.exports.useEffect(()=>{!n||!ne||ye()},[n,ne,ye]),Z.exports.useEffect(()=>{!ae||ve()},[ae,ve]),wq(()=>{ve()});const Ee=lo(()=>{if(!m||!J()||!H.isTopModal())return;const ot=HE(q==null?void 0:q.document);H.dialog&&ot&&!nQ(H.dialog,ot)&&H.dialog.focus()}),ke=lo(ot=>{ot.target===ot.currentTarget&&(l==null||l(ot),a===!0&&$())}),je=lo(ot=>{u&&$He(ot)&&H.isTopModal()&&(c==null||c(ot),ot.defaultPrevented||$())}),We=Z.exports.useRef(),Xe=Z.exports.useRef(),lt=(...ot)=>{Ae(!0),_==null||_(...ot)};if(!ne)return null;const yt=Object.assign({role:r,ref:H.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},V,{style:i,className:s,tabIndex:-1});let It=C?C(yt):M("div",Object.assign({},yt,{children:Z.exports.cloneElement(o,{role:"document"})}));It=iQ(A,d,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:T,onExiting:R,onExited:lt,onEnter:P,onEntering:L,onEntered:z,children:It});let $t=null;return a&&($t=b({ref:H.setBackdropRef,onClick:ke}),$t=iQ(h,f,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:$t})),M(cf,{children:pA.createPortal(De(cf,{children:[$t,It]}),ne)})});xq.displayName="Modal";const FHe=Object.assign(xq,{Manager:h4});function _He(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function DHe(t,e){t.classList?t.classList.add(e):_He(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}var RHe=Function.prototype.bind.call(Function.prototype.call,[].slice);function Jd(t,e){return RHe(t.querySelectorAll(e))}function oQ(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function OHe(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=oQ(t.className,e):t.setAttribute("class",oQ(t.className&&t.className.baseVal||"",e))}const Zd={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class UHe extends h4{adjustAndStore(e,n,r){const s=n.style[e];n.dataset[e]=s,DA(n,{[e]:`${parseFloat(DA(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],DA(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(DHe(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Jd(n,Zd.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,e.scrollBarWidth)),Jd(n,Zd.STICKY_CONTENT).forEach(i=>this.adjustAndStore(s,i,-e.scrollBarWidth)),Jd(n,Zd.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(s,i,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();OHe(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Jd(n,Zd.FIXED_CONTENT).forEach(i=>this.restore(r,i)),Jd(n,Zd.STICKY_CONTENT).forEach(i=>this.restore(s,i)),Jd(n,Zd.NAVBAR_TOGGLER).forEach(i=>this.restore(s,i))}}let KE;function LHe(t){return KE||(KE=new UHe(t)),KE}function Bq(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function wN(t,e){return wN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},wN(t,e)}function PHe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,wN(t,e)}var be={exports:{}},MHe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",QHe=MHe,HHe=QHe;function Iq(){}function Eq(){}Eq.resetWarningCache=Iq;var VHe=function(){function t(r,s,i,o,a,u){if(u!==HHe){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Eq,resetWarningCache:Iq};return n.PropTypes=n,n};be.exports=VHe();const aQ={disabled:!1},$q=gr.createContext(null);var zHe=function(e){return e.scrollTop},vg="unmounted",sA="exited",fl="entering",AA="entered",CN="exiting",Ju=function(t){PHe(e,t);function e(r,s){var i;i=t.call(this,r,s)||this;var o=s,a=o&&!o.isMounting?r.enter:r.appear,u;return i.appearStatus=null,r.in?a?(u=sA,i.appearStatus=fl):u=AA:r.unmountOnExit||r.mountOnEnter?u=vg:u=sA,i.state={status:u},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var o=s.in;return o&&i.status===vg?{status:sA}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var o=this.state.status;this.props.in?o!==fl&&o!==AA&&(i=fl):(o===fl||o===AA)&&(i=CN)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,o,a;return i=o=a=s,s!=null&&typeof s!="number"&&(i=s.exit,o=s.enter,a=s.appear!==void 0?s.appear:o),{exit:i,enter:o,appear:a}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===fl){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:pA.findDOMNode(this);o&&zHe(o)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===sA&&this.setState({status:vg})},n.performEnter=function(s){var i=this,o=this.props.enter,a=this.context?this.context.isMounting:s,u=this.props.nodeRef?[a]:[pA.findDOMNode(this),a],l=u[0],c=u[1],A=this.getTimeouts(),d=a?A.appear:A.enter;if(!s&&!o||aQ.disabled){this.safeSetState({status:AA},function(){i.props.onEntered(l)});return}this.props.onEnter(l,c),this.safeSetState({status:fl},function(){i.props.onEntering(l,c),i.onTransitionEnd(d,function(){i.safeSetState({status:AA},function(){i.props.onEntered(l,c)})})})},n.performExit=function(){var s=this,i=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:pA.findDOMNode(this);if(!i||aQ.disabled){this.safeSetState({status:sA},function(){s.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:CN},function(){s.props.onExiting(a),s.onTransitionEnd(o.exit,function(){s.safeSetState({status:sA},function(){s.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,i.nextCallback=null,s(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var o=this.props.nodeRef?this.props.nodeRef.current:pA.findDOMNode(this),a=s==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],l=u[0],c=u[1];this.props.addEndListener(l,c)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===vg)return null;var i=this.props,o=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var a=Bq(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return M($q.Provider,{value:null,children:typeof o=="function"?o(s,a):gr.cloneElement(gr.Children.only(o),a)})},e}(gr.Component);Ju.contextType=$q;Ju.propTypes={};function eh(){}Ju.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:eh,onEntering:eh,onEntered:eh,onExit:eh,onExiting:eh,onExited:eh};Ju.UNMOUNTED=vg;Ju.EXITED=sA;Ju.ENTERING=fl;Ju.ENTERED=AA;Ju.EXITING=CN;function uQ(t,e){const n=DA(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function KHe(t,e){const n=uQ(t,"transitionDuration"),r=uQ(t,"transitionDelay"),s=Cq(t,i=>{i.target===t&&(s(),e(i))},n+r)}function WHe(t){t.offsetHeight}function GHe(t){return t&&"setState"in t?pA.findDOMNode(t):t!=null?t:null}const jHe=gr.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:s,onExited:i,addEndListener:o,children:a,childRef:u,...l},c)=>{const A=Z.exports.useRef(null),d=lB(A,u),h=I=>{d(GHe(I))},f=I=>w=>{I&&A.current&&I(A.current,w)},p=Z.exports.useCallback(f(t),[t]),m=Z.exports.useCallback(f(e),[e]),g=Z.exports.useCallback(f(n),[n]),y=Z.exports.useCallback(f(r),[r]),C=Z.exports.useCallback(f(s),[s]),b=Z.exports.useCallback(f(i),[i]),B=Z.exports.useCallback(f(o),[o]);return M(Ju,{ref:c,...l,onEnter:p,onEntered:g,onEntering:m,onExit:y,onExited:b,onExiting:C,addEndListener:B,nodeRef:A,children:typeof a=="function"?(I,w)=>a(I,{...w,ref:h}):gr.cloneElement(a,{ref:h})})}),XHe=jHe,qHe={[fl]:"show",[AA]:"show"},Sq=Z.exports.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...s},i)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},a=Z.exports.useCallback((u,l)=>{WHe(u),r==null||r(u,l)},[r]);return M(XHe,{ref:i,addEndListener:KHe,...o,onEnter:a,childRef:e.ref,children:(u,l)=>Z.exports.cloneElement(e,{...l,className:jt("fade",t,e.props.className,qHe[u],n[u])})})});Sq.displayName="Fade";const ab=Sq,YHe=["xxl","xl","lg","md","sm","xs"],JHe="xs",cB=Z.exports.createContext({prefixes:{},breakpoints:YHe,minBreakpoint:JHe});function jn(t,e){const{prefixes:n}=Z.exports.useContext(cB);return t||n[e]||e}function ZHe(){const{breakpoints:t}=Z.exports.useContext(cB);return t}function e9e(){const{minBreakpoint:t}=Z.exports.useContext(cB);return t}function t9e(){const{dir:t}=Z.exports.useContext(cB);return t==="rtl"}const Tq=Z.exports.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=jn(e,"modal-body"),M(n,{ref:s,className:jt(t,e),...r})));Tq.displayName="ModalBody";const n9e=Tq,r9e=Z.exports.createContext({onHide(){}}),Nq=r9e,kq=Z.exports.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:s,fullscreen:i,children:o,scrollable:a,...u},l)=>{t=jn(t,"modal");const c=`${t}-dialog`,A=typeof i=="string"?`${t}-fullscreen-${i}`:`${t}-fullscreen`;return M("div",{...u,ref:l,className:jt(c,e,s&&`${t}-${s}`,r&&`${c}-centered`,a&&`${c}-scrollable`,i&&A),children:M("div",{className:jt(`${t}-content`,n),children:o})})});kq.displayName="ModalDialog";const Fq=kq,_q=Z.exports.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=jn(e,"modal-footer"),M(n,{ref:s,className:jt(t,e),...r})));_q.displayName="ModalFooter";const s9e=_q,i9e={"aria-label":be.exports.string,onClick:be.exports.func,variant:be.exports.oneOf(["white"])},p4=Z.exports.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},s)=>M("button",{ref:s,type:"button",className:jt("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));p4.displayName="CloseButton";p4.propTypes=i9e;const Dq=p4,o9e=Z.exports.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:s,...i},o)=>{const a=Z.exports.useContext(Nq),u=lo(()=>{a==null||a.onHide(),r==null||r()});return De("div",{ref:o,...i,children:[s,n&&M(Dq,{"aria-label":t,variant:e,onClick:u})]})}),a9e=o9e,Rq=Z.exports.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...s},i)=>(t=jn(t,"modal-header"),M(a9e,{ref:i,...s,className:jt(e,t),closeLabel:n,closeButton:r})));Rq.displayName="ModalHeader";const u9e=Rq,Oq=t=>Z.exports.forwardRef((e,n)=>M("div",{...e,ref:n,className:jt(e.className,t)})),l9e=Oq("h4"),Uq=Z.exports.forwardRef(({className:t,bsPrefix:e,as:n=l9e,...r},s)=>(e=jn(e,"modal-title"),M(n,{ref:s,className:jt(t,e),...r})));Uq.displayName="ModalTitle";const c9e=Uq;function A9e(t){return M(ab,{...t,timeout:null})}function d9e(t){return M(ab,{...t,timeout:null})}const Lq=Z.exports.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:s,children:i,dialogAs:o=Fq,"aria-labelledby":a,"aria-describedby":u,"aria-label":l,show:c=!1,animation:A=!0,backdrop:d=!0,keyboard:h=!0,onEscapeKeyDown:f,onShow:p,onHide:m,container:g,autoFocus:y=!0,enforceFocus:C=!0,restoreFocus:b=!0,restoreFocusOptions:B,onEntered:I,onExit:w,onExiting:$,onEnter:T,onEntering:_,onExited:R,backdropClassName:P,manager:L,...z},V)=>{const[q,ne]=Z.exports.useState({}),[H,J]=Z.exports.useState(!1),se=Z.exports.useRef(!1),ae=Z.exports.useRef(!1),Ae=Z.exports.useRef(null),[pe,ye]=nHe(),ve=lB(V,ye),Ee=lo(m),ke=t9e();t=jn(t,"modal");const je=Z.exports.useMemo(()=>({onHide:Ee}),[Ee]);function We(){return L||LHe({isRTL:ke})}function Xe(xe){if(!dp)return;const Yt=We().getScrollbarWidth()>0,Ii=xe.scrollHeight>uB(xe).documentElement.clientHeight;ne({paddingRight:Yt&&!Ii?eQ():void 0,paddingLeft:!Yt&&Ii?eQ():void 0})}const lt=lo(()=>{pe&&Xe(pe.dialog)});wq(()=>{vN(window,"resize",lt),Ae.current==null||Ae.current()});const yt=()=>{se.current=!0},It=xe=>{se.current&&pe&&xe.target===pe.dialog&&(ae.current=!0),se.current=!1},$t=()=>{J(!0),Ae.current=Cq(pe.dialog,()=>{J(!1)})},ot=xe=>{xe.target===xe.currentTarget&&$t()},Et=xe=>{if(d==="static"){ot(xe);return}if(ae.current||xe.target!==xe.currentTarget){ae.current=!1;return}m==null||m()},Ht=xe=>{h?f==null||f(xe):(xe.preventDefault(),d==="static"&&$t())},Vt=(xe,Yt)=>{xe&&Xe(xe),T==null||T(xe,Yt)},Bi=xe=>{Ae.current==null||Ae.current(),w==null||w(xe)},zn=(xe,Yt)=>{_==null||_(xe,Yt),vq(window,"resize",lt)},Gi=xe=>{xe&&(xe.style.display=""),R==null||R(xe),vN(window,"resize",lt)},dn=Z.exports.useCallback(xe=>M("div",{...xe,className:jt(`${t}-backdrop`,P,!A&&"show")}),[A,P,t]),ls={...n,...q};ls.display="block";const Cr=xe=>M("div",{role:"dialog",...xe,style:ls,className:jt(e,t,H&&`${t}-static`,!A&&"show"),onClick:d?Et:void 0,onMouseUp:It,"aria-label":l,"aria-labelledby":a,"aria-describedby":u,children:M(o,{...z,onMouseDown:yt,className:r,contentClassName:s,children:i})});return M(Nq.Provider,{value:je,children:M(FHe,{show:c,ref:ve,backdrop:d,container:g,keyboard:!0,autoFocus:y,enforceFocus:C,restoreFocus:b,restoreFocusOptions:B,onEscapeKeyDown:Ht,onShow:p,onHide:m,onEnter:Vt,onEntering:zn,onEntered:I,onExit:Bi,onExiting:$,onExited:Gi,manager:We(),transition:A?A9e:void 0,backdropTransition:A?d9e:void 0,renderBackdrop:dn,renderDialog:Cr})})});Lq.displayName="Modal";const $a=Object.assign(Lq,{Body:n9e,Header:u9e,Title:c9e,Footer:s9e,Dialog:Fq,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),h9e=["as","disabled"];function f9e(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function p9e(t){return!t||t.trim()==="#"}function g4({tagName:t,disabled:e,href:n,target:r,rel:s,role:i,onClick:o,tabIndex:a=0,type:u}){t||(n!=null||r!=null||s!=null?t="a":t="button");const l={tagName:t};if(t==="button")return[{type:u||"button",disabled:e},l];const c=d=>{if((e||t==="a"&&p9e(n))&&d.preventDefault(),e){d.stopPropagation();return}o==null||o(d)},A=d=>{d.key===" "&&(d.preventDefault(),c(d))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:i!=null?i:"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?s:void 0,onClick:c,onKeyDown:A},l]}const g9e=Z.exports.forwardRef((t,e)=>{let{as:n,disabled:r}=t,s=f9e(t,h9e);const[i,{tagName:o}]=g4(Object.assign({tagName:n,disabled:r},s));return M(o,Object.assign({},s,i,{ref:e}))});g9e.displayName="Button";const rd=Z.exports.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:s=!1,disabled:i=!1,className:o,...a},u)=>{const l=jn(e,"btn"),[c,{tagName:A}]=g4({tagName:t,disabled:i,...a});return M(A,{...c,...a,ref:u,disabled:i,className:jt(o,l,s&&"active",n&&`${l}-${n}`,r&&`${l}-${r}`,a.href&&i&&"disabled")})});rd.displayName="Button";const m9e={type:be.exports.string,tooltip:be.exports.bool,as:be.exports.elementType},m4=Z.exports.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...s},i)=>M(t,{...s,ref:i,className:jt(e,`${n}-${r?"tooltip":"feedback"}`)}));m4.displayName="Feedback";m4.propTypes=m9e;const Pq=m4,y9e=Z.exports.createContext({}),Pu=y9e,Mq=Z.exports.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:s=!1,isInvalid:i=!1,as:o="input",...a},u)=>{const{controlId:l}=Z.exports.useContext(Pu);return e=jn(e,"form-check-input"),M(o,{...a,ref:u,type:r,id:t||l,className:jt(n,e,s&&"is-valid",i&&"is-invalid")})});Mq.displayName="FormCheckInput";const Qq=Mq,Hq=Z.exports.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},s)=>{const{controlId:i}=Z.exports.useContext(Pu);return t=jn(t,"form-check-label"),M("label",{...r,ref:s,htmlFor:n||i,className:jt(e,t)})});Hq.displayName="FormCheckLabel";const bN=Hq;function v9e(t,e){return Z.exports.Children.toArray(t).some(n=>Z.exports.isValidElement(n)&&n.type===e)}const Vq=Z.exports.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:s=!1,disabled:i=!1,isValid:o=!1,isInvalid:a=!1,feedbackTooltip:u=!1,feedback:l,feedbackType:c,className:A,style:d,title:h="",type:f="checkbox",label:p,children:m,as:g="input",...y},C)=>{e=jn(e,"form-check"),n=jn(n,"form-switch");const{controlId:b}=Z.exports.useContext(Pu),B=Z.exports.useMemo(()=>({controlId:t||b}),[b,t]),I=!m&&p!=null&&p!==!1||v9e(m,bN),w=M(Qq,{...y,type:f==="switch"?"checkbox":f,ref:C,isValid:o,isInvalid:a,disabled:i,as:g});return M(Pu.Provider,{value:B,children:M("div",{style:d,className:jt(A,I&&e,r&&`${e}-inline`,s&&`${e}-reverse`,f==="switch"&&n),children:m||De(cf,{children:[w,I&&M(bN,{title:h,children:p}),l&&M(Pq,{type:c,tooltip:u,children:l})]})})})});Vq.displayName="FormCheck";const ub=Object.assign(Vq,{Input:Qq,Label:bN}),zq=Z.exports.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:s,className:i,isValid:o=!1,isInvalid:a=!1,plaintext:u,readOnly:l,as:c="input",...A},d)=>{const{controlId:h}=Z.exports.useContext(Pu);return t=jn(t,"form-control"),M(c,{...A,type:e,size:r,ref:d,readOnly:l,id:s||h,className:jt(i,u?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",a&&"is-invalid")})});zq.displayName="FormControl";const w9e=Object.assign(zq,{Feedback:Pq}),Kq=Z.exports.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},s)=>(e=jn(e,"form-floating"),M(n,{ref:s,className:jt(t,e),...r})));Kq.displayName="FormFloating";const C9e=Kq,Wq=Z.exports.forwardRef(({controlId:t,as:e="div",...n},r)=>{const s=Z.exports.useMemo(()=>({controlId:t}),[t]);return M(Pu.Provider,{value:s,children:M(e,{...n,ref:r})})});Wq.displayName="FormGroup";const Gq=Wq;function b9e({as:t,bsPrefix:e,className:n,...r}){e=jn(e,"col");const s=ZHe(),i=e9e(),o=[],a=[];return s.forEach(u=>{const l=r[u];delete r[u];let c,A,d;typeof l=="object"&&l!=null?{span:c,offset:A,order:d}=l:c=l;const h=u!==i?`-${u}`:"";c&&o.push(c===!0?`${e}${h}`:`${e}${h}-${c}`),d!=null&&a.push(`order${h}-${d}`),A!=null&&a.push(`offset${h}-${A}`)}),[{...r,className:jt(n,...o,...a)},{as:t,bsPrefix:e,spans:o}]}const jq=Z.exports.forwardRef((t,e)=>{const[{className:n,...r},{as:s="div",bsPrefix:i,spans:o}]=b9e(t);return M(s,{...r,ref:e,className:jt(n,!o.length&&i)})});jq.displayName="Col";const x9e=jq,Xq=Z.exports.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:s,htmlFor:i,...o},a)=>{const{controlId:u}=Z.exports.useContext(Pu);e=jn(e,"form-label");let l="col-form-label";typeof n=="string"&&(l=`${l} ${l}-${n}`);const c=jt(s,e,r&&"visually-hidden",n&&l);return i=i||u,n?M(x9e,{ref:a,as:"label",className:c,htmlFor:i,...o}):M(t,{ref:a,className:c,htmlFor:i,...o})});Xq.displayName="FormLabel";const B9e=Xq,qq=Z.exports.forwardRef(({bsPrefix:t,className:e,id:n,...r},s)=>{const{controlId:i}=Z.exports.useContext(Pu);return t=jn(t,"form-range"),M("input",{...r,type:"range",ref:s,className:jt(e,t),id:n||i})});qq.displayName="FormRange";const I9e=qq,Yq=Z.exports.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:s=!1,isInvalid:i=!1,id:o,...a},u)=>{const{controlId:l}=Z.exports.useContext(Pu);return t=jn(t,"form-select"),M("select",{...a,size:n,ref:u,className:jt(r,t,e&&`${t}-${e}`,s&&"is-valid",i&&"is-invalid"),id:o||l})});Yq.displayName="FormSelect";const E9e=Yq,Jq=Z.exports.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...s},i)=>(t=jn(t,"form-text"),M(n,{...s,ref:i,className:jt(e,t,r&&"text-muted")})));Jq.displayName="FormText";const $9e=Jq,Zq=Z.exports.forwardRef((t,e)=>M(ub,{...t,ref:e,type:"switch"}));Zq.displayName="Switch";const S9e=Object.assign(Zq,{Input:ub.Input,Label:ub.Label}),eY=Z.exports.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:s,...i},o)=>(t=jn(t,"form-floating"),De(Gq,{ref:o,className:jt(e,t),controlId:r,...i,children:[n,M("label",{htmlFor:r,children:s})]})));eY.displayName="FloatingLabel";const T9e=eY,N9e={_ref:be.exports.any,validated:be.exports.bool,as:be.exports.elementType},y4=Z.exports.forwardRef(({className:t,validated:e,as:n="form",...r},s)=>M(n,{...r,ref:s,className:jt(t,e&&"was-validated")}));y4.displayName="Form";y4.propTypes=N9e;const wn=Object.assign(y4,{Group:Gq,Control:w9e,Floating:C9e,Check:ub,Switch:S9e,Label:B9e,Text:$9e,Range:I9e,Select:E9e,FloatingLabel:T9e});var k9e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Re,v4=v4||{},ht=k9e||self;function AB(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Zy(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function F9e(t){return Object.prototype.hasOwnProperty.call(t,WE)&&t[WE]||(t[WE]=++_9e)}var WE="closure_uid_"+(1e9*Math.random()>>>0),_9e=0;function D9e(t,e,n){return t.call.apply(t.bind,arguments)}function R9e(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Es(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Es=D9e:Es=R9e,Es.apply(null,arguments)}function _1(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function qr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Lc(){this.s=this.s,this.o=this.o}var O9e=0;Lc.prototype.s=!1;Lc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),O9e!=0)&&F9e(this)};Lc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tY=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function w4(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function lQ(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(AB(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function $s(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}$s.prototype.h=function(){this.defaultPrevented=!0};var U9e=function(){if(!ht.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ht.addEventListener("test",()=>{},e),ht.removeEventListener("test",()=>{},e)}catch{}return t}();function Km(t){return/^[\s\xa0]*$/.test(t)}function dB(){var t=ht.navigator;return t&&(t=t.userAgent)?t:""}function Sa(t){return dB().indexOf(t)!=-1}function C4(t){return C4[" "](t),t}C4[" "]=function(){};function L9e(t,e){var n=N5e;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var P9e=Sa("Opera"),Nf=Sa("Trident")||Sa("MSIE"),nY=Sa("Edge"),xN=nY||Nf,rY=Sa("Gecko")&&!(dB().toLowerCase().indexOf("webkit")!=-1&&!Sa("Edge"))&&!(Sa("Trident")||Sa("MSIE"))&&!Sa("Edge"),M9e=dB().toLowerCase().indexOf("webkit")!=-1&&!Sa("Edge");function sY(){var t=ht.document;return t?t.documentMode:void 0}var BN;e:{var GE="",jE=function(){var t=dB();if(rY)return/rv:([^\);]+)(\)|;)/.exec(t);if(nY)return/Edge\/([\d\.]+)/.exec(t);if(Nf)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(M9e)return/WebKit\/(\S+)/.exec(t);if(P9e)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(jE&&(GE=jE?jE[1]:""),Nf){var XE=sY();if(XE!=null&&XE>parseFloat(GE)){BN=String(XE);break e}}BN=GE}var IN;if(ht.document&&Nf){var cQ=sY();IN=cQ||parseInt(BN,10)||void 0}else IN=void 0;var Q9e=IN;function Wm(t,e){if($s.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(rY){e:{try{C4(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:H9e[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wm.$.h.call(this)}}qr(Wm,$s);var H9e={2:"touch",3:"pen",4:"mouse"};Wm.prototype.h=function(){Wm.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ev="closure_listenable_"+(1e6*Math.random()|0),V9e=0;function z9e(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++V9e,this.fa=this.ia=!1}function hB(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function b4(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function K9e(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function iY(t){const e={};for(const n in t)e[n]=t[n];return e}const AQ="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oY(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<AQ.length;i++)n=AQ[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function fB(t){this.src=t,this.g={},this.h=0}fB.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=$N(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new z9e(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function EN(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=tY(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(hB(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function $N(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var x4="closure_lm_"+(1e6*Math.random()|0),qE={};function aY(t,e,n,r,s){if(r&&r.once)return lY(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)aY(t,e[i],n,r,s);return null}return n=E4(n),t&&t[ev]?t.O(e,n,Zy(r)?!!r.capture:!!r,s):uY(t,e,n,!1,r,s)}function uY(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Zy(s)?!!s.capture:!!s,a=I4(t);if(a||(t[x4]=a=new fB(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=W9e(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)U9e||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(AY(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function W9e(){function t(n){return e.call(t.src,t.listener,n)}const e=G9e;return t}function lY(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)lY(t,e[i],n,r,s);return null}return n=E4(n),t&&t[ev]?t.P(e,n,Zy(r)?!!r.capture:!!r,s):uY(t,e,n,!0,r,s)}function cY(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)cY(t,e[i],n,r,s);else r=Zy(r)?!!r.capture:!!r,n=E4(n),t&&t[ev]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=$N(i,n,r,s),-1<n&&(hB(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=I4(t))&&(e=t.g[e.toString()],t=-1,e&&(t=$N(e,n,r,s)),(n=-1<t?e[t]:null)&&B4(n))}function B4(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ev])EN(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(AY(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=I4(e))?(EN(n,t),n.h==0&&(n.src=null,e[x4]=null)):hB(t)}}}function AY(t){return t in qE?qE[t]:qE[t]="on"+t}function G9e(t,e){if(t.fa)t=!0;else{e=new Wm(e,this);var n=t.listener,r=t.la||t.src;t.ia&&B4(t),t=n.call(r,e)}return t}function I4(t){return t=t[x4],t instanceof fB?t:null}var YE="__closure_events_fn_"+(1e9*Math.random()>>>0);function E4(t){return typeof t=="function"?t:(t[YE]||(t[YE]=function(e){return t.handleEvent(e)}),t[YE])}function Wr(){Lc.call(this),this.i=new fB(this),this.S=this,this.J=null}qr(Wr,Lc);Wr.prototype[ev]=!0;Wr.prototype.removeEventListener=function(t,e,n,r){cY(this,t,e,n,r)};function ss(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new $s(e,t);else if(e instanceof $s)e.target=e.target||t;else{var s=e;e=new $s(r,t),oY(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=D1(o,r,!0,e)&&s}if(o=e.g=t,s=D1(o,r,!0,e)&&s,s=D1(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=D1(o,r,!1,e)&&s}Wr.prototype.N=function(){if(Wr.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hB(n[r]);delete t.g[e],t.h--}}this.J=null};Wr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Wr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function D1(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&EN(t.i,o),s=a.call(u,r)!==!1&&s}}return s&&!r.defaultPrevented}var $4=ht.JSON.stringify;class j9e{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function X9e(){var t=S4;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class q9e{constructor(){this.h=this.g=null}add(e,n){const r=dY.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var dY=new j9e(()=>new Y9e,t=>t.reset());class Y9e{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function J9e(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Z9e(t){ht.setTimeout(()=>{throw t},0)}let Gm,jm=!1,S4=new q9e,hY=()=>{const t=ht.Promise.resolve(void 0);Gm=()=>{t.then(e5e)}};var e5e=()=>{for(var t;t=X9e();){try{t.h.call(t.g)}catch(n){Z9e(n)}var e=dY;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}jm=!1};function pB(t,e){Wr.call(this),this.h=t||1,this.g=e||ht,this.j=Es(this.qb,this),this.l=Date.now()}qr(pB,Wr);Re=pB.prototype;Re.ga=!1;Re.T=null;Re.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ss(this,"tick"),this.ga&&(T4(this),this.start()))}};Re.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function T4(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Re.N=function(){pB.$.N.call(this),T4(this),delete this.g};function N4(t,e,n){if(typeof t=="function")n&&(t=Es(t,n));else if(t&&typeof t.handleEvent=="function")t=Es(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ht.setTimeout(t,e||0)}function fY(t){t.g=N4(()=>{t.g=null,t.i&&(t.i=!1,fY(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class t5e extends Lc{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:fY(this)}N(){super.N(),this.g&&(ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xm(t){Lc.call(this),this.h=t,this.g={}}qr(Xm,Lc);var dQ=[];function pY(t,e,n,r){Array.isArray(n)||(n&&(dQ[0]=n.toString()),n=dQ);for(var s=0;s<n.length;s++){var i=aY(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function gY(t){b4(t.g,function(e,n){this.g.hasOwnProperty(n)&&B4(e)},t),t.g={}}Xm.prototype.N=function(){Xm.$.N.call(this),gY(this)};Xm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function gB(){this.g=!0}gB.prototype.Ea=function(){this.g=!1};function n5e(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var A=c.split("_");o=2<=A.length&&A[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function r5e(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function kh(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+i5e(t,n)+(r?" "+r:"")})}function s5e(t,e){t.info(function(){return"TIMEOUT: "+e})}gB.prototype.info=function(){};function i5e(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return $4(n)}catch{return e}}var Ed={},hQ=null;function mB(){return hQ=hQ||new Wr}Ed.Ta="serverreachability";function mY(t){$s.call(this,Ed.Ta,t)}qr(mY,$s);function qm(t){const e=mB();ss(e,new mY(e))}Ed.STAT_EVENT="statevent";function yY(t,e){$s.call(this,Ed.STAT_EVENT,t),this.stat=e}qr(yY,$s);function Ks(t){const e=mB();ss(e,new yY(e,t))}Ed.Ua="timingevent";function vY(t,e){$s.call(this,Ed.Ua,t),this.size=e}qr(vY,$s);function tv(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ht.setTimeout(function(){t()},e)}var yB={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wY={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function k4(){}k4.prototype.h=null;function fQ(t){return t.h||(t.h=t.i())}function CY(){}var nv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function F4(){$s.call(this,"d")}qr(F4,$s);function _4(){$s.call(this,"c")}qr(_4,$s);var SN;function vB(){}qr(vB,k4);vB.prototype.g=function(){return new XMLHttpRequest};vB.prototype.i=function(){return{}};SN=new vB;function rv(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Xm(this),this.P=o5e,t=xN?125:void 0,this.V=new pB(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bY}function bY(){this.i=null,this.g="",this.h=!1}var o5e=45e3,TN={},lb={};Re=rv.prototype;Re.setTimeout=function(t){this.P=t};function NN(t,e,n){t.L=1,t.v=CB(Mu(e)),t.s=n,t.S=!0,xY(t,null)}function xY(t,e){t.G=Date.now(),sv(t),t.A=Mu(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),kY(n.i,"t",r),t.C=0,n=t.l.J,t.h=new bY,t.g=JY(t.l,n?e:null,!t.s),0<t.O&&(t.M=new t5e(Es(t.Pa,t,t.g),t.O)),pY(t.U,t.g,"readystatechange",t.nb),e=t.I?iY(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),qm(),n5e(t.j,t.u,t.A,t.m,t.W,t.s)}Re.nb=function(t){t=t.target;const e=this.M;e&&Na(t)==3?e.l():this.Pa(t)};Re.Pa=function(t){try{if(t==this.g)e:{const c=Na(this.g);var e=this.g.Ia();const A=this.g.da();if(!(3>c)&&(c!=3||xN||this.g&&(this.h.h||this.g.ja()||yQ(this.g)))){this.J||c!=4||e==7||(e==8||0>=A?qm(3):qm(2)),wB(this);var n=this.g.da();this.ca=n;t:if(BY(this)){var r=yQ(this.g);t="";var s=r.length,i=Na(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){CA(this),Wg(this);var o="";break t}this.h.i=new ht.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,r5e(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Km(a)){var l=a;break t}}l=null}if(n=l)kh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kN(this,n);else{this.i=!1,this.o=3,Ks(12),CA(this),Wg(this);break e}}this.S?(IY(this,c,o),xN&&this.i&&c==3&&(pY(this.U,this.V,"tick",this.mb),this.V.start())):(kh(this.j,this.m,o,null),kN(this,o)),c==4&&CA(this),this.i&&!this.J&&(c==4?jY(this.l,this):(this.i=!1,sv(this)))}else $5e(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ks(12)):(this.o=0,Ks(13)),CA(this),Wg(this)}}}catch{}finally{}};function BY(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function IY(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=a5e(t,n),s==lb){e==4&&(t.o=4,Ks(14),r=!1),kh(t.j,t.m,null,"[Incomplete Response]");break}else if(s==TN){t.o=4,Ks(15),kh(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else kh(t.j,t.m,s,null),kN(t,s);BY(t)&&s!=lb&&s!=TN&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ks(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),P4(e),e.M=!0,Ks(11))):(kh(t.j,t.m,n,"[Invalid Chunked Response]"),CA(t),Wg(t))}Re.mb=function(){if(this.g){var t=Na(this.g),e=this.g.ja();this.C<e.length&&(wB(this),IY(this,t,e),this.i&&t!=4&&sv(this))}};function a5e(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?lb:(n=Number(e.substring(n,r)),isNaN(n)?TN:(r+=1,r+n>e.length?lb:(e=e.slice(r,r+n),t.C=r+n,e)))}Re.cancel=function(){this.J=!0,CA(this)};function sv(t){t.Y=Date.now()+t.P,EY(t,t.P)}function EY(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=tv(Es(t.lb,t),e)}function wB(t){t.B&&(ht.clearTimeout(t.B),t.B=null)}Re.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(s5e(this.j,this.A),this.L!=2&&(qm(),Ks(17)),CA(this),this.o=2,Wg(this)):EY(this,this.Y-t)};function Wg(t){t.l.H==0||t.J||jY(t.l,t)}function CA(t){wB(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,T4(t.V),gY(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function kN(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||FN(n.i,t))){if(!t.K&&FN(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)db(n),BB(n);else break e;L4(n),Ks(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=tv(Es(n.ib,n),6e3));if(1>=DY(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else bA(n,11)}else if((t.K||n.g==t)&&db(n),!Km(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let l=s[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const A=l[4];A!=null&&(n.Ga=A,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const f=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var i=r.i;i.g||f.indexOf("spdy")==-1&&f.indexOf("quic")==-1&&f.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(D4(i,i.h),i.h=null))}if(r.F){const p=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.Da=p,xn(r.I,r.F,p))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=YY(r,r.J?r.pa:null,r.Y),o.K){RY(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(wB(a),sv(a)),r.g=o}else WY(r);0<n.j.length&&IB(n)}else l[0]!="stop"&&l[0]!="close"||bA(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?bA(n,7):U4(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}qm(4)}catch{}}function u5e(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(AB(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function l5e(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(AB(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function $Y(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(AB(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=l5e(t),r=u5e(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var SY=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function c5e(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function RA(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof RA){this.h=t.h,cb(this,t.j),this.s=t.s,this.g=t.g,Ab(this,t.m),this.l=t.l;var e=t.i,n=new Ym;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),pQ(this,n),this.o=t.o}else t&&(e=String(t).match(SY))?(this.h=!1,cb(this,e[1]||"",!0),this.s=wg(e[2]||""),this.g=wg(e[3]||"",!0),Ab(this,e[4]),this.l=wg(e[5]||"",!0),pQ(this,e[6]||"",!0),this.o=wg(e[7]||"")):(this.h=!1,this.i=new Ym(null,this.h))}RA.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Cg(e,gQ,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Cg(e,gQ,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Cg(n,n.charAt(0)=="/"?h5e:d5e,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Cg(n,p5e)),t.join("")};function Mu(t){return new RA(t)}function cb(t,e,n){t.j=n?wg(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ab(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function pQ(t,e,n){e instanceof Ym?(t.i=e,g5e(t.i,t.h)):(n||(e=Cg(e,f5e)),t.i=new Ym(e,t.h))}function xn(t,e,n){t.i.set(e,n)}function CB(t){return xn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function wg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Cg(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,A5e),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function A5e(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var gQ=/[#\/\?@]/g,d5e=/[#\?:]/g,h5e=/[#\?]/g,f5e=/[#\?@]/g,p5e=/#/g;function Ym(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Pc(t){t.g||(t.g=new Map,t.h=0,t.i&&c5e(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Re=Ym.prototype;Re.add=function(t,e){Pc(this),this.i=null,t=hp(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function TY(t,e){Pc(t),e=hp(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function NY(t,e){return Pc(t),e=hp(t,e),t.g.has(e)}Re.forEach=function(t,e){Pc(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};Re.ta=function(){Pc(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};Re.Z=function(t){Pc(this);let e=[];if(typeof t=="string")NY(this,t)&&(e=e.concat(this.g.get(hp(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Re.set=function(t,e){return Pc(this),this.i=null,t=hp(this,t),NY(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Re.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function kY(t,e,n){TY(t,e),0<n.length&&(t.i=null,t.g.set(hp(t,e),w4(n)),t.h+=n.length)}Re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function hp(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function g5e(t,e){e&&!t.j&&(Pc(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(TY(this,r),kY(this,s,n))},t)),t.j=e}var m5e=class{constructor(t,e){this.g=t,this.map=e}};function FY(t){this.l=t||y5e,ht.PerformanceNavigationTiming?(t=ht.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ht.g&&ht.g.Ka&&ht.g.Ka()&&ht.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var y5e=10;function _Y(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function DY(t){return t.h?1:t.g?t.g.size:0}function FN(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function D4(t,e){t.g?t.g.add(e):t.h=e}function RY(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}FY.prototype.cancel=function(){if(this.i=OY(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function OY(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return w4(t.i)}var v5e=class{stringify(t){return ht.JSON.stringify(t,void 0)}parse(t){return ht.JSON.parse(t,void 0)}};function w5e(){this.g=new v5e}function C5e(t,e,n){const r=n||"";try{$Y(t,function(s,i){let o=s;Zy(s)&&(o=$4(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function b5e(t,e){const n=new gB;if(ht.Image){const r=new Image;r.onload=_1(R1,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_1(R1,n,r,"TestLoadImage: error",!1,e),r.onabort=_1(R1,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_1(R1,n,r,"TestLoadImage: timeout",!1,e),ht.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function R1(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function iv(t){this.l=t.fc||null,this.j=t.ob||!1}qr(iv,k4);iv.prototype.g=function(){return new bB(this.l,this.j)};iv.prototype.i=function(t){return function(){return t}}({});function bB(t,e){Wr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=R4,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qr(bB,Wr);var R4=0;Re=bB.prototype;Re.open=function(t,e){if(this.readyState!=R4)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Jm(this)};Re.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ht).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ov(this)),this.readyState=R4};Re.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Jm(this)),this.g&&(this.readyState=3,Jm(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ht.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;UY(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function UY(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Re.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ov(this):Jm(this),this.readyState==3&&UY(this)}};Re.Za=function(t){this.g&&(this.response=this.responseText=t,ov(this))};Re.Ya=function(t){this.g&&(this.response=t,ov(this))};Re.ka=function(){this.g&&ov(this)};function ov(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Jm(t)}Re.setRequestHeader=function(t,e){this.v.append(t,e)};Re.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Re.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Jm(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(bB.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var x5e=ht.JSON.parse;function Xn(t){Wr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=LY,this.L=this.M=!1}qr(Xn,Wr);var LY="",B5e=/^https?$/i,I5e=["POST","PUT"];Re=Xn.prototype;Re.Oa=function(t){this.M=t};Re.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():SN.g(),this.C=this.u?fQ(this.u):fQ(SN),this.g.onreadystatechange=Es(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){mQ(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=ht.FormData&&t instanceof ht.FormData,!(0<=tY(I5e,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{QY(this),0<this.B&&((this.L=E5e(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Es(this.ua,this)):this.A=N4(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){mQ(this,i)}};function E5e(t){return Nf&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Re.ua=function(){typeof v4<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ss(this,"timeout"),this.abort(8))};function mQ(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,PY(t),xB(t)}function PY(t){t.F||(t.F=!0,ss(t,"complete"),ss(t,"error"))}Re.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ss(this,"complete"),ss(this,"abort"),xB(this))};Re.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xB(this,!0)),Xn.$.N.call(this)};Re.La=function(){this.s||(this.G||this.v||this.l?MY(this):this.kb())};Re.kb=function(){MY(this)};function MY(t){if(t.h&&typeof v4<"u"&&(!t.C[1]||Na(t)!=4||t.da()!=2)){if(t.v&&Na(t)==4)N4(t.La,0,t);else if(ss(t,"readystatechange"),Na(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(SY)[1]||null;!s&&ht.self&&ht.self.location&&(s=ht.self.location.protocol.slice(0,-1)),r=!B5e.test(s?s.toLowerCase():"")}n=r}if(n)ss(t,"complete"),ss(t,"success");else{t.m=6;try{var i=2<Na(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",PY(t)}}finally{xB(t)}}}}function xB(t,e){if(t.g){QY(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ss(t,"ready");try{n.onreadystatechange=r}catch{}}}function QY(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ht.clearTimeout(t.A),t.A=null)}Re.isActive=function(){return!!this.g};function Na(t){return t.g?t.g.readyState:0}Re.da=function(){try{return 2<Na(this)?this.g.status:-1}catch{return-1}};Re.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Re.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),x5e(e)}};function yQ(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case LY:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function $5e(t){const e={};t=(t.g&&2<=Na(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Km(t[r]))continue;var n=J9e(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}K9e(e,function(r){return r.join(", ")})}Re.Ia=function(){return this.m};Re.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function HY(t){let e="";return b4(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function O4(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=HY(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):xn(t,e,n))}function Gp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function VY(t){this.Ga=0,this.j=[],this.l=new gB,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gp("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gp("baseRetryDelayMs",5e3,t),this.hb=Gp("retryDelaySeedMs",1e4,t),this.eb=Gp("forwardChannelMaxRetries",2,t),this.xa=Gp("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new FY(t&&t.concurrentRequestLimit),this.Ja=new w5e,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Re=VY.prototype;Re.ra=8;Re.H=1;function U4(t){if(zY(t),t.H==3){var e=t.W++,n=Mu(t.I);if(xn(n,"SID",t.K),xn(n,"RID",e),xn(n,"TYPE","terminate"),av(t,n),e=new rv(t,t.l,e),e.L=2,e.v=CB(Mu(n)),n=!1,ht.navigator&&ht.navigator.sendBeacon)try{n=ht.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ht.Image&&(new Image().src=e.v,n=!0),n||(e.g=JY(e.l,null),e.g.ha(e.v)),e.G=Date.now(),sv(e)}qY(t)}function BB(t){t.g&&(P4(t),t.g.cancel(),t.g=null)}function zY(t){BB(t),t.u&&(ht.clearTimeout(t.u),t.u=null),db(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ht.clearTimeout(t.m),t.m=null)}function IB(t){if(!_Y(t.i)&&!t.m){t.m=!0;var e=t.Na;Gm||hY(),jm||(Gm(),jm=!0),S4.add(e,t),t.C=0}}function S5e(t,e){return DY(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=tv(Es(t.Na,t,e),XY(t,t.C)),t.C++,!0)}Re.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new rv(this,this.l,t);let i=this.s;if(this.U&&(i?(i=iY(i),oY(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=KY(this,s,e),n=Mu(this.I),xn(n,"RID",t),xn(n,"CVER",22),this.F&&xn(n,"X-HTTP-Session-Id",this.F),av(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(HY(i)))+"&"+e:this.o&&O4(n,this.o,i)),D4(this.i,s),this.bb&&xn(n,"TYPE","init"),this.P?(xn(n,"$req",e),xn(n,"SID","null"),s.aa=!0,NN(s,n,null)):NN(s,n,e),this.H=2}}else this.H==3&&(t?vQ(this,t):this.j.length==0||_Y(this.i)||vQ(this))};function vQ(t,e){var n;e?n=e.m:n=t.W++;const r=Mu(t.I);xn(r,"SID",t.K),xn(r,"RID",n),xn(r,"AID",t.V),av(t,r),t.o&&t.s&&O4(r,t.o,t.s),n=new rv(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=KY(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),D4(t.i,n),NN(n,r,e)}function av(t,e){t.na&&b4(t.na,function(n,r){xn(e,r,n)}),t.h&&$Y({},function(n,r){xn(e,r,n)})}function KY(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Es(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let u=0;u<n;u++){let l=s[u].g;const c=s[u].map;if(l-=i,0>l)i=Math.max(0,s[u].g-100),a=!1;else try{C5e(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function WY(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Gm||hY(),jm||(Gm(),jm=!0),S4.add(e,t),t.A=0}}function L4(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=tv(Es(t.Ma,t),XY(t,t.A)),t.A++,!0)}Re.Ma=function(){if(this.u=null,GY(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=tv(Es(this.jb,this),t)}};Re.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ks(10),BB(this),GY(this))};function P4(t){t.B!=null&&(ht.clearTimeout(t.B),t.B=null)}function GY(t){t.g=new rv(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Mu(t.wa);xn(e,"RID","rpc"),xn(e,"SID",t.K),xn(e,"AID",t.V),xn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&xn(e,"TO",t.qa),xn(e,"TYPE","xmlhttp"),av(t,e),t.o&&t.s&&O4(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=CB(Mu(e)),n.s=null,n.S=!0,xY(n,t)}Re.ib=function(){this.v!=null&&(this.v=null,BB(this),L4(this),Ks(19))};function db(t){t.v!=null&&(ht.clearTimeout(t.v),t.v=null)}function jY(t,e){var n=null;if(t.g==e){db(t),P4(t),t.g=null;var r=2}else if(FN(t.i,e))n=e.F,RY(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=mB(),ss(r,new vY(r,n)),IB(t)}else WY(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&S5e(t,e)||r==2&&L4(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:bA(t,5);break;case 4:bA(t,10);break;case 3:bA(t,6);break;default:bA(t,2)}}}function XY(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function bA(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Es(t.pb,t);n||(n=new RA("//www.google.com/images/cleardot.gif"),ht.location&&ht.location.protocol=="http"||cb(n,"https"),CB(n)),b5e(n.toString(),r)}else Ks(2);t.H=0,t.h&&t.h.za(e),qY(t),zY(t)}Re.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ks(2)):(this.l.info("Failed to ping google.com"),Ks(1))};function qY(t){if(t.H=0,t.ma=[],t.h){const e=OY(t.i);(e.length!=0||t.j.length!=0)&&(lQ(t.ma,e),lQ(t.ma,t.j),t.i.i.length=0,w4(t.j),t.j.length=0),t.h.ya()}}function YY(t,e,n){var r=n instanceof RA?Mu(n):new RA(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ab(r,r.m);else{var s=ht.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new RA(null);r&&cb(i,r),e&&(i.g=e),s&&Ab(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&xn(r,n,e),xn(r,"VER",t.ra),av(t,r),r}function JY(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Xn(new iv({ob:!0})):new Xn(t.va),e.Oa(t.J),e}Re.isActive=function(){return!!this.h&&this.h.isActive(this)};function ZY(){}Re=ZY.prototype;Re.Ba=function(){};Re.Aa=function(){};Re.za=function(){};Re.ya=function(){};Re.isActive=function(){return!0};Re.Va=function(){};function hb(){if(Nf&&!(10<=Number(Q9e)))throw Error("Environmental error: no available transport.")}hb.prototype.g=function(t,e){return new Hi(t,e)};function Hi(t,e){Wr.call(this),this.g=new VY(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Km(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Km(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new fp(this)}qr(Hi,Wr);Hi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ks(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=YY(t,null,t.Y),IB(t)};Hi.prototype.close=function(){U4(this.g)};Hi.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=$4(t),t=n);e.j.push(new m5e(e.fb++,t)),e.H==3&&IB(e)};Hi.prototype.N=function(){this.g.h=null,delete this.j,U4(this.g),delete this.g,Hi.$.N.call(this)};function eJ(t){F4.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}qr(eJ,F4);function tJ(){_4.call(this),this.status=1}qr(tJ,_4);function fp(t){this.g=t}qr(fp,ZY);fp.prototype.Ba=function(){ss(this.g,"a")};fp.prototype.Aa=function(t){ss(this.g,new eJ(t))};fp.prototype.za=function(t){ss(this.g,new tJ)};fp.prototype.ya=function(){ss(this.g,"b")};function T5e(){this.blockSize=-1}function aa(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}qr(aa,T5e);aa.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function JE(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}aa.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)JE(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){JE(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){JE(this,r),s=0;break}}this.h=s,this.i+=e};aa.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function rn(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var N5e={};function M4(t){return-128<=t&&128>t?L9e(t,function(e){return new rn([e|0],0>e?-1:0)}):new rn([t|0],0>t?-1:0)}function ka(t){if(isNaN(t)||!isFinite(t))return Jh;if(0>t)return ts(ka(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=_N;return new rn(e,0)}function nJ(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ts(nJ(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ka(Math.pow(e,8)),r=Jh,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=ka(Math.pow(e,i)),r=r.R(i).add(ka(o))):(r=r.R(n),r=r.add(ka(o)))}return r}var _N=4294967296,Jh=M4(0),DN=M4(1),wQ=M4(16777216);Re=rn.prototype;Re.ea=function(){if(co(this))return-ts(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:_N+r)*e,e*=_N}return t};Re.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(wu(this))return"0";if(co(this))return"-"+ts(this).toString(t);for(var e=ka(Math.pow(t,6)),n=this,r="";;){var s=pb(n,e).g;n=fb(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,wu(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};Re.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function wu(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function co(t){return t.h==-1}Re.X=function(t){return t=fb(this,t),co(t)?-1:wu(t)?0:1};function ts(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new rn(n,~t.h).add(DN)}Re.abs=function(){return co(this)?ts(this):this};Re.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new rn(n,n[n.length-1]&-2147483648?-1:0)};function fb(t,e){return t.add(ts(e))}Re.R=function(t){if(wu(this)||wu(t))return Jh;if(co(this))return co(t)?ts(this).R(ts(t)):ts(ts(this).R(t));if(co(t))return ts(this.R(ts(t)));if(0>this.X(wQ)&&0>t.X(wQ))return ka(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,u=t.D(s)&65535;n[2*r+2*s]+=o*u,O1(n,2*r+2*s),n[2*r+2*s+1]+=i*u,O1(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,O1(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,O1(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new rn(n,0)};function O1(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function jp(t,e){this.g=t,this.h=e}function pb(t,e){if(wu(e))throw Error("division by zero");if(wu(t))return new jp(Jh,Jh);if(co(t))return e=pb(ts(t),e),new jp(ts(e.g),ts(e.h));if(co(e))return e=pb(t,ts(e)),new jp(ts(e.g),e.h);if(30<t.g.length){if(co(t)||co(e))throw Error("slowDivide_ only works with positive integers.");for(var n=DN,r=e;0>=r.X(t);)n=CQ(n),r=CQ(r);var s=th(n,1),i=th(r,1);for(r=th(r,2),n=th(n,2);!wu(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=th(r,1),n=th(n,1)}return e=fb(t,s.R(e)),new jp(s,e)}for(s=Jh;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=ka(n),o=i.R(e);co(o)||0<o.X(t);)n-=r,i=ka(n),o=i.R(e);wu(i)&&(i=DN),s=s.add(i),t=fb(t,o)}return new jp(s,t)}Re.gb=function(t){return pb(this,t).h};Re.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new rn(n,this.h&t.h)};Re.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new rn(n,this.h|t.h)};Re.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new rn(n,this.h^t.h)};function CQ(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new rn(n,t.h)}function th(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new rn(s,t.h)}hb.prototype.createWebChannel=hb.prototype.g;Hi.prototype.send=Hi.prototype.u;Hi.prototype.open=Hi.prototype.m;Hi.prototype.close=Hi.prototype.close;yB.NO_ERROR=0;yB.TIMEOUT=8;yB.HTTP_ERROR=6;wY.COMPLETE="complete";CY.EventType=nv;nv.OPEN="a";nv.CLOSE="b";nv.ERROR="c";nv.MESSAGE="d";Wr.prototype.listen=Wr.prototype.O;Xn.prototype.listenOnce=Xn.prototype.P;Xn.prototype.getLastError=Xn.prototype.Sa;Xn.prototype.getLastErrorCode=Xn.prototype.Ia;Xn.prototype.getStatus=Xn.prototype.da;Xn.prototype.getResponseJson=Xn.prototype.Wa;Xn.prototype.getResponseText=Xn.prototype.ja;Xn.prototype.send=Xn.prototype.ha;Xn.prototype.setWithCredentials=Xn.prototype.Oa;aa.prototype.digest=aa.prototype.l;aa.prototype.reset=aa.prototype.reset;aa.prototype.update=aa.prototype.j;rn.prototype.add=rn.prototype.add;rn.prototype.multiply=rn.prototype.R;rn.prototype.modulo=rn.prototype.gb;rn.prototype.compare=rn.prototype.X;rn.prototype.toNumber=rn.prototype.ea;rn.prototype.toString=rn.prototype.toString;rn.prototype.getBits=rn.prototype.D;rn.fromNumber=ka;rn.fromString=nJ;var k5e=function(){return new hb},F5e=function(){return mB()},ZE=yB,_5e=wY,D5e=Ed,bQ={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},R5e=iv,U1=CY,O5e=Xn,U5e=aa,Zh=rn;const xQ="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ps.UNAUTHENTICATED=new ps(null),ps.GOOGLE_CREDENTIALS=new ps("google-credentials-uid"),ps.FIRST_PARTY=new ps("first-party-uid"),ps.MOCK_USER=new ps("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=new cF("@firebase/firestore");function BQ(){return sd.logLevel}function Ze(t,...e){if(sd.logLevel<=Xt.DEBUG){const n=e.map(Q4);sd.debug(`Firestore (${pp}): ${t}`,...n)}}function Qu(t,...e){if(sd.logLevel<=Xt.ERROR){const n=e.map(Q4);sd.error(`Firestore (${pp}): ${t}`,...n)}}function kf(t,...e){if(sd.logLevel<=Xt.WARN){const n=e.map(Q4);sd.warn(`Firestore (${pp}): ${t}`,...n)}}function Q4(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t="Unexpected state"){const e=`FIRESTORE (${pp}) INTERNAL ASSERTION FAILED: `+t;throw Qu(e),new Error(e)}function Sn(t,e){t||At()}function Ct(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Xa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rJ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L5e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ps.UNAUTHENTICATED))}shutdown(){}}class P5e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class M5e{constructor(e){this.t=e,this.currentUser=ps.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Jl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Jl,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Jl)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Sn(typeof r.accessToken=="string"),new rJ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Sn(e===null||typeof e=="string"),new ps(e)}}class Q5e{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=ps.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class H5e{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Q5e(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ps.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class V5e{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z5e{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=i=>{i.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,Ze("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?s(i):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Sn(typeof n.token=="string"),this.T=n.token,new V5e(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5e(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sJ{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=K5e(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function qt(t,e){return t<e?-1:t>e?1:0}function Ff(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new rt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new rt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fr.fromMillis(Date.now())}static fromDate(e){return Fr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Fr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qt(this.nanoseconds,e.nanoseconds):qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pt(e)}static min(){return new pt(new Fr(0,0))}static max(){return new pt(new Fr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n,r){n===void 0?n=0:n>e.length&&At(),r===void 0?r=e.length-n:r>e.length-n&&At(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zm.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zm?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Rn extends Zm{construct(e,n,r){return new Rn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new rt(Be.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Rn(n)}static emptyPath(){return new Rn([])}}const W5e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bs extends Zm{construct(e,n,r){return new Bs(e,n,r)}static isValidIdentifier(e){return W5e.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bs(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new rt(Be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new rt(Be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new rt(Be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new rt(Be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bs(n)}static emptyPath(){return new Bs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.path=e}static fromPath(e){return new it(Rn.fromString(e))}static fromName(e){return new it(Rn.fromString(e).popFirst(5))}static empty(){return new it(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new Rn(e.slice()))}}function G5e(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pt.fromTimestamp(r===1e9?new Fr(n+1,0):new Fr(n,r));return new mc(s,it.empty(),e)}function j5e(t){return new mc(t.readTime,t.key,-1)}class mc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mc(pt.min(),it.empty(),-1)}static max(){return new mc(pt.max(),it.empty(),-1)}}function X5e(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=it.comparator(t.documentKey,e.documentKey),n!==0?n:qt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5e="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y5e{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uv(t){if(t.code!==Be.FAILED_PRECONDITION||t.message!==q5e)throw t;Ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.reject(n)}static resolve(e){return new Se((n,r)=>{n(e)})}static reject(e){return new Se((n,r)=>{r(e)})}static waitFor(e){return new Se((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=Se.resolve(!1);for(const r of e)n=n.next(s=>s?Se.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Se((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const l=u;n(e[l]).next(c=>{o[l]=c,++a,a===i&&r(o)},c=>s(c))}})}static doWhile(e,n){return new Se((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function lv(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}H4.ct=-1;function EB(t){return t==null}function gb(t){return t===0&&1/t==-1/0}function J5e(t){return typeof t=="number"&&Number.isInteger(t)&&!gb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IQ(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gp(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){this.comparator=e,this.root=n||es.EMPTY}insert(e,n){return new Vn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,es.BLACK,null,null))}remove(e){return new Vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,es.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new L1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new L1(this.root,e,this.comparator,!1)}getReverseIterator(){return new L1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new L1(this.root,e,this.comparator,!0)}}class L1{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class es{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r!=null?r:es.RED,this.left=s!=null?s:es.EMPTY,this.right=i!=null?i:es.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new es(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,s!=null?s:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return es.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return es.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,es.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,es.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const e=this.left.check();if(e!==this.right.check())throw At();return e+(this.isRed()?0:1)}}es.EMPTY=null,es.RED=!0,es.BLACK=!1;es.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(t,e,n,r,s){return this}insert(t,e,n){return new es(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.comparator=e,this.data=new Vn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new EQ(this.data.getIterator())}getIteratorFrom(e){return new EQ(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ss)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ss(this.comparator);return n.data=e,n}}class EQ{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.fields=e,e.sort(Bs.comparator)}static empty(){return new Wo([])}unionWith(e){let n=new Ss(Bs.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ff(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oJ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new oJ("Invalid base64 string: "+s):s}}(e);return new Fs(n)}static fromUint8Array(e){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(e);return new Fs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fs.EMPTY_BYTE_STRING=new Fs("");const Z5e=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yc(t){if(Sn(!!t),typeof t=="string"){let e=0;const n=Z5e.exec(t);if(Sn(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lr(t.seconds),nanos:lr(t.nanos)}}function lr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function id(t){return typeof t=="string"?Fs.fromBase64String(t):Fs.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function z4(t){const e=t.mapValue.fields.__previous_value__;return V4(e)?z4(e):e}function e0(t){const e=yc(t.mapValue.fields.__local_write_time__.timestampValue);return new Fr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8e{constructor(e,n,r,s,i,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class t0{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function od(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?V4(t)?4:t8e(t)?9007199254740991:10:At()}function Wa(t,e){if(t===e)return!0;const n=od(t);if(n!==od(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return e0(t).isEqual(e0(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=yc(r.timestampValue),o=yc(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return id(r.bytesValue).isEqual(id(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return lr(r.geoPointValue.latitude)===lr(s.geoPointValue.latitude)&&lr(r.geoPointValue.longitude)===lr(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return lr(r.integerValue)===lr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=lr(r.doubleValue),o=lr(s.doubleValue);return i===o?gb(i)===gb(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Ff(t.arrayValue.values||[],e.arrayValue.values||[],Wa);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(IQ(i)!==IQ(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Wa(i[a],o[a])))return!1;return!0}(t,e);default:return At()}}function n0(t,e){return(t.values||[]).find(n=>Wa(n,e))!==void 0}function _f(t,e){if(t===e)return 0;const n=od(t),r=od(e);if(n!==r)return qt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qt(t.booleanValue,e.booleanValue);case 2:return function(s,i){const o=lr(s.integerValue||s.doubleValue),a=lr(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return $Q(t.timestampValue,e.timestampValue);case 4:return $Q(e0(t),e0(e));case 5:return qt(t.stringValue,e.stringValue);case 6:return function(s,i){const o=id(s),a=id(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=qt(o[u],a[u]);if(l!==0)return l}return qt(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const o=qt(lr(s.latitude),lr(i.latitude));return o!==0?o:qt(lr(s.longitude),lr(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){const o=s.values||[],a=i.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=_f(o[u],a[u]);if(l)return l}return qt(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===P1.mapValue&&i===P1.mapValue)return 0;if(s===P1.mapValue)return 1;if(i===P1.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),u=i.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const A=qt(a[c],l[c]);if(A!==0)return A;const d=_f(o[a[c]],u[l[c]]);if(d!==0)return d}return qt(a.length,l.length)}(t.mapValue,e.mapValue);default:throw At()}}function $Q(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qt(t,e);const n=yc(t),r=yc(e),s=qt(n.seconds,r.seconds);return s!==0?s:qt(n.nanos,r.nanos)}function Df(t){return RN(t)}function RN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=yc(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?id(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,it.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",i=!0;for(const o of r.values||[])i?i=!1:s+=",",s+=RN(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${RN(r.fields[a])}`;return i+"}"}(t.mapValue):At();var e,n}function ON(t){return!!t&&"integerValue"in t}function K4(t){return!!t&&"arrayValue"in t}function SQ(t){return!!t&&"nullValue"in t}function TQ(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bw(t){return!!t&&"mapValue"in t}function Gg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gp(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gg(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function t8e(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.value=e}static empty(){return new Ao({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bw(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gg(n)}setAll(e){let n=Bs.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Gg(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());bw(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];bw(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){gp(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ao(Gg(this.value))}}function aJ(t){const e=[];return gp(t.fields,(n,r)=>{const s=new Bs([n]);if(bw(r)){const i=aJ(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Wo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ws(e,0,pt.min(),pt.min(),pt.min(),Ao.empty(),0)}static newFoundDocument(e,n,r,s){return new ws(e,1,n,pt.min(),r,s,0)}static newNoDocument(e,n){return new ws(e,2,n,pt.min(),pt.min(),Ao.empty(),0)}static newUnknownDocument(e,n){return new ws(e,3,n,pt.min(),pt.min(),Ao.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ao.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ws&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ws(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n){this.position=e,this.inclusive=n}}function NQ(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=it.comparator(it.fromName(o.referenceValue),n.key):r=_f(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function kQ(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n="asc"){this.field=e,this.dir=n}}function n8e(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uJ{}class Er extends uJ{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new s8e(e,n,r):n==="array-contains"?new a8e(e,r):n==="in"?new u8e(e,r):n==="not-in"?new l8e(e,r):n==="array-contains-any"?new c8e(e,r):new Er(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new i8e(e,r):new o8e(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_f(n,this.value)):n!==null&&od(this.value)===od(n)&&this.matchesComparison(_f(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ga extends uJ{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Ga(e,n)}matches(e){return lJ(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function lJ(t){return t.op==="and"}function cJ(t){return r8e(t)&&lJ(t)}function r8e(t){for(const e of t.filters)if(e instanceof Ga)return!1;return!0}function UN(t){if(t instanceof Er)return t.field.canonicalString()+t.op.toString()+Df(t.value);if(cJ(t))return t.filters.map(e=>UN(e)).join(",");{const e=t.filters.map(n=>UN(n)).join(",");return`${t.op}(${e})`}}function AJ(t,e){return t instanceof Er?function(n,r){return r instanceof Er&&n.op===r.op&&n.field.isEqual(r.field)&&Wa(n.value,r.value)}(t,e):t instanceof Ga?function(n,r){return r instanceof Ga&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,i,o)=>s&&AJ(i,r.filters[o]),!0):!1}(t,e):void At()}function dJ(t){return t instanceof Er?function(e){return`${e.field.canonicalString()} ${e.op} ${Df(e.value)}`}(t):t instanceof Ga?function(e){return e.op.toString()+" {"+e.getFilters().map(dJ).join(" ,")+"}"}(t):"Filter"}class s8e extends Er{constructor(e,n,r){super(e,n,r),this.key=it.fromName(r.referenceValue)}matches(e){const n=it.comparator(e.key,this.key);return this.matchesComparison(n)}}class i8e extends Er{constructor(e,n){super(e,"in",n),this.keys=hJ("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class o8e extends Er{constructor(e,n){super(e,"not-in",n),this.keys=hJ("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hJ(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>it.fromName(r.referenceValue))}class a8e extends Er{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return K4(n)&&n0(n.arrayValue,this.value)}}class u8e extends Er{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&n0(this.value.arrayValue,n)}}class l8e extends Er{constructor(e,n){super(e,"not-in",n)}matches(e){if(n0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!n0(this.value.arrayValue,n)}}class c8e extends Er{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!K4(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>n0(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8e{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function FQ(t,e=null,n=[],r=[],s=null,i=null,o=null){return new A8e(t,e,n,r,s,i,o)}function W4(t){const e=Ct(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>UN(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),EB(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Df(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Df(r)).join(",")),e.dt=n}return e.dt}function G4(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!n8e(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AJ(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kQ(t.startAt,e.startAt)&&kQ(t.endAt,e.endAt)}function LN(t){return it.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}}function d8e(t,e,n,r,s,i,o,a){return new $B(t,e,n,r,s,i,o,a)}function fJ(t){return new $B(t)}function _Q(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function h8e(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function f8e(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function p8e(t){return t.collectionGroup!==null}function ef(t){const e=Ct(t);if(e.wt===null){e.wt=[];const n=f8e(e),r=h8e(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new jg(n)),e.wt.push(new jg(Bs.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new jg(Bs.keyField(),i))}}}return e.wt}function Hu(t){const e=Ct(t);if(!e._t)if(e.limitType==="F")e._t=FQ(e.path,e.collectionGroup,ef(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of ef(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new jg(i.field,o))}const r=e.endAt?new mb(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new mb(e.startAt.position,e.startAt.inclusive):null;e._t=FQ(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function PN(t,e,n){return new $B(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function SB(t,e){return G4(Hu(t),Hu(e))&&t.limitType===e.limitType}function pJ(t){return`${W4(Hu(t))}|lt:${t.limitType}`}function MN(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>dJ(r)).join(", ")}]`),EB(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Df(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Df(r)).join(",")),`Target(${n})`}(Hu(t))}; limitType=${t.limitType})`}function TB(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):it.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of ef(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,i,o){const a=NQ(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,ef(n),r)||n.endAt&&!function(s,i,o){const a=NQ(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,ef(n),r))}(t,e)}function g8e(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gJ(t){return(e,n)=>{let r=!1;for(const s of ef(t)){const i=m8e(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function m8e(t,e,n){const r=t.field.isKeyField()?it.comparator(e.key,n.key):function(s,i,o){const a=i.data.field(s),u=o.data.field(s);return a!==null&&u!==null?_f(a,u):At()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return At()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){gp(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return iJ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8e=new Vn(it.comparator);function Vu(){return y8e}const mJ=new Vn(it.comparator);function bg(...t){let e=mJ;for(const n of t)e=e.insert(n.key,n);return e}function yJ(t){let e=mJ;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xA(){return Xg()}function vJ(){return Xg()}function Xg(){return new mp(t=>t.toString(),(t,e)=>t.isEqual(e))}const v8e=new Vn(it.comparator),w8e=new Ss(it.comparator);function Rt(...t){let e=w8e;for(const n of t)e=e.add(n);return e}const C8e=new Ss(qt);function b8e(){return C8e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wJ(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gb(e)?"-0":e}}function CJ(t){return{integerValue:""+t}}function x8e(t,e){return J5e(e)?CJ(e):wJ(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(){this._=void 0}}function B8e(t,e,n){return t instanceof yb?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&V4(s)&&(s=z4(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof r0?xJ(t,e):t instanceof s0?BJ(t,e):function(r,s){const i=bJ(r,s),o=DQ(i)+DQ(r.gt);return ON(i)&&ON(r.gt)?CJ(o):wJ(r.serializer,o)}(t,e)}function I8e(t,e,n){return t instanceof r0?xJ(t,e):t instanceof s0?BJ(t,e):n}function bJ(t,e){return t instanceof vb?ON(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class yb extends NB{}class r0 extends NB{constructor(e){super(),this.elements=e}}function xJ(t,e){const n=IJ(e);for(const r of t.elements)n.some(s=>Wa(s,r))||n.push(r);return{arrayValue:{values:n}}}class s0 extends NB{constructor(e){super(),this.elements=e}}function BJ(t,e){let n=IJ(e);for(const r of t.elements)n=n.filter(s=>!Wa(s,r));return{arrayValue:{values:n}}}class vb extends NB{constructor(e,n){super(),this.serializer=e,this.gt=n}}function DQ(t){return lr(t.integerValue||t.doubleValue)}function IJ(t){return K4(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function E8e(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof r0&&r instanceof r0||n instanceof s0&&r instanceof s0?Ff(n.elements,r.elements,Wa):n instanceof vb&&r instanceof vb?Wa(n.gt,r.gt):n instanceof yb&&r instanceof yb}(t.transform,e.transform)}class $8e{constructor(e,n){this.version=e,this.transformResults=n}}class Eu{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Eu}static exists(e){return new Eu(void 0,e)}static updateTime(e){return new Eu(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xw(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kB{}function EJ(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new SJ(t.key,Eu.none()):new cv(t.key,t.data,Eu.none());{const n=t.data,r=Ao.empty();let s=new Ss(Bs.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new $d(t.key,r,new Wo(s.toArray()),Eu.none())}}function S8e(t,e,n){t instanceof cv?function(r,s,i){const o=r.value.clone(),a=OQ(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof $d?function(r,s,i){if(!xw(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=OQ(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll($J(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function qg(t,e,n,r){return t instanceof cv?function(s,i,o,a){if(!xw(s.precondition,i))return o;const u=s.value.clone(),l=UQ(s.fieldTransforms,a,i);return u.setAll(l),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof $d?function(s,i,o,a){if(!xw(s.precondition,i))return o;const u=UQ(s.fieldTransforms,a,i),l=i.data;return l.setAll($J(s)),l.setAll(u),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(s,i,o){return xw(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function T8e(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=bJ(r.transform,s||null);i!=null&&(n===null&&(n=Ao.empty()),n.set(r.field,i))}return n||null}function RQ(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ff(n,r,(s,i)=>E8e(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cv extends kB{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $d extends kB{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function $J(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function OQ(t,e,n){const r=new Map;Sn(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,I8e(o,a,n[s]))}return r}function UQ(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,B8e(i,o,e))}return r}class SJ extends kB{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N8e extends kB{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8e{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&S8e(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=vJ();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=EJ(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(pt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Rt())}isEqual(e){return this.batchId===e.batchId&&Ff(this.mutations,e.mutations,(n,r)=>RQ(n,r))&&Ff(this.baseMutations,e.baseMutations,(n,r)=>RQ(n,r))}}class j4{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Sn(e.mutations.length===r.length);let s=v8e;const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new j4(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8e{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8e{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or,Kt;function D8e(t){switch(t){default:return At();case Be.CANCELLED:case Be.UNKNOWN:case Be.DEADLINE_EXCEEDED:case Be.RESOURCE_EXHAUSTED:case Be.INTERNAL:case Be.UNAVAILABLE:case Be.UNAUTHENTICATED:return!1;case Be.INVALID_ARGUMENT:case Be.NOT_FOUND:case Be.ALREADY_EXISTS:case Be.PERMISSION_DENIED:case Be.FAILED_PRECONDITION:case Be.ABORTED:case Be.OUT_OF_RANGE:case Be.UNIMPLEMENTED:case Be.DATA_LOSS:return!0}}function TJ(t){if(t===void 0)return Qu("GRPC error has no .code"),Be.UNKNOWN;switch(t){case or.OK:return Be.OK;case or.CANCELLED:return Be.CANCELLED;case or.UNKNOWN:return Be.UNKNOWN;case or.DEADLINE_EXCEEDED:return Be.DEADLINE_EXCEEDED;case or.RESOURCE_EXHAUSTED:return Be.RESOURCE_EXHAUSTED;case or.INTERNAL:return Be.INTERNAL;case or.UNAVAILABLE:return Be.UNAVAILABLE;case or.UNAUTHENTICATED:return Be.UNAUTHENTICATED;case or.INVALID_ARGUMENT:return Be.INVALID_ARGUMENT;case or.NOT_FOUND:return Be.NOT_FOUND;case or.ALREADY_EXISTS:return Be.ALREADY_EXISTS;case or.PERMISSION_DENIED:return Be.PERMISSION_DENIED;case or.FAILED_PRECONDITION:return Be.FAILED_PRECONDITION;case or.ABORTED:return Be.ABORTED;case or.OUT_OF_RANGE:return Be.OUT_OF_RANGE;case or.UNIMPLEMENTED:return Be.UNIMPLEMENTED;case or.DATA_LOSS:return Be.DATA_LOSS;default:return At()}}(Kt=or||(or={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return M1}static getOrCreateInstance(){return M1===null&&(M1=new X4),M1}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let M1=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8e(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8e=new Zh([4294967295,4294967295],0);function LQ(t){const e=R8e().encode(t),n=new U5e;return n.update(e),new Uint8Array(n.digest())}function PQ(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Zh([n,r],0),new Zh([s,i],0)]}class q4{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xg(`Invalid padding: ${n}`);if(r<0)throw new xg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xg(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xg(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Zh.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(Zh.fromNumber(r)));return s.compare(O8e)===1&&(s=new Zh([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=LQ(e),[r,s]=PQ(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);if(!this.At(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new q4(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=LQ(e),[r,s]=PQ(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Av.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new FB(pt.min(),s,new Vn(qt),Vu(),Rt())}}class Av{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Av(r,n,Rt(),Rt(),Rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class NJ{constructor(e,n){this.targetId=e,this.Vt=n}}class kJ{constructor(e,n,r=Fs.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class MQ{constructor(){this.St=0,this.Dt=HQ(),this.Ct=Fs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Rt(),n=Rt(),r=Rt();return this.Dt.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:At()}}),new Av(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=HQ()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class U8e{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Vu(),this.zt=QQ(),this.Wt=new Vn(qt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:At()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,i=this.se(r);if(i){const o=i.target;if(LN(o))if(s===0){const a=new it(o.path);this.Yt(r,a,ws.newNoDocument(a,pt.min()))}else Sn(s===1);else{const a=this.ie(r);if(a!==s){const u=this.re(e,a);if(u!==0){this.ee(r);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,l)}(n=X4.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(l,c,A){var d,h,f,p,m,g;const y={localCacheCount:c,existenceFilterCount:A.count},C=A.unchangedNames;return C&&(y.bloomFilter={applied:l===0,hashCount:(d=C==null?void 0:C.hashCount)!==null&&d!==void 0?d:0,bitmapLength:(p=(f=(h=C==null?void 0:C.bits)===null||h===void 0?void 0:h.bitmap)===null||f===void 0?void 0:f.length)!==null&&p!==void 0?p:0,padding:(g=(m=C==null?void 0:C.bits)===null||m===void 0?void 0:m.padding)!==null&&g!==void 0?g:0}),y}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=r;let u,l;try{u=id(i).toUint8Array()}catch(c){if(c instanceof oJ)return kf("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{l=new q4(u,o,a)}catch(c){return kf(c instanceof xg?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return l.It===0?1:s!==n-this.oe(e.targetId,l)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&LN(a.target)){const u=new it(a.target.path);this.jt.get(u)!==null||this.ae(o,u)||this.Yt(o,u,ws.newNoDocument(u,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let r=Rt();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.se(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const s=new FB(e,n,this.Wt,this.jt,r);return this.jt=Vu(),this.zt=QQ(),this.Wt=new Vn(qt),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new MQ,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ss(qt),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||Ze("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new MQ),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function QQ(){return new Vn(it.comparator)}function HQ(){return new Vn(it.comparator)}const L8e=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),P8e=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),M8e=(()=>({and:"AND",or:"OR"}))();class Q8e{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function QN(t,e){return t.useProto3Json||EB(e)?e:{value:e}}function wb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FJ(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function H8e(t,e){return wb(t,e.toTimestamp())}function Qa(t){return Sn(!!t),pt.fromTimestamp(function(e){const n=yc(e);return new Fr(n.seconds,n.nanos)}(t))}function Y4(t,e){return function(n){return new Rn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function _J(t){const e=Rn.fromString(t);return Sn(UJ(e)),e}function HN(t,e){return Y4(t.databaseId,e.path)}function e$(t,e){const n=_J(e);if(n.get(1)!==t.databaseId.projectId)throw new rt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new rt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new it(DJ(n))}function VN(t,e){return Y4(t.databaseId,e)}function V8e(t){const e=_J(t);return e.length===4?Rn.emptyPath():DJ(e)}function zN(t){return new Rn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DJ(t){return Sn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function VQ(t,e,n){return{name:HN(t,e),fields:n.value.mapValue.fields}}function z8e(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:At()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,l){return u.useProto3Json?(Sn(l===void 0||typeof l=="string"),Fs.fromBase64String(l||"")):(Sn(l===void 0||l instanceof Uint8Array),Fs.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=u.code===void 0?Be.UNKNOWN:TJ(u.code);return new rt(l,u.message||"")}(o);n=new kJ(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=e$(t,r.document.name),i=Qa(r.document.updateTime),o=r.document.createTime?Qa(r.document.createTime):pt.min(),a=new Ao({mapValue:{fields:r.document.fields}}),u=ws.newFoundDocument(s,i,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Bw(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=e$(t,r.document),i=r.readTime?Qa(r.readTime):pt.min(),o=ws.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Bw([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=e$(t,r.document),i=r.removedTargetIds||[];n=new Bw([],i,s,null)}else{if(!("filter"in e))return At();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new _8e(s,i),a=r.targetId;n=new NJ(a,o)}}return n}function K8e(t,e){let n;if(e instanceof cv)n={update:VQ(t,e.key,e.value)};else if(e instanceof SJ)n={delete:HN(t,e.key)};else if(e instanceof $d)n={update:VQ(t,e.key,e.data),updateMask:eVe(e.fieldMask)};else{if(!(e instanceof N8e))return At();n={verify:HN(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof yb)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof r0)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof s0)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof vb)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw At()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:H8e(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:At()}(t,e.precondition)),n}function W8e(t,e){return t&&t.length>0?(Sn(e!==void 0),t.map(n=>function(r,s){let i=r.updateTime?Qa(r.updateTime):Qa(s);return i.isEqual(pt.min())&&(i=Qa(s)),new $8e(i,r.transformResults||[])}(n,e))):[]}function G8e(t,e){return{documents:[VN(t,e.path)]}}function j8e(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=VN(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=VN(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(u){if(u.length!==0)return OJ(Ga.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(u){if(u.length!==0)return u.map(l=>function(c){return{field:ch(c.field),direction:Y8e(c.dir)}}(l))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=QN(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function X8e(t){let e=V8e(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Sn(r===1);const c=n.from[0];c.allDescendants?s=c.collectionId:e=e.child(c.collectionId)}let i=[];n.where&&(i=function(c){const A=RJ(c);return A instanceof Ga&&cJ(A)?A.getFilters():[A]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(A){return new jg(Ah(A.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(c)));let a=null;n.limit&&(a=function(c){let A;return A=typeof c=="object"?c.value:c,EB(A)?null:A}(n.limit));let u=null;n.startAt&&(u=function(c){const A=!!c.before,d=c.values||[];return new mb(d,A)}(n.startAt));let l=null;return n.endAt&&(l=function(c){const A=!c.before,d=c.values||[];return new mb(d,A)}(n.endAt)),d8e(e,s,o,i,a,"F",u,l)}function q8e(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RJ(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ah(e.unaryFilter.field);return Er.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ah(e.unaryFilter.field);return Er.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ah(e.unaryFilter.field);return Er.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ah(e.unaryFilter.field);return Er.create(i,"!=",{nullValue:"NULL_VALUE"});default:return At()}}(t):t.fieldFilter!==void 0?function(e){return Er.create(Ah(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Ga.create(e.compositeFilter.filters.map(n=>RJ(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return At()}}(e.compositeFilter.op))}(t):At()}function Y8e(t){return L8e[t]}function J8e(t){return P8e[t]}function Z8e(t){return M8e[t]}function ch(t){return{fieldPath:t.canonicalString()}}function Ah(t){return Bs.fromServerFormat(t.fieldPath)}function OJ(t){return t instanceof Er?function(e){if(e.op==="=="){if(TQ(e.value))return{unaryFilter:{field:ch(e.field),op:"IS_NAN"}};if(SQ(e.value))return{unaryFilter:{field:ch(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(TQ(e.value))return{unaryFilter:{field:ch(e.field),op:"IS_NOT_NAN"}};if(SQ(e.value))return{unaryFilter:{field:ch(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ch(e.field),op:J8e(e.op),value:e.value}}}(t):t instanceof Ga?function(e){const n=e.getFilters().map(r=>OJ(r));return n.length===1?n[0]:{compositeFilter:{op:Z8e(e.op),filters:n}}}(t):At()}function eVe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function UJ(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n,r,s,i=pt.min(),o=pt.min(),a=Fs.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new _l(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tVe{constructor(e){this.fe=e}}function nVe(t){const e=X8e({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?PN(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rVe{constructor(){this.rn=new sVe}addToCollectionParentIndex(e,n){return this.rn.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(mc.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(mc.min())}updateCollectionGroup(e,n,r){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class sVe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ss(Rn.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ss(Rn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Rf(0)}static Mn(){return new Rf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iVe{constructor(){this.changes=new mp(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ws.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oVe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aVe{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&qg(r.mutation,s,Wo.empty(),Fr.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Rt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Rt()){const s=xA();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=bg();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xA();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Rt()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Vu();const o=Xg(),a=Xg();return n.forEach((u,l)=>{const c=r.get(l.key);s.has(l.key)&&(c===void 0||c.mutation instanceof $d)?i=i.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),qg(c.mutation,l,c.mutation.getFieldMask(),Fr.now())):o.set(l.key,Wo.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var A;return a.set(l,new oVe(c,(A=o.get(l))!==null&&A!==void 0?A:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Xg();let s=new Vn((o,a)=>o-a),i=Rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Wo.empty();c=a.applyToLocalView(l,c),r.set(u,c);const A=(s.get(a.batchId)||Rt()).add(u);s=s.insert(a.batchId,A)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,A=vJ();c.forEach(d=>{if(!i.has(d)){const h=EJ(n.get(d),r.get(d));h!==null&&A.set(d,h),i=i.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,A))}return Se.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return it.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):p8e(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Se.resolve(xA());let a=-1,u=i;return o.next(l=>Se.forEach(l,(c,A)=>(a<A.largestBatchId&&(a=A.largestBatchId),i.get(c)?Se.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,u,l,Rt())).next(c=>({batchId:a,changes:yJ(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new it(n)).next(r=>{let s=bg();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=bg();return this.indexManager.getCollectionParents(e,s).next(o=>Se.forEach(o,a=>{const u=function(l,c){return new $B(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,A)=>{i=i.insert(c,A)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,u)=>{const l=u.getKey();i.get(l)===null&&(i=i.insert(l,ws.newInvalidDocument(l)))});let o=bg();return i.forEach((a,u)=>{const l=s.get(a);l!==void 0&&qg(l.mutation,u,Wo.empty(),Fr.now()),TB(n,u)&&(o=o.insert(a,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uVe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return Se.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Qa(r.createTime)}),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:nVe(r.bundledQuery),readTime:Qa(r.readTime)}}(n)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lVe{constructor(){this.overlays=new Vn(it.comparator),this.ls=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xA();return Se.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.we(e,n,i)}),Se.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(r)),Se.resolve()}getOverlaysForCollection(e,n,r){const s=xA(),i=n.length+1,o=new it(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return Se.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Vn((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=i.get(l.largestBatchId);c===null&&(c=xA(),i=i.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=xA(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=s)););return Se.resolve(a)}we(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new F8e(n,r));let i=this.ls.get(n);i===void 0&&(i=Rt(),this.ls.set(n,i)),this.ls.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.fs=new Ss(Mr.ds),this.ws=new Ss(Mr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Mr(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Mr(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new it(new Rn([])),r=new Mr(n,e),s=new Mr(n,e+1),i=[];return this.ws.forEachInRange([r,s],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new it(new Rn([])),r=new Mr(n,e),s=new Mr(n,e+1);let i=Rt();return this.ws.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Mr(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mr{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return it.comparator(e.key,n.key)||qt(e.As,n.As)}static _s(e,n){return qt(e.As,n.As)||it.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cVe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ss(Mr.ds)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new k8e(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Rs=this.Rs.add(new Mr(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Se.resolve(o)}lookupMutationBatch(e,n){return Se.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.bs(r),i=s<0?0:s;return Se.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mr(n,0),s=new Mr(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([r,s],o=>{const a=this.Ps(o.As);i.push(a)}),Se.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ss(qt);return n.forEach(s=>{const i=new Mr(s,0),o=new Mr(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{r=r.add(a.As)})}),Se.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;it.isDocumentKey(i)||(i=i.child(""));const o=new Mr(new it(i),0);let a=new Ss(qt);return this.Rs.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===s&&(a=a.add(u.As)),!0)},o),Se.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Sn(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Se.forEach(n.mutations,s=>{const i=new Mr(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Mr(n,0),s=this.Rs.firstAfterOrEqual(r);return Se.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AVe{constructor(e){this.Ds=e,this.docs=new Vn(it.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Se.resolve(r?r.document.mutableCopy():ws.newInvalidDocument(n))}getEntries(e,n){let r=Vu();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ws.newInvalidDocument(s))}),Se.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Vu();const o=n.path,a=new it(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||X5e(j5e(c),r)<=0||(s.has(c.key)||TB(n,c))&&(i=i.insert(c.key,c.mutableCopy()))}return Se.resolve(i)}getAllFromCollectionGroup(e,n,r,s){At()}Cs(e,n){return Se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dVe(this)}getSize(e){return Se.resolve(this.size)}}class dVe extends iVe{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),Se.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hVe{constructor(e){this.persistence=e,this.xs=new mp(n=>W4(n),G4),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new J4,this.targetCount=0,this.Ms=Rf.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Se.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Rf(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.Fn(n),Se.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),Se.waitFor(i).next(()=>s)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return Se.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),Se.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Se.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return Se.resolve(r)}containsKey(e,n){return Se.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fVe{constructor(e,n){this.$s={},this.overlays={},this.Os=new H4(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new hVe(this),this.indexManager=new rVe,this.remoteDocumentCache=function(r){return new AVe(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new tVe(n),this.qs=new uVe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lVe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new cVe(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Ze("MemoryPersistence","Starting transaction:",e);const s=new pVe(this.Os.next());return this.referenceDelegate.Us(),r(s).next(i=>this.referenceDelegate.Ks(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gs(e,n){return Se.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class pVe extends Y5e{constructor(e){super(),this.currentSequenceNumber=e}}class Z4{constructor(e){this.persistence=e,this.Qs=new J4,this.js=null}static zs(e){return new Z4(e)}get Ws(){if(this.js)return this.js;throw At()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Se.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Ws.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Ws,r=>{const s=it.fromPath(r);return this.Hs(e,s).next(i=>{i||n.removeEntry(s,pt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return Se.or([()=>Se.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=Rt(),s=Rt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new eR(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gVe{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(i=>i||this.Gi(e,n,s,r)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(_Q(n))return Se.resolve(null);let r=Hu(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=PN(n,null,"F"),r=Hu(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Rt(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.ji(n,a);return this.zi(n,l,o,u.readTime)?this.Ki(e,PN(n,null,"F")):this.Wi(e,l,n,u)}))})))}Gi(e,n,r,s){return _Q(n)||s.isEqual(pt.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(i=>{const o=this.ji(n,i);return this.zi(n,o,r,s)?this.Qi(e,n):(BQ()<=Xt.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),MN(n)),this.Wi(e,o,n,G5e(s,-1)))})}ji(e,n){let r=new Ss(gJ(e));return n.forEach((s,i)=>{TB(e,i)&&(r=r.add(i))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Qi(e,n){return BQ()<=Xt.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",MN(n)),this.Ui.getDocumentsMatchingQuery(e,n,mc.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mVe{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new Vn(qt),this.Yi=new mp(i=>W4(i),G4),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aVe(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function yVe(t,e,n,r){return new mVe(t,e,n,r)}async function LJ(t,e){const n=Ct(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=Rt();for(const l of s){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of i){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({er:l,removedBatchIds:o,addedBatchIds:a}))})})}function vVe(t,e){const n=Ct(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,A=c.keys();let d=Se.resolve();return A.forEach(h=>{d=d.next(()=>l.getEntry(a,h)).next(f=>{const p=u.docVersions.get(h);Sn(p!==null),f.version.compareTo(p)<0&&(c.applyToRemoteDocument(f,u),f.isValidDocument()&&(f.setReadTime(u.commitVersion),l.addEntry(f)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Rt();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function PJ(t){const e=Ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function wVe(t,e){const n=Ct(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((c,A)=>{const d=s.get(A);if(!d)return;a.push(n.Bs.removeMatchingKeys(i,c.removedDocuments,A).next(()=>n.Bs.addMatchingKeys(i,c.addedDocuments,A)));let h=d.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(A)!==null?h=h.withResumeToken(Fs.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),s=s.insert(A,h),function(f,p,m){return f.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,h,c)&&a.push(n.Bs.updateTargetData(i,h))});let u=Vu(),l=Rt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),a.push(CVe(i,o,e.documentUpdates).next(c=>{u=c.nr,l=c.sr})),!r.isEqual(pt.min())){const c=n.Bs.getLastRemoteSnapshotVersion(i).next(A=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(c)}return Se.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,l)).next(()=>u)}).then(i=>(n.Ji=s,i))}function CVe(t,e,n){let r=Rt(),s=Rt();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Vu();return n.forEach((a,u)=>{const l=i.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(pt.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):Ze("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{nr:o,sr:s}})}function bVe(t,e){const n=Ct(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xVe(t,e){const n=Ct(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(i=>i?(s=i,Se.resolve(s)):n.Bs.allocateTargetId(r).next(o=>(s=new _l(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function KN(t,e,n){const r=Ct(t),s=r.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!lv(o))throw o;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function zQ(t,e,n){const r=Ct(t);let s=pt.min(),i=Rt();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=Ct(a),A=c.Yi.get(l);return A!==void 0?Se.resolve(c.Ji.get(A)):c.Bs.getTargetData(u,l)}(r,o,Hu(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?s:pt.min(),n?i:Rt())).next(a=>(BVe(r,g8e(e),a),{documents:a,ir:i})))}function BVe(t,e,n){let r=t.Xi.get(e)||pt.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class KQ{constructor(){this.activeTargetIds=b8e()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IVe{constructor(){this.Hr=new KQ,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new KQ,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EVe{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q1=null;function t$(){return Q1===null?Q1=268435456+Math.round(2147483648*Math.random()):Q1++,"0x"+Q1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Ve={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SVe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="WebChannelConnection";class TVe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,i){const o=t$(),a=this.To(e,n);Ze("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,s,i),this.Ao(e,a,u,r).then(l=>(Ze("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw kf("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}vo(e,n,r,s,i,o){return this.Io(e,n,r,s,i)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+pp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}To(e,n){const r=$Ve[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const i=t$();return new Promise((o,a)=>{const u=new O5e;u.setWithCredentials(!0),u.listenOnce(_5e.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ZE.NO_ERROR:const c=u.getResponseJson();Ze(hs,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(c)),o(c);break;case ZE.TIMEOUT:Ze(hs,`RPC '${e}' ${i} timed out`),a(new rt(Be.DEADLINE_EXCEEDED,"Request time out"));break;case ZE.HTTP_ERROR:const A=u.getStatus();if(Ze(hs,`RPC '${e}' ${i} failed with status:`,A,"response text:",u.getResponseText()),A>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const f=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(Be).indexOf(m)>=0?m:Be.UNKNOWN}(h.status);a(new rt(f,h.message))}else a(new rt(Be.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new rt(Be.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{Ze(hs,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(s);Ze(hs,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",l,r,15)})}Ro(e,n,r){const s=t$(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=k5e(),a=F5e(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new R5e({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=i.join("");Ze(hs,`Creating RPC '${e}' stream ${s}: ${c}`,u);const A=o.createWebChannel(c,u);let d=!1,h=!1;const f=new SVe({ro:m=>{h?Ze(hs,`Not sending because RPC '${e}' stream ${s} is closed:`,m):(d||(Ze(hs,`Opening RPC '${e}' stream ${s} transport.`),A.open(),d=!0),Ze(hs,`RPC '${e}' stream ${s} sending:`,m),A.send(m))},oo:()=>A.close()}),p=(m,g,y)=>{m.listen(g,C=>{try{y(C)}catch(b){setTimeout(()=>{throw b},0)}})};return p(A,U1.EventType.OPEN,()=>{h||Ze(hs,`RPC '${e}' stream ${s} transport opened.`)}),p(A,U1.EventType.CLOSE,()=>{h||(h=!0,Ze(hs,`RPC '${e}' stream ${s} transport closed`),f.wo())}),p(A,U1.EventType.ERROR,m=>{h||(h=!0,kf(hs,`RPC '${e}' stream ${s} transport errored:`,m),f.wo(new rt(Be.UNAVAILABLE,"The operation could not be completed")))}),p(A,U1.EventType.MESSAGE,m=>{var g;if(!h){const y=m.data[0];Sn(!!y);const C=y,b=C.error||((g=C[0])===null||g===void 0?void 0:g.error);if(b){Ze(hs,`RPC '${e}' stream ${s} received error:`,b);const B=b.status;let I=function($){const T=or[$];if(T!==void 0)return TJ(T)}(B),w=b.message;I===void 0&&(I=Be.INTERNAL,w="Unknown error status: "+B+" with message "+b.message),h=!0,f.wo(new rt(I,w)),A.close()}else Ze(hs,`RPC '${e}' stream ${s} received:`,y),f._o(y)}}),p(a,D5e.STAT_EVENT,m=>{m.stat===bQ.PROXY?Ze(hs,`RPC '${e}' stream ${s} detected buffering proxy`):m.stat===bQ.NOPROXY&&Ze(hs,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{f.fo()},0),f}}function n$(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(t){return new Q8e(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MJ{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&Ze("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QJ{constructor(e,n,r,s,i,o,a,u){this.ii=e,this.$o=r,this.Oo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new MJ(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===Be.RESOURCE_EXHAUSTED?(Qu(n.toString()),Qu("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===Be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new rt(Be.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NVe extends QJ{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=z8e(this.serializer,e),r=function(s){if(!("targetChange"in s))return pt.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?pt.min():i.readTime?Qa(i.readTime):pt.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=zN(this.serializer),n.addTarget=function(s,i){let o;const a=i.target;if(o=LN(a)?{documents:G8e(s,a)}:{query:j8e(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=FJ(s,i.resumeToken);const u=QN(s,i.expectedCount);u!==null&&(o.expectedCount=u)}else if(i.snapshotVersion.compareTo(pt.min())>0){o.readTime=wb(s,i.snapshotVersion.toTimestamp());const u=QN(s,i.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=q8e(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=zN(this.serializer),n.removeTarget=e,this.Wo(n)}}class kVe extends QJ{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Sn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=W8e(e.writeResults,e.commitTime),r=Qa(e.commitTime);return this.listener.cu(r,n)}return Sn(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=zN(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>K8e(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FVe extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new rt(Be.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Io(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new rt(Be.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new rt(Be.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class _Ve{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Qu(n),this.mu=!1):Ze("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DVe{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Sd(this)&&(Ze("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=Ct(a);u.vu.add(4),await dv(u),u.bu.set("Unknown"),u.vu.delete(4),await DB(u)}(this))})}),this.bu=new _Ve(r,s)}}async function DB(t){if(Sd(t))for(const e of t.Ru)await e(!0)}async function dv(t){for(const e of t.Ru)await e(!1)}function HJ(t,e){const n=Ct(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),rR(n)?nR(n):yp(n).Ko()&&tR(n,e))}function VJ(t,e){const n=Ct(t),r=yp(n);n.Au.delete(e),r.Ko()&&zJ(n,e),n.Au.size===0&&(r.Ko()?r.jo():Sd(n)&&n.bu.set("Unknown"))}function tR(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yp(t).su(e)}function zJ(t,e){t.Vu.qt(e),yp(t).iu(e)}function nR(t){t.Vu=new U8e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),yp(t).start(),t.bu.gu()}function rR(t){return Sd(t)&&!yp(t).Uo()&&t.Au.size>0}function Sd(t){return Ct(t).vu.size===0}function KJ(t){t.Vu=void 0}async function RVe(t){t.Au.forEach((e,n)=>{tR(t,e)})}async function OVe(t,e){KJ(t),rR(t)?(t.bu.Iu(e),nR(t)):t.bu.set("Unknown")}async function UVe(t,e,n){if(t.bu.set("Online"),e instanceof kJ&&e.state===2&&e.cause)try{await async function(r,s){const i=s.cause;for(const o of s.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cb(t,r)}else if(e instanceof Bw?t.Vu.Ht(e):e instanceof NJ?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(pt.min()))try{const r=await PJ(t.localStore);n.compareTo(r)>=0&&await function(s,i){const o=s.Vu.ce(i);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=s.Au.get(u);l&&s.Au.set(u,l.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,u)=>{const l=s.Au.get(a);if(!l)return;s.Au.set(a,l.withResumeToken(Fs.EMPTY_BYTE_STRING,l.snapshotVersion)),zJ(s,a);const c=new _l(l.target,a,u,l.sequenceNumber);tR(s,c)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),await Cb(t,r)}}async function Cb(t,e,n){if(!lv(e))throw e;t.vu.add(1),await dv(t),t.bu.set("Offline"),n||(n=()=>PJ(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ze("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await DB(t)})}function WJ(t,e){return e().catch(n=>Cb(t,n,e))}async function RB(t){const e=Ct(t),n=vc(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;LVe(e);)try{const s=await bVe(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,PVe(e,s)}catch(s){await Cb(e,s)}GJ(e)&&jJ(e)}function LVe(t){return Sd(t)&&t.Eu.length<10}function PVe(t,e){t.Eu.push(e);const n=vc(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function GJ(t){return Sd(t)&&!vc(t).Uo()&&t.Eu.length>0}function jJ(t){vc(t).start()}async function MVe(t){vc(t).hu()}async function QVe(t){const e=vc(t);for(const n of t.Eu)e.uu(n.mutations)}async function HVe(t,e,n){const r=t.Eu.shift(),s=j4.from(r,e,n);await WJ(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await RB(t)}async function VVe(t,e){e&&vc(t).ou&&await async function(n,r){if(s=r.code,D8e(s)&&s!==Be.ABORTED){const i=n.Eu.shift();vc(n).Qo(),await WJ(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await RB(n)}var s}(t,e),GJ(t)&&jJ(t)}async function GQ(t,e){const n=Ct(t);n.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=Sd(n);n.vu.add(3),await dv(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await DB(n)}async function zVe(t,e){const n=Ct(t);e?(n.vu.delete(2),await DB(n)):e||(n.vu.add(2),await dv(n),n.bu.set("Unknown"))}function yp(t){return t.Su||(t.Su=function(e,n,r){const s=Ct(e);return s.fu(),new NVe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:RVe.bind(null,t),ao:OVe.bind(null,t),nu:UVe.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),rR(t)?nR(t):t.bu.set("Unknown")):(await t.Su.stop(),KJ(t))})),t.Su}function vc(t){return t.Du||(t.Du=function(e,n,r){const s=Ct(e);return s.fu(),new kVe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:MVe.bind(null,t),ao:VVe.bind(null,t),au:QVe.bind(null,t),cu:HVe.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await RB(t)):(await t.Du.stop(),t.Eu.length>0&&(Ze("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Jl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new sR(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iR(t,e){if(Qu("AsyncQueue",`${e}: ${t}`),lv(t))return new rt(Be.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e){this.comparator=e?(n,r)=>e(n,r)||it.comparator(n.key,r.key):(n,r)=>it.comparator(n.key,r.key),this.keyedMap=bg(),this.sortedSet=new Vn(this.comparator)}static emptySet(e){return new tf(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new tf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{constructor(){this.Cu=new Vn(it.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):At():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Of{constructor(e,n,r,s,i,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Of(e,n,tf.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&SB(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KVe{constructor(){this.Nu=void 0,this.listeners=[]}}class WVe{constructor(){this.queries=new mp(e=>pJ(e),SB),this.onlineState="Unknown",this.ku=new Set}}async function GVe(t,e){const n=Ct(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new KVe),s)try{i.Nu=await n.onListen(r)}catch(o){const a=iR(o,`Initialization of query '${MN(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&oR(n)}async function jVe(t,e){const n=Ct(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function XVe(t,e){const n=Ct(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(s)&&(r=!0);o.Nu=s}}r&&oR(n)}function qVe(t,e,n){const r=Ct(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function oR(t){t.ku.forEach(e=>{e.next()})}class YVe{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Of(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Of.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(e){this.key=e}}class qJ{constructor(e){this.key=e}}class JVe{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Rt(),this.mutatedKeys=Rt(),this.tc=gJ(e),this.ec=new tf(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new jQ,s=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((c,A)=>{const d=s.get(c),h=TB(this.query,A)?A:null,f=!!d&&this.mutatedKeys.has(d.key),p=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let m=!1;d&&h?d.data.isEqual(h.data)?f!==p&&(r.track({type:3,doc:h}),m=!0):this.rc(d,h)||(r.track({type:2,doc:h}),m=!0,(u&&this.tc(h,u)>0||l&&this.tc(h,l)<0)&&(a=!0)):!d&&h?(r.track({type:0,doc:h}),m=!0):d&&!h&&(r.track({type:1,doc:d}),m=!0,(u||l)&&(a=!0)),m&&(h?(o=o.add(h),i=p?i.add(c):i.delete(c)):(o=o.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((l,c)=>function(A,d){const h=f=>{switch(f){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At()}};return h(A)-h(d)}(l.type,c.type)||this.tc(l.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,i.length!==0||u?{snapshot:new Of(this.query,e.ec,s,i,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new jQ,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Rt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new qJ(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new XJ(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Rt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Of.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class ZVe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class e7e{constructor(e){this.key=e,this.fc=!1}}class t7e{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new mp(a=>pJ(a),SB),this._c=new Map,this.mc=new Set,this.gc=new Vn(it.comparator),this.yc=new Map,this.Ic=new J4,this.Tc={},this.Ec=new Map,this.Ac=Rf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function n7e(t,e){const n=d7e(t);let r,s;const i=n.wc.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.lc();else{const o=await xVe(n.localStore,Hu(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await r7e(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&HJ(n.remoteStore,o)}return s}async function r7e(t,e,n,r,s){t.Rc=(A,d,h)=>async function(f,p,m,g){let y=p.view.sc(m);y.zi&&(y=await zQ(f.localStore,p.query,!1).then(({documents:B})=>p.view.sc(B,y)));const C=g&&g.targetChanges.get(p.targetId),b=p.view.applyChanges(y,f.isPrimaryClient,C);return qQ(f,p.targetId,b.cc),b.snapshot}(t,A,d,h);const i=await zQ(t.localStore,e,!0),o=new JVe(e,i.ir),a=o.sc(i.documents),u=Av.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),l=o.applyChanges(a,t.isPrimaryClient,u);qQ(t,n,l.cc);const c=new ZVe(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot}async function s7e(t,e){const n=Ct(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(i=>!SB(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await KN(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),VJ(n.remoteStore,r.targetId),WN(n,r.targetId)}).catch(uv)):(WN(n,r.targetId),await KN(n.localStore,r.targetId,!0))}async function i7e(t,e,n){const r=h7e(t);try{const s=await function(i,o){const a=Ct(i),u=Fr.now(),l=o.reduce((d,h)=>d.add(h.key),Rt());let c,A;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let h=Vu(),f=Rt();return a.Zi.getEntries(d,l).next(p=>{h=p,h.forEach((m,g)=>{g.isValidDocument()||(f=f.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,h)).next(p=>{c=p;const m=[];for(const g of o){const y=T8e(g,c.get(g.key).overlayedDocument);y!=null&&m.push(new $d(g.key,y,aJ(y.value.mapValue),Eu.exists(!0)))}return a.mutationQueue.addMutationBatch(d,u,m,o)}).next(p=>{A=p;const m=p.applyToLocalDocumentSet(c,f);return a.documentOverlayCache.saveOverlays(d,p.batchId,m)})}).then(()=>({batchId:A.batchId,changes:yJ(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let u=i.Tc[i.currentUser.toKey()];u||(u=new Vn(qt)),u=u.insert(o,a),i.Tc[i.currentUser.toKey()]=u}(r,s.batchId,n),await hv(r,s.changes),await RB(r.remoteStore)}catch(s){const i=iR(s,"Failed to persist write");n.reject(i)}}async function YJ(t,e){const n=Ct(t);try{const r=await wVe(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.yc.get(i);o&&(Sn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.fc=!0:s.modifiedDocuments.size>0?Sn(o.fc):s.removedDocuments.size>0&&(Sn(o.fc),o.fc=!1))}),await hv(n,r,e)}catch(r){await uv(r)}}function XQ(t,e,n){const r=Ct(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(i,o){const a=Ct(i);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const A of c.listeners)A.Mu(o)&&(u=!0)}),u&&oR(a)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function o7e(t,e,n){const r=Ct(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),i=s&&s.key;if(i){let o=new Vn(it.comparator);o=o.insert(i,ws.newNoDocument(i,pt.min()));const a=Rt().add(i),u=new FB(pt.min(),new Map,new Vn(qt),o,a);await YJ(r,u),r.gc=r.gc.remove(i),r.yc.delete(e),aR(r)}else await KN(r.localStore,e,!1).then(()=>WN(r,e,n)).catch(uv)}async function a7e(t,e){const n=Ct(t),r=e.batch.batchId;try{const s=await vVe(n.localStore,e);ZJ(n,r,null),JJ(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hv(n,s)}catch(s){await uv(s)}}async function u7e(t,e,n){const r=Ct(t);try{const s=await function(i,o){const a=Ct(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(c=>(Sn(c!==null),l=c.keys(),a.mutationQueue.removeMutationBatch(u,c))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);ZJ(r,e,n),JJ(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hv(r,s)}catch(s){await uv(s)}}function JJ(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function ZJ(t,e,n){const r=Ct(t);let s=r.Tc[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function WN(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||eZ(t,r)})}function eZ(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(VJ(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),aR(t))}function qQ(t,e,n){for(const r of n)r instanceof XJ?(t.Ic.addReference(r.key,e),l7e(t,r)):r instanceof qJ?(Ze("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||eZ(t,r.key)):At()}function l7e(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Ze("SyncEngine","New document in limbo: "+n),t.mc.add(r),aR(t))}function aR(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new it(Rn.fromString(e)),r=t.Ac.next();t.yc.set(r,new e7e(n)),t.gc=t.gc.insert(n,r),HJ(t.remoteStore,new _l(Hu(fJ(n.path)),r,"TargetPurposeLimboResolution",H4.ct))}}async function hv(t,e,n){const r=Ct(t),s=[],i=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){s.push(l);const c=eR.Li(u.targetId,l);i.push(c)}}))}),await Promise.all(o),r.dc.nu(s),await async function(a,u){const l=Ct(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Se.forEach(u,A=>Se.forEach(A.Fi,d=>l.persistence.referenceDelegate.addReference(c,A.targetId,d)).next(()=>Se.forEach(A.Bi,d=>l.persistence.referenceDelegate.removeReference(c,A.targetId,d)))))}catch(c){if(!lv(c))throw c;Ze("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const A=c.targetId;if(!c.fromCache){const d=l.Ji.get(A),h=d.snapshotVersion,f=d.withLastLimboFreeSnapshotVersion(h);l.Ji=l.Ji.insert(A,f)}}}(r.localStore,i))}async function c7e(t,e){const n=Ct(t);if(!n.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const r=await LJ(n.localStore,e);n.currentUser=e,function(s,i){s.Ec.forEach(o=>{o.forEach(a=>{a.reject(new rt(Be.CANCELLED,i))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hv(n,r.er)}}function A7e(t,e){const n=Ct(t),r=n.yc.get(e);if(r&&r.fc)return Rt().add(r.key);{let s=Rt();const i=n._c.get(e);if(!i)return s;for(const o of i){const a=n.wc.get(o);s=s.unionWith(a.view.nc)}return s}}function d7e(t){const e=Ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YJ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A7e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o7e.bind(null,e),e.dc.nu=XVe.bind(null,e.eventManager),e.dc.Pc=qVe.bind(null,e.eventManager),e}function h7e(t){const e=Ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a7e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u7e.bind(null,e),e}class YQ{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=_B(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return yVe(this.persistence,new gVe,e.initialUser,this.serializer)}createPersistence(e){return new fVe(Z4.zs,this.serializer)}createSharedClientState(e){return new IVe}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class f7e{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XQ(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=c7e.bind(null,this.syncEngine),await zVe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new WVe}createDatastore(e){const n=_B(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new TVe(s));var s;return function(i,o,a,u){return new FVe(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,i=a=>XQ(this.syncEngine,a,0),o=WQ.D()?new WQ:new EVe,new DVe(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(e,n){return function(r,s,i,o,a,u,l){const c=new t7e(r,s,i,o,a,u);return l&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ct(e);Ze("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await dv(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7e{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Qu("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7e{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ps.UNAUTHENTICATED,this.clientId=sJ.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Ze("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Ze("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rt(Be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iR(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function r$(t,e){t.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await LJ(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function JQ(t,e){t.asyncQueue.verifyOperationInProgress();const n=await y7e(t);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>GQ(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>GQ(e.remoteStore,i)),t._onlineComponents=e}function m7e(t){return t.name==="FirebaseError"?t.code===Be.FAILED_PRECONDITION||t.code===Be.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function y7e(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ze("FirestoreClient","Using user provided OfflineComponentProvider");try{await r$(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!m7e(n))throw n;kf("Error using user provided cache. Falling back to memory cache: "+n),await r$(t,new YQ)}}else Ze("FirestoreClient","Using default OfflineComponentProvider"),await r$(t,new YQ);return t._offlineComponents}async function tZ(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ze("FirestoreClient","Using user provided OnlineComponentProvider"),await JQ(t,t._uninitializedComponentsProvider._online)):(Ze("FirestoreClient","Using default OnlineComponentProvider"),await JQ(t,new f7e))),t._onlineComponents}function v7e(t){return tZ(t).then(e=>e.syncEngine)}async function w7e(t){const e=await tZ(t),n=e.eventManager;return n.onListen=n7e.bind(null,e.syncEngine),n.onUnlisten=s7e.bind(null,e.syncEngine),n}function C7e(t,e,n={}){const r=new Jl;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,u){const l=new p7e({next:A=>{i.enqueueAndForget(()=>jVe(s,c)),A.fromCache&&a.source==="server"?u.reject(new rt(Be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(A)},error:A=>u.reject(A)}),c=new YVe(o,l,{includeMetadataChanges:!0,Ku:!0});return GVe(s,c)}(await w7e(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nZ(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZQ=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rZ(t,e,n){if(!n)throw new rt(Be.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function b7e(t,e,n,r){if(e===!0&&r===!0)throw new rt(Be.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function e6(t){if(!it.isDocumentKey(t))throw new rt(Be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function t6(t){if(it.isDocumentKey(t))throw new rt(Be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uR(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":At()}function bb(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new rt(Be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uR(t);throw new rt(Be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new rt(Be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new rt(Be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b7e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nZ((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class OB{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n6({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rt(Be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new rt(Be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n6(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new L5e;switch(n.type){case"firstParty":return new H5e(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new rt(Be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=ZQ.get(e);n&&(Ze("ComponentProvider","Removing Datastore"),ZQ.delete(e),n.terminate())}(this),Promise.resolve()}}function x7e(t,e,n,r={}){var s;const i=(t=bb(t,OB))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&kf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ps.MOCK_USER;else{a=P5(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new rt(Be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ps(l)}t._authCredentials=new P5e(new rJ(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zo(this.firestore,e,this._key)}}class UB{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new UB(this.firestore,e,this._query)}}class Zl extends UB{constructor(e,n,r){super(e,n,fJ(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zo(this.firestore,null,new it(e))}withConverter(e){return new Zl(this.firestore,e,this._path)}}function sZ(t,e,...n){if(t=Kr(t),rZ("collection","path",e),t instanceof OB){const r=Rn.fromString(e,...n);return t6(r),new Zl(t,null,r)}{if(!(t instanceof Zo||t instanceof Zl))throw new rt(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rn.fromString(e,...n));return t6(r),new Zl(t.firestore,null,r)}}function B7e(t,e,...n){if(t=Kr(t),arguments.length===1&&(e=sJ.A()),rZ("doc","path",e),t instanceof OB){const r=Rn.fromString(e,...n);return e6(r),new Zo(t,null,new it(r))}{if(!(t instanceof Zo||t instanceof Zl))throw new rt(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rn.fromString(e,...n));return e6(r),new Zo(t.firestore,t instanceof Zl?t.converter:null,new it(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7e{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new MJ(this,"async_queue_retry"),this.Xc=()=>{const n=n$();n&&Ze("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=n$();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=n$();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Jl;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!lv(e))throw e;Ze("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw Qu("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=sR.createAndSchedule(this,e,n,r,i=>this.na(i));return this.zc.push(s),s}Zc(){this.Wc&&At()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class lR extends OB{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new I7e,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||aZ(this),this._firestoreClient.terminate()}}function iZ(t,e){const n=typeof t=="object"?t:dF(),r=typeof t=="string"?t:e||"(default)",s=jb(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=O5("firestore");i&&x7e(s,...i)}return s}function oZ(t){return t._firestoreClient||aZ(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function aZ(t){var e,n,r;const s=t._freezeSettings(),i=function(o,a,u,l){return new e8e(o,a,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,nZ(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new g7e(t._authCredentials,t._appCheckCredentials,t._queue,i),((n=s.cache)===null||n===void 0?void 0:n._offlineComponentProvider)&&((r=s.cache)===null||r===void 0?void 0:r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uf(Fs.fromBase64String(e))}catch(n){throw new rt(Be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Uf(Fs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new rt(Be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new rt(Be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new rt(Be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qt(this._lat,e._lat)||qt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7e=/^__.*__$/;class $7e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $d(e,this.data,this.fieldMask,n,this.fieldTransforms):new cv(e,this.data,n,this.fieldTransforms)}}function lZ(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class dR{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new dR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return xb(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(lZ(this.ca)&&E7e.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class S7e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_B(e)}ya(e,n,r,s=!1){return new dR({ca:e,methodName:n,ga:r,path:Bs.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function T7e(t){const e=t._freezeSettings(),n=_B(t._databaseId);return new S7e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function N7e(t,e,n,r,s,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,s);hZ("Data must be an object, but it was:",o,r);const a=AZ(r,o);let u,l;if(i.merge)u=new Wo(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const c=[];for(const A of i.mergeFields){const d=k7e(e,A,n);if(!o.contains(d))throw new rt(Be.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);_7e(c,d)||c.push(d)}u=new Wo(c),l=o.fieldTransforms.filter(A=>u.covers(A.field))}else u=null,l=o.fieldTransforms;return new $7e(new Ao(a),u,l)}function cZ(t,e){if(dZ(t=Kr(t)))return hZ("Unsupported field value:",e,t),AZ(t,e);if(t instanceof uZ)return function(n,r){if(!lZ(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let a=cZ(o,r.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Kr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return x8e(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Fr.fromDate(n);return{timestampValue:wb(r.serializer,s)}}if(n instanceof Fr){const s=new Fr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:wb(r.serializer,s)}}if(n instanceof AR)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Uf)return{bytesValue:FJ(r.serializer,n._byteString)};if(n instanceof Zo){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Y4(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${uR(n)}`)}(t,e)}function AZ(t,e){const n={};return iJ(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gp(t,(r,s)=>{const i=cZ(s,e.ha(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function dZ(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fr||t instanceof AR||t instanceof Uf||t instanceof Zo||t instanceof uZ)}function hZ(t,e,n){if(!dZ(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=uR(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function k7e(t,e,n){if((e=Kr(e))instanceof cR)return e._internalPath;if(typeof e=="string")return fZ(t,e);throw xb("Field path arguments must be of type string or ",t,!1,void 0,n)}const F7e=new RegExp("[~\\*/\\[\\]]");function fZ(t,e,n){if(e.search(F7e)>=0)throw xb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cR(...e.split("."))._internalPath}catch{throw xb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xb(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new rt(Be.INVALID_ARGUMENT,a+t+u)}function _7e(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pZ{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D7e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gZ("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D7e extends pZ{data(){return super.data()}}function gZ(t,e){return typeof e=="string"?fZ(t,e):e instanceof cR?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7e(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new rt(Be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O7e{convertValue(e,n="none"){switch(od(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(id(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw At()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gp(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new AR(lr(e.latitude),lr(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=z4(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(e0(e));default:return null}}convertTimestamp(e){const n=yc(e);return new Fr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Rn.fromString(e);Sn(UJ(r));const s=new t0(r.get(1),r.get(3)),i=new it(r.popFirst(5));return s.isEqual(n)||Qu(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7e(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class L7e extends pZ{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Iw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gZ("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Iw extends L7e{data(e={}){return super.data(e)}}class P7e{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new H1(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Iw(this._firestore,this._userDataWriter,r.key,r,new H1(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(Be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(o=>{const a=new Iw(r._firestore,r._userDataWriter,o.doc.key,o.doc,new H1(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new Iw(r._firestore,r._userDataWriter,o.doc.key,o.doc,new H1(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return o.type!==0&&(u=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),l=i.indexOf(o.doc.key)),{type:M7e(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function M7e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At()}}class Q7e extends O7e{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uf(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zo(this.firestore,null,n)}}function H7e(t){t=bb(t,UB);const e=bb(t.firestore,lR),n=oZ(e),r=new Q7e(e);return R7e(t._query),C7e(n,t._query).then(s=>new P7e(e,r,t,s))}function V7e(t,e){const n=bb(t.firestore,lR),r=B7e(t),s=U7e(t.converter,e);return z7e(n,[N7e(T7e(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Eu.exists(!1))]).then(()=>r)}function z7e(t,e){return function(n,r){const s=new Jl;return n.asyncQueue.enqueueAndForget(async()=>i7e(await v7e(n),r,s)),s.promise}(oZ(t),e)}(function(t,e=!0){(function(n){pp=n})(dd),VA(new nc("firestore",(n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new lR(new M5e(n.getProvider("auth-internal")),new z5e(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new rt(Be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new t0(a.options.projectId,u)}(i,r),i);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Da(xQ,"3.13.0",t),Da(xQ,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mZ="firebasestorage.googleapis.com",yZ="storageBucket",K7e=2*60*1e3,W7e=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn extends Xa{constructor(e,n,r=0){super(s$(e),`Firebase Storage: ${n} (${s$(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return s$(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qn||(qn={}));function s$(t){return"storage/"+t}function hR(){const t="An unknown error occurred, please check the error payload for server response.";return new Zn(qn.UNKNOWN,t)}function G7e(t){return new Zn(qn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function j7e(t){return new Zn(qn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function X7e(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Zn(qn.UNAUTHENTICATED,t)}function q7e(){return new Zn(qn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Y7e(t){return new Zn(qn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function J7e(){return new Zn(qn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Z7e(){return new Zn(qn.CANCELED,"User canceled the upload/download.")}function eze(t){return new Zn(qn.INVALID_URL,"Invalid URL '"+t+"'.")}function tze(t){return new Zn(qn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nze(){return new Zn(qn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yZ+"' property when initializing the app?")}function rze(){return new Zn(qn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sze(){return new Zn(qn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ize(t){return new Zn(qn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function GN(t){return new Zn(qn.INVALID_ARGUMENT,t)}function vZ(){return new Zn(qn.APP_DELETED,"The Firebase app was deleted.")}function oze(t){return new Zn(qn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yg(t,e){return new Zn(qn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Xp(t){throw new Zn(qn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Di.makeFromUrl(e,n)}catch{return new Di(e,"")}if(r.path==="")return r;throw tze(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),u={bucket:1,path:3};function l(b){b.path_=decodeURIComponent(b.path)}const c="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${A}/${c}/b/${s}/o${d}`,"i"),f={bucket:1,path:3},p=n===mZ?"(?:storage.googleapis.com|storage.cloud.google.com)":n,m="([^?#]*)",g=new RegExp(`^https?://${p}/${s}/${m}`,"i"),C=[{regex:a,indices:u,postModify:i},{regex:h,indices:f,postModify:l},{regex:g,indices:{bucket:1,path:2},postModify:l}];for(let b=0;b<C.length;b++){const B=C[b],I=B.regex.exec(e);if(I){const w=I[B.indices.bucket];let $=I[B.indices.path];$||($=""),r=new Di(w,$),B.postModify(r);break}}if(r==null)throw eze(e);return r}}class aze{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uze(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(...m){l||(l=!0,e.apply(null,m))}function A(m){s=setTimeout(()=>{s=null,t(h,u())},m)}function d(){i&&clearTimeout(i)}function h(m,...g){if(l){d();return}if(m){d(),c.call(null,m,...g);return}if(u()||o){d(),c.call(null,m,...g);return}r<64&&(r*=2);let C;a===1?(a=2,C=0):C=(r+Math.random())*1e3,A(C)}let f=!1;function p(m){f||(f=!0,d(),!l&&(s!==null?(m||(a=2),clearTimeout(s),A(0)):m||(a=1)))}return A(0),i=setTimeout(()=>{o=!0,p(!0)},n),p}function lze(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cze(t){return t!==void 0}function Aze(t){return typeof t=="object"&&!Array.isArray(t)}function fR(t){return typeof t=="string"||t instanceof String}function r6(t){return pR()&&t instanceof Blob}function pR(){return typeof Blob<"u"&&!aie()}function s6(t,e,n,r){if(r<e)throw GN(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw GN(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function wZ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OA;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(OA||(OA={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dze(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hze{constructor(e,n,r,s,i,o,a,u,l,c,A,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=A,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,f)=>{this.resolve_=h,this.reject_=f,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new V1(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===OA.NO_ERROR,u=i.getStatus();if(!a||dze(u,this.additionalRetryCodes_)&&this.retry){const c=i.getErrorCode()===OA.ABORT;r(!1,new V1(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new V1(l,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());cze(u)?i(u):i()}catch(u){o(u)}else if(a!==null){const u=hR();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(s.canceled){const u=this.appDelete_?vZ():Z7e();o(u)}else{const u=J7e();o(u)}};this.canceled_?n(!1,new V1(!1,null,!0)):this.backoffId_=uze(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lze(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class V1{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function fze(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pze(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function gze(t,e){e&&(t["X-Firebase-GMPID"]=e)}function mze(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function yze(t,e,n,r,s,i,o=!0){const a=wZ(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return gze(l,e),fze(l,n),pze(l,i),mze(l,r),new hze(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vze(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function wze(...t){const e=vze();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(pR())return new Blob(t);throw new Zn(qn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Cze(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bze(t){if(typeof atob>"u")throw ize("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class i${constructor(e,n){this.data=e,this.contentType=n||null}}function CZ(t,e){switch(t){case Go.RAW:return new i$(bZ(e));case Go.BASE64:case Go.BASE64URL:return new i$(xZ(t,e));case Go.DATA_URL:return new i$(Bze(e),Ize(e))}throw hR()}function bZ(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function xze(t){let e;try{e=decodeURIComponent(t)}catch{throw Yg(Go.DATA_URL,"Malformed data URL.")}return bZ(e)}function xZ(t,e){switch(t){case Go.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Yg(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Go.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Yg(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=bze(e)}catch(s){throw s.message.includes("polyfill")?s:Yg(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class BZ{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Yg(Go.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Eze(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Bze(t){const e=new BZ(t);return e.base64?xZ(Go.BASE64,e.rest):xze(e.rest)}function Ize(t){return new BZ(t).contentType}function Eze(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){let r=0,s="";r6(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(r6(this.data_)){const r=this.data_,s=Cze(r,e,n);return s===null?null:new Cl(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Cl(r,!0)}}static getBlob(...e){if(pR()){const n=e.map(r=>r instanceof Cl?r.data_:r);return new Cl(wze.apply(null,n))}else{const n=e.map(o=>fR(o)?CZ(Go.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Cl(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IZ(t){let e;try{e=JSON.parse(t)}catch{return null}return Aze(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ze(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Sze(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function EZ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tze(t,e){return e}class Us{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Tze}}let z1=null;function Nze(t){return!fR(t)||t.length<2?t:EZ(t)}function $Z(){if(z1)return z1;const t=[];t.push(new Us("bucket")),t.push(new Us("generation")),t.push(new Us("metageneration")),t.push(new Us("name","fullPath",!0));function e(i,o){return Nze(o)}const n=new Us("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Us("size");return s.xform=r,t.push(s),t.push(new Us("timeCreated")),t.push(new Us("updated")),t.push(new Us("md5Hash",null,!0)),t.push(new Us("cacheControl",null,!0)),t.push(new Us("contentDisposition",null,!0)),t.push(new Us("contentEncoding",null,!0)),t.push(new Us("contentLanguage",null,!0)),t.push(new Us("contentType",null,!0)),t.push(new Us("metadata","customMetadata",!0)),z1=t,z1}function kze(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Di(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Fze(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return kze(r,t),r}function SZ(t,e,n){const r=IZ(e);return r===null?null:Fze(t,r,n)}function _ze(t,e,n,r){const s=IZ(e);if(s===null||!fR(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(l=>{const c=t.bucket,A=t.fullPath,d="/b/"+o(c)+"/o/"+o(A),h=gR(d,n,r),f=wZ({alt:"media",token:l});return h+f})[0]}function Dze(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class TZ{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NZ(t){if(!t)throw hR()}function Rze(t,e){function n(r,s){const i=SZ(t,s,e);return NZ(i!==null),i}return n}function Oze(t,e){function n(r,s){const i=SZ(t,s,e);return NZ(i!==null),_ze(i,s,t.host,t._protocol)}return n}function kZ(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=q7e():s=X7e():n.getStatus()===402?s=j7e(t.bucket):n.getStatus()===403?s=Y7e(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Uze(t){const e=kZ(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=G7e(t.path)),i.serverResponse=s.serverResponse,i}return n}function Lze(t,e,n){const r=e.fullServerUrl(),s=gR(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new TZ(s,i,Oze(t,n),o);return a.errorHandler=Uze(e),a}function Pze(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Mze(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Pze(null,e)),r}function Qze(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let C="";for(let b=0;b<2;b++)C=C+Math.random().toString().slice(2);return C}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const l=Mze(e,r,s),c=Dze(l,n),A="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,d=`\r
--`+u+"--",h=Cl.getBlob(A,r,d);if(h===null)throw rze();const f={name:l.fullPath},p=gR(i,t.host,t._protocol),m="POST",g=t.maxUploadRetryTime,y=new TZ(p,m,Rze(t,n),g);return y.urlParams=f,y.headers=o,y.body=h.uploadData(),y.errorHandler=kZ(e),y}class Hze{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=OA.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=OA.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=OA.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Xp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xp("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Vze extends Hze{initXhr(){this.xhr_.responseType="text"}}function FZ(){return new Vze}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this._service=e,n instanceof Di?this._location=n:this._location=Di.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ad(e,n)}get root(){const e=new Di(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EZ(this._location.path)}get storage(){return this._service}get parent(){const e=$ze(this._location.path);if(e===null)return null;const n=new Di(this._location.bucket,e);return new ad(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw oze(e)}}function zze(t,e,n){t._throwIfRoot("uploadBytes");const r=Qze(t.storage,t._location,$Z(),new Cl(e,!0),n);return t.storage.makeRequestWithTokens(r,FZ).then(s=>({metadata:s,ref:t}))}function Kze(t,e,n=Go.RAW,r){t._throwIfRoot("uploadString");const s=CZ(n,e),i=Object.assign({},r);return i.contentType==null&&s.contentType!=null&&(i.contentType=s.contentType),zze(t,s.data,i)}function Wze(t){t._throwIfRoot("getDownloadURL");const e=Lze(t.storage,t._location,$Z());return t.storage.makeRequestWithTokens(e,FZ).then(n=>{if(n===null)throw sze();return n})}function Gze(t,e){const n=Sze(t._location.path,e),r=new Di(t._location.bucket,n);return new ad(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jze(t){return/^[A-Za-z]+:\/\//.test(t)}function Xze(t,e){return new ad(t,e)}function _Z(t,e){if(t instanceof mR){const n=t;if(n._bucket==null)throw nze();const r=new ad(n,n._bucket);return e!=null?_Z(r,e):r}else return e!==void 0?Gze(t,e):t}function qze(t,e){if(e&&jze(e)){if(t instanceof mR)return Xze(t,e);throw GN("To use ref(service, url), the first argument must be a Storage instance.")}else return _Z(t,e)}function i6(t,e){const n=e==null?void 0:e[yZ];return n==null?null:Di.makeFromBucketSpec(n,t)}function Yze(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:P5(s,t.app.options.projectId))}class mR{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=mZ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=K7e,this._maxUploadRetryTime=W7e,this._requests=new Set,s!=null?this._bucket=Di.makeFromBucketSpec(s,this._host):this._bucket=i6(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Di.makeFromBucketSpec(this._url,e):this._bucket=i6(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){s6("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){s6("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ad(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new aze(vZ());{const o=yze(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const o6="@firebase/storage",a6="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DZ="storage";function Jze(t,e,n,r){return t=Kr(t),Kze(t,e,n,r)}function Zze(t){return t=Kr(t),Wze(t)}function eKe(t,e){return t=Kr(t),qze(t,e)}function tKe(t=dF(),e){t=Kr(t);const r=jb(t,DZ).getImmediate({identifier:e}),s=O5("storage");return s&&nKe(r,...s),r}function nKe(t,e,n,r={}){Yze(t,e,n,r)}function rKe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new mR(n,r,s,e,dd)}function sKe(){VA(new nc(DZ,rKe,"PUBLIC").setMultipleInstances(!0)),Da(o6,a6,""),Da(o6,a6,"esm2017")}sKe();var RZ={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ja,function(){return function(n){function r(i){if(s[i])return s[i].exports;var o=s[i]={i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var s={};return r.m=n,r.c=s,r.d=function(i,o,a){r.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:a})},r.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(o,"a",o),o},r.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},r.p="",r(r.s=8)}([function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i="swal-button";r.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:i,CONFIRM_BUTTON:i+"--confirm",CANCEL_BUTTON:i+"--cancel",DANGER_BUTTON:i+"--danger",BUTTON_LOADING:i+"--loading",BUTTON_LOADER:i+"__loader"},r.default=r.CLASS_NAMES},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.getNode=function(i){var o="."+i;return document.querySelector(o)},r.stringToNode=function(i){var o=document.createElement("div");return o.innerHTML=i.trim(),o.firstChild},r.insertAfter=function(i,o){var a=o.nextSibling;o.parentNode.insertBefore(i,a)},r.removeNode=function(i){i.parentElement.removeChild(i)},r.throwErr=function(i){throw i=i.replace(/ +(?= )/g,""),"SweetAlert: "+(i=i.trim())},r.isPlainObject=function(i){if(Object.prototype.toString.call(i)!=="[object Object]")return!1;var o=Object.getPrototypeOf(i);return o===null||o===Object.prototype},r.ordinalSuffixOf=function(i){var o=i%10,a=i%100;return o===1&&a!==11?i+"st":o===2&&a!==12?i+"nd":o===3&&a!==13?i+"rd":i+"th"}},function(n,r,s){function i(d){for(var h in d)r.hasOwnProperty(h)||(r[h]=d[h])}Object.defineProperty(r,"__esModule",{value:!0}),i(s(25));var o=s(26);r.overlayMarkup=o.default,i(s(27)),i(s(28)),i(s(29));var a=s(0),u=a.default.MODAL_TITLE,l=a.default.MODAL_TEXT,c=a.default.ICON,A=a.default.FOOTER;r.iconMarkup=`
  <div class="`+c+'"></div>',r.titleMarkup=`
  <div class="`+u+`"></div>
`,r.textMarkup=`
  <div class="`+l+'"></div>',r.footerMarkup=`
  <div class="`+A+`"></div>
`},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(1);r.CONFIRM_KEY="confirm",r.CANCEL_KEY="cancel";var o={visible:!0,text:null,value:null,className:"",closeModal:!0},a=Object.assign({},o,{visible:!1,text:"Cancel",value:null}),u=Object.assign({},o,{text:"OK",value:!0});r.defaultButtonList={cancel:a,confirm:u};var l=function(h){switch(h){case r.CONFIRM_KEY:return u;case r.CANCEL_KEY:return a;default:var f=h.charAt(0).toUpperCase()+h.slice(1);return Object.assign({},o,{text:f,value:h})}},c=function(h,f){var p=l(h);return f===!0?Object.assign({},p,{visible:!0}):typeof f=="string"?Object.assign({},p,{visible:!0,text:f}):i.isPlainObject(f)?Object.assign({visible:!0},p,f):Object.assign({},p,{visible:!1})},A=function(h){for(var f={},p=0,m=Object.keys(h);p<m.length;p++){var g=m[p],y=h[g],C=c(g,y);f[g]=C}return f.cancel||(f.cancel=a),f},d=function(h){var f={};switch(h.length){case 1:f[r.CANCEL_KEY]=Object.assign({},a,{visible:!1});break;case 2:f[r.CANCEL_KEY]=c(r.CANCEL_KEY,h[0]),f[r.CONFIRM_KEY]=c(r.CONFIRM_KEY,h[1]);break;default:i.throwErr("Invalid number of 'buttons' in array ("+h.length+`).
      If you want more than 2 buttons, you need to use an object!`)}return f};r.getButtonListOpts=function(h){var f=r.defaultButtonList;return typeof h=="string"?f[r.CONFIRM_KEY]=c(r.CONFIRM_KEY,h):Array.isArray(h)?f=d(h):i.isPlainObject(h)?f=A(h):h===!0?f=d([!0,!0]):h===!1?f=d([!1,!1]):h===void 0&&(f=r.defaultButtonList),f}},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(1),o=s(2),a=s(0),u=a.default.MODAL,l=a.default.OVERLAY,c=s(30),A=s(31),d=s(32),h=s(33);r.injectElIntoModal=function(g){var y=i.getNode(u),C=i.stringToNode(g);return y.appendChild(C),C};var f=function(g){g.className=u,g.textContent=""},p=function(g,y){f(g);var C=y.className;C&&g.classList.add(C)};r.initModalContent=function(g){var y=i.getNode(u);p(y,g),c.default(g.icon),A.initTitle(g.title),A.initText(g.text),h.default(g.content),d.default(g.buttons,g.dangerMode)};var m=function(){var g=i.getNode(l),y=i.stringToNode(o.modalMarkup);g.appendChild(y)};r.default=m},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(3),o={isOpen:!1,promise:null,actions:{},timer:null},a=Object.assign({},o);r.resetState=function(){a=Object.assign({},o)},r.setActionValue=function(l){if(typeof l=="string")return u(i.CONFIRM_KEY,l);for(var c in l)u(c,l[c])};var u=function(l,c){a.actions[l]||(a.actions[l]={}),Object.assign(a.actions[l],{value:c})};r.setActionOptionsFor=function(l,c){var A=(c===void 0?{}:c).closeModal,d=A===void 0||A;Object.assign(a.actions[l],{closeModal:d})},r.default=a},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(1),o=s(3),a=s(0),u=a.default.OVERLAY,l=a.default.SHOW_MODAL,c=a.default.BUTTON,A=a.default.BUTTON_LOADING,d=s(5);r.openModal=function(){i.getNode(u).classList.add(l),d.default.isOpen=!0};var h=function(){i.getNode(u).classList.remove(l),d.default.isOpen=!1};r.onAction=function(f){f===void 0&&(f=o.CANCEL_KEY);var p=d.default.actions[f],m=p.value;if(p.closeModal===!1){var g=c+"--"+f;i.getNode(g).classList.add(A)}else h();d.default.promise.resolve(m)},r.getState=function(){var f=Object.assign({},d.default);return delete f.promise,delete f.timer,f},r.stopLoading=function(){for(var f=document.querySelectorAll("."+c),p=0;p<f.length;p++)f[p].classList.remove(A)}},function(n,r){var s;s=function(){return this}();try{s=s||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(s=window)}n.exports=s},function(n,r,s){(function(i){n.exports=i.sweetAlert=s(9)}).call(r,s(7))},function(n,r,s){(function(i){n.exports=i.swal=s(10)}).call(r,s(7))},function(n,r,s){typeof window<"u"&&s(11),s(16);var i=s(23).default;n.exports=i},function(n,r,s){var i=s(12);typeof i=="string"&&(i=[[n.i,i,""]]);var o={insertAt:"top"};o.transform=void 0,s(14)(i,o),i.locals&&(n.exports=i.locals)},function(n,r,s){r=n.exports=s(13)(void 0),r.push([n.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(n,r){function s(o,a){var u=o[1]||"",l=o[3];if(!l)return u;if(a&&typeof btoa=="function"){var c=i(l);return[u].concat(l.sources.map(function(A){return"/*# sourceURL="+l.sourceRoot+A+" */"})).concat([c]).join(`
`)}return[u].join(`
`)}function i(o){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"}n.exports=function(o){var a=[];return a.toString=function(){return this.map(function(u){var l=s(u,o);return u[2]?"@media "+u[2]+"{"+l+"}":l}).join("")},a.i=function(u,l){typeof u=="string"&&(u=[[null,u,""]]);for(var c={},A=0;A<this.length;A++){var d=this[A][0];typeof d=="number"&&(c[d]=!0)}for(A=0;A<u.length;A++){var h=u[A];typeof h[0]=="number"&&c[h[0]]||(l&&!h[2]?h[2]=l:l&&(h[2]="("+h[2]+") and ("+l+")"),a.push(h))}},a}},function(n,r,s){function i($,T){for(var _=0;_<$.length;_++){var R=$[_],P=m[R.id];if(P){P.refs++;for(var L=0;L<P.parts.length;L++)P.parts[L](R.parts[L]);for(;L<R.parts.length;L++)P.parts.push(d(R.parts[L],T))}else{for(var z=[],L=0;L<R.parts.length;L++)z.push(d(R.parts[L],T));m[R.id]={id:R.id,refs:1,parts:z}}}}function o($,T){for(var _=[],R={},P=0;P<$.length;P++){var L=$[P],z=T.base?L[0]+T.base:L[0],V=L[1],q=L[2],ne=L[3],H={css:V,media:q,sourceMap:ne};R[z]?R[z].parts.push(H):_.push(R[z]={id:z,parts:[H]})}return _}function a($,T){var _=y($.insertInto);if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var R=B[B.length-1];if($.insertAt==="top")R?R.nextSibling?_.insertBefore(T,R.nextSibling):_.appendChild(T):_.insertBefore(T,_.firstChild),B.push(T);else{if($.insertAt!=="bottom")throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");_.appendChild(T)}}function u($){if($.parentNode===null)return!1;$.parentNode.removeChild($);var T=B.indexOf($);T>=0&&B.splice(T,1)}function l($){var T=document.createElement("style");return $.attrs.type="text/css",A(T,$.attrs),a($,T),T}function c($){var T=document.createElement("link");return $.attrs.type="text/css",$.attrs.rel="stylesheet",A(T,$.attrs),a($,T),T}function A($,T){Object.keys(T).forEach(function(_){$.setAttribute(_,T[_])})}function d($,T){var _,R,P,L;if(T.transform&&$.css){if(!(L=T.transform($.css)))return function(){};$.css=L}if(T.singleton){var z=b++;_=C||(C=l(T)),R=h.bind(null,_,z,!1),P=h.bind(null,_,z,!0)}else $.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(_=c(T),R=p.bind(null,_,T),P=function(){u(_),_.href&&URL.revokeObjectURL(_.href)}):(_=l(T),R=f.bind(null,_),P=function(){u(_)});return R($),function(V){if(V){if(V.css===$.css&&V.media===$.media&&V.sourceMap===$.sourceMap)return;R($=V)}else P()}}function h($,T,_,R){var P=_?"":R.css;if($.styleSheet)$.styleSheet.cssText=w(T,P);else{var L=document.createTextNode(P),z=$.childNodes;z[T]&&$.removeChild(z[T]),z.length?$.insertBefore(L,z[T]):$.appendChild(L)}}function f($,T){var _=T.css,R=T.media;if(R&&$.setAttribute("media",R),$.styleSheet)$.styleSheet.cssText=_;else{for(;$.firstChild;)$.removeChild($.firstChild);$.appendChild(document.createTextNode(_))}}function p($,T,_){var R=_.css,P=_.sourceMap,L=T.convertToAbsoluteUrls===void 0&&P;(T.convertToAbsoluteUrls||L)&&(R=I(R)),P&&(R+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(P))))+" */");var z=new Blob([R],{type:"text/css"}),V=$.href;$.href=URL.createObjectURL(z),V&&URL.revokeObjectURL(V)}var m={},g=function($){var T;return function(){return T===void 0&&(T=$.apply(this,arguments)),T}}(function(){return window&&document&&document.all&&!window.atob}),y=function($){var T={};return function(_){return T[_]===void 0&&(T[_]=$.call(this,_)),T[_]}}(function($){return document.querySelector($)}),C=null,b=0,B=[],I=s(15);n.exports=function($,T){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");T=T||{},T.attrs=typeof T.attrs=="object"?T.attrs:{},T.singleton||(T.singleton=g()),T.insertInto||(T.insertInto="head"),T.insertAt||(T.insertAt="bottom");var _=o($,T);return i(_,T),function(R){for(var P=[],L=0;L<_.length;L++){var z=_[L],V=m[z.id];V.refs--,P.push(V)}R&&i(o(R,T),T);for(var L=0;L<P.length;L++){var V=P[L];if(V.refs===0){for(var q=0;q<V.parts.length;q++)V.parts[q]();delete m[V.id]}}}};var w=function(){var $=[];return function(T,_){return $[T]=_,$.filter(Boolean).join(`
`)}}()},function(n,r){n.exports=function(s){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!s||typeof s!="string")return s;var o=i.protocol+"//"+i.host,a=o+i.pathname.replace(/\/[^\/]*$/,"/");return s.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(u,l){var c=l.trim().replace(/^"(.*)"$/,function(d,h){return h}).replace(/^'(.*)'$/,function(d,h){return h});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(c))return u;var A;return A=c.indexOf("//")===0?c:c.indexOf("/")===0?o+c:a+c.replace(/^\.\//,""),"url("+JSON.stringify(A)+")"})}},function(n,r,s){var i=s(17);typeof window>"u"||window.Promise||(window.Promise=i),s(21),String.prototype.includes||(String.prototype.includes=function(o,a){return typeof a!="number"&&(a=0),!(a+o.length>this.length)&&this.indexOf(o,a)!==-1}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(o,a){if(this==null)throw new TypeError('"this" is null or not defined');var u=Object(this),l=u.length>>>0;if(l===0)return!1;for(var c=0|a,A=Math.max(c>=0?c:l-Math.abs(c),0);A<l;){if(function(d,h){return d===h||typeof d=="number"&&typeof h=="number"&&isNaN(d)&&isNaN(h)}(u[A],o))return!0;A++}return!1}}),typeof window<"u"&&function(o){o.forEach(function(a){a.hasOwnProperty("remove")||Object.defineProperty(a,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(n,r,s){(function(i){(function(o){function a(){}function u(g,y){return function(){g.apply(y,arguments)}}function l(g){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof g!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(g,this)}function c(g,y){for(;g._state===3;)g=g._value;if(g._state===0)return void g._deferreds.push(y);g._handled=!0,l._immediateFn(function(){var C=g._state===1?y.onFulfilled:y.onRejected;if(C===null)return void(g._state===1?A:d)(y.promise,g._value);var b;try{b=C(g._value)}catch(B){return void d(y.promise,B)}A(y.promise,b)})}function A(g,y){try{if(y===g)throw new TypeError("A promise cannot be resolved with itself.");if(y&&(typeof y=="object"||typeof y=="function")){var C=y.then;if(y instanceof l)return g._state=3,g._value=y,void h(g);if(typeof C=="function")return void p(u(C,y),g)}g._state=1,g._value=y,h(g)}catch(b){d(g,b)}}function d(g,y){g._state=2,g._value=y,h(g)}function h(g){g._state===2&&g._deferreds.length===0&&l._immediateFn(function(){g._handled||l._unhandledRejectionFn(g._value)});for(var y=0,C=g._deferreds.length;y<C;y++)c(g,g._deferreds[y]);g._deferreds=null}function f(g,y,C){this.onFulfilled=typeof g=="function"?g:null,this.onRejected=typeof y=="function"?y:null,this.promise=C}function p(g,y){var C=!1;try{g(function(b){C||(C=!0,A(y,b))},function(b){C||(C=!0,d(y,b))})}catch(b){if(C)return;C=!0,d(y,b)}}var m=setTimeout;l.prototype.catch=function(g){return this.then(null,g)},l.prototype.then=function(g,y){var C=new this.constructor(a);return c(this,new f(g,y,C)),C},l.all=function(g){var y=Array.prototype.slice.call(g);return new l(function(C,b){function B($,T){try{if(T&&(typeof T=="object"||typeof T=="function")){var _=T.then;if(typeof _=="function")return void _.call(T,function(R){B($,R)},b)}y[$]=T,--I==0&&C(y)}catch(R){b(R)}}if(y.length===0)return C([]);for(var I=y.length,w=0;w<y.length;w++)B(w,y[w])})},l.resolve=function(g){return g&&typeof g=="object"&&g.constructor===l?g:new l(function(y){y(g)})},l.reject=function(g){return new l(function(y,C){C(g)})},l.race=function(g){return new l(function(y,C){for(var b=0,B=g.length;b<B;b++)g[b].then(y,C)})},l._immediateFn=typeof i=="function"&&function(g){i(g)}||function(g){m(g,0)},l._unhandledRejectionFn=function(g){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",g)},l._setImmediateFn=function(g){l._immediateFn=g},l._setUnhandledRejectionFn=function(g){l._unhandledRejectionFn=g},n!==void 0&&n.exports?n.exports=l:o.Promise||(o.Promise=l)})(this)}).call(r,s(18).setImmediate)},function(n,r,s){function i(a,u){this._id=a,this._clearFn=u}var o=Function.prototype.apply;r.setTimeout=function(){return new i(o.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new i(o.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(a){a&&a.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(a,u){clearTimeout(a._idleTimeoutId),a._idleTimeout=u},r.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},r._unrefActive=r.active=function(a){clearTimeout(a._idleTimeoutId);var u=a._idleTimeout;u>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},u))},s(19),r.setImmediate=setImmediate,r.clearImmediate=clearImmediate},function(n,r,s){(function(i,o){(function(a,u){function l(C){typeof C!="function"&&(C=new Function(""+C));for(var b=new Array(arguments.length-1),B=0;B<b.length;B++)b[B]=arguments[B+1];var I={callback:C,args:b};return p[f]=I,h(f),f++}function c(C){delete p[C]}function A(C){var b=C.callback,B=C.args;switch(B.length){case 0:b();break;case 1:b(B[0]);break;case 2:b(B[0],B[1]);break;case 3:b(B[0],B[1],B[2]);break;default:b.apply(u,B)}}function d(C){if(m)setTimeout(d,0,C);else{var b=p[C];if(b){m=!0;try{A(b)}finally{c(C),m=!1}}}}if(!a.setImmediate){var h,f=1,p={},m=!1,g=a.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(a);y=y&&y.setTimeout?y:a,{}.toString.call(a.process)==="[object process]"?function(){h=function(C){o.nextTick(function(){d(C)})}}():function(){if(a.postMessage&&!a.importScripts){var C=!0,b=a.onmessage;return a.onmessage=function(){C=!1},a.postMessage("","*"),a.onmessage=b,C}}()?function(){var C="setImmediate$"+Math.random()+"$",b=function(B){B.source===a&&typeof B.data=="string"&&B.data.indexOf(C)===0&&d(+B.data.slice(C.length))};a.addEventListener?a.addEventListener("message",b,!1):a.attachEvent("onmessage",b),h=function(B){a.postMessage(C+B,"*")}}():a.MessageChannel?function(){var C=new MessageChannel;C.port1.onmessage=function(b){d(b.data)},h=function(b){C.port2.postMessage(b)}}():g&&"onreadystatechange"in g.createElement("script")?function(){var C=g.documentElement;h=function(b){var B=g.createElement("script");B.onreadystatechange=function(){d(b),B.onreadystatechange=null,C.removeChild(B),B=null},C.appendChild(B)}}():function(){h=function(C){setTimeout(d,0,C)}}(),y.setImmediate=l,y.clearImmediate=c}})(typeof self>"u"?i===void 0?this:i:self)}).call(r,s(7),s(20))},function(n,r){function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(C){if(d===setTimeout)return setTimeout(C,0);if((d===s||!d)&&setTimeout)return d=setTimeout,setTimeout(C,0);try{return d(C,0)}catch{try{return d.call(null,C,0)}catch{return d.call(this,C,0)}}}function a(C){if(h===clearTimeout)return clearTimeout(C);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(C);try{return h(C)}catch{try{return h.call(null,C)}catch{return h.call(this,C)}}}function u(){g&&p&&(g=!1,p.length?m=p.concat(m):y=-1,m.length&&l())}function l(){if(!g){var C=o(u);g=!0;for(var b=m.length;b;){for(p=m,m=[];++y<b;)p&&p[y].run();y=-1,b=m.length}p=null,g=!1,a(C)}}function c(C,b){this.fun=C,this.array=b}function A(){}var d,h,f=n.exports={};(function(){try{d=typeof setTimeout=="function"?setTimeout:s}catch{d=s}try{h=typeof clearTimeout=="function"?clearTimeout:i}catch{h=i}})();var p,m=[],g=!1,y=-1;f.nextTick=function(C){var b=new Array(arguments.length-1);if(arguments.length>1)for(var B=1;B<arguments.length;B++)b[B-1]=arguments[B];m.push(new c(C,b)),m.length!==1||g||o(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=A,f.addListener=A,f.once=A,f.off=A,f.removeListener=A,f.removeAllListeners=A,f.emit=A,f.prependListener=A,f.prependOnceListener=A,f.listeners=function(C){return[]},f.binding=function(C){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(C){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(n,r,s){s(22).polyfill()},function(n,r,s){function i(a,u){if(a==null)throw new TypeError("Cannot convert first argument to object");for(var l=Object(a),c=1;c<arguments.length;c++){var A=arguments[c];if(A!=null)for(var d=Object.keys(Object(A)),h=0,f=d.length;h<f;h++){var p=d[h],m=Object.getOwnPropertyDescriptor(A,p);m!==void 0&&m.enumerable&&(l[p]=A[p])}}return l}function o(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:i})}n.exports={assign:i,polyfill:o}},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(24),o=s(6),a=s(5),u=s(36),l=function(){for(var c=[],A=0;A<arguments.length;A++)c[A]=arguments[A];if(typeof window<"u"){var d=u.getOpts.apply(void 0,c);return new Promise(function(h,f){a.default.promise={resolve:h,reject:f},i.default(d),setTimeout(function(){o.openModal()})})}};l.close=o.onAction,l.getState=o.getState,l.setActionValue=a.setActionValue,l.stopLoading=o.stopLoading,l.setDefaults=u.setDefaults,r.default=l},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(1),o=s(0),a=o.default.MODAL,u=s(4),l=s(34),c=s(35),A=s(1);r.init=function(d){i.getNode(a)||(document.body||A.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),l.default(),u.default()),u.initModalContent(d),c.default(d)},r.default=r.init},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(0),o=i.default.MODAL;r.modalMarkup=`
  <div class="`+o+'" role="dialog" aria-modal="true"></div>',r.default=r.modalMarkup},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(0),o=i.default.OVERLAY,a=`<div 
    class="`+o+`"
    tabIndex="-1">
  </div>`;r.default=a},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(0),o=i.default.ICON;r.errorIconMarkup=function(){var a=o+"--error",u=a+"__line";return`
    <div class="`+a+`__x-mark">
      <span class="`+u+" "+u+`--left"></span>
      <span class="`+u+" "+u+`--right"></span>
    </div>
  `},r.warningIconMarkup=function(){var a=o+"--warning";return`
    <span class="`+a+`__body">
      <span class="`+a+`__dot"></span>
    </span>
  `},r.successIconMarkup=function(){var a=o+"--success";return`
    <span class="`+a+"__line "+a+`__line--long"></span>
    <span class="`+a+"__line "+a+`__line--tip"></span>

    <div class="`+a+`__ring"></div>
    <div class="`+a+`__hide-corners"></div>
  `}},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(0),o=i.default.CONTENT;r.contentMarkup=`
  <div class="`+o+`">

  </div>
`},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(0),o=i.default.BUTTON_CONTAINER,a=i.default.BUTTON,u=i.default.BUTTON_LOADER;r.buttonMarkup=`
  <div class="`+o+`">

    <button
      class="`+a+`"
    ></button>

    <div class="`+u+`">
      <div></div>
      <div></div>
      <div></div>
    </div>

  </div>
`},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(4),o=s(2),a=s(0),u=a.default.ICON,l=a.default.ICON_CUSTOM,c=["error","warning","success","info"],A={error:o.errorIconMarkup(),warning:o.warningIconMarkup(),success:o.successIconMarkup()},d=function(p,m){var g=u+"--"+p;m.classList.add(g);var y=A[p];y&&(m.innerHTML=y)},h=function(p,m){m.classList.add(l);var g=document.createElement("img");g.src=p,m.appendChild(g)},f=function(p){if(p){var m=i.injectElIntoModal(o.iconMarkup);c.includes(p)?d(p,m):h(p,m)}};r.default=f},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(2),o=s(4),a=function(u){navigator.userAgent.includes("AppleWebKit")&&(u.style.display="none",u.offsetHeight,u.style.display="")};r.initTitle=function(u){if(u){var l=o.injectElIntoModal(i.titleMarkup);l.textContent=u,a(l)}},r.initText=function(u){if(u){var l=document.createDocumentFragment();u.split(`
`).forEach(function(A,d,h){l.appendChild(document.createTextNode(A)),d<h.length-1&&l.appendChild(document.createElement("br"))});var c=o.injectElIntoModal(i.textMarkup);c.appendChild(l),a(c)}}},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(1),o=s(4),a=s(0),u=a.default.BUTTON,l=a.default.DANGER_BUTTON,c=s(3),A=s(2),d=s(6),h=s(5),f=function(m,g,y){var C=g.text,b=g.value,B=g.className,I=g.closeModal,w=i.stringToNode(A.buttonMarkup),$=w.querySelector("."+u),T=u+"--"+m;$.classList.add(T),B&&(Array.isArray(B)?B:B.split(" ")).filter(function(R){return R.length>0}).forEach(function(R){$.classList.add(R)}),y&&m===c.CONFIRM_KEY&&$.classList.add(l),$.textContent=C;var _={};return _[m]=b,h.setActionValue(_),h.setActionOptionsFor(m,{closeModal:I}),$.addEventListener("click",function(){return d.onAction(m)}),w},p=function(m,g){var y=o.injectElIntoModal(A.footerMarkup);for(var C in m){var b=m[C],B=f(C,b,g);b.visible&&y.appendChild(B)}y.children.length===0&&y.remove()};r.default=p},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(3),o=s(4),a=s(2),u=s(5),l=s(6),c=s(0),A=c.default.CONTENT,d=function(p){p.addEventListener("input",function(m){var g=m.target,y=g.value;u.setActionValue(y)}),p.addEventListener("keyup",function(m){if(m.key==="Enter")return l.onAction(i.CONFIRM_KEY)}),setTimeout(function(){p.focus(),u.setActionValue("")},0)},h=function(p,m,g){var y=document.createElement(m),C=A+"__"+m;y.classList.add(C);for(var b in g){var B=g[b];y[b]=B}m==="input"&&d(y),p.appendChild(y)},f=function(p){if(p){var m=o.injectElIntoModal(a.contentMarkup),g=p.element,y=p.attributes;typeof g=="string"?h(m,g,y):m.appendChild(g)}};r.default=f},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(1),o=s(2),a=function(){var u=i.stringToNode(o.overlayMarkup);document.body.appendChild(u)};r.default=a},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(5),o=s(6),a=s(1),u=s(3),l=s(0),c=l.default.MODAL,A=l.default.BUTTON,d=l.default.OVERLAY,h=function(R){R.preventDefault(),y()},f=function(R){R.preventDefault(),C()},p=function(R){if(i.default.isOpen)switch(R.key){case"Escape":return o.onAction(u.CANCEL_KEY)}},m=function(R){if(i.default.isOpen)switch(R.key){case"Tab":return h(R)}},g=function(R){if(i.default.isOpen)return R.key==="Tab"&&R.shiftKey?f(R):void 0},y=function(){var R=a.getNode(A);R&&(R.tabIndex=0,R.focus())},C=function(){var R=a.getNode(c),P=R.querySelectorAll("."+A),L=P.length-1,z=P[L];z&&z.focus()},b=function(R){R[R.length-1].addEventListener("keydown",m)},B=function(R){R[0].addEventListener("keydown",g)},I=function(){var R=a.getNode(c),P=R.querySelectorAll("."+A);P.length&&(b(P),B(P))},w=function(R){if(a.getNode(d)===R.target)return o.onAction(u.CANCEL_KEY)},$=function(R){var P=a.getNode(d);P.removeEventListener("click",w),R&&P.addEventListener("click",w)},T=function(R){i.default.timer&&clearTimeout(i.default.timer),R&&(i.default.timer=window.setTimeout(function(){return o.onAction(u.CANCEL_KEY)},R))},_=function(R){R.closeOnEsc?document.addEventListener("keyup",p):document.removeEventListener("keyup",p),R.dangerMode?y():C(),I(),$(R.closeOnClickOutside),T(R.timer)};r.default=_},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(1),o=s(3),a=s(37),u=s(38),l={title:null,text:null,icon:null,buttons:o.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},c=Object.assign({},l);r.setDefaults=function(g){c=Object.assign({},l,g)};var A=function(g){var y=g&&g.button,C=g&&g.buttons;return y!==void 0&&C!==void 0&&i.throwErr("Cannot set both 'button' and 'buttons' options!"),y!==void 0?{confirm:y}:C},d=function(g){return i.ordinalSuffixOf(g+1)},h=function(g,y){i.throwErr(d(y)+" argument ('"+g+"') is invalid")},f=function(g,y){var C=g+1,b=y[C];i.isPlainObject(b)||b===void 0||i.throwErr("Expected "+d(C)+" argument ('"+b+"') to be a plain object")},p=function(g,y){var C=g+1,b=y[C];b!==void 0&&i.throwErr("Unexpected "+d(C)+" argument ("+b+")")},m=function(g,y,C,b){var B=typeof y,I=B==="string",w=y instanceof Element;if(I){if(C===0)return{text:y};if(C===1)return{text:y,title:b[0]};if(C===2)return f(C,b),{icon:y};h(y,C)}else{if(w&&C===0)return f(C,b),{content:y};if(i.isPlainObject(y))return p(C,b),y;h(y,C)}};r.getOpts=function(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];var C={};g.forEach(function(I,w){var $=m(0,I,w,g);Object.assign(C,$)});var b=A(C);C.buttons=o.getButtonListOpts(b),delete C.button,C.content=a.getContentOpts(C.content);var B=Object.assign({},l,c,C);return Object.keys(B).forEach(function(I){u.DEPRECATED_OPTS[I]&&u.logDeprecation(I)}),B}},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0});var i=s(1),o={element:"input",attributes:{placeholder:""}};r.getContentOpts=function(a){var u={};return i.isPlainObject(a)?Object.assign(u,a):a instanceof Element?{element:a}:a==="input"?o:null}},function(n,r,s){Object.defineProperty(r,"__esModule",{value:!0}),r.logDeprecation=function(i){var o=r.DEPRECATED_OPTS[i],a=o.onlyRename,u=o.replacement,l=o.subOption,c=o.link,A=a?"renamed":"deprecated",d='SweetAlert warning: "'+i+'" option has been '+A+".";u&&(d+=" Please use"+(l?' "'+l+'" in ':" ")+'"'+u+'" instead.');var h="https://sweetalert.js.org";d+=c?" More details: "+h+c:" More details: "+h+"/guides/#upgrading-from-1x",console.warn(d)},r.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])})})(RZ);const OZ=$b(RZ.exports),iKe=()=>{var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),n=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();return e+" "+n};function oKe(){const t=Z.exports.useRef(),e=Z.exports.useRef(null),n=Z.exports.useRef(0),r=cd(),s=Ic(),[i,o]=Z.exports.useState(!1),a=()=>o(!1),u=()=>o(!0),[l,c]=Z.exports.useState(.6),[A,d]=Z.exports.useState(!1),[h,f]=Z.exports.useState(r.state.img),[p,m]=Z.exports.useState(null),g=Z.exports.useRef([]),y=Y2(),C=iZ(xF),b=tKe(),B=()=>{jke(`${window.location.origin}/best_v5/model.json`,{onProgress:P=>{oo("#loading").show()}}).then(async P=>{const L=di(P.inputs[0].shape);await P.executeAsync(L).then(z=>{vt(z),vt(L),oo("#loading").hide()}),m(P)})};Z.exports.useEffect(()=>{B()},[]);const I=()=>{f(r.state.img),d(!0)},w=()=>{console.log(t.current.cropper.getCropBoxData()),f(t.current.cropper.getCroppedCanvas().toDataURL()),d(!1)},$=()=>{f(r.state.img),d(!1)},T=()=>{y.forms.toArray().then(L=>{g.current=[...L]}),u()},_=async()=>{let P=p;oo("#loading").show(),Ca().startScope();let[L,z]=P.inputs[0].shape.slice(1,3);var V=document.getElementById("out_img");const q=ie(()=>Eh.resizeBilinear(Hce(V),[L,z]).div(255).expandDims(0));await P.executeAsync(q).then(ne=>{const[H,J,se]=ne.slice(0,3),ae=H.dataSync(),Ae=J.dataSync();se.dataSync(),n.current=tHe(e,l,ae,Ae),vt(ne)}),Ca().endScope(),oo("#loading").hide()},R=async()=>{const P={};var L=oo("#CountData").serializeArray();oo.each(L,function(z,V){P[V.name]=V.value}),P.mobile=ng.currentUser.phoneNumber.slice(3),P.id=Math.random().toString(16),P.obj_type=r.state.metal_type,P.time=iKe(),J6e(document.querySelector("#countImg")).then(z=>{const V=eKe(b,P.id);Jze(V,z.toDataURL(),"data_url").then(q=>{Zze(q.ref).then(ne=>{P.url=ne;try{V7e(sZ(C,"users"),P),a(!0),OZ("Data added successfully!")}catch(H){console.error("Error adding document: ",H)}})})})};return De("div",{className:"pixel-app",children:[De($a,{show:i,onHide:a,children:[M($a.Header,{closeButton:!0,children:M($a.Title,{children:"Save Record"})}),M($a.Body,{children:De(wn,{id:"CountData",children:[De(wn.Group,{children:[M(wn.Label,{children:"Object Count"}),M(wn.Control,{name:"count",type:"text",placeholder:n.current,value:n.current,readOnly:!0})]}),De(wn.Group,{children:[M(wn.Label,{children:"Object Type"}),M(wn.Control,{name:"obj_type",type:"text",placeholder:"Angle Bar",value:"Angle Bar",readOnly:!0})]}),g.current.map((P,L)=>{if(P.inputs==="Text field")return De(wn.Group,{className:"mb-3",controlId:"formBasicEmail",children:[M(wn.Label,{children:P.lables}),M(wn.Control,{type:"text",name:P.lables,placeholder:"Enter "+P.lables})]},L);if(P.inputs==="Select box")return De(wn.Group,{children:[M(wn.Label,{children:P.lables}),De(wn.Select,{name:P.lables,"aria-label":"Default select example",children:[M("option",{children:"Select menu"}),P.options.map((z,V)=>M("option",{value:z,children:z}))]})]},L);if(P.inputs==="Check box")return De(wn.Group,{children:[M(wn.Label,{children:P.lables}),M(wn.Check,{type:"checkbox",name:P.lables})]},L)})]})}),De($a.Footer,{children:[M(rd,{variant:"secondary",onClick:a,children:"Close"}),M(rd,{variant:"primary",onClick:R,children:"Save"})]})]}),M("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark",style:{position:"relative"},children:De("div",{className:"container-fluid",children:[M("div",{className:"row",children:M("div",{className:"col",children:M("img",{onClick:()=>{s("/camera")},src:"static\\img\\camera.svg",width:"30",height:"30",className:"img-fluid",crossOrigin:"anonymous",alt:"crop"})})}),De("strong",{className:"navbar-brand text-wrap",style:{color:"#ffff"},children:["Count : ",M("span",{id:"totalCount",children:"0"})]}),De("div",{className:"row",children:[M("button",{type:"button",className:"btn btn-primary col col",onClick:()=>{l>=.01&&c(l-.05)},children:"-"}),"\xA0",M("button",{type:"button",className:"btn btn-light col col",children:l.toFixed(2)}),"\xA0",M("button",{type:"button",className:"btn btn-primary col",onClick:()=>{l<.99&&c(l+.05)},children:"+"})," \xA0\xA0"]})]})}),M("div",{className:"preview-img",children:A?M("div",{className:"row",children:M("div",{className:"col-12",children:M(tOe,{ref:t,src:h,style:{height:"100%",width:"100%"},guides:!1,crossOrigin:"true"})})}):De("div",{id:"countImg",children:[M("img",{src:h,className:"img-fluid",id:"out_img",crossOrigin:"anonymous",alt:"imagepreview"}),M("canvas",{id:"canvasId",className:"size",ref:e})]})}),M("nav",{id:"navbar_",className:"navbar fixed-bottom navbar-expand-sm bg-dark",children:De("div",{className:"container-fluid",children:[De("div",{className:"row",children:[M("div",{className:"col-6",children:A?M("img",{onClick:$,src:"static\\img\\img.svg",width:"30",height:"30",className:"img-fluid",crossOrigin:"anonymous",alt:"closecrop"}):M("img",{onClick:I,src:"static\\img\\crop.svg",width:"30",height:"30",className:"img-fluid",crossOrigin:"anonymous",alt:"crop"})}),M("div",{className:"col-6",children:M("img",{onClick:T,src:"static\\img\\file_add.svg",width:"30",height:"30",className:"img-fluid",crossOrigin:"anonymous",alt:"file"})})]}),A?M("button",{onClick:w,type:"button",className:"btn btn-primary",children:"Crop"}):M("button",{onClick:_,type:"button",className:"btn btn-primary",children:"Count"}),M("div",{id:"loading",className:"overlay",style:{display:"none"},children:M("div",{className:"d-flex justify-content-center",children:M("div",{className:"spinner-grow",role:"status",style:{width:"3rem",height:"3rem",zIndex:"20"},children:M("span",{className:"sr-only",children:"Model Loading..."})})})}),De("div",{className:"row",children:[M("div",{className:"col-6",children:M("img",{src:"static\\img\\draw.svg",width:"30",height:"30",className:"img-fluid",crossOrigin:"anonymous",alt:"crop"})}),M("div",{className:"col-6",children:M("img",{src:"static\\img\\trash.svg",width:"30",height:"30",className:"img-fluid",crossOrigin:"anonymous",alt:"crop"})})]})]})})]})}const aKe=()=>{const t=Y2(),e=t.forms.toArray(),[n,r]=Z.exports.useState(!1),s=()=>r(!1),i=()=>r(!0),[o,a]=Z.exports.useState(!1),[u,l]=Z.exports.useState([]),[c,A]=Z.exports.useState([]),d=()=>{e.then(async C=>{await A([...C])})};Z.exports.useEffect(()=>{d()},[]);const h=C=>{C==="Select box"?(a(!0),l([]),l([...u,u.length])):a(!1)},f=()=>{i()},p=()=>{l([...u,u.length])},m=C=>{oo("#"+C).remove(),u.pop()},g=()=>{var C={},b=[],B=new Date,I=B.getFullYear()+"-"+(B.getMonth()+1)+"-"+B.getDate(),w=B.getHours()+":"+B.getMinutes()+":"+B.getSeconds();let $=!1;var T=oo("#formData").serializeArray();oo.each(T,function(_,R){if(R.value)$=!0;else return alert("Please Enter Input"),!1;R.name==="options"?b.push(R.value):C[R.name]=R.value}),C.options=b,C.time=I+" "+w,$&&t.forms.add(C),d(),s(),OZ("Data added successfully!")},y=C=>{console.log(C,"delete"),t.forms.delete(C),d()};return De("div",{className:"p-2",children:[De($a,{show:n,onHide:s,children:[M($a.Header,{closeButton:!0,children:M($a.Title,{children:"Add Fields"})}),M($a.Body,{children:De(wn,{id:"formData",children:[De(wn.Group,{className:"mb-3",controlId:"lableid",children:[M(wn.Label,{children:"Lable"}),M(wn.Control,{name:"lables",type:"text",placeholder:"Enter Lable",required:!0})]}),De(wn.Group,{className:"mb-3",controlId:"inputs",children:[M(wn.Label,{children:"Input"}),M("div",{className:"row",children:M("div",{className:"mb-3",children:De(wn.Select,{"aria-label":"inputs",name:"inputs",onChange:C=>h(C.target.value),required:!0,children:[M("option",{value:"",children:"Select"}),M("option",{value:"Text field",children:"Text Field"}),M("option",{value:"Select box",children:"Select box"}),M("option",{value:"Check box",children:"Check box"})]})})})]}),o?M("div",{className:"",children:u.map((C,b)=>De("div",{id:"rowid_"+b,className:"row mt-2",children:[M("div",{className:"col-8",children:M("input",{name:"options",type:"text",className:"form-control",placeholder:"Enter Options"})}),De("div",{className:"col-4",children:[M("button",{type:"button",className:"float-start btn btn-primary btn-circle text-right",onClick:p,children:"+"}),M("button",{type:"button",className:"float-end btn btn-danger  btn-circle text-left",onClick:()=>m("rowid_"+b),children:"-"})]})]},b))}):M(cf,{})]})}),De($a.Footer,{children:[M(rd,{variant:"secondary",onClick:s,children:"Close"}),M(rd,{variant:"primary",onClick:g,children:"Save"})]})]}),De("div",{className:"row",children:[M("div",{className:"col-6",children:M("h5",{className:"bold",children:"Create Form"})}),M("div",{className:"col-6",children:M("button",{onClick:f,type:"button",className:"float-end btn btn-primary btn-circle text-right",children:"+"})})]}),M("div",{className:"table-responsive",children:De("table",{id:"show_table",className:"table",children:[M("thead",{children:De("tr",{children:[M("th",{children:"Lable"}),M("th",{children:"Input"}),M("th",{children:"Delete"})]})}),M("tbody",{children:c.map((C,b)=>De("tr",{children:[M("td",{children:C.lables}),De("td",{children:[" ",M("div",{children:C.inputs})," ",C.options.map((B,I)=>De("span",{children:[B,",\xA0"]},I))]}),M("td",{children:M("div",{onClick:()=>y(C.id),className:"btn btn-danger",children:M(qse,{})})})]},b))})]})}),M(Zb,{})]})};var uKe=function(t,e,n){return e.map(function(r){return typeof t[r]=="number"?t[r]:'"'.concat(String(t[r]).replace(/"/g,'""'),'"')}).join(n)},lKe=function(t,e,n){var r=Object.keys(t[0]),s=e!=null?e:r,i=t.map(function(o){return uKe(o,r,n)});return i.unshift(s.join(n)),i.join(`\r
`)},cKe="text/csv;charset=utf-8;",AKe=function(t){var e=t.data,n=t.filename,r=n===void 0?"export.csv":n,s=t.delimiter,i=s===void 0?";":s,o=t.headers,a=dKe(r);if(e.length===0){u6(o?o.join(i):"",a);return}var u=lKe(e,o,i);u6(u,a)},u6=function(t,e){var n="\uFEFF",r=new Blob([n,t],{type:cKe}),s=document.createElement("a");s.href=URL.createObjectURL(r),s.download=e,s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)},dKe=function(t){return/csv$/i.test(t)?t:"".concat(t,".csv")};Y2();function hKe(){const[t,e]=Z.exports.useState([]),[n,r]=Z.exports.useState([]),s=iZ(xF),i=async()=>{var a=[];return(await H7e(sZ(s,"users"))).forEach(l=>{a.push(l.data())}),a};return Z.exports.useEffect(()=>{var a=0,u=i();u.then(async l=>{const c={};l.map((A,d)=>{var h={};Object.keys(A).forEach(p=>{p!=="url"&&p!=="id"&&(h[p]=A[p])});var f=Object.keys(h).length;a<f&&(r(Object.keys(h).sort()),a=f)}),e([...c])})},[]),De("div",{className:"p-2",children:[De("div",{className:"row",children:[M("div",{className:"col-6",children:M("h5",{className:"bold",children:"History"})}),M("div",{className:"col-6",children:M("button",{onClick:()=>{console.log(t,n,"::::::::::::"),AKe({data:[t],filename:"Countshpae",delimiter:",",headers:n})},type:"button",className:"float-end btn btn-primary btn-circle text-right",children:"Export"})})]}),M("div",{className:"row",children:console.log(t)}),M(Zb,{})]})}function fKe(){return De(cf,{children:[De("div",{className:"p-3",children:[M("h1",{className:"p-2 fw-bolder",children:"Profile"}),M("center",{to:"#",className:"navbar-brand icon-op",children:M("span",{className:"border1 p-3",children:M(yU,{})})}),M("h5",{className:"mt-5 p-2 text-black",style:{marginLeft:"2rem"},children:"Member Since: Oct 2022"}),M("div",{className:"border-top",children:De("div",{className:"d-flex justify-content-between p-3",children:[De("div",{className:"d-flex",children:[M("div",{className:"navbar-brand icon-op",children:M(yU,{})}),M("h4",{className:"mt-2",style:{marginLeft:"2rem"},children:"Logout"})]}),M("h1",{className:"icon-op2",children:M(Wse,{})})]})})]}),M(Zb,{})]})}function jN(){return jN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jN.apply(this,arguments)}function l6(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function pKe(t){var e=gKe(t,"string");return typeof e=="symbol"?e:String(e)}function gKe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mKe(t,e,n){var r=Z.exports.useRef(t!==void 0),s=Z.exports.useState(e),i=s[0],o=s[1],a=t!==void 0,u=r.current;return r.current=a,!a&&u&&i!==e&&o(e),[a?t:i,Z.exports.useCallback(function(l){for(var c=arguments.length,A=new Array(c>1?c-1:0),d=1;d<c;d++)A[d-1]=arguments[d];n&&n.apply(void 0,[l].concat(A)),o(l)},[n])]}function yKe(t,e){return Object.keys(e).reduce(function(n,r){var s,i=n,o=i[l6(r)],a=i[r],u=Bq(i,[l6(r),r].map(pKe)),l=e[r],c=mKe(a,o,t[l]),A=c[0],d=c[1];return jN({},u,(s={},s[r]=A,s[l]=d,s))},t)}const UZ=Oq("h4");UZ.displayName="DivStyledAsH4";const LZ=Z.exports.forwardRef(({className:t,bsPrefix:e,as:n=UZ,...r},s)=>(e=jn(e,"alert-heading"),M(n,{ref:s,className:jt(t,e),...r})));LZ.displayName="AlertHeading";const vKe=LZ,wKe=["onKeyDown"];function CKe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function bKe(t){return!t||t.trim()==="#"}const PZ=Z.exports.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=CKe(t,wKe);const[s]=g4(Object.assign({tagName:"a"},r)),i=lo(o=>{s.onKeyDown(o),n==null||n(o)});return bKe(r.href)||r.role==="button"?M("a",Object.assign({ref:e},r,s,{onKeyDown:i})):M("a",Object.assign({ref:e},r,{onKeyDown:n}))});PZ.displayName="Anchor";const MZ=Z.exports.forwardRef(({className:t,bsPrefix:e,as:n=PZ,...r},s)=>(e=jn(e,"alert-link"),M(n,{ref:s,className:jt(t,e),...r})));MZ.displayName="AlertLink";const xKe=MZ,QZ=Z.exports.forwardRef((t,e)=>{const{bsPrefix:n,show:r=!0,closeLabel:s="Close alert",closeVariant:i,className:o,children:a,variant:u="primary",onClose:l,dismissible:c,transition:A=ab,...d}=yKe(t,{show:"onClose"}),h=jn(n,"alert"),f=lo(g=>{l&&l(!1,g)}),p=A===!0?ab:A,m=De("div",{role:"alert",...p?void 0:d,ref:e,className:jt(o,h,u&&`${h}-${u}`,c&&`${h}-dismissible`),children:[c&&M(Dq,{onClick:f,"aria-label":s,variant:i}),a]});return p?M(p,{unmountOnExit:!0,...d,ref:void 0,in:r,children:m}):r?m:null});QZ.displayName="Alert";const BKe=Object.assign(QZ,{Link:xKe,Heading:vKe}),IKe={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8]))\\d{3}|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4]))|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:(?:79|94)[01]|83[0-389])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[0-26-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|22"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","[025-7]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[025-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","[24-689]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]]]],BL:["590","00","590\\d{6}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:395|76[018])\\d|475[0-5])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","(?:[2-467]\\d\\d|8001)\\d{5}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[23]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-46-9]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","(?:[2-8]\\d|90)\\d{8}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|50|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:00|2[125-9]|33|44|66|77|88)|622)[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:(?:79|94)[01]|83[0-389])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[0-26-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","[189]\\d{8}|[1-68]\\d{6}",[7,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","1[127]\\d{8,9}|2\\d{9}(?:\\d{2})?|[12]\\d{6,7}|86\\d{6}|(?:1[03-689]\\d|6)\\d{7,9}|(?:[3-579]\\d|8[0-57-9])\\d{6,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]","(?:10|2[0-57-9])(?:10|9[56])","10(?:10|9[56])|2[0-57-9](?:100|9[56])"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:60\\d\\d|9101)\\d{6}|(?:1\\d|3)\\d{9}",[10,11],[["(\\d{3})(\\d{7})","$1 $2",["6"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|91"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","[27]\\d{6,7}|[34]\\d{5,7}|63\\d{6}|(?:5|8\\d\\d)\\d{7}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:(?:79|94)[01]|83[0-389])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[0-26-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[0568]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d)(\\d{4,9})","$1 $2",["[2568][1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["[12]00|[368]|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[1245]|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0235])|4(?:[0-5]\\d\\d|69[7-9]|70[0-79])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-2]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","[56]94\\d{6}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[56]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","590\\d{6}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:395|76[018])\\d|475[0-5])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",[6,7,8,9],[["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-5]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","(?:[2-489]\\d|55)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","(?:(?:00[1-9]|8\\d)\\d{4}|[1-36])\\d{6}|00\\d{10}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\d{1,6}|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[1-9]\\d{8}|3[2-9]\\d{7}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],0,0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97[7-9]))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[257-9]"],"0$1"]],"0",0,"(000[259]\\d{6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30[013-9]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[25]\\d|33|77|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[4-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(8-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"8 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(8-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(8-$1)",1]],"8",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9]|9)|8(?:0[89]|92)","5(?:2(?:[2-49]|8[235-9])|3[5-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-2]|5[01]|8[0-3]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","590\\d{6}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:395|76[018])\\d|475[0-5])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[45]|6(?:0[23]|[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-6]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","596\\d{6}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","1(?:(?:[27]2|44|87|99)[1-9]|65[0-689])\\d{7}|(?:1(?:[01]\\d|2[13-9]|[35][1-9]|4[0-35-9]|6[0-46-9]|7[013-9]|8[1-69]|9[1-8])|[2-9]\\d)\\d{8}",[10,11],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"],0,1],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 $3 $4",["1(?:33|5[56]|81)"],0,1],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 $3 $4",["1"],0,1]],"01",0,"0(?:[12]|4[45])|1",0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[047]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:[124-7]|9\\d{3})\\d{6}|[1-9]\\d{7}|[78]\\d{9,13}",[7,8,10,11,12,13,14],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["78"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-7]|8[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:444|(?:55|8\\d)\\d|666)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[4-68]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|80\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-6])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[16]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2689]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["69(?:2\\d\\d|3(?:[06][0-6]|1[013]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-5]|76(?:2[27]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[2378]\\d|62|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,"3[04-689]|[489]",0,"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","92\\d{7}|(?:[15]|8\\d)\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","(?:[1-6]|[7-9]\\d\\d)\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","800\\d{4}|(?:[249]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-8]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|77|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|68|[78]\\d)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|[89]00\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-39]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|[69]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2679]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3[1-5]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","[1-6]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["6"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:5056(?:[0-35-9]\\d|4[468])|73020\\d)\\d{4}|(?:4722|505[2-57-9]|983[289])\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[013569]|3[0-24679]|4[167]|5[0-2]|6[0149]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|[34][016]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[068]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[6,7,8,9,10,11,12,13],[["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","810","(?:20|33|[5-79]\\d|88)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72)\\d{4}|8\\d{5}(?:\\d{3})?",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[478]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","[23]\\d{7,8}|(?:4\\d\\d|[89]00)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[23]"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|5[0-4]|6\\d|[78]0)\\d{4}"],["639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|63|[79]\\d)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[79]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[35-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[35-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,0,0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function EKe(t,e,n){switch(n){case"Backspace":e>0&&(t=t.slice(0,e-1)+t.slice(e),e--);break;case"Delete":t=t.slice(0,e)+t.slice(e+1);break}return{value:t,caret:e}}function $Ke(t,e,n){for(var r="",s=0,i=0;i<t.length;){var o=n(t[i],r);o!==void 0&&(r+=o,e!==void 0&&(e===i?s=r.length-1:e>i&&(s=r.length))),i++}e===void 0&&(s=r.length);var a={value:r,caret:s};return a}function SKe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=TKe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TKe(t,e){if(!!t){if(typeof t=="string")return c6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c6(t,e)}}function c6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XN(t,e){for(var n=0,r=SKe(e.split("")),s;!(s=r()).done;){var i=s.value;i===t&&n++}return n}function NKe(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"x",r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=t.length,i=XN("(",t),o=XN(")",t),a=i-o;a>0&&s<e.length;)t+=e[s].replace(n,r),e[s]===")"&&a--,s++;return t}function kKe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=FKe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FKe(t,e){if(!!t){if(typeof t=="string")return A6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A6(t,e)}}function A6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Ke(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",n=arguments.length>2?arguments[2]:void 0;if(!t)return function(s){return{text:s}};var r=XN(e,t);return function(s){if(!s)return{text:"",template:t};for(var i=0,o="",a=kKe(t.split("")),u;!(u=a()).done;){var l=u.value;if(l!==e){o+=l;continue}if(o+=s[i],i++,i===s.length&&s.length<r)break}return n&&(o=NKe(o,t)),{text:o,template:t}}}function DKe(t,e,n){typeof n=="string"&&(n=_Ke(n));var r=n(t)||{},s=r.text,i=r.template;if(s===void 0&&(s=t),i)if(e===void 0)e=s.length;else{for(var o=0,a=!1,u=-1;o<s.length&&o<i.length;){if(s[o]!==i[o]){if(e===0){a=!0,e=o;break}u=o,e--}o++}a||(e=u+1)}return{text:s,caret:e}}function RKe(t){return t.hasAttribute("readonly")}function OKe(t){if(t.selectionStart!==t.selectionEnd)return{start:t.selectionStart,end:t.selectionEnd}}var d6={Backspace:8,Delete:46};function UKe(t){switch(t.keyCode){case d6.Backspace:return"Backspace";case d6.Delete:return"Delete"}}function LKe(t){return t.selectionStart}function HZ(t,e){e!==void 0&&(PKe()?setTimeout(function(){return t.setSelectionRange(e,e)},0):t.setSelectionRange(e,e))}function PKe(){if(typeof navigator<"u")return MKe.test(navigator.userAgent)}var MKe=/Android/i;function QKe(t,e,n,r,s){qN(e,n,r,void 0,s)}function HKe(t,e,n,r,s){if(!RKe(e)){var i=UKe(t);switch(i){case"Delete":case"Backspace":t.preventDefault();var o=OKe(e);return o?(VKe(e,o),qN(e,n,r,void 0,s)):qN(e,n,r,i,s)}}}function VKe(t,e){var n=t.value;n=n.slice(0,e.start)+n.slice(e.end),t.value=n,HZ(t,e.start)}function qN(t,e,n,r,s){var i=$Ke(t.value,LKe(t),e),o=i.value,a=i.caret;if(r){var u=EKe(o,a,r);o=u.value,a=u.caret}var l=DKe(o,a,n),c=l.text;a=l.caret,t.value=c,HZ(t,a),s(o)}var zKe=["value","parse","format","inputComponent","onChange","onKeyDown"];function KKe(t,e){if(t==null)return{};var n=WKe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function WKe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function i0(t,e){var n=t.value,r=t.parse,s=t.format,i=t.inputComponent,o=t.onChange,a=t.onKeyDown,u=KKe(t,zKe),l=Z.exports.useRef(),c=Z.exports.useCallback(function(h){l.current=h,e&&(typeof e=="function"?e(h):e.current=h)},[e]),A=Z.exports.useCallback(function(h){return QKe(h,l.current,r,s,o)},[l,r,s,o]),d=Z.exports.useCallback(function(h){return a&&a(h),HKe(h,l.current,r,s,o)},[l,r,s,o,a]);return M(i,{...u,ref:c,value:s(jKe(n)?"":n).text,onKeyDown:d,onChange:A})}i0=gr.forwardRef(i0);i0.propTypes={parse:be.exports.func.isRequired,format:be.exports.func.isRequired,inputComponent:be.exports.elementType.isRequired,type:be.exports.string.isRequired,value:be.exports.string,onChange:be.exports.func.isRequired,onKeyDown:be.exports.func,onCut:be.exports.func,onPaste:be.exports.func};i0.defaultProps={inputComponent:"input",type:"text"};const GKe=i0;function jKe(t){return t==null}function YN(t){return YN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YN(t)}function h6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function XKe(t,e,n){return e&&h6(t.prototype,e),n&&h6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o0(t,e)}function JKe(t){var e=zZ();return function(){var r=a0(t),s;if(e){var i=a0(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return ZKe(this,s)}}function ZKe(t,e){if(e&&(YN(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VZ(t)}function VZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JN(t){var e=typeof Map=="function"?new Map:void 0;return JN=function(r){if(r===null||!eWe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,s)}function s(){return Ew(r,arguments,a0(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),o0(s,r)},JN(t)}function Ew(t,e,n){return zZ()?Ew=Reflect.construct:Ew=function(s,i,o){var a=[null];a.push.apply(a,i);var u=Function.bind.apply(s,a),l=new u;return o&&o0(l,o.prototype),l},Ew.apply(null,arguments)}function zZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function eWe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function o0(t,e){return o0=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r},o0(t,e)}function a0(t){return a0=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},a0(t)}var Au=function(t){YKe(n,t);var e=JKe(n);function n(r){var s;return qKe(this,n),s=e.call(this,r),Object.setPrototypeOf(VZ(s),n.prototype),s.name=s.constructor.name,s}return XKe(n)}(JN(Error)),yR=2,tWe=17,nWe=3,qs="0-9\uFF10-\uFF19\u0660-\u0669\u06F0-\u06F9",rWe="-\u2010-\u2015\u2212\u30FC\uFF0D",sWe="\uFF0F/",iWe="\uFF0E.",oWe=" \xA0\xAD\u200B\u2060\u3000",aWe="()\uFF08\uFF09\uFF3B\uFF3D\\[\\]",uWe="~\u2053\u223C\uFF5E",ea="".concat(rWe).concat(sWe).concat(iWe).concat(oWe).concat(aWe).concat(uWe),LB="+\uFF0B";function f6(t,e){t=t.split("-"),e=e.split("-");for(var n=t[0].split("."),r=e[0].split("."),s=0;s<3;s++){var i=Number(n[s]),o=Number(r[s]);if(i>o)return 1;if(o>i)return-1;if(!isNaN(i)&&isNaN(o))return 1;if(isNaN(i)&&!isNaN(o))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var lWe={}.constructor;function Jg(t){return t!=null&&t.constructor===lWe}function ZN(t){return ZN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZN(t)}function PB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function MB(t,e,n){return e&&p6(t.prototype,e),n&&p6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var cWe="1.2.0",AWe="1.7.35",g6=" ext. ",dWe=/^\d+$/,Dr=function(){function t(e){PB(this,t),gWe(e),this.metadata=e,WZ.call(this,e)}return MB(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var r=this.countryCallingCodes()[n];if(r&&r.length===1&&r[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,r){if(n&&dWe.test(n)&&(r=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new m6(this.getCountryMetadata(n),this)}else if(r){if(!this.hasCallingCode(r))throw new Error("Unknown calling code: ".concat(r));this.numberingPlan=new m6(this.getNumberingPlanMetadata(r),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var r=this.countryCallingCodes()[n];if(r)return r.length===1&&r[0].length===3?void 0:r}},{key:"getCountryCodeForCallingCode",value:function(n){var r=this.getCountryCodesForCallingCode(n);if(r)return r[0]}},{key:"getNumberingPlanMetadata",value:function(n){var r=this.getCountryCodeForCallingCode(n);if(r)return this.getCountryMetadata(r);if(this.nonGeographic()){var s=this.nonGeographic()[n];if(s)return s}else{var i=this.countryCallingCodes()[n];if(i&&i.length===1&&i[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}]),t}(),m6=function(){function t(e,n){PB(this,t),this.globalMetadataObject=n,this.metadata=e,WZ.call(this,n.metadata)}return MB(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,r=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return r.map(function(s){return new hWe(s,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&y6(this.types(),n))return new pWe(y6(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?g6:this.metadata[13]||g6}}]),t}(),hWe=function(){function t(e,n){PB(this,t),this._format=e,this.metadata=n}return MB(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!fWe.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),t}(),fWe=/^\(?\$1\)?$/,pWe=function(){function t(e,n){PB(this,t),this.type=e,this.metadata=n}return MB(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}]),t}();function y6(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function gWe(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!Jg(t)||!Jg(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(Jg(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+mWe(t)+": "+t,"."))}var mWe=function(e){return ZN(e)};function Mc(t,e){if(e=new Dr(e),e.hasCountry(t))return e.country(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function KZ(t,e){return e.countries.hasOwnProperty(t)}function WZ(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?f6(e,cWe)===-1?this.v2=!0:f6(e,AWe)===-1?this.v3=!0:this.v4=!0:this.v1=!0}var yWe=";ext=",nh=function(e){return"([".concat(qs,"]{1,").concat(e,"})")};function GZ(t){var e="20",n="15",r="9",s="6",i="[ \xA0\\t,]*",o="[:\\.\uFF0E]?[ \xA0\\t,-]*",a="#?",u="(?:e?xt(?:ensi(?:o\u0301?|\xF3))?n?|\uFF45?\uFF58\uFF54\uFF4E?|\u0434\u043E\u0431|anexo)",l="(?:[x\uFF58#\uFF03~\uFF5E]|int|\uFF49\uFF4E\uFF54)",c="[- ]+",A="[ \xA0\\t]*",d="(?:,{2}|;)",h=yWe+nh(e),f=i+u+o+nh(e)+a,p=i+l+o+nh(r)+a,m=c+nh(s)+"#",g=A+d+o+nh(n)+a,y=A+"(?:,)+"+o+nh(r)+a;return h+"|"+f+"|"+p+"|"+m+"|"+g+"|"+y}var vWe="["+qs+"]{"+yR+"}",wWe="["+LB+"]{0,1}(?:["+ea+"]*["+qs+"]){3,}["+ea+qs+"]*",CWe=new RegExp("^["+LB+"]{0,1}(?:["+ea+"]*["+qs+"]){1,2}$","i"),bWe=wWe+"(?:"+GZ()+")?",xWe=new RegExp("^"+vWe+"$|^"+bWe+"$","i");function BWe(t){return t.length>=yR&&xWe.test(t)}function IWe(t){return CWe.test(t)}var v6=new RegExp("(?:"+GZ()+")$","i");function EWe(t){var e=t.search(v6);if(e<0)return{};for(var n=t.slice(0,e),r=t.match(v6),s=1;s<r.length;){if(r[s])return{number:n,ext:r[s]};s++}}function $We(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=SWe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SWe(t,e){if(!!t){if(typeof t=="string")return w6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w6(t,e)}}function w6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var TWe={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","\uFF10":"0","\uFF11":"1","\uFF12":"2","\uFF13":"3","\uFF14":"4","\uFF15":"5","\uFF16":"6","\uFF17":"7","\uFF18":"8","\uFF19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9"};function jZ(t){return TWe[t]}function Bb(t){for(var e="",n=$We(t.split("")),r;!(r=n()).done;){var s=r.value,i=jZ(s);i&&(e+=i)}return e}function NWe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=kWe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kWe(t,e){if(!!t){if(typeof t=="string")return C6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C6(t,e)}}function C6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ek(t){for(var e="",n=NWe(t.split("")),r;!(r=n()).done;){var s=r.value;e+=XZ(s,e)||""}return e}function XZ(t,e){return t==="+"?e?void 0:"+":jZ(t)}function FWe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=_We(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _We(t,e){if(!!t){if(typeof t=="string")return b6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b6(t,e)}}function b6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DWe(t,e){for(var n=t.slice(),r=FWe(e),s;!(s=r()).done;){var i=s.value;t.indexOf(i)<0&&n.push(i)}return n.sort(function(o,a){return o-a})}function QB(t,e){return qZ(t,void 0,e)}function qZ(t,e,n){var r=n.type(e),s=r&&r.possibleLengths()||n.possibleLengths();if(!s)return"IS_POSSIBLE";if(e==="FIXED_LINE_OR_MOBILE"){if(!n.type("FIXED_LINE"))return qZ(t,"MOBILE",n);var i=n.type("MOBILE");i&&(s=DWe(s,i.possibleLengths()))}else if(e&&!r)return"INVALID_LENGTH";var o=t.length,a=s[0];return a===o?"IS_POSSIBLE":a>o?"TOO_SHORT":s[s.length-1]<o?"TOO_LONG":s.indexOf(o,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function RWe(t,e,n){if(e===void 0&&(e={}),n=new Dr(n),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.country(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(t.countryCallingCode)}}if(n.possibleLengths())return YZ(t.phone||t.nationalNumber,n);if(t.countryCallingCode&&n.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function YZ(t,e){switch(QB(t,e)){case"IS_POSSIBLE":return!0;default:return!1}}function zu(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function OWe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=UWe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UWe(t,e){if(!!t){if(typeof t=="string")return x6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x6(t,e)}}function x6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var LWe=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function vR(t,e,n){if(e=e||{},!(!t.country&&!t.countryCallingCode)){n=new Dr(n),n.selectNumberingPlan(t.country,t.countryCallingCode);var r=e.v2?t.nationalNumber:t.phone;if(!!zu(r,n.nationalNumberPattern())){if(o$(r,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||o$(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var s=OWe(LWe),i;!(i=s()).done;){var o=i.value;if(o$(r,o,n))return o}}}}function o$(t,e,n){return e=n.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:zu(t,e.pattern())}function PWe(t,e,n){if(e=e||{},n=new Dr(n),n.selectNumberingPlan(t.country,t.countryCallingCode),n.hasTypes())return vR(t,e,n.metadata)!==void 0;var r=e.v2?t.nationalNumber:t.phone;return zu(r,n.nationalNumberPattern())}function MWe(t,e,n){var r=new Dr(n),s=r.getCountryCodesForCallingCode(t);return s?s.filter(function(i){return QWe(e,i,n)}):[]}function QWe(t,e,n){var r=new Dr(n);return r.selectNumberingPlan(e),r.numberingPlan.possibleLengths().indexOf(t.length)>=0}function JZ(t){return t.replace(new RegExp("[".concat(ea,"]+"),"g")," ").trim()}var ZZ=/(\$\d)/;function eee(t,e,n){var r=n.useInternationalFormat,s=n.withNationalPrefix;n.carrierCode,n.metadata;var i=t.replace(new RegExp(e.pattern()),r?e.internationalFormat():s&&e.nationalPrefixFormattingRule()?e.format().replace(ZZ,e.nationalPrefixFormattingRule()):e.format());return r?JZ(i):i}var HWe=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function VWe(t,e,n){var r=new Dr(n);if(r.selectNumberingPlan(t,e),r.defaultIDDPrefix())return r.defaultIDDPrefix();if(HWe.test(r.IDDPrefix()))return r.IDDPrefix()}function zWe(t){var e=t.number,n=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(n?";ext="+n:"")}function KWe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=WWe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WWe(t,e){if(!!t){if(typeof t=="string")return B6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B6(t,e)}}function B6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function E6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I6(Object(n),!0).forEach(function(r){GWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GWe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $6={formatExtension:function(e,n,r){return"".concat(e).concat(r.ext()).concat(n)}};function jWe(t,e,n,r){if(n?n=E6(E6({},$6),n):n=$6,r=new Dr(r),t.country&&t.country!=="001"){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.country(t.country)}else if(t.countryCallingCode)r.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var s=r.countryCallingCode(),i=n.v2?t.nationalNumber:t.phone,o;switch(e){case"NATIONAL":return i?(o=Ib(i,t.carrierCode,"NATIONAL",r,n),a$(o,t.ext,r,n.formatExtension)):"";case"INTERNATIONAL":return i?(o=Ib(i,null,"INTERNATIONAL",r,n),o="+".concat(s," ").concat(o),a$(o,t.ext,r,n.formatExtension)):"+".concat(s);case"E.164":return"+".concat(s).concat(i);case"RFC3966":return zWe({number:"+".concat(s).concat(i),ext:t.ext});case"IDD":if(!n.fromCountry)return;var a=qWe(i,t.carrierCode,s,n.fromCountry,r);return a$(a,t.ext,r,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function Ib(t,e,n,r,s){var i=XWe(r.formats(),t);return i?eee(t,i,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(i.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&s&&s.nationalPrefix===!1),carrierCode:e,metadata:r}):t}function XWe(t,e){for(var n=KWe(t),r;!(r=n()).done;){var s=r.value;if(s.leadingDigitsPatterns().length>0){var i=s.leadingDigitsPatterns()[s.leadingDigitsPatterns().length-1];if(e.search(i)!==0)continue}if(zu(e,s.pattern()))return s}}function a$(t,e,n,r){return e?r(t,e,n):t}function qWe(t,e,n,r,s){var i=Mc(r,s.metadata);if(i===n){var o=Ib(t,e,"NATIONAL",s);return n==="1"?n+" "+o:o}var a=VWe(r,void 0,s.metadata);if(a)return"".concat(a," ").concat(n," ").concat(Ib(t,null,"INTERNATIONAL",s))}function S6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function T6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S6(Object(n),!0).forEach(function(r){YWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YWe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZWe(t,e,n){return e&&N6(t.prototype,e),n&&N6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var tee=function(){function t(e,n,r){if(JWe(this,t),!e)throw new TypeError("`country` or `countryCallingCode` not passed");if(!n)throw new TypeError("`nationalNumber` not passed");if(!r)throw new TypeError("`metadata` not passed");var s=tGe(e,r),i=s.country,o=s.countryCallingCode;this.country=i,this.countryCallingCode=o,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}return ZWe(t,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:MWe(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return RWe(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return PWe(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new Dr(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return vR(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,r){return jWe(this,n,r?T6(T6({},r),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}]),t}(),eGe=function(e){return/^[A-Z]{2}$/.test(e)};function tGe(t,e){var n,r,s=new Dr(e);return eGe(t)?(n=t,s.selectNumberingPlan(n),r=s.countryCallingCode()):r=t,{country:n,countryCallingCode:r}}var nGe=new RegExp("(["+qs+"])");function nee(t,e,n,r){if(!!e){var s=new Dr(r);s.selectNumberingPlan(e,n);var i=new RegExp(s.IDDPrefix());if(t.search(i)===0){t=t.slice(t.match(i)[0].length);var o=t.match(nGe);if(!(o&&o[1]!=null&&o[1].length>0&&o[1]==="0"))return t}}}function tk(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(t);if(r){var s,i,o=r.length-1,a=o>0&&r[o];if(e.nationalPrefixTransformRule()&&a)s=t.replace(n,e.nationalPrefixTransformRule()),o>1&&(i=r[1]);else{var u=r[0];s=t.slice(u.length),a&&(i=r[1])}var l;if(a){var c=t.indexOf(r[1]),A=t.slice(0,c);A===e.numberingPlan.nationalPrefix()&&(l=e.numberingPlan.nationalPrefix())}else l=r[0];return{nationalNumber:s,nationalPrefix:l,carrierCode:i}}}return{nationalNumber:t}}function nk(t,e){var n=tk(t,e),r=n.carrierCode,s=n.nationalNumber;if(s!==t){if(!rGe(t,s,e))return{nationalNumber:t};if(e.possibleLengths()&&!sGe(s,e))return{nationalNumber:t}}return{nationalNumber:s,carrierCode:r}}function rGe(t,e,n){return!(zu(t,n.nationalNumberPattern())&&!zu(e,n.nationalNumberPattern()))}function sGe(t,e){switch(QB(t,e)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function ree(t,e,n,r){var s=e?Mc(e,r):n;if(t.indexOf(s)===0){r=new Dr(r),r.selectNumberingPlan(e,n);var i=t.slice(s.length),o=nk(i,r),a=o.nationalNumber,u=nk(t,r),l=u.nationalNumber;if(!zu(l,r.nationalNumberPattern())&&zu(a,r.nationalNumberPattern())||QB(l,r)==="TOO_LONG")return{countryCallingCode:s,number:i}}return{number:t}}function see(t,e,n,r){if(!t)return{};var s;if(t[0]!=="+"){var i=nee(t,e,n,r);if(i&&i!==t)s=!0,t="+"+i;else{if(e||n){var o=ree(t,e,n,r),a=o.countryCallingCode,u=o.number;if(a)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:a,number:u}}return{number:t}}}if(t[1]==="0")return{};r=new Dr(r);for(var l=2;l-1<=nWe&&l<=t.length;){var c=t.slice(1,l);if(r.hasCallingCode(c))return r.selectNumberingPlan(c),{countryCallingCodeSource:s?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:c,number:t.slice(l)};l++}return{}}function iGe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=oGe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oGe(t,e){if(!!t){if(typeof t=="string")return k6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k6(t,e)}}function k6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iee(t,e){var n=e.countries,r=e.defaultCountry,s=e.metadata;s=new Dr(s);for(var i=[],o=iGe(n),a;!(a=o()).done;){var u=a.value;if(s.country(u),s.leadingDigits()){if(t&&t.search(s.leadingDigits())===0)return u}else if(vR({phone:t,country:u},void 0,s.metadata))if(r){if(u===r)return u;i.push(u)}else return u}if(i.length>0)return i[0]}var aGe=!1;function oee(t,e){var n=e.nationalNumber,r=e.defaultCountry,s=e.metadata;if(aGe&&s.isNonGeographicCallingCode(t))return"001";var i=s.getCountryCodesForCallingCode(t);if(!!i)return i.length===1?i[0]:iee(n,{countries:i,defaultCountry:r,metadata:s.metadata})}var aee="+",uGe="[\\-\\.\\(\\)]?",F6="(["+qs+"]|"+uGe+")",lGe="^\\"+aee+F6+"*["+qs+"]"+F6+"*$",cGe=new RegExp(lGe,"g"),rk=qs,AGe="["+rk+"]+((\\-)*["+rk+"])*",dGe="a-zA-Z",hGe="["+dGe+"]+((\\-)*["+rk+"])*",fGe="^("+AGe+"\\.)*"+hGe+"\\.?$",pGe=new RegExp(fGe,"g"),_6="tel:",sk=";phone-context=",gGe=";isub=";function mGe(t){var e=t.indexOf(sk);if(e<0)return null;var n=e+sk.length;if(n>=t.length)return"";var r=t.indexOf(";",n);return r>=0?t.substring(n,r):t.substring(n)}function yGe(t){return t===null?!0:t.length===0?!1:cGe.test(t)||pGe.test(t)}function vGe(t,e){var n=e.extractFormattedPhoneNumber,r=mGe(t);if(!yGe(r))throw new Au("NOT_A_NUMBER");var s;if(r===null)s=n(t)||"";else{s="",r.charAt(0)===aee&&(s+=r);var i=t.indexOf(_6),o;i>=0?o=i+_6.length:o=0;var a=t.indexOf(sk);s+=t.substring(o,a)}var u=s.indexOf(gGe);if(u>0&&(s=s.substring(0,u)),s!=="")return s}var wGe=250,CGe=new RegExp("["+LB+qs+"]"),bGe=new RegExp("[^"+qs+"#]+$");function xGe(t,e,n){if(e=e||{},n=new Dr(n),e.defaultCountry&&!n.hasCountry(e.defaultCountry))throw e.v2?new Au("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var r=IGe(t,e.v2,e.extract),s=r.number,i=r.ext,o=r.error;if(!s){if(e.v2)throw o==="TOO_SHORT"?new Au("TOO_SHORT"):new Au("NOT_A_NUMBER");return{}}var a=$Ge(s,e.defaultCountry,e.defaultCallingCode,n),u=a.country,l=a.nationalNumber,c=a.countryCallingCode,A=a.countryCallingCodeSource,d=a.carrierCode;if(!n.hasSelectedNumberingPlan()){if(e.v2)throw new Au("INVALID_COUNTRY");return{}}if(!l||l.length<yR){if(e.v2)throw new Au("TOO_SHORT");return{}}if(l.length>tWe){if(e.v2)throw new Au("TOO_LONG");return{}}if(e.v2){var h=new tee(c,l,n.metadata);return u&&(h.country=u),d&&(h.carrierCode=d),i&&(h.ext=i),h.__countryCallingCodeSource=A,h}var f=(e.extended?n.hasSelectedNumberingPlan():u)?zu(l,n.nationalNumberPattern()):!1;return e.extended?{country:u,countryCallingCode:c,carrierCode:d,valid:f,possible:f?!0:!!(e.extended===!0&&n.possibleLengths()&&YZ(l,n)),phone:l,ext:i}:f?EGe(u,l,i):{}}function BGe(t,e,n){if(!!t){if(t.length>wGe){if(n)throw new Au("TOO_LONG");return}if(e===!1)return t;var r=t.search(CGe);if(!(r<0))return t.slice(r).replace(bGe,"")}}function IGe(t,e,n){var r=vGe(t,{extractFormattedPhoneNumber:function(o){return BGe(o,n,e)}});if(!r)return{};if(!BWe(r))return IWe(r)?{error:"TOO_SHORT"}:{};var s=EWe(r);return s.ext?s:{number:r}}function EGe(t,e,n){var r={country:t,phone:e};return n&&(r.ext=n),r}function $Ge(t,e,n,r){var s=see(ek(t),e,n,r.metadata),i=s.countryCallingCodeSource,o=s.countryCallingCode,a=s.number,u;if(o)r.selectNumberingPlan(o);else if(a&&(e||n))r.selectNumberingPlan(e,n),e&&(u=e),o=n||Mc(e,r.metadata);else return{};if(!a)return{countryCallingCodeSource:i,countryCallingCode:o};var l=nk(ek(a),r),c=l.nationalNumber,A=l.carrierCode,d=oee(o,{nationalNumber:c,defaultCountry:e,metadata:r});return d&&(u=d,d==="001"||r.country(u)),{country:u,countryCallingCode:o,countryCallingCodeSource:i,nationalNumber:c,carrierCode:A}}function D6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function R6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D6(Object(n),!0).forEach(function(r){SGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SGe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TGe(t,e,n){return xGe(t,R6(R6({},e),{},{v2:!0}),n)}function O6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function NGe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O6(Object(n),!0).forEach(function(r){kGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kGe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FGe(t,e){return OGe(t)||RGe(t,e)||DGe(t,e)||_Ge()}function _Ge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DGe(t,e){if(!!t){if(typeof t=="string")return U6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U6(t,e)}}function U6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RGe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,i=!1,o,a;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));s=!0);}catch(u){i=!0,a=u}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw a}}return r}}function OGe(t){if(Array.isArray(t))return t}function UGe(t){var e=Array.prototype.slice.call(t),n=FGe(e,4),r=n[0],s=n[1],i=n[2],o=n[3],a,u,l;if(typeof r=="string")a=r;else throw new TypeError("A text for parsing must be a string.");if(!s||typeof s=="string")o?(u=i,l=o):(u=void 0,l=i),s&&(u=NGe({defaultCountry:s},u));else if(Jg(s))i?(u=s,l=i):l=s;else throw new Error("Invalid second argument: ".concat(s));return{text:a,options:u,metadata:l}}function L6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function P6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(n),!0).forEach(function(r){LGe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LGe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PGe(t,e,n){e&&e.defaultCountry&&!KZ(e.defaultCountry,n)&&(e=P6(P6({},e),{},{defaultCountry:void 0}));try{return TGe(t,e,n)}catch(r){if(!(r instanceof Au))throw r}}function MGe(){var t=UGe(arguments),e=t.text,n=t.options,r=t.metadata;return PGe(e,n,r)}function QGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function HGe(t,e,n){return e&&M6(t.prototype,e),n&&M6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var VGe=function(){function t(e){var n=e.onCountryChange,r=e.onCallingCodeChange;QGe(this,t),this.onCountryChange=n,this.onCallingCodeChange=r}return HGe(t,[{key:"reset",value:function(n){var r=n.country,s=n.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(r,s)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(n){for(var r=0,s=Object.keys(n);r<s.length;r++){var i=s[r];this[i]=n[i]}}},{key:"initCountryAndCallingCode",value:function(n,r){this.setCountry(n),this.setCallingCode(r)}},{key:"setCountry",value:function(n){this.country=n,this.onCountryChange(n)}},{key:"setCallingCode",value:function(n){this.callingCode=n,this.onCallingCodeChange(n,this.country)}},{key:"startInternationalNumber",value:function(n,r){this.international=!0,this.initCountryAndCallingCode(n,r)}},{key:"appendDigits",value:function(n){this.digits+=n}},{key:"appendNationalSignificantNumberDigits",value:function(n){this.nationalSignificantNumber+=n}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}]),t}();function zGe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=KGe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KGe(t,e){if(!!t){if(typeof t=="string")return Q6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q6(t,e)}}function Q6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Po="x",u$=new RegExp(Po);function $w(t,e){if(e<1)return"";for(var n="";e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function H6(t,e){return t[e]===")"&&e++,WGe(t.slice(0,e))}function WGe(t){for(var e=[],n=0;n<t.length;)t[n]==="("?e.push(n):t[n]===")"&&e.pop(),n++;var r=0,s="";e.push(t.length);for(var i=0,o=e;i<o.length;i++){var a=o[i];s+=t.slice(r,a),r=a+1}return s}function GGe(t,e,n){for(var r=zGe(n.split("")),s;!(s=r()).done;){var i=s.value;if(t.slice(e+1).search(u$)<0)return;e=t.search(u$),t=t.replace(u$,i)}return[t,e]}function jGe(t,e,n){var r=n.metadata,s=n.shouldTryNationalPrefixFormattingRule,i=n.getSeparatorAfterNationalPrefix,o=new RegExp("^(?:".concat(e.pattern(),")$"));if(o.test(t.nationalSignificantNumber))return qGe(t,e,{metadata:r,shouldTryNationalPrefixFormattingRule:s,getSeparatorAfterNationalPrefix:i})}function XGe(t,e){return QB(t,e)==="IS_POSSIBLE"}function qGe(t,e,n){var r=n.metadata,s=n.shouldTryNationalPrefixFormattingRule,i=n.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,s(e)){var o=V6(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:i,metadata:r});if(o)return o}return V6(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:i,metadata:r})}function V6(t,e,n){var r=n.metadata,s=n.useNationalPrefixFormattingRule,i=n.getSeparatorAfterNationalPrefix,o=eee(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:s,metadata:r});if(s||(t.nationalPrefix?o=t.nationalPrefix+i(e)+o:t.complexPrefixBeforeNationalSignificantNumber&&(o=t.complexPrefixBeforeNationalSignificantNumber+" "+o)),YGe(o,t))return o}function YGe(t,e){return Bb(t)===e.getNationalDigits()}function JGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZGe(t,e,n){return e&&z6(t.prototype,e),n&&z6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var eje=function(){function t(){JGe(this,t)}return ZGe(t,[{key:"parse",value:function(n){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(n),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var r=this.context[0],s=r.branches,i=r.instructions;if(s)return{op:"|",args:s.concat([l$(i)])};if(i.length===0)throw new Error("Pattern is required");return i.length===1?i[0]:i}},{key:"startContext",value:function(n){this.context.push(n)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(n){if(!n)throw new Error("Pattern is required");var r=n.match(rje);if(!r){if(nje.test(n))throw new Error("Illegal characters found in a pattern: ".concat(n));this.getContext().instructions=this.getContext().instructions.concat(n.split(""));return}var s=r[1],i=n.slice(0,r.index),o=n.slice(r.index+s.length);switch(s){case"(?:":i&&this.parsePattern(i),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(i&&this.parsePattern(i),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var a=this.getContext(),u=a.branches;u.push(l$(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:u});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(i&&this.parsePattern(i),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(l$(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":i&&this.parsePattern(i),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:tje(i)});break;default:throw new Error("Unknown operator: ".concat(s))}o&&this.parsePattern(o)}}]),t}();function tje(t){for(var e=[],n=0;n<t.length;){if(t[n]==="-"){if(n===0||n===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var r=t[n-1].charCodeAt(0)+1,s=t[n+1].charCodeAt(0)-1,i=r;i<=s;)e.push(String.fromCharCode(i)),i++}else e.push(t[n]);n++}return e}var nje=/[\(\)\[\]\?\:\|]/,rje=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function l$(t){return t.length===1?t[0]:t}function K6(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=sje(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sje(t,e){if(!!t){if(typeof t=="string")return W6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W6(t,e)}}function W6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ije(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function oje(t,e,n){return e&&G6(t.prototype,e),n&&G6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var aje=function(){function t(e){ije(this,t),this.matchTree=new eje().parse(e)}return oje(t,[{key:"match",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.allowOverflow;if(!n)throw new Error("String is required");var i=ik(n.split(""),this.matchTree,!0);if(i&&i.match&&delete i.matchedChars,!(i&&i.overflow&&!s))return i}}]),t}();function ik(t,e,n){if(typeof e=="string"){var r=t.join("");return e.indexOf(r)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:r.indexOf(e)===0?n&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var s=t.slice(),i=0;i<e.length;){var o=e[i],a=ik(s,o,n&&i===e.length-1);if(a){if(a.overflow)return a;if(a.match){if(s=s.slice(a.matchedChars.length),s.length===0)return i===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(a.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(a,null,2)))}}else return;i++}return n?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-s.length)}}switch(e.op){case"|":for(var u,l=K6(e.args),c;!(c=l()).done;){var A=c.value,d=ik(t,A,n);if(d){if(d.overflow)return d;if(d.match)return{match:!0,matchedChars:d.matchedChars};if(d.partialMatch)u=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(d,null,2)))}}return u?{partialMatch:!0}:void 0;case"[]":for(var h=K6(e.args),f;!(f=h()).done;){var p=f.value;if(t[0]===p)return t.length===1?{match:!0,matchedChars:t}:n?{overflow:!0}:{match:!0,matchedChars:[p]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function j6(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=uje(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uje(t,e){if(!!t){if(typeof t=="string")return X6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X6(t,e)}}function X6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cje(t,e,n){return e&&q6(t.prototype,e),n&&q6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var ok="9",Aje=15,dje=$w(ok,Aje),hje=/[- ]/,fje=function(){return/\[([^\[\]])*\]/g},pje=function(){return/\d(?=[^,}][^,}])/g},gje=new RegExp("["+ea+"]*\\$1["+ea+"]*(\\$\\d["+ea+"]*)*$"),Y6=3,mje=function(){function t(e){e.state;var n=e.metadata;lje(this,t),this.metadata=n,this.resetFormat()}return cje(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(n,r){this.resetFormat(),n?(this.isNANP=n.callingCode()==="1",this.matchingFormats=n.formats(),r.nationalSignificantNumber&&this.narrowDownMatchingFormats(r)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(n,r){var s=this;if(XGe(r.nationalSignificantNumber,this.metadata))for(var i=j6(this.matchingFormats),o;!(o=i()).done;){var a=o.value,u=jGe(r,a,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(c){return s.shouldTryNationalPrefixFormattingRule(c,{international:r.international,nationalPrefix:r.nationalPrefix})},getSeparatorAfterNationalPrefix:function(c){return s.getSeparatorAfterNationalPrefix(c)}});if(u)return this.resetFormat(),this.chosenFormat=a,this.setNationalNumberTemplate(u.replace(/\d/g,Po),r),this.populatedNationalNumberTemplate=u,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Po),u}return this.formatNationalNumberWithNextDigits(n,r)}},{key:"formatNationalNumberWithNextDigits",value:function(n,r){var s=this.chosenFormat,i=this.chooseFormat(r);if(i)return i===s?this.formatNextNationalNumberDigits(n):this.formatNextNationalNumberDigits(r.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(n){var r=this,s=n.nationalSignificantNumber,i=n.nationalPrefix,o=n.international,a=s,u=a.length-Y6;u<0&&(u=0),this.matchingFormats=this.matchingFormats.filter(function(l){return r.formatSuits(l,o,i)&&r.formatMatches(l,a,u)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(n,r,s){return!(s&&!n.usesNationalPrefix()&&!n.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!r&&!s&&n.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(n,r,s){var i=n.leadingDigitsPatterns().length;if(i===0)return!0;s=Math.min(s,i-1);var o=n.leadingDigitsPatterns()[s];if(r.length<Y6)try{return new aje(o).match(r,{allowOverflow:!0})!==void 0}catch(a){return console.error(a),!0}return new RegExp("^(".concat(o,")")).test(r)}},{key:"getFormatFormat",value:function(n,r){return r?n.internationalFormat():n.format()}},{key:"chooseFormat",value:function(n){for(var r=this,s=function(){var l=o.value;return r.chosenFormat===l?"break":gje.test(r.getFormatFormat(l,n.international))?r.createTemplateForFormat(l,n)?(r.chosenFormat=l,"break"):(r.matchingFormats=r.matchingFormats.filter(function(c){return c!==l}),"continue"):"continue"},i=j6(this.matchingFormats.slice()),o;!(o=i()).done;){var a=s();if(a==="break")break}return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(n,r){if(!(n.pattern().indexOf("|")>=0)){var s=this.getTemplateForFormat(n,r);if(s)return this.setNationalNumberTemplate(s,r),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(n){return this.isNANP||n&&n.nationalPrefixFormattingRule()&&hje.test(n.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(n,r){var s=n.IDDPrefix,i=n.missingPlus;return s?r&&r.spacing===!1?s:s+" ":i?"":"+"}},{key:"getTemplate",value:function(n){if(!!this.template){for(var r=-1,s=0,i=n.international?this.getInternationalPrefixBeforeCountryCallingCode(n,{spacing:!1}):"";s<i.length+n.getDigitsWithoutInternationalPrefix().length;)r=this.template.indexOf(Po,r+1),s++;return H6(this.template,r+1)}}},{key:"setNationalNumberTemplate",value:function(n,r){this.nationalNumberTemplate=n,this.populatedNationalNumberTemplate=n,this.populatedNationalNumberTemplatePosition=-1,r.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(r).replace(/[\d\+]/g,Po)+$w(Po,r.callingCode.length)+" "+n:this.template=n}},{key:"getTemplateForFormat",value:function(n,r){var s=r.nationalSignificantNumber,i=r.international,o=r.nationalPrefix,a=r.complexPrefixBeforeNationalSignificantNumber,u=n.pattern();u=u.replace(fje(),"\\d").replace(pje(),"\\d");var l=dje.match(u)[0];if(!(s.length>l.length)){var c=new RegExp("^"+u+"$"),A=s.replace(/\d/g,ok);c.test(A)&&(l=A);var d=this.getFormatFormat(n,i),h;if(this.shouldTryNationalPrefixFormattingRule(n,{international:i,nationalPrefix:o})){var f=d.replace(ZZ,n.nationalPrefixFormattingRule());if(Bb(n.nationalPrefixFormattingRule())===(o||"")+Bb("$1")&&(d=f,h=!0,o))for(var p=o.length;p>0;)d=d.replace(/\d/,Po),p--}var m=l.replace(new RegExp(u),d).replace(new RegExp(ok,"g"),Po);return h||(a?m=$w(Po,a.length)+" "+m:o&&(m=$w(Po,o.length)+this.getSeparatorAfterNationalPrefix(n)+m)),i&&(m=JZ(m)),m}}},{key:"formatNextNationalNumberDigits",value:function(n){var r=GGe(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,n);if(!r){this.resetFormat();return}return this.populatedNationalNumberTemplate=r[0],this.populatedNationalNumberTemplatePosition=r[1],H6(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(n,r){var s=r.international,i=r.nationalPrefix;if(n.nationalPrefixFormattingRule()){var o=n.usesNationalPrefix();if(o&&i||!o&&!s)return!0}}}]),t}();function uee(t,e){return Cje(t)||wje(t,e)||vje(t,e)||yje()}function yje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vje(t,e){if(!!t){if(typeof t=="string")return J6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J6(t,e)}}function J6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,i=!1,o,a;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));s=!0);}catch(u){i=!0,a=u}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw a}}return r}}function Cje(t){if(Array.isArray(t))return t}function bje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xje(t,e,n){return e&&Z6(t.prototype,e),n&&Z6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Bje="["+ea+qs+"]+",Ije=new RegExp("^"+Bje+"$","i"),Eje="(?:["+LB+"]["+ea+qs+"]*|["+ea+qs+"]+)",$je=new RegExp("[^"+ea+qs+"]+.*$"),Sje=/[^\d\[\]]/,Tje=function(){function t(e){var n=e.defaultCountry,r=e.defaultCallingCode,s=e.metadata,i=e.onNationalSignificantNumberChange;bje(this,t),this.defaultCountry=n,this.defaultCallingCode=r,this.metadata=s,this.onNationalSignificantNumberChange=i}return xje(t,[{key:"input",value:function(n,r){var s=Fje(n),i=uee(s,2),o=i[0],a=i[1],u=Bb(o),l;return a&&(r.digits||(r.startInternationalNumber(),u||(l=!0))),u&&this.inputDigits(u,r),{digits:u,justLeadingPlus:l}}},{key:"inputDigits",value:function(n,r){var s=r.digits,i=s.length<3&&s.length+n.length>=3;if(r.appendDigits(n),i&&this.extractIddPrefix(r),this.isWaitingForCountryCallingCode(r)){if(!this.extractCountryCallingCode(r))return}else r.appendNationalSignificantNumberDigits(n);r.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(r.getNationalDigits(),function(o){return r.update(o)})}},{key:"isWaitingForCountryCallingCode",value:function(n){var r=n.international,s=n.callingCode;return r&&!s}},{key:"extractCountryCallingCode",value:function(n){var r=see("+"+n.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),s=r.countryCallingCode,i=r.number;if(s)return n.setCallingCode(s),n.update({nationalSignificantNumber:i}),!0}},{key:"reset",value:function(n){if(n){this.hasSelectedNumberingPlan=!0;var r=n._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=r&&Sje.test(r)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(n,r){if(!!this.hasSelectedNumberingPlan){var s=tk(n,this.metadata),i=s.nationalPrefix,o=s.nationalNumber,a=s.carrierCode;if(o!==n)return this.onExtractedNationalNumber(i,a,o,n,r),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(n,r,s){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(n,s);if(!!this.couldPossiblyExtractAnotherNationalSignificantNumber){var i=tk(n,this.metadata),o=i.nationalPrefix,a=i.nationalNumber,u=i.carrierCode;if(a!==r)return this.onExtractedNationalNumber(o,u,a,n,s),!0}}},{key:"onExtractedNationalNumber",value:function(n,r,s,i,o){var a,u,l=i.lastIndexOf(s);if(l>=0&&l===i.length-s.length){u=!0;var c=i.slice(0,l);c!==n&&(a=c)}o({nationalPrefix:n,carrierCode:r,nationalSignificantNumber:s,nationalSignificantNumberMatchesInput:u,complexPrefixBeforeNationalSignificantNumber:a}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(n){if(this.extractAnotherNationalSignificantNumber(n.getNationalDigits(),n.nationalSignificantNumber,function(r){return n.update(r)}))return!0;if(this.extractIddPrefix(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0;if(this.fixMissingPlus(n))return this.extractCallingCodeAndNationalSignificantNumber(n),!0}},{key:"extractIddPrefix",value:function(n){var r=n.international,s=n.IDDPrefix,i=n.digits;if(n.nationalSignificantNumber,!(r||s)){var o=nee(i,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(o!==void 0&&o!==i)return n.update({IDDPrefix:i.slice(0,i.length-o.length)}),this.startInternationalNumber(n,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(n){if(!n.international){var r=ree(n.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),s=r.countryCallingCode;if(r.number,s)return n.update({missingPlus:!0}),this.startInternationalNumber(n,{country:n.country,callingCode:s}),!0}}},{key:"startInternationalNumber",value:function(n,r){var s=r.country,i=r.callingCode;n.startInternationalNumber(s,i),n.nationalSignificantNumber&&(n.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(n){this.extractCountryCallingCode(n)&&this.extractNationalSignificantNumber(n.getNationalDigits(),function(r){return n.update(r)})}}]),t}();function Nje(t){var e=t.search(Eje);if(!(e<0)){t=t.slice(e);var n;return t[0]==="+"&&(n=!0,t=t.slice(1)),t=t.replace($je,""),n&&(t="+"+t),t}}function kje(t){var e=Nje(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function Fje(t){var e=kje(t),n=uee(e,2),r=n[0],s=n[1];return Ije.test(r)||(r=""),[r,s]}function _je(t,e){return Uje(t)||Oje(t,e)||Rje(t,e)||Dje()}function Dje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rje(t,e){if(!!t){if(typeof t=="string")return eH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eH(t,e)}}function eH(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],s=!0,i=!1,o,a;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));s=!0);}catch(u){i=!0,a=u}finally{try{!s&&n.return!=null&&n.return()}finally{if(i)throw a}}return r}}function Uje(t){if(Array.isArray(t))return t}function Lje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pje(t,e,n){return e&&tH(t.prototype,e),n&&tH(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var vp=function(){function t(e,n){Lje(this,t),this.metadata=new Dr(n);var r=this.getCountryAndCallingCode(e),s=_je(r,2),i=s[0],o=s[1];this.defaultCountry=i,this.defaultCallingCode=o,this.reset()}return Pje(t,[{key:"getCountryAndCallingCode",value:function(n){var r,s;return n&&(Jg(n)?(r=n.defaultCountry,s=n.defaultCallingCode):r=n),r&&!this.metadata.hasCountry(r)&&(r=void 0),[r,s]}},{key:"input",value:function(n){var r=this.parser.input(n,this.state),s=r.digits,i=r.justLeadingPlus;if(i)this.formattedOutput="+";else if(s){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var o;if(this.metadata.hasSelectedNumberingPlan()&&(o=this.formatter.format(s,this.state)),o===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var a=this.state.getNationalDigits();a&&(o=this.formatter.format(a,this.state))}this.formattedOutput=o?this.getFullNumber(o):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var n=this;return this.state=new VGe({onCountryChange:function(s){n.country=s},onCallingCodeChange:function(s,i){n.metadata.selectNumberingPlan(i,s),n.formatter.reset(n.metadata.numberingPlan,n.state),n.parser.reset(n.metadata.numberingPlan)}}),this.formatter=new mje({state:this.state,metadata:this.metadata}),this.parser=new Tje({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){n.determineTheCountryIfNeeded(),n.formatter.reset(n.metadata.numberingPlan,n.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var n=this.state.digits;if(n)return this._getCountry()}},{key:"_getCountry",value:function(){var n=this.state.country;return n}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(n){var r=this;if(this.isInternational()){var s=function(a){return r.formatter.getInternationalPrefixBeforeCountryCallingCode(r.state,{spacing:!!a})+a},i=this.state.callingCode;return s(i?n?"".concat(i," ").concat(n):i:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return n}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var n=this.state,r=n.nationalSignificantNumber,s=n.complexPrefixBeforeNationalSignificantNumber,i=n.nationalPrefix,o=r,a=s||i;return a&&(o=a+o),o}},{key:"getNonFormattedNumber",value:function(){var n=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(n?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var n=this.getNonFormattedNumber();if(n)return n.replace(/[\+\d]/g,Po)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var n=this.state.callingCode,r=this.metadata.getCountryCodesForCallingCode(n);return r&&r.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(oee(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var n=this.state,r=n.digits,s=n.callingCode,i=n.country,o=n.nationalSignificantNumber;if(!!r){if(this.isInternational())return s?"+"+s+o:"+"+r;if(i||s){var a=i?this.metadata.countryCallingCode():s;return"+"+a+o}}}},{key:"getNumber",value:function(){var n=this.state,r=n.nationalSignificantNumber,s=n.carrierCode,i=n.callingCode,o=this._getCountry();if(!!r&&!(!o&&!i)){if(o&&o===this.defaultCountry){var a=new Dr(this.metadata.metadata);a.selectNumberingPlan(o);var u=a.numberingPlan.callingCode(),l=this.metadata.getCountryCodesForCallingCode(u);if(l.length>1){var c=iee(r,{countries:l,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});c&&(o=c)}}var A=new tee(o||i,r,this.metadata.metadata);return s&&(A.carrierCode=s),A}}},{key:"isPossible",value:function(){var n=this.getNumber();return n?n.isPossible():!1}},{key:"isValid",value:function(){var n=this.getNumber();return n?n.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}]),t}();function nH(t){return new Dr(t).getCountries()}function Mje(t,e,n){return n||(n=e,e=void 0),new vp(e,n).input(t)}function lee(t){var e=t.country,n=t.international,r=t.withCountryCallingCode,s=t.metadata;return e&&n&&!r?"+".concat(Mc(e,s)):""}function ak(t,e){return e&&(t=t.slice(e.length),t[0]===" "&&(t=t.slice(1))),t}var Qje=["country","international","withCountryCallingCode","metadata"];function Hje(t,e){if(t==null)return{};var n=Vje(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function Vje(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function zje(t){function e(n,r){var s=n.country,i=n.international,o=n.withCountryCallingCode,a=n.metadata,u=a===void 0?t:a,l=Hje(n,Qje),c=Z.exports.useCallback(function(A){var d=new vp(s,u),h=lee({country:s,international:i,withCountryCallingCode:o,metadata:u}),f=d.input(h+A),p=d.getTemplate();return h&&(f=ak(f,h),p&&(p=ak(p,h))),{text:f,template:p}},[s,u]);return M(GKe,{...l,ref:r,parse:XZ,format:c})}return e=gr.forwardRef(e),e.propTypes={value:be.exports.string.isRequired,onChange:be.exports.func.isRequired,country:be.exports.string,international:be.exports.bool,withCountryCallingCode:be.exports.bool,metadata:be.exports.object},e}const Kje=zje();var Wje=["value","onChange","country","international","withCountryCallingCode","metadata","inputComponent"];function Gje(t,e){if(t==null)return{};var n=jje(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function jje(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Xje(t){function e(n,r){var s=n.value,i=n.onChange,o=n.country,a=n.international,u=n.withCountryCallingCode,l=n.metadata,c=l===void 0?t:l,A=n.inputComponent,d=A===void 0?"input":A,h=Gje(n,Wje),f=lee({country:o,international:a,withCountryCallingCode:u,metadata:c}),p=Z.exports.useCallback(function(m){var g=ek(m.target.value);if(g===s){var y=rH(f,g,o,c);y.indexOf(m.target.value)===0&&(g=g.slice(0,-1))}i(g)},[f,s,i,o,c]);return M(d,{...h,ref:r,value:rH(f,s,o,c),onChange:p})}return e=gr.forwardRef(e),e.propTypes={value:be.exports.string.isRequired,onChange:be.exports.func.isRequired,country:be.exports.string,international:be.exports.bool,withCountryCallingCode:be.exports.bool,metadata:be.exports.object,inputComponent:be.exports.elementType},e}const qje=Xje();function rH(t,e,n,r){return ak(Mje(t+e,n,r),t)}function Yje(t){return sH(t[0])+sH(t[1])}function sH(t){return String.fromCodePoint(127462-65+t.toUpperCase().charCodeAt(0))}var Jje=["value","onChange","options","disabled","readOnly"],Zje=["value","options","className","iconComponent","getIconAspectRatio","arrowComponent","unicodeFlags"];function eXe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=tXe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tXe(t,e){if(!!t){if(typeof t=="string")return iH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iH(t,e)}}function iH(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cee(t,e){if(t==null)return{};var n=nXe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function nXe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Aee(t){var e=t.value,n=t.onChange,r=t.options,s=t.disabled,i=t.readOnly,o=cee(t,Jje),a=Z.exports.useCallback(function(u){var l=u.target.value;n(l==="ZZ"?void 0:l)},[n]);return Z.exports.useMemo(function(){return hee(r,e)},[r,e]),M("select",{...o,disabled:s||i,readOnly:i,value:e||"ZZ",onChange:a,children:r.map(function(u){var l=u.value,c=u.label,A=u.divider;return M("option",{value:A?"|":l||"ZZ",disabled:!!A,style:A?rXe:void 0,children:c},A?"|":l||"ZZ")})})}Aee.propTypes={value:be.exports.string,onChange:be.exports.func.isRequired,options:be.exports.arrayOf(be.exports.shape({value:be.exports.string,label:be.exports.string,divider:be.exports.bool})).isRequired,disabled:be.exports.bool,readOnly:be.exports.bool};var rXe={fontSize:"1px",backgroundColor:"currentColor",color:"inherit"};function dee(t){var e=t.value,n=t.options,r=t.className,s=t.iconComponent;t.getIconAspectRatio;var i=t.arrowComponent,o=i===void 0?sXe:i,a=t.unicodeFlags,u=cee(t,Zje),l=Z.exports.useMemo(function(){return hee(n,e)},[n,e]);return De("div",{className:"PhoneInputCountry",children:[M(Aee,{...u,value:e,options:n,className:jt("PhoneInputCountrySelect",r)}),a&&e&&M("div",{className:"PhoneInputCountryIconUnicode",children:Yje(e)}),!(a&&e)&&M(s,{"aria-hidden":!0,country:e,label:l&&l.label,aspectRatio:a?1:void 0}),M(o,{})]})}dee.propTypes={iconComponent:be.exports.elementType,arrowComponent:be.exports.elementType,unicodeFlags:be.exports.bool};function sXe(){return M("div",{className:"PhoneInputCountrySelectArrow"})}function hee(t,e){for(var n=eXe(t),r;!(r=n()).done;){var s=r.value;if(!s.divider&&s.value===e)return s}}var iXe=["country","countryName","flags","flagUrl"];function oXe(t,e){if(t==null)return{};var n=aXe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function aXe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function wR(t){var e=t.country,n=t.countryName,r=t.flags,s=t.flagUrl,i=oXe(t,iXe);return r&&r[e]?r[e]({title:n}):M("img",{...i,alt:n,role:n?void 0:"presentation",src:s.replace("{XX}",e).replace("{xx}",e.toLowerCase())})}wR.propTypes={country:be.exports.string.isRequired,countryName:be.exports.string.isRequired,flags:be.exports.objectOf(be.exports.elementType),flagUrl:be.exports.string.isRequired};var uXe=["aspectRatio"],lXe=["title"],cXe=["title"];function CR(t,e){if(t==null)return{};var n=AXe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function AXe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function HB(t){var e=t.aspectRatio,n=CR(t,uXe);return e===1?M(pee,{...n}):M(fee,{...n})}HB.propTypes={title:be.exports.string.isRequired,aspectRatio:be.exports.number};function fee(t){var e=t.title,n=CR(t,lXe);return De("svg",{...n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 75 50",children:[M("title",{children:e}),De("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeMiterlimit:"10",children:[M("path",{strokeLinecap:"round",d:"M47.2,36.1C48.1,36,49,36,50,36c7.4,0,14,1.7,18.5,4.3"}),M("path",{d:"M68.6,9.6C64.2,12.3,57.5,14,50,14c-7.4,0-14-1.7-18.5-4.3"}),M("line",{x1:"26",y1:"25",x2:"74",y2:"25"}),M("line",{x1:"50",y1:"1",x2:"50",y2:"49"}),M("path",{strokeLinecap:"round",d:"M46.3,48.7c1.2,0.2,2.5,0.3,3.7,0.3c13.3,0,24-10.7,24-24S63.3,1,50,1S26,11.7,26,25c0,2,0.3,3.9,0.7,5.8"}),M("path",{strokeLinecap:"round",d:"M46.8,48.2c1,0.6,2.1,0.8,3.2,0.8c6.6,0,12-10.7,12-24S56.6,1,50,1S38,11.7,38,25c0,1.4,0.1,2.7,0.2,4c0,0.1,0,0.2,0,0.2"})]}),M("path",{className:"PhoneInputInternationalIconPhone",stroke:"none",fill:"currentColor",d:"M12.4,17.9c2.9-2.9,5.4-4.8,0.3-11.2S4.1,5.2,1.3,8.1C-2,11.4,1.1,23.5,13.1,35.6s24.3,15.2,27.5,11.9c2.8-2.8,7.8-6.3,1.4-11.5s-8.3-2.6-11.2,0.3c-2,2-7.2-2.2-11.7-6.7S10.4,19.9,12.4,17.9z"})]})}fee.propTypes={title:be.exports.string.isRequired};function pee(t){var e=t.title,n=CR(t,cXe);return De("svg",{...n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",children:[M("title",{children:e}),De("g",{className:"PhoneInputInternationalIconGlobe",stroke:"currentColor",fill:"none",strokeWidth:"2",strokeLinecap:"round",children:[M("path",{d:"M8.45,13A21.44,21.44,0,1,1,37.08,41.56"}),M("path",{d:"M19.36,35.47a36.9,36.9,0,0,1-2.28-13.24C17.08,10.39,21.88.85,27.8.85s10.72,9.54,10.72,21.38c0,6.48-1.44,12.28-3.71,16.21"}),M("path",{d:"M17.41,33.4A39,39,0,0,1,27.8,32.06c6.62,0,12.55,1.5,16.48,3.86"}),M("path",{d:"M44.29,8.53c-3.93,2.37-9.86,3.88-16.49,3.88S15.25,10.9,11.31,8.54"}),M("line",{x1:"27.8",y1:"0.85",x2:"27.8",y2:"34.61"}),M("line",{x1:"15.2",y1:"22.23",x2:"49.15",y2:"22.23"})]}),M("path",{className:"PhoneInputInternationalIconPhone",stroke:"transparent",fill:"currentColor",d:"M9.42,26.64c2.22-2.22,4.15-3.59.22-8.49S3.08,17,.93,19.17c-2.49,2.48-.13,11.74,9,20.89s18.41,11.5,20.89,9c2.15-2.15,5.91-4.77,1-8.71s-6.27-2-8.49.22c-1.55,1.55-5.48-1.69-8.86-5.08S7.87,28.19,9.42,26.64Z"})]})}pee.propTypes={title:be.exports.string.isRequired};function dXe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=hXe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hXe(t,e){if(!!t){if(typeof t=="string")return oH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oH(t,e)}}function oH(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fXe(t,e){if(!e)return t;for(var n=[],r=[],s=n,i=dXe(e),o;!(o=i()).done;){var a=o.value;a==="|"?s.push({divider:!0}):a==="..."||a==="\u2026"?s=r:function(){var u=void 0;a==="\u{1F310}"?u=void 0:u=a;var l=t.indexOf(t.filter(function(A){return A.value===u})[0]),c=t[l];t.splice(l,1),s.push(c)}()}return n.concat(t).concat(r)}function pXe(t,e){if(t&&(t=t.filter(function(n){switch(n){case"\u{1F310}":case"|":case"...":case"\u2026":return!0;default:return VB(n,e)}}),t.length>0))return t}function VB(t,e){return KZ(t,e)?!0:(console.error("Country not found: ".concat(t)),!1)}function gee(t,e){return t&&(t=t.filter(function(n){return VB(n,e)}),t.length===0&&(t=void 0)),t}var gXe=["country","label","aspectRatio"];function mXe(t,e){if(t==null)return{};var n=yXe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function yXe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function mee(t){var e=t.flags,n=t.flagUrl,r=t.flagComponent,s=t.internationalIcon;function i(o){var a=o.country,u=o.label,l=o.aspectRatio,c=mXe(o,gXe),A=s===HB?l:void 0;return M("div",{...c,className:jt("PhoneInputCountryIcon",{"PhoneInputCountryIcon--square":A===1,"PhoneInputCountryIcon--border":a}),children:a?M(r,{country:a,countryName:u,flags:e,flagUrl:n,className:"PhoneInputCountryIconImg"}):M(s,{title:u,aspectRatio:A,className:"PhoneInputCountryIconImg"})})}return i.propTypes={country:be.exports.string,label:be.exports.string.isRequired,aspectRatio:be.exports.number},i}mee({flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",flagComponent:wR,internationalIcon:HB});var yee=be.exports.shape({country_calling_codes:be.exports.object.isRequired,countries:be.exports.object.isRequired}),vee=be.exports.objectOf(be.exports.string);function $u(t,e){var n="+"+Mc(t,e);return n}function vXe(t){var e=t.value,n=t.phoneNumber,r=t.defaultCountry,s=t.getAnyCountry,i=t.countries,o=t.required,a=t.metadata,u;return n&&n.country?u=n.country:r&&(!e||xee(e,r,a))&&(u=r),i&&i.indexOf(u)<0&&(u=void 0),!u&&o&&i&&i.length>0&&(u=s()),u}function wXe(t){var e=t.countries,n=t.countryNames,r=t.addInternationalOption,s=t.compareStringsLocales,i=t.compareStrings;i||(i=$Xe);var o=e.map(function(a){return{value:a,label:n[a]||a}});return o.sort(function(a,u){return i(a.label,u.label,s)}),r&&o.unshift({label:n.ZZ}),o}function wee(t,e){return MGe(t||"",e)}function CXe(t){return t.formatNational().replace(/\D/g,"")}function bXe(t,e){var n=e.prevCountry,r=e.newCountry,s=e.metadata,i=e.useNationalFormat;if(n===r)return t;if(!t)return i?"":r?$u(r,s):"";if(r){if(t[0]==="+"){if(i)return t.indexOf("+"+Mc(r,s))===0?SXe(t,r,s):"";if(n){var o=$u(r,s);return t.indexOf(o)===0?t:o}else{var a=$u(r,s);return t.indexOf(a)===0?t:a}}}else if(t[0]!=="+")return Fh(t,n,s)||"";return t}function Fh(t,e,n){if(!!t){if(t[0]==="+"){if(t==="+")return;var r=new vp(e,n);return r.input(t),r.getNumberValue()}if(!!e){var s=bee(t,e,n);return"+".concat(Mc(e,n)).concat(s||"")}}}function xXe(t,e,n){var r=bee(t,e,n);if(r){var s=r.length-BXe(e,n);if(s>0)return t.slice(0,t.length-s)}return t}function BXe(t,e){return e=new Dr(e),e.selectNumberingPlan(t),e.numberingPlan.possibleLengths()[e.numberingPlan.possibleLengths().length-1]}function Cee(t,e){var n=e.country,r=e.countries,s=e.required,i=e.metadata;if(t==="+")return n;var o=EXe(t,i);return o&&(!r||r.indexOf(o)>=0)?o:n&&!s&&!xee(t,n,i)?void 0:n}function IXe(t,e){var n=e.prevPhoneDigits,r=e.country,s=e.defaultCountry,i=e.countryRequired,o=e.getAnyCountry,a=e.countries,u=e.international,l=e.limitMaxLength,c=e.countryCallingCodeEditable,A=e.metadata;if(u&&c===!1&&r){var d=$u(r,A);if(t.indexOf(d)!==0){var h,f=t&&t[0]!=="+";return f?(t=d+t,h=Fh(t,r,A)):t=d,{phoneDigits:t,value:h,country:r}}}u===!1&&r&&t&&t[0]==="+"&&(t=aH(t,r,A)),t&&r&&l&&(t=xXe(t,r,A)),t&&t[0]!=="+"&&(!r||u)&&(t="+"+t),!t&&n&&n[0]==="+"&&(u?r=void 0:r=s),t==="+"&&n&&n[0]==="+"&&n.length>1&&(r=void 0);var p;return t&&(t[0]==="+"&&(t==="+"||r&&$u(r,A).indexOf(t)===0)?p=void 0:p=Fh(t,r,A)),p&&(r=Cee(p,{country:r,countries:a,metadata:A}),u===!1&&r&&t&&t[0]==="+"&&(t=aH(t,r,A),p=Fh(t,r,A))),!r&&i&&(r=s||o()),{phoneDigits:t,country:r,value:p}}function aH(t,e,n){if(t.indexOf($u(e,n))===0){var r=new vp(e,n);r.input(t);var s=r.getNumber();return s?s.formatNational().replace(/\D/g,""):""}else return t.replace(/\D/g,"")}function EXe(t,e){var n=new vp(null,e);return n.input(t),n.getCountry()}function $Xe(t,e,n){return String.prototype.localeCompare?t.localeCompare(e,n):t<e?-1:t>e?1:0}function SXe(t,e,n){if(e){var r="+"+Mc(e,n);if(t.length<r.length){if(r.indexOf(t)===0)return""}else if(t.indexOf(r)===0)return t.slice(r.length)}for(var s=0,i=Object.keys(n.country_calling_codes);s<i.length;s++){var o=i[s];if(t.indexOf(o)===1)return t.slice(1+o.length)}return""}function bee(t,e,n){var r=new vp(e,n);r.input(t);var s=r.getNumber();return s&&s.nationalNumber}function xee(t,e,n){for(var r=$u(e,n),s=0;s<t.length&&s<r.length;){if(t[s]!==r[s])return!1;s++}return!0}function Bee(t){var e=t.value,n=t.phoneNumber,r=t.defaultCountry,s=t.international,i=t.useNationalFormat,o=t.metadata;return(s===!1||i)&&n&&n.country?CXe(n):!e&&s&&r?$u(r,o):e}function uH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function K1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uH(Object(n),!0).forEach(function(r){TXe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TXe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NXe(t,e,n){var r=t.metadata,s=t.countries,i=t.defaultCountry,o=t.value,a=t.reset,u=t.international,l=t.displayInitialValueAsLocalNumber,c=t.initialValueFormat,A=e.defaultCountry,d=e.value,h=e.reset;n.country;var f=n.value,p=n.hasUserSelectedACountry,m=function(T){return Bee(K1(K1({},T),{},{international:u,useNationalFormat:l||c==="national",metadata:r}))};if(a!==h)return{phoneDigits:m({value:void 0,defaultCountry:i}),value:void 0,country:i,hasUserSelectedACountry:void 0};if(i!==A){var g=!i||VB(i,r),y=!f||u&&f===m({value:void 0,defaultCountry:A}),C=!o&&y;if(!p&&g&&C)return{country:i,phoneDigits:m({value:void 0,defaultCountry:i}),value:void 0}}if(!lH(o,d)&&!lH(o,f)){var b,B;if(o){b=wee(o,r);var I=gee(s,r);b&&b.country?(!I||I.indexOf(b.country)>=0)&&(B=b.country):(B=Cee(o,{country:void 0,countries:I,metadata:r}),B||i&&o.indexOf($u(i,r))===0&&(B=i))}var w;return o||(w={hasUserSelectedACountry:void 0}),K1(K1({},w),{},{phoneDigits:m({phoneNumber:b,value:o,defaultCountry:i}),value:o,country:o?B:i})}}function lH(t,e){return t===null&&(t=void 0),e===null&&(e=void 0),t===e}function uk(t){return uk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uk(t)}var kXe=["name","disabled","readOnly","autoComplete","style","className","inputRef","inputComponent","numberInputProps","smartCaret","countrySelectComponent","countrySelectProps","containerComponent","defaultCountry","countries","countryOptionsOrder","labels","flags","flagComponent","flagUrl","addInternationalOption","internationalIcon","displayInitialValueAsLocalNumber","initialValueFormat","onCountryChange","limitMaxLength","countryCallingCodeEditable","focusInputOnCountrySelection","reset","metadata","international","locales"];function cH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Iee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cH(Object(n),!0).forEach(function(r){Uo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FXe(t,e){if(t==null)return{};var n=_Xe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function _Xe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function DXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function RXe(t,e,n){return e&&AH(t.prototype,e),n&&AH(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function OXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lk(t,e)}function lk(t,e){return lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},lk(t,e)}function UXe(t){var e=PXe();return function(){var r=Eb(t),s;if(e){var i=Eb(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return LXe(this,s)}}function LXe(t,e){if(e&&(uk(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oo(t)}function Oo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PXe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Eb(t){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eb(t)}function Uo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var MXe=function(t){OXe(n,t);var e=UXe(n);function n(r){var s;DXe(this,n),s=e.call(this,r),Uo(Oo(s),"setInputRef",function(g){s.inputRef.current=g;var y=s.props.inputRef;y&&(typeof y=="function"?y(g):y.current=g)}),Uo(Oo(s),"isCountrySupportedWithError",function(g){var y=s.props.metadata;return VB(g,y)}),Uo(Oo(s),"onCountryChange",function(g){var y=s.props,C=y.international,b=y.metadata,B=y.onChange,I=y.focusInputOnCountrySelection,w=s.state,$=w.phoneDigits,T=w.country,_=bXe($,{prevCountry:T,newCountry:g,metadata:b,useNationalFormat:!C}),R=Fh(_,g,b);I&&s.inputRef.current.focus(),s.setState({country:g,hasUserSelectedACountry:!0,phoneDigits:_,value:R},function(){B(R)})}),Uo(Oo(s),"onChange",function(g){var y=s.props,C=y.defaultCountry,b=y.onChange,B=y.addInternationalOption,I=y.international,w=y.limitMaxLength,$=y.countryCallingCodeEditable,T=y.metadata,_=s.state,R=_.countries,P=_.phoneDigits,L=_.country,z=IXe(g,{prevPhoneDigits:P,country:L,countryRequired:!B,defaultCountry:C,getAnyCountry:function(){return s.getFirstSupportedCountry({countries:R})},countries:R,international:I,limitMaxLength:w,countryCallingCodeEditable:$,metadata:T}),V=z.phoneDigits,q=z.country,ne=z.value,H={phoneDigits:V,value:ne,country:q};$===!1&&!ne&&V===s.state.phoneDigits&&(H.forceRerender={}),s.setState(H,function(){return b(ne)})}),Uo(Oo(s),"_onFocus",function(){return s.setState({isFocused:!0})}),Uo(Oo(s),"_onBlur",function(){return s.setState({isFocused:!1})}),Uo(Oo(s),"onFocus",function(g){s._onFocus();var y=s.props.onFocus;y&&y(g)}),Uo(Oo(s),"onBlur",function(g){var y=s.props.onBlur;s._onBlur(),y&&y(g)}),Uo(Oo(s),"onCountryFocus",function(g){s._onFocus();var y=s.props.countrySelectProps;if(y){var C=y.onFocus;C&&C(g)}}),Uo(Oo(s),"onCountryBlur",function(g){s._onBlur();var y=s.props.countrySelectProps;if(y){var C=y.onBlur;C&&C(g)}}),s.inputRef=gr.createRef();var i=s.props,o=i.value;i.labels;var a=i.international,u=i.addInternationalOption,l=i.displayInitialValueAsLocalNumber,c=i.initialValueFormat,A=i.metadata,d=s.props,h=d.defaultCountry,f=d.countries;h&&(s.isCountrySupportedWithError(h)||(h=void 0)),f=gee(f,A);var p=wee(o,A);s.CountryIcon=mee(s.props);var m=vXe({value:o,phoneNumber:p,defaultCountry:h,required:!u,countries:f||nH(A),getAnyCountry:function(){return s.getFirstSupportedCountry({countries:f})},metadata:A});return s.state={props:s.props,country:m,countries:f,phoneDigits:Bee({value:o,phoneNumber:p,defaultCountry:h,international:a,useNationalFormat:l||c==="national",metadata:A}),value:o},s}return RXe(n,[{key:"componentDidMount",value:function(){var s=this.props.onCountryChange,i=this.props.defaultCountry,o=this.state.country;s&&(i&&(this.isCountrySupportedWithError(i)||(i=void 0)),o!==i&&s(o))}},{key:"componentDidUpdate",value:function(s,i){var o=this.props.onCountryChange,a=this.state.country;o&&a!==i.country&&o(a)}},{key:"getCountrySelectOptions",value:function(s){var i=s.countries,o=this.props,a=o.international,u=o.countryCallingCodeEditable,l=o.countryOptionsOrder,c=o.addInternationalOption,A=o.labels,d=o.locales,h=o.metadata;return this.useMemoCountrySelectOptions(function(){return fXe(wXe({countries:i||nH(h),countryNames:A,addInternationalOption:a&&u===!1?!1:c,compareStringsLocales:d}),pXe(l,h))},[i,l,c,A,h])}},{key:"useMemoCountrySelectOptions",value:function(s,i){return(!this.countrySelectOptionsMemoDependencies||!VXe(i,this.countrySelectOptionsMemoDependencies))&&(this.countrySelectOptionsMemo=s(),this.countrySelectOptionsMemoDependencies=i),this.countrySelectOptionsMemo}},{key:"getFirstSupportedCountry",value:function(s){var i=s.countries,o=this.getCountrySelectOptions({countries:i});return o[0].value}},{key:"render",value:function(){var s=this.props,i=s.name,o=s.disabled,a=s.readOnly,u=s.autoComplete,l=s.style,c=s.className;s.inputRef;var A=s.inputComponent,d=s.numberInputProps,h=s.smartCaret,f=s.countrySelectComponent,p=s.countrySelectProps,m=s.containerComponent;s.defaultCountry,s.countries,s.countryOptionsOrder;var g=s.labels;s.flags,s.flagComponent,s.flagUrl,s.addInternationalOption,s.internationalIcon,s.displayInitialValueAsLocalNumber,s.initialValueFormat,s.onCountryChange,s.limitMaxLength,s.countryCallingCodeEditable,s.focusInputOnCountrySelection,s.reset;var y=s.metadata;s.international,s.locales;var C=FXe(s,kXe),b=this.state,B=b.country,I=b.countries,w=b.phoneDigits,$=b.isFocused,T=h?Kje:qje,_=this.getCountrySelectOptions({countries:I});return De(m,{style:l,className:jt(c,"PhoneInput",{"PhoneInput--focus":$,"PhoneInput--disabled":o,"PhoneInput--readOnly":a}),children:[M(f,{name:i?"".concat(i,"Country"):void 0,"aria-label":g.country,...p,value:B,options:_,onChange:this.onCountryChange,onFocus:this.onCountryFocus,onBlur:this.onCountryBlur,disabled:o||p&&p.disabled,readOnly:a||p&&p.readOnly,iconComponent:this.CountryIcon}),M(T,{ref:this.setInputRef,type:"tel",autoComplete:u,...d,...C,name:i,metadata:y,country:B,value:w||"",onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,disabled:o,readOnly:a,inputComponent:A,className:jt("PhoneInputInput",d&&d.className,C.className)})]})}}],[{key:"getDerivedStateFromProps",value:function(s,i){return Iee({props:s},NXe(s,i.props,i))}}]),n}(gr.PureComponent),Eee=gr.forwardRef(function(t,e){return M(MXe,{...QXe(t),inputRef:e})});Eee.propTypes={value:be.exports.string,onChange:be.exports.func.isRequired,onFocus:be.exports.func,onBlur:be.exports.func,disabled:be.exports.bool,readOnly:be.exports.bool,autoComplete:be.exports.string,initialValueFormat:be.exports.oneOf(["national"]),displayInitialValueAsLocalNumber:be.exports.bool,defaultCountry:be.exports.string,countries:be.exports.arrayOf(be.exports.string),labels:vee,locales:be.exports.oneOfType([be.exports.string,be.exports.arrayOf(be.exports.string)]),flagUrl:be.exports.string,flags:be.exports.objectOf(be.exports.elementType),flagComponent:be.exports.elementType,addInternationalOption:be.exports.bool,internationalIcon:be.exports.elementType,countryOptionsOrder:be.exports.arrayOf(be.exports.string),style:be.exports.object,className:be.exports.string,countrySelectComponent:be.exports.elementType,countrySelectProps:be.exports.object,inputComponent:be.exports.elementType,containerComponent:be.exports.elementType,numberInputProps:be.exports.object,smartCaret:be.exports.bool,international:be.exports.bool,limitMaxLength:be.exports.bool,countryCallingCodeEditable:be.exports.bool,metadata:yee,onCountryChange:be.exports.func,focusInputOnCountrySelection:be.exports.bool};var dH={autoComplete:"tel",countrySelectComponent:dee,flagComponent:wR,flagUrl:"https://purecatamphetamine.github.io/country-flag-icons/3x2/{XX}.svg",internationalIcon:HB,inputComponent:"input",containerComponent:"div",reset:be.exports.any,smartCaret:!0,addInternationalOption:!0,countryCallingCodeEditable:!0,focusInputOnCountrySelection:!0};function QXe(t){t=Iee({},t);for(var e in dH)t[e]===void 0&&(t[e]=dH[e]);return t}const HXe=Eee;function VXe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;){if(t[n]!==e[n])return!1;n++}return!0}const zXe={ext:"ext.",country:"Phone number country",phone:"Phone",AB:"Abkhazia",AC:"Ascension Island",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"\xC5land Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barth\xE9lemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos (Keeling) Islands",CD:"Congo, Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"Cote d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Cura\xE7ao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin (French Part)",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",OS:"South Ossetia",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Reunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Swaziland",TA:"Tristan da Cunha",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",ZZ:"International"};var KXe=["metadata","labels"];function WXe(t,e){if(t==null)return{};var n=GXe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}function GXe(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function $ee(t){var e=gr.forwardRef(function(n,r){var s=n.metadata,i=s===void 0?t:s,o=n.labels,a=o===void 0?zXe:o,u=WXe(n,KXe);return M(HXe,{...u,ref:r,metadata:i,labels:a})});return e.propTypes={metadata:yee,labels:vee},e}$ee();const jXe=$ee(IKe);const XXe=()=>{const[t,e]=Z.exports.useState(""),[n,r]=Z.exports.useState(""),[s,i]=Z.exports.useState(!1),[o,a]=Z.exports.useState(""),[u,l]=Z.exports.useState(""),{setUpRecaptha:c}=BF(),A=Ic();return M("div",{className:"row align-items-center h-100-vh",children:De("div",{className:"col-12",children:[M("img",{className:"mb-4",src:"logo.svg",alt:"",width:"72",height:"57"}),De(wn,{onSubmit:async f=>{if(f.preventDefault(),console.log(n),e(""),n===""||n===void 0)return e("Please enter a valid phone number!");try{const p=await c(n);l(p),i(!0)}catch(p){e(p.message)}},style:{display:s?"none":"block"},children:[t&&M(BKe,{variant:"danger",children:t}),M("div",{className:"col-12",children:M(jXe,{defaultCountry:"IN",value:n,onChange:r,placeholder:"Enter Phone Number"})}),M("div",{id:"recaptcha-container"}),M("div",{className:"button-right mt-3",children:M(rd,{type:"submit",variant:"primary",children:"Send OTP"})})]}),De(wn,{onSubmit:async f=>{if(f.preventDefault(),e(""),!(o===""||o===null))try{await u.confirm(o),A("/home")}catch(p){e(p.message)}},style:{display:s?"block":"none"},children:[M("input",{type:"number",className:"PhoneInputInput",placeholder:"Enter OTP",onChange:f=>a(f.target.value)}),M("div",{className:"button-right mt-3",children:M(rd,{type:"submit",variant:"primary",children:"Verify"})})]})]})})},rh=({children:t})=>{const{user:e}=BF();return e?t:M(kse,{to:"/"})};function qXe(){return M(Mse,{children:M(Yue,{children:De(_se,{children:[M(ol,{path:"/home",element:De(rh,{children:[M(Jue,{})," "]})}),M(ol,{path:"/camera",element:De(rh,{children:[M(kEe,{})," "]})}),M(ol,{path:"/history",element:De(rh,{children:[M(hKe,{})," "]})}),M(ol,{path:"/user",element:De(rh,{children:[M(fKe,{})," "]})}),M(ol,{path:"/preview",element:De(rh,{children:[M(oKe,{})," "]})}),M(ol,{path:"/form",element:De(rh,{children:[M(aKe,{})," "]})}),M(ol,{path:"/",element:M(XXe,{})})]})})})}c$.createRoot(document.getElementById("root")).render(M(gr.StrictMode,{children:M(qXe,{})}));
